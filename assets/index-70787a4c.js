var iU=Object.defineProperty;var aU=(t,e,r)=>e in t?iU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ur=(t,e,r)=>(aU(t,typeof e!="symbol"?e+"":e,r),r),b3=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var fe=(t,e,r)=>(b3(t,e,"read from private field"),r?r.call(t):e.get(t)),Et=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ut=(t,e,r,n)=>(b3(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var Dy=(t,e,r,n)=>({set _(a){ut(t,e,a,r)},get _(){return fe(t,e,n)}}),it=(t,e,r)=>(b3(t,e,"access private method"),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function QO(t,e){const r=Object.create(null),n=t.split(",");for(let a=0;a<n.length;a++)r[n[a]]=!0;return e?a=>!!r[a.toLowerCase()]:a=>!!r[a]}const Or={},Od=[],rs=()=>{},sU=()=>!1,oU=/^on[^a-z]/,e_=t=>oU.test(t),GO=t=>t.startsWith("onUpdate:"),An=Object.assign,zO=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},uU=Object.prototype.hasOwnProperty,Vt=(t,e)=>uU.call(t,e),_t=Array.isArray,Ad=t=>t_(t)==="[object Map]",$8=t=>t_(t)==="[object Set]",Ot=t=>typeof t=="function",nn=t=>typeof t=="string",WO=t=>typeof t=="symbol",Lr=t=>t!==null&&typeof t=="object",U8=t=>Lr(t)&&Ot(t.then)&&Ot(t.catch),q8=Object.prototype.toString,t_=t=>q8.call(t),cU=t=>t_(t).slice(8,-1),V8=t=>t_(t)==="[object Object]",XO=t=>nn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,z1=QO(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),r_=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},lU=/-(\w)/g,Gs=r_(t=>t.replace(lU,(e,r)=>r?r.toUpperCase():"")),dU=/\B([A-Z])/g,cf=r_(t=>t.replace(dU,"-$1").toLowerCase()),n_=r_(t=>t.charAt(0).toUpperCase()+t.slice(1)),_3=r_(t=>t?`on${n_(t)}`:""),hp=(t,e)=>!Object.is(t,e),g3=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},_b=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},fU=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let bI;const SE=()=>bI||(bI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Nu(t){if(_t(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],a=nn(n)?bU(n):Nu(n);if(a)for(const s in a)e[s]=a[s]}return e}else{if(nn(t))return t;if(Lr(t))return t}}const hU=/;(?![^(]*\))/g,pU=/:([^]+)/,yU=/\/\*[^]*?\*\//g;function bU(t){const e={};return t.replace(yU,"").split(hU).forEach(r=>{if(r){const n=r.split(pU);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function rn(t){let e="";if(nn(t))e=t;else if(_t(t))for(let r=0;r<t.length;r++){const n=rn(t[r]);n&&(e+=n+" ")}else if(Lr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const _U="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gU=QO(_U);function H8(t){return!!t||t===""}const br=t=>nn(t)?t:t==null?"":_t(t)||Lr(t)&&(t.toString===q8||!Ot(t.toString))?JSON.stringify(t,k8,2):String(t),k8=(t,e)=>e&&e.__v_isRef?k8(t,e.value):Ad(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,a])=>(r[`${n} =>`]=a,r),{})}:$8(e)?{[`Set(${e.size})`]:[...e.values()]}:Lr(e)&&!_t(e)&&!V8(e)?String(e):e;let Ha;class mU{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ha,!e&&Ha&&(this.index=(Ha.scopes||(Ha.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Ha;try{return Ha=this,e()}finally{Ha=r}}}on(){Ha=this}off(){Ha=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this._active=!1}}}function vU(t,e=Ha){e&&e.active&&e.effects.push(t)}function wU(){return Ha}const KO=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Q8=t=>(t.w&zu)>0,G8=t=>(t.n&zu)>0,SU=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=zu},TU=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const a=e[n];Q8(a)&&!G8(a)?a.delete(t):e[r++]=a,a.w&=~zu,a.n&=~zu}e.length=r}},TE=new WeakMap;let Nh=0,zu=1;const EE=30;let Ya;const Zc=Symbol(""),OE=Symbol("");class JO{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,vU(this,n)}run(){if(!this.active)return this.fn();let e=Ya,r=Bu;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ya,Ya=this,Bu=!0,zu=1<<++Nh,Nh<=EE?SU(this):_I(this),this.fn()}finally{Nh<=EE&&TU(this),zu=1<<--Nh,Ya=this.parent,Bu=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ya===this?this.deferStop=!0:this.active&&(_I(this),this.onStop&&this.onStop(),this.active=!1)}}function _I(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let Bu=!0;const z8=[];function lf(){z8.push(Bu),Bu=!1}function df(){const t=z8.pop();Bu=t===void 0?!0:t}function Hi(t,e,r){if(Bu&&Ya){let n=TE.get(t);n||TE.set(t,n=new Map);let a=n.get(r);a||n.set(r,a=KO()),W8(a)}}function W8(t,e){let r=!1;Nh<=EE?G8(t)||(t.n|=zu,r=!Q8(t)):r=!t.has(Ya),r&&(t.add(Ya),Ya.deps.push(t))}function Vo(t,e,r,n,a,s){const o=TE.get(t);if(!o)return;let u=[];if(e==="clear")u=[...o.values()];else if(r==="length"&&_t(t)){const c=Number(n);o.forEach((l,d)=>{(d==="length"||d>=c)&&u.push(l)})}else switch(r!==void 0&&u.push(o.get(r)),e){case"add":_t(t)?XO(r)&&u.push(o.get("length")):(u.push(o.get(Zc)),Ad(t)&&u.push(o.get(OE)));break;case"delete":_t(t)||(u.push(o.get(Zc)),Ad(t)&&u.push(o.get(OE)));break;case"set":Ad(t)&&u.push(o.get(Zc));break}if(u.length===1)u[0]&&AE(u[0]);else{const c=[];for(const l of u)l&&c.push(...l);AE(KO(c))}}function AE(t,e){const r=_t(t)?t:[...t];for(const n of r)n.computed&&gI(n);for(const n of r)n.computed||gI(n)}function gI(t,e){(t!==Ya||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const EU=QO("__proto__,__v_isRef,__isVue"),X8=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(WO)),OU=YO(),AU=YO(!1,!0),xU=YO(!0),mI=RU();function RU(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=Kt(this);for(let s=0,o=this.length;s<o;s++)Hi(n,"get",s+"");const a=n[e](...r);return a===-1||a===!1?n[e](...r.map(Kt)):a}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){lf();const n=Kt(this)[e].apply(this,r);return df(),n}}),t}function IU(t){const e=Kt(this);return Hi(e,"has",t),e.hasOwnProperty(t)}function YO(t=!1,e=!1){return function(n,a,s){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return e;if(a==="__v_raw"&&s===(t?e?QU:e5:e?Z8:Y8).get(n))return n;const o=_t(n);if(!t){if(o&&Vt(mI,a))return Reflect.get(mI,a,s);if(a==="hasOwnProperty")return IU}const u=Reflect.get(n,a,s);return(WO(a)?X8.has(a):EU(a))||(t||Hi(n,"get",a),e)?u:ei(u)?o&&XO(a)?u:u.value:Lr(u)?t?r5(u):a_(u):u}}const PU=K8(),DU=K8(!0);function K8(t=!1){return function(r,n,a,s){let o=r[n];if(Fd(o)&&ei(o)&&!ei(a))return!1;if(!t&&(!gb(a)&&!Fd(a)&&(o=Kt(o),a=Kt(a)),!_t(r)&&ei(o)&&!ei(a)))return o.value=a,!0;const u=_t(r)&&XO(n)?Number(n)<r.length:Vt(r,n),c=Reflect.set(r,n,a,s);return r===Kt(s)&&(u?hp(a,o)&&Vo(r,"set",n,a):Vo(r,"add",n,a)),c}}function NU(t,e){const r=Vt(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&Vo(t,"delete",e,void 0),n}function jU(t,e){const r=Reflect.has(t,e);return(!WO(e)||!X8.has(e))&&Hi(t,"has",e),r}function CU(t){return Hi(t,"iterate",_t(t)?"length":Zc),Reflect.ownKeys(t)}const J8={get:OU,set:PU,deleteProperty:NU,has:jU,ownKeys:CU},MU={get:xU,set(t,e){return!0},deleteProperty(t,e){return!0}},FU=An({},J8,{get:AU,set:DU}),ZO=t=>t,i_=t=>Reflect.getPrototypeOf(t);function Ny(t,e,r=!1,n=!1){t=t.__v_raw;const a=Kt(t),s=Kt(e);r||(e!==s&&Hi(a,"get",e),Hi(a,"get",s));const{has:o}=i_(a),u=n?ZO:r?rA:pp;if(o.call(a,e))return u(t.get(e));if(o.call(a,s))return u(t.get(s));t!==a&&t.get(e)}function jy(t,e=!1){const r=this.__v_raw,n=Kt(r),a=Kt(t);return e||(t!==a&&Hi(n,"has",t),Hi(n,"has",a)),t===a?r.has(t):r.has(t)||r.has(a)}function Cy(t,e=!1){return t=t.__v_raw,!e&&Hi(Kt(t),"iterate",Zc),Reflect.get(t,"size",t)}function vI(t){t=Kt(t);const e=Kt(this);return i_(e).has.call(e,t)||(e.add(t),Vo(e,"add",t,t)),this}function wI(t,e){e=Kt(e);const r=Kt(this),{has:n,get:a}=i_(r);let s=n.call(r,t);s||(t=Kt(t),s=n.call(r,t));const o=a.call(r,t);return r.set(t,e),s?hp(e,o)&&Vo(r,"set",t,e):Vo(r,"add",t,e),this}function SI(t){const e=Kt(this),{has:r,get:n}=i_(e);let a=r.call(e,t);a||(t=Kt(t),a=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return a&&Vo(e,"delete",t,void 0),s}function TI(){const t=Kt(this),e=t.size!==0,r=t.clear();return e&&Vo(t,"clear",void 0,void 0),r}function My(t,e){return function(n,a){const s=this,o=s.__v_raw,u=Kt(o),c=e?ZO:t?rA:pp;return!t&&Hi(u,"iterate",Zc),o.forEach((l,d)=>n.call(a,c(l),c(d),s))}}function Fy(t,e,r){return function(...n){const a=this.__v_raw,s=Kt(a),o=Ad(s),u=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=a[t](...n),d=r?ZO:e?rA:pp;return!e&&Hi(s,"iterate",c?OE:Zc),{next(){const{value:f,done:h}=l.next();return h?{value:f,done:h}:{value:u?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function lu(t){return function(...e){return t==="delete"?!1:this}}function LU(){const t={get(s){return Ny(this,s)},get size(){return Cy(this)},has:jy,add:vI,set:wI,delete:SI,clear:TI,forEach:My(!1,!1)},e={get(s){return Ny(this,s,!1,!0)},get size(){return Cy(this)},has:jy,add:vI,set:wI,delete:SI,clear:TI,forEach:My(!1,!0)},r={get(s){return Ny(this,s,!0)},get size(){return Cy(this,!0)},has(s){return jy.call(this,s,!0)},add:lu("add"),set:lu("set"),delete:lu("delete"),clear:lu("clear"),forEach:My(!0,!1)},n={get(s){return Ny(this,s,!0,!0)},get size(){return Cy(this,!0)},has(s){return jy.call(this,s,!0)},add:lu("add"),set:lu("set"),delete:lu("delete"),clear:lu("clear"),forEach:My(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Fy(s,!1,!1),r[s]=Fy(s,!0,!1),e[s]=Fy(s,!1,!0),n[s]=Fy(s,!0,!0)}),[t,r,e,n]}const[BU,$U,UU,qU]=LU();function eA(t,e){const r=e?t?qU:UU:t?$U:BU;return(n,a,s)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?n:Reflect.get(Vt(r,a)&&a in n?r:n,a,s)}const VU={get:eA(!1,!1)},HU={get:eA(!1,!0)},kU={get:eA(!0,!1)},Y8=new WeakMap,Z8=new WeakMap,e5=new WeakMap,QU=new WeakMap;function GU(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zU(t){return t.__v_skip||!Object.isExtensible(t)?0:GU(cU(t))}function a_(t){return Fd(t)?t:tA(t,!1,J8,VU,Y8)}function t5(t){return tA(t,!1,FU,HU,Z8)}function r5(t){return tA(t,!0,MU,kU,e5)}function tA(t,e,r,n,a){if(!Lr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=a.get(t);if(s)return s;const o=zU(t);if(o===0)return t;const u=new Proxy(t,o===2?n:r);return a.set(t,u),u}function xd(t){return Fd(t)?xd(t.__v_raw):!!(t&&t.__v_isReactive)}function Fd(t){return!!(t&&t.__v_isReadonly)}function gb(t){return!!(t&&t.__v_isShallow)}function n5(t){return xd(t)||Fd(t)}function Kt(t){const e=t&&t.__v_raw;return e?Kt(e):t}function i5(t){return _b(t,"__v_skip",!0),t}const pp=t=>Lr(t)?a_(t):t,rA=t=>Lr(t)?r5(t):t;function a5(t){Bu&&Ya&&(t=Kt(t),W8(t.dep||(t.dep=KO())))}function s5(t,e){t=Kt(t);const r=t.dep;r&&AE(r)}function ei(t){return!!(t&&t.__v_isRef===!0)}function yi(t){return o5(t,!1)}function WU(t){return o5(t,!0)}function o5(t,e){return ei(t)?t:new XU(t,e)}class XU{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Kt(e),this._value=r?e:pp(e)}get value(){return a5(this),this._value}set value(e){const r=this.__v_isShallow||gb(e)||Fd(e);e=r?e:Kt(e),hp(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:pp(e),s5(this))}}function mt(t){return ei(t)?t.value:t}const KU={get:(t,e,r)=>mt(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const a=t[e];return ei(a)&&!ei(r)?(a.value=r,!0):Reflect.set(t,e,r,n)}};function u5(t){return xd(t)?t:new Proxy(t,KU)}class JU{constructor(e,r,n,a){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new JO(e,()=>{this._dirty||(this._dirty=!0,s5(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){const e=Kt(this);return a5(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function YU(t,e,r=!1){let n,a;const s=Ot(t);return s?(n=t,a=rs):(n=t.get,a=t.set),new JU(n,a,s||!a,r)}function $u(t,e,r,n){let a;try{a=n?t(...n):t()}catch(s){s_(s,e,r)}return a}function ns(t,e,r,n){if(Ot(t)){const s=$u(t,e,r,n);return s&&U8(s)&&s.catch(o=>{s_(o,e,r)}),s}const a=[];for(let s=0;s<t.length;s++)a.push(ns(t[s],e,r,n));return a}function s_(t,e,r,n=!0){const a=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,u=r;for(;s;){const l=s.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](t,o,u)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){$u(c,null,10,[t,o,u]);return}}ZU(t,r,a,n)}function ZU(t,e,r,n=!0){console.error(t)}let yp=!1,xE=!1;const Zn=[];let js=0;const Rd=[];let To=null,Fc=0;const c5=Promise.resolve();let nA=null;function l5(t){const e=nA||c5;return t?e.then(this?t.bind(this):t):e}function eq(t){let e=js+1,r=Zn.length;for(;e<r;){const n=e+r>>>1;bp(Zn[n])<t?e=n+1:r=n}return e}function iA(t){(!Zn.length||!Zn.includes(t,yp&&t.allowRecurse?js+1:js))&&(t.id==null?Zn.push(t):Zn.splice(eq(t.id),0,t),d5())}function d5(){!yp&&!xE&&(xE=!0,nA=c5.then(h5))}function tq(t){const e=Zn.indexOf(t);e>js&&Zn.splice(e,1)}function rq(t){_t(t)?Rd.push(...t):(!To||!To.includes(t,t.allowRecurse?Fc+1:Fc))&&Rd.push(t),d5()}function EI(t,e=yp?js+1:0){for(;e<Zn.length;e++){const r=Zn[e];r&&r.pre&&(Zn.splice(e,1),e--,r())}}function f5(t){if(Rd.length){const e=[...new Set(Rd)];if(Rd.length=0,To){To.push(...e);return}for(To=e,To.sort((r,n)=>bp(r)-bp(n)),Fc=0;Fc<To.length;Fc++)To[Fc]();To=null,Fc=0}}const bp=t=>t.id==null?1/0:t.id,nq=(t,e)=>{const r=bp(t)-bp(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function h5(t){xE=!1,yp=!0,Zn.sort(nq);const e=rs;try{for(js=0;js<Zn.length;js++){const r=Zn[js];r&&r.active!==!1&&$u(r,null,14)}}finally{js=0,Zn.length=0,f5(),yp=!1,nA=null,(Zn.length||Rd.length)&&h5()}}function iq(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Or;let a=r;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=n[d]||Or;h&&(a=r.map(p=>nn(p)?p.trim():p)),f&&(a=r.map(fU))}let u,c=n[u=_3(e)]||n[u=_3(Gs(e))];!c&&s&&(c=n[u=_3(cf(e))]),c&&ns(c,t,6,a);const l=n[u+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,ns(l,t,6,a)}}function p5(t,e,r=!1){const n=e.emitsCache,a=n.get(t);if(a!==void 0)return a;const s=t.emits;let o={},u=!1;if(!Ot(t)){const c=l=>{const d=p5(l,e,!0);d&&(u=!0,An(o,d))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!u?(Lr(t)&&n.set(t,null),null):(_t(s)?s.forEach(c=>o[c]=null):An(o,s),Lr(t)&&n.set(t,o),o)}function o_(t,e){return!t||!e_(e)?!1:(e=e.slice(2).replace(/Once$/,""),Vt(t,e[0].toLowerCase()+e.slice(1))||Vt(t,cf(e))||Vt(t,e))}let Fn=null,u_=null;function mb(t){const e=Fn;return Fn=t,u_=t&&t.type.__scopeId||null,e}function aq(t){u_=t}function sq(){u_=null}function rr(t,e=Fn,r){if(!e||t._n)return t;const n=(...a)=>{n._d&&MI(-1);const s=mb(e);let o;try{o=t(...a)}finally{mb(s),n._d&&MI(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function m3(t){const{type:e,vnode:r,proxy:n,withProxy:a,props:s,propsOptions:[o],slots:u,attrs:c,emit:l,render:d,renderCache:f,data:h,setupState:p,ctx:y,inheritAttrs:_}=t;let E,w;const O=mb(t);try{if(r.shapeFlag&4){const T=a||n;E=Ds(d.call(T,T,f,s,p,h,y)),w=c}else{const T=e;E=Ds(T.length>1?T(s,{attrs:c,slots:u,emit:l}):T(s,null)),w=e.props?c:oq(c)}}catch(T){tp.length=0,s_(T,t,1),E=Qt(Wu)}let A=E;if(w&&_!==!1){const T=Object.keys(w),{shapeFlag:I}=A;T.length&&I&7&&(o&&T.some(GO)&&(w=uq(w,o)),A=Ld(A,w))}return r.dirs&&(A=Ld(A),A.dirs=A.dirs?A.dirs.concat(r.dirs):r.dirs),r.transition&&(A.transition=r.transition),E=A,mb(O),E}const oq=t=>{let e;for(const r in t)(r==="class"||r==="style"||e_(r))&&((e||(e={}))[r]=t[r]);return e},uq=(t,e)=>{const r={};for(const n in t)(!GO(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function cq(t,e,r){const{props:n,children:a,component:s}=t,{props:o,children:u,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?OI(n,o,l):!!o;if(c&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(o[h]!==n[h]&&!o_(l,h))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:n===o?!1:n?o?OI(n,o,l):!0:!!o;return!1}function OI(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let a=0;a<n.length;a++){const s=n[a];if(e[s]!==t[s]&&!o_(r,s))return!0}return!1}function lq({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const dq=t=>t.__isSuspense;function fq(t,e){e&&e.pendingBranch?_t(t)?e.effects.push(...t):e.effects.push(t):rq(t)}function y5(t,e){return aA(t,null,e)}const Ly={};function Id(t,e,r){return aA(t,e,r)}function aA(t,e,{immediate:r,deep:n,flush:a,onTrack:s,onTrigger:o}=Or){var u;const c=wU()===((u=On)==null?void 0:u.scope)?On:null;let l,d=!1,f=!1;if(ei(t)?(l=()=>t.value,d=gb(t)):xd(t)?(l=()=>t,n=!0):_t(t)?(f=!0,d=t.some(T=>xd(T)||gb(T)),l=()=>t.map(T=>{if(ei(T))return T.value;if(xd(T))return Gc(T);if(Ot(T))return $u(T,c,2)})):Ot(t)?e?l=()=>$u(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return h&&h(),ns(t,c,3,[p])}:l=rs,e&&n){const T=l;l=()=>Gc(T())}let h,p=T=>{h=O.onStop=()=>{$u(T,c,4)}},y;if(gp)if(p=rs,e?r&&ns(e,c,3,[l(),f?[]:void 0,p]):l(),a==="sync"){const T=rV();y=T.__watcherHandles||(T.__watcherHandles=[])}else return rs;let _=f?new Array(t.length).fill(Ly):Ly;const E=()=>{if(O.active)if(e){const T=O.run();(n||d||(f?T.some((I,D)=>hp(I,_[D])):hp(T,_)))&&(h&&h(),ns(e,c,3,[T,_===Ly?void 0:f&&_[0]===Ly?[]:_,p]),_=T)}else O.run()};E.allowRecurse=!!e;let w;a==="sync"?w=E:a==="post"?w=()=>Li(E,c&&c.suspense):(E.pre=!0,c&&(E.id=c.uid),w=()=>iA(E));const O=new JO(l,w);e?r?E():_=O.run():a==="post"?Li(O.run.bind(O),c&&c.suspense):O.run();const A=()=>{O.stop(),c&&c.scope&&zO(c.scope.effects,O)};return y&&y.push(A),A}function hq(t,e,r){const n=this.proxy,a=nn(t)?t.includes(".")?b5(n,t):()=>n[t]:t.bind(n,n);let s;Ot(e)?s=e:(s=e.handler,r=e);const o=On;Bd(this);const u=aA(a,s.bind(n),r);return o?Bd(o):el(),u}function b5(t,e){const r=e.split(".");return()=>{let n=t;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}function Gc(t,e){if(!Lr(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ei(t))Gc(t.value,e);else if(_t(t))for(let r=0;r<t.length;r++)Gc(t[r],e);else if($8(t)||Ad(t))t.forEach(r=>{Gc(r,e)});else if(V8(t))for(const r in t)Gc(t[r],e);return t}function vb(t,e){const r=Fn;if(r===null)return t;const n=f_(r)||r.proxy,a=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,u,c,l=Or]=e[s];o&&(Ot(o)&&(o={mounted:o,updated:o}),o.deep&&Gc(u),a.push({dir:o,instance:n,value:u,oldValue:void 0,arg:c,modifiers:l}))}return t}function mc(t,e,r,n){const a=t.dirs,s=e&&e.dirs;for(let o=0;o<a.length;o++){const u=a[o];s&&(u.oldValue=s[o].value);let c=u.dir[n];c&&(lf(),ns(c,r,8,[t.el,u,t,e]),df())}}function Ii(t,e){return Ot(t)?(()=>An({name:t.name},e,{setup:t}))():t}const Zh=t=>!!t.type.__asyncLoader,_5=t=>t.type.__isKeepAlive;function pq(t,e){g5(t,"a",e)}function yq(t,e){g5(t,"da",e)}function g5(t,e,r=On){const n=t.__wdc||(t.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(c_(e,n,r),r){let a=r.parent;for(;a&&a.parent;)_5(a.parent.vnode)&&bq(n,e,r,a),a=a.parent}}function bq(t,e,r,n){const a=c_(e,t,n,!0);sA(()=>{zO(n[e],a)},r)}function c_(t,e,r=On,n=!1){if(r){const a=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;lf(),Bd(r);const u=ns(e,r,t,o);return el(),df(),u});return n?a.unshift(s):a.push(s),s}}const Jo=t=>(e,r=On)=>(!gp||t==="sp")&&c_(t,(...n)=>e(...n),r),_q=Jo("bm"),m5=Jo("m"),gq=Jo("bu"),v5=Jo("u"),mq=Jo("bum"),sA=Jo("um"),vq=Jo("sp"),wq=Jo("rtg"),Sq=Jo("rtc");function Tq(t,e=On){c_("ec",t,e)}const oA="components";function Yi(t,e){return S5(oA,t,!0,e)||t}const w5=Symbol.for("v-ndc");function ls(t){return nn(t)?S5(oA,t,!1)||t:t||w5}function S5(t,e,r=!0,n=!1){const a=Fn||On;if(a){const s=a.type;if(t===oA){const u=Zq(s,!1);if(u&&(u===e||u===Gs(e)||u===n_(Gs(e))))return s}const o=AI(a[t]||s[t],e)||AI(a.appContext[t],e);return!o&&n?s:o}}function AI(t,e){return t&&(t[e]||t[Gs(e)]||t[n_(Gs(e))])}function RE(t,e,r,n){let a;const s=r&&r[n];if(_t(t)||nn(t)){a=new Array(t.length);for(let o=0,u=t.length;o<u;o++)a[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){a=new Array(t);for(let o=0;o<t;o++)a[o]=e(o+1,o,void 0,s&&s[o])}else if(Lr(t))if(t[Symbol.iterator])a=Array.from(t,(o,u)=>e(o,u,void 0,s&&s[u]));else{const o=Object.keys(t);a=new Array(o.length);for(let u=0,c=o.length;u<c;u++){const l=o[u];a[u]=e(t[l],l,u,s&&s[u])}}else a=[];return r&&(r[n]=a),a}function qi(t,e,r={},n,a){if(Fn.isCE||Fn.parent&&Zh(Fn.parent)&&Fn.parent.isCE)return e!=="default"&&(r.name=e),Qt("slot",r,n&&n());let s=t[e];s&&s._c&&(s._d=!1),pt();const o=s&&T5(s(r)),u=$n(mi,{key:r.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!a&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),s&&s._c&&(s._d=!0),u}function T5(t){return t.some(e=>Tb(e)?!(e.type===Wu||e.type===mi&&!T5(e.children)):!0)?t:null}const IE=t=>t?C5(t)?f_(t)||t.proxy:IE(t.parent):null,ep=An(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>IE(t.parent),$root:t=>IE(t.root),$emit:t=>t.emit,$options:t=>uA(t),$forceUpdate:t=>t.f||(t.f=()=>iA(t.update)),$nextTick:t=>t.n||(t.n=l5.bind(t.proxy)),$watch:t=>hq.bind(t)}),v3=(t,e)=>t!==Or&&!t.__isScriptSetup&&Vt(t,e),Eq={get({_:t},e){const{ctx:r,setupState:n,data:a,props:s,accessCache:o,type:u,appContext:c}=t;let l;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return a[e];case 4:return r[e];case 3:return s[e]}else{if(v3(n,e))return o[e]=1,n[e];if(a!==Or&&Vt(a,e))return o[e]=2,a[e];if((l=t.propsOptions[0])&&Vt(l,e))return o[e]=3,s[e];if(r!==Or&&Vt(r,e))return o[e]=4,r[e];PE&&(o[e]=0)}}const d=ep[e];let f,h;if(d)return e==="$attrs"&&Hi(t,"get",e),d(t);if((f=u.__cssModules)&&(f=f[e]))return f;if(r!==Or&&Vt(r,e))return o[e]=4,r[e];if(h=c.config.globalProperties,Vt(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:a,ctx:s}=t;return v3(a,e)?(a[e]=r,!0):n!==Or&&Vt(n,e)?(n[e]=r,!0):Vt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:a,propsOptions:s}},o){let u;return!!r[o]||t!==Or&&Vt(t,o)||v3(e,o)||(u=s[0])&&Vt(u,o)||Vt(n,o)||Vt(ep,o)||Vt(a.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Vt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Oq(){return Aq().attrs}function Aq(){const t=Xq();return t.setupContext||(t.setupContext=F5(t))}function xI(t){return _t(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let PE=!0;function xq(t){const e=uA(t),r=t.proxy,n=t.ctx;PE=!1,e.beforeCreate&&RI(e.beforeCreate,t,"bc");const{data:a,computed:s,methods:o,watch:u,provide:c,inject:l,created:d,beforeMount:f,mounted:h,beforeUpdate:p,updated:y,activated:_,deactivated:E,beforeDestroy:w,beforeUnmount:O,destroyed:A,unmounted:T,render:I,renderTracked:D,renderTriggered:U,errorCaptured:H,serverPrefetch:N,expose:R,inheritAttrs:F,components:X,directives:ne,filters:$}=e;if(l&&Rq(l,n,null),o)for(const se in o){const ie=o[se];Ot(ie)&&(n[se]=ie.bind(r))}if(a){const se=a.call(r,r);Lr(se)&&(t.data=a_(se))}if(PE=!0,s)for(const se in s){const ie=s[se],be=Ot(ie)?ie.bind(r,r):Ot(ie.get)?ie.get.bind(r,r):rs,he=!Ot(ie)&&Ot(ie.set)?ie.set.bind(r):rs,Te=Ht({get:be,set:he});Object.defineProperty(n,se,{enumerable:!0,configurable:!0,get:()=>Te.value,set:Ne=>Te.value=Ne})}if(u)for(const se in u)E5(u[se],n,r,se);if(c){const se=Ot(c)?c.call(r):c;Reflect.ownKeys(se).forEach(ie=>{W1(ie,se[ie])})}d&&RI(d,t,"c");function Q(se,ie){_t(ie)?ie.forEach(be=>se(be.bind(r))):ie&&se(ie.bind(r))}if(Q(_q,f),Q(m5,h),Q(gq,p),Q(v5,y),Q(pq,_),Q(yq,E),Q(Tq,H),Q(Sq,D),Q(wq,U),Q(mq,O),Q(sA,T),Q(vq,N),_t(R))if(R.length){const se=t.exposed||(t.exposed={});R.forEach(ie=>{Object.defineProperty(se,ie,{get:()=>r[ie],set:be=>r[ie]=be})})}else t.exposed||(t.exposed={});I&&t.render===rs&&(t.render=I),F!=null&&(t.inheritAttrs=F),X&&(t.components=X),ne&&(t.directives=ne)}function Rq(t,e,r=rs){_t(t)&&(t=DE(t));for(const n in t){const a=t[n];let s;Lr(a)?"default"in a?s=is(a.from||n,a.default,!0):s=is(a.from||n):s=is(a),ei(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function RI(t,e,r){ns(_t(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function E5(t,e,r,n){const a=n.includes(".")?b5(r,n):()=>r[n];if(nn(t)){const s=e[t];Ot(s)&&Id(a,s)}else if(Ot(t))Id(a,t.bind(r));else if(Lr(t))if(_t(t))t.forEach(s=>E5(s,e,r,n));else{const s=Ot(t.handler)?t.handler.bind(r):e[t.handler];Ot(s)&&Id(a,s,t)}}function uA(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:a,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,u=s.get(e);let c;return u?c=u:!a.length&&!r&&!n?c=e:(c={},a.length&&a.forEach(l=>wb(c,l,o,!0)),wb(c,e,o)),Lr(e)&&s.set(e,c),c}function wb(t,e,r,n=!1){const{mixins:a,extends:s}=e;s&&wb(t,s,r,!0),a&&a.forEach(o=>wb(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const u=Iq[o]||r&&r[o];t[o]=u?u(t[o],e[o]):e[o]}return t}const Iq={data:II,props:PI,emits:PI,methods:jh,computed:jh,beforeCreate:fi,created:fi,beforeMount:fi,mounted:fi,beforeUpdate:fi,updated:fi,beforeDestroy:fi,beforeUnmount:fi,destroyed:fi,unmounted:fi,activated:fi,deactivated:fi,errorCaptured:fi,serverPrefetch:fi,components:jh,directives:jh,watch:Dq,provide:II,inject:Pq};function II(t,e){return e?t?function(){return An(Ot(t)?t.call(this,this):t,Ot(e)?e.call(this,this):e)}:e:t}function Pq(t,e){return jh(DE(t),DE(e))}function DE(t){if(_t(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function fi(t,e){return t?[...new Set([].concat(t,e))]:e}function jh(t,e){return t?An(Object.create(null),t,e):e}function PI(t,e){return t?_t(t)&&_t(e)?[...new Set([...t,...e])]:An(Object.create(null),xI(t),xI(e??{})):e}function Dq(t,e){if(!t)return e;if(!e)return t;const r=An(Object.create(null),t);for(const n in e)r[n]=fi(t[n],e[n]);return r}function O5(){return{app:null,config:{isNativeTag:sU,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nq=0;function jq(t,e){return function(n,a=null){Ot(n)||(n=An({},n)),a!=null&&!Lr(a)&&(a=null);const s=O5(),o=new Set;let u=!1;const c=s.app={_uid:Nq++,_component:n,_props:a,_container:null,_context:s,_instance:null,version:nV,get config(){return s.config},set config(l){},use(l,...d){return o.has(l)||(l&&Ot(l.install)?(o.add(l),l.install(c,...d)):Ot(l)&&(o.add(l),l(c,...d))),c},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),c},component(l,d){return d?(s.components[l]=d,c):s.components[l]},directive(l,d){return d?(s.directives[l]=d,c):s.directives[l]},mount(l,d,f){if(!u){const h=Qt(n,a);return h.appContext=s,d&&e?e(h,l):t(h,l,f),u=!0,c._container=l,l.__vue_app__=c,f_(h.component)||h.component.proxy}},unmount(){u&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,d){return s.provides[l]=d,c},runWithContext(l){Sb=c;try{return l()}finally{Sb=null}}};return c}}let Sb=null;function W1(t,e){if(On){let r=On.provides;const n=On.parent&&On.parent.provides;n===r&&(r=On.provides=Object.create(n)),r[t]=e}}function is(t,e,r=!1){const n=On||Fn;if(n||Sb){const a=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Sb._context.provides;if(a&&t in a)return a[t];if(arguments.length>1)return r&&Ot(e)?e.call(n&&n.proxy):e}}function Cq(t,e,r,n=!1){const a={},s={};_b(s,d_,1),t.propsDefaults=Object.create(null),A5(t,e,a,s);for(const o in t.propsOptions[0])o in a||(a[o]=void 0);r?t.props=n?a:t5(a):t.type.props?t.props=a:t.props=s,t.attrs=s}function Mq(t,e,r,n){const{props:a,attrs:s,vnode:{patchFlag:o}}=t,u=Kt(a),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(o_(t.emitsOptions,h))continue;const p=e[h];if(c)if(Vt(s,h))p!==s[h]&&(s[h]=p,l=!0);else{const y=Gs(h);a[y]=NE(c,u,y,p,t,!1)}else p!==s[h]&&(s[h]=p,l=!0)}}}else{A5(t,e,a,s)&&(l=!0);let d;for(const f in u)(!e||!Vt(e,f)&&((d=cf(f))===f||!Vt(e,d)))&&(c?r&&(r[f]!==void 0||r[d]!==void 0)&&(a[f]=NE(c,u,f,void 0,t,!0)):delete a[f]);if(s!==u)for(const f in s)(!e||!Vt(e,f))&&(delete s[f],l=!0)}l&&Vo(t,"set","$attrs")}function A5(t,e,r,n){const[a,s]=t.propsOptions;let o=!1,u;if(e)for(let c in e){if(z1(c))continue;const l=e[c];let d;a&&Vt(a,d=Gs(c))?!s||!s.includes(d)?r[d]=l:(u||(u={}))[d]=l:o_(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=Kt(r),l=u||Or;for(let d=0;d<s.length;d++){const f=s[d];r[f]=NE(a,c,f,l[f],t,!Vt(l,f))}}return o}function NE(t,e,r,n,a,s){const o=t[r];if(o!=null){const u=Vt(o,"default");if(u&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&Ot(c)){const{propsDefaults:l}=a;r in l?n=l[r]:(Bd(a),n=l[r]=c.call(null,e),el())}else n=c}o[0]&&(s&&!u?n=!1:o[1]&&(n===""||n===cf(r))&&(n=!0))}return n}function x5(t,e,r=!1){const n=e.propsCache,a=n.get(t);if(a)return a;const s=t.props,o={},u=[];let c=!1;if(!Ot(t)){const d=f=>{c=!0;const[h,p]=x5(f,e,!0);An(o,h),p&&u.push(...p)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!c)return Lr(t)&&n.set(t,Od),Od;if(_t(s))for(let d=0;d<s.length;d++){const f=Gs(s[d]);DI(f)&&(o[f]=Or)}else if(s)for(const d in s){const f=Gs(d);if(DI(f)){const h=s[d],p=o[f]=_t(h)||Ot(h)?{type:h}:An({},h);if(p){const y=CI(Boolean,p.type),_=CI(String,p.type);p[0]=y>-1,p[1]=_<0||y<_,(y>-1||Vt(p,"default"))&&u.push(f)}}}const l=[o,u];return Lr(t)&&n.set(t,l),l}function DI(t){return t[0]!=="$"}function NI(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function jI(t,e){return NI(t)===NI(e)}function CI(t,e){return _t(e)?e.findIndex(r=>jI(r,t)):Ot(e)&&jI(e,t)?0:-1}const R5=t=>t[0]==="_"||t==="$stable",cA=t=>_t(t)?t.map(Ds):[Ds(t)],Fq=(t,e,r)=>{if(e._n)return e;const n=rr((...a)=>cA(e(...a)),r);return n._c=!1,n},I5=(t,e,r)=>{const n=t._ctx;for(const a in t){if(R5(a))continue;const s=t[a];if(Ot(s))e[a]=Fq(a,s,n);else if(s!=null){const o=cA(s);e[a]=()=>o}}},P5=(t,e)=>{const r=cA(e);t.slots.default=()=>r},Lq=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Kt(e),_b(e,"_",r)):I5(e,t.slots={})}else t.slots={},e&&P5(t,e);_b(t.slots,d_,1)},Bq=(t,e,r)=>{const{vnode:n,slots:a}=t;let s=!0,o=Or;if(n.shapeFlag&32){const u=e._;u?r&&u===1?s=!1:(An(a,e),!r&&u===1&&delete a._):(s=!e.$stable,I5(e,a)),o=e}else e&&(P5(t,e),o={default:1});if(s)for(const u in a)!R5(u)&&!(u in o)&&delete a[u]};function jE(t,e,r,n,a=!1){if(_t(t)){t.forEach((h,p)=>jE(h,e&&(_t(e)?e[p]:e),r,n,a));return}if(Zh(n)&&!a)return;const s=n.shapeFlag&4?f_(n.component)||n.component.proxy:n.el,o=a?null:s,{i:u,r:c}=t,l=e&&e.r,d=u.refs===Or?u.refs={}:u.refs,f=u.setupState;if(l!=null&&l!==c&&(nn(l)?(d[l]=null,Vt(f,l)&&(f[l]=null)):ei(l)&&(l.value=null)),Ot(c))$u(c,u,12,[o,d]);else{const h=nn(c),p=ei(c);if(h||p){const y=()=>{if(t.f){const _=h?Vt(f,c)?f[c]:d[c]:c.value;a?_t(_)&&zO(_,s):_t(_)?_.includes(s)||_.push(s):h?(d[c]=[s],Vt(f,c)&&(f[c]=d[c])):(c.value=[s],t.k&&(d[t.k]=c.value))}else h?(d[c]=o,Vt(f,c)&&(f[c]=o)):p&&(c.value=o,t.k&&(d[t.k]=o))};o?(y.id=-1,Li(y,r)):y()}}}const Li=fq;function $q(t){return Uq(t)}function Uq(t,e){const r=SE();r.__VUE__=!0;const{insert:n,remove:a,patchProp:s,createElement:o,createText:u,createComment:c,setText:l,setElementText:d,parentNode:f,nextSibling:h,setScopeId:p=rs,insertStaticContent:y}=t,_=(m,b,v,j=null,V=null,q=null,G=!1,Y=null,ee=!!b.dynamicChildren)=>{if(m===b)return;m&&!zf(m,b)&&(j=J(m),Ne(m,V,q,!0),m=null),b.patchFlag===-2&&(ee=!1,b.dynamicChildren=null);const{type:ae,ref:ve,shapeFlag:me}=b;switch(ae){case l_:E(m,b,v,j);break;case Wu:w(m,b,v,j);break;case w3:m==null&&O(b,v,j,G);break;case mi:X(m,b,v,j,V,q,G,Y,ee);break;default:me&1?I(m,b,v,j,V,q,G,Y,ee):me&6?ne(m,b,v,j,V,q,G,Y,ee):(me&64||me&128)&&ae.process(m,b,v,j,V,q,G,Y,ee,pe)}ve!=null&&V&&jE(ve,m&&m.ref,q,b||m,!b)},E=(m,b,v,j)=>{if(m==null)n(b.el=u(b.children),v,j);else{const V=b.el=m.el;b.children!==m.children&&l(V,b.children)}},w=(m,b,v,j)=>{m==null?n(b.el=c(b.children||""),v,j):b.el=m.el},O=(m,b,v,j)=>{[m.el,m.anchor]=y(m.children,b,v,j,m.el,m.anchor)},A=({el:m,anchor:b},v,j)=>{let V;for(;m&&m!==b;)V=h(m),n(m,v,j),m=V;n(b,v,j)},T=({el:m,anchor:b})=>{let v;for(;m&&m!==b;)v=h(m),a(m),m=v;a(b)},I=(m,b,v,j,V,q,G,Y,ee)=>{G=G||b.type==="svg",m==null?D(b,v,j,V,q,G,Y,ee):N(m,b,V,q,G,Y,ee)},D=(m,b,v,j,V,q,G,Y)=>{let ee,ae;const{type:ve,props:me,shapeFlag:Ee,transition:k,dirs:W}=m;if(ee=m.el=o(m.type,q,me&&me.is,me),Ee&8?d(ee,m.children):Ee&16&&H(m.children,ee,null,j,V,q&&ve!=="foreignObject",G,Y),W&&mc(m,null,j,"created"),U(ee,m,m.scopeId,G,j),me){for(const S in me)S!=="value"&&!z1(S)&&s(ee,S,null,me[S],q,m.children,j,V,oe);"value"in me&&s(ee,"value",null,me.value),(ae=me.onVnodeBeforeMount)&&Ss(ae,j,m)}W&&mc(m,null,j,"beforeMount");const M=(!V||V&&!V.pendingBranch)&&k&&!k.persisted;M&&k.beforeEnter(ee),n(ee,b,v),((ae=me&&me.onVnodeMounted)||M||W)&&Li(()=>{ae&&Ss(ae,j,m),M&&k.enter(ee),W&&mc(m,null,j,"mounted")},V)},U=(m,b,v,j,V)=>{if(v&&p(m,v),j)for(let q=0;q<j.length;q++)p(m,j[q]);if(V){let q=V.subTree;if(b===q){const G=V.vnode;U(m,G,G.scopeId,G.slotScopeIds,V.parent)}}},H=(m,b,v,j,V,q,G,Y,ee=0)=>{for(let ae=ee;ae<m.length;ae++){const ve=m[ae]=Y?Tu(m[ae]):Ds(m[ae]);_(null,ve,b,v,j,V,q,G,Y)}},N=(m,b,v,j,V,q,G)=>{const Y=b.el=m.el;let{patchFlag:ee,dynamicChildren:ae,dirs:ve}=b;ee|=m.patchFlag&16;const me=m.props||Or,Ee=b.props||Or;let k;v&&vc(v,!1),(k=Ee.onVnodeBeforeUpdate)&&Ss(k,v,b,m),ve&&mc(b,m,v,"beforeUpdate"),v&&vc(v,!0);const W=V&&b.type!=="foreignObject";if(ae?R(m.dynamicChildren,ae,Y,v,j,W,q):G||ie(m,b,Y,null,v,j,W,q,!1),ee>0){if(ee&16)F(Y,b,me,Ee,v,j,V);else if(ee&2&&me.class!==Ee.class&&s(Y,"class",null,Ee.class,V),ee&4&&s(Y,"style",me.style,Ee.style,V),ee&8){const M=b.dynamicProps;for(let S=0;S<M.length;S++){const x=M[S],z=me[x],ue=Ee[x];(ue!==z||x==="value")&&s(Y,x,z,ue,V,m.children,v,j,oe)}}ee&1&&m.children!==b.children&&d(Y,b.children)}else!G&&ae==null&&F(Y,b,me,Ee,v,j,V);((k=Ee.onVnodeUpdated)||ve)&&Li(()=>{k&&Ss(k,v,b,m),ve&&mc(b,m,v,"updated")},j)},R=(m,b,v,j,V,q,G)=>{for(let Y=0;Y<b.length;Y++){const ee=m[Y],ae=b[Y],ve=ee.el&&(ee.type===mi||!zf(ee,ae)||ee.shapeFlag&70)?f(ee.el):v;_(ee,ae,ve,null,j,V,q,G,!0)}},F=(m,b,v,j,V,q,G)=>{if(v!==j){if(v!==Or)for(const Y in v)!z1(Y)&&!(Y in j)&&s(m,Y,v[Y],null,G,b.children,V,q,oe);for(const Y in j){if(z1(Y))continue;const ee=j[Y],ae=v[Y];ee!==ae&&Y!=="value"&&s(m,Y,ae,ee,G,b.children,V,q,oe)}"value"in j&&s(m,"value",v.value,j.value)}},X=(m,b,v,j,V,q,G,Y,ee)=>{const ae=b.el=m?m.el:u(""),ve=b.anchor=m?m.anchor:u("");let{patchFlag:me,dynamicChildren:Ee,slotScopeIds:k}=b;k&&(Y=Y?Y.concat(k):k),m==null?(n(ae,v,j),n(ve,v,j),H(b.children,v,ve,V,q,G,Y,ee)):me>0&&me&64&&Ee&&m.dynamicChildren?(R(m.dynamicChildren,Ee,v,V,q,G,Y),(b.key!=null||V&&b===V.subTree)&&D5(m,b,!0)):ie(m,b,v,ve,V,q,G,Y,ee)},ne=(m,b,v,j,V,q,G,Y,ee)=>{b.slotScopeIds=Y,m==null?b.shapeFlag&512?V.ctx.activate(b,v,j,G,ee):$(b,v,j,V,q,G,ee):C(m,b,ee)},$=(m,b,v,j,V,q,G)=>{const Y=m.component=Wq(m,j,V);if(_5(m)&&(Y.ctx.renderer=pe),Kq(Y),Y.asyncDep){if(V&&V.registerDep(Y,Q),!m.el){const ee=Y.subTree=Qt(Wu);w(null,ee,b,v)}return}Q(Y,m,b,v,V,q,G)},C=(m,b,v)=>{const j=b.component=m.component;if(cq(m,b,v))if(j.asyncDep&&!j.asyncResolved){se(j,b,v);return}else j.next=b,tq(j.update),j.update();else b.el=m.el,j.vnode=b},Q=(m,b,v,j,V,q,G)=>{const Y=()=>{if(m.isMounted){let{next:ve,bu:me,u:Ee,parent:k,vnode:W}=m,M=ve,S;vc(m,!1),ve?(ve.el=W.el,se(m,ve,G)):ve=W,me&&g3(me),(S=ve.props&&ve.props.onVnodeBeforeUpdate)&&Ss(S,k,ve,W),vc(m,!0);const x=m3(m),z=m.subTree;m.subTree=x,_(z,x,f(z.el),J(z),m,V,q),ve.el=x.el,M===null&&lq(m,x.el),Ee&&Li(Ee,V),(S=ve.props&&ve.props.onVnodeUpdated)&&Li(()=>Ss(S,k,ve,W),V)}else{let ve;const{el:me,props:Ee}=b,{bm:k,m:W,parent:M}=m,S=Zh(b);if(vc(m,!1),k&&g3(k),!S&&(ve=Ee&&Ee.onVnodeBeforeMount)&&Ss(ve,M,b),vc(m,!0),me&&P){const x=()=>{m.subTree=m3(m),P(me,m.subTree,m,V,null)};S?b.type.__asyncLoader().then(()=>!m.isUnmounted&&x()):x()}else{const x=m.subTree=m3(m);_(null,x,v,j,m,V,q),b.el=x.el}if(W&&Li(W,V),!S&&(ve=Ee&&Ee.onVnodeMounted)){const x=b;Li(()=>Ss(ve,M,x),V)}(b.shapeFlag&256||M&&Zh(M.vnode)&&M.vnode.shapeFlag&256)&&m.a&&Li(m.a,V),m.isMounted=!0,b=v=j=null}},ee=m.effect=new JO(Y,()=>iA(ae),m.scope),ae=m.update=()=>ee.run();ae.id=m.uid,vc(m,!0),ae()},se=(m,b,v)=>{b.component=m;const j=m.vnode.props;m.vnode=b,m.next=null,Mq(m,b.props,j,v),Bq(m,b.children,v),lf(),EI(),df()},ie=(m,b,v,j,V,q,G,Y,ee=!1)=>{const ae=m&&m.children,ve=m?m.shapeFlag:0,me=b.children,{patchFlag:Ee,shapeFlag:k}=b;if(Ee>0){if(Ee&128){he(ae,me,v,j,V,q,G,Y,ee);return}else if(Ee&256){be(ae,me,v,j,V,q,G,Y,ee);return}}k&8?(ve&16&&oe(ae,V,q),me!==ae&&d(v,me)):ve&16?k&16?he(ae,me,v,j,V,q,G,Y,ee):oe(ae,V,q,!0):(ve&8&&d(v,""),k&16&&H(me,v,j,V,q,G,Y,ee))},be=(m,b,v,j,V,q,G,Y,ee)=>{m=m||Od,b=b||Od;const ae=m.length,ve=b.length,me=Math.min(ae,ve);let Ee;for(Ee=0;Ee<me;Ee++){const k=b[Ee]=ee?Tu(b[Ee]):Ds(b[Ee]);_(m[Ee],k,v,null,V,q,G,Y,ee)}ae>ve?oe(m,V,q,!0,!1,me):H(b,v,j,V,q,G,Y,ee,me)},he=(m,b,v,j,V,q,G,Y,ee)=>{let ae=0;const ve=b.length;let me=m.length-1,Ee=ve-1;for(;ae<=me&&ae<=Ee;){const k=m[ae],W=b[ae]=ee?Tu(b[ae]):Ds(b[ae]);if(zf(k,W))_(k,W,v,null,V,q,G,Y,ee);else break;ae++}for(;ae<=me&&ae<=Ee;){const k=m[me],W=b[Ee]=ee?Tu(b[Ee]):Ds(b[Ee]);if(zf(k,W))_(k,W,v,null,V,q,G,Y,ee);else break;me--,Ee--}if(ae>me){if(ae<=Ee){const k=Ee+1,W=k<ve?b[k].el:j;for(;ae<=Ee;)_(null,b[ae]=ee?Tu(b[ae]):Ds(b[ae]),v,W,V,q,G,Y,ee),ae++}}else if(ae>Ee)for(;ae<=me;)Ne(m[ae],V,q,!0),ae++;else{const k=ae,W=ae,M=new Map;for(ae=W;ae<=Ee;ae++){const Ue=b[ae]=ee?Tu(b[ae]):Ds(b[ae]);Ue.key!=null&&M.set(Ue.key,ae)}let S,x=0;const z=Ee-W+1;let ue=!1,ge=0;const we=new Array(z);for(ae=0;ae<z;ae++)we[ae]=0;for(ae=k;ae<=me;ae++){const Ue=m[ae];if(x>=z){Ne(Ue,V,q,!0);continue}let Ge;if(Ue.key!=null)Ge=M.get(Ue.key);else for(S=W;S<=Ee;S++)if(we[S-W]===0&&zf(Ue,b[S])){Ge=S;break}Ge===void 0?Ne(Ue,V,q,!0):(we[Ge-W]=ae+1,Ge>=ge?ge=Ge:ue=!0,_(Ue,b[Ge],v,null,V,q,G,Y,ee),x++)}const Me=ue?qq(we):Od;for(S=Me.length-1,ae=z-1;ae>=0;ae--){const Ue=W+ae,Ge=b[Ue],We=Ue+1<ve?b[Ue+1].el:j;we[ae]===0?_(null,Ge,v,We,V,q,G,Y,ee):ue&&(S<0||ae!==Me[S]?Te(Ge,v,We,2):S--)}}},Te=(m,b,v,j,V=null)=>{const{el:q,type:G,transition:Y,children:ee,shapeFlag:ae}=m;if(ae&6){Te(m.component.subTree,b,v,j);return}if(ae&128){m.suspense.move(b,v,j);return}if(ae&64){G.move(m,b,v,pe);return}if(G===mi){n(q,b,v);for(let me=0;me<ee.length;me++)Te(ee[me],b,v,j);n(m.anchor,b,v);return}if(G===w3){A(m,b,v);return}if(j!==2&&ae&1&&Y)if(j===0)Y.beforeEnter(q),n(q,b,v),Li(()=>Y.enter(q),V);else{const{leave:me,delayLeave:Ee,afterLeave:k}=Y,W=()=>n(q,b,v),M=()=>{me(q,()=>{W(),k&&k()})};Ee?Ee(q,W,M):M()}else n(q,b,v)},Ne=(m,b,v,j=!1,V=!1)=>{const{type:q,props:G,ref:Y,children:ee,dynamicChildren:ae,shapeFlag:ve,patchFlag:me,dirs:Ee}=m;if(Y!=null&&jE(Y,null,v,m,!0),ve&256){b.ctx.deactivate(m);return}const k=ve&1&&Ee,W=!Zh(m);let M;if(W&&(M=G&&G.onVnodeBeforeUnmount)&&Ss(M,b,m),ve&6)xe(m.component,v,j);else{if(ve&128){m.suspense.unmount(v,j);return}k&&mc(m,null,b,"beforeUnmount"),ve&64?m.type.remove(m,b,v,V,pe,j):ae&&(q!==mi||me>0&&me&64)?oe(ae,b,v,!1,!0):(q===mi&&me&384||!V&&ve&16)&&oe(ee,b,v),j&&ye(m)}(W&&(M=G&&G.onVnodeUnmounted)||k)&&Li(()=>{M&&Ss(M,b,m),k&&mc(m,null,b,"unmounted")},v)},ye=m=>{const{type:b,el:v,anchor:j,transition:V}=m;if(b===mi){ce(v,j);return}if(b===w3){T(m);return}const q=()=>{a(v),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(m.shapeFlag&1&&V&&!V.persisted){const{leave:G,delayLeave:Y}=V,ee=()=>G(v,q);Y?Y(m.el,q,ee):ee()}else q()},ce=(m,b)=>{let v;for(;m!==b;)v=h(m),a(m),m=v;a(b)},xe=(m,b,v)=>{const{bum:j,scope:V,update:q,subTree:G,um:Y}=m;j&&g3(j),V.stop(),q&&(q.active=!1,Ne(G,m,b,v)),Y&&Li(Y,b),Li(()=>{m.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},oe=(m,b,v,j=!1,V=!1,q=0)=>{for(let G=q;G<m.length;G++)Ne(m[G],b,v,j,V)},J=m=>m.shapeFlag&6?J(m.component.subTree):m.shapeFlag&128?m.suspense.next():h(m.anchor||m.el),le=(m,b,v)=>{m==null?b._vnode&&Ne(b._vnode,null,null,!0):_(b._vnode||null,m,b,null,null,null,v),EI(),f5(),b._vnode=m},pe={p:_,um:Ne,m:Te,r:ye,mt:$,mc:H,pc:ie,pbc:R,n:J,o:t};let L,P;return e&&([L,P]=e(pe)),{render:le,hydrate:L,createApp:jq(le,L)}}function vc({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function D5(t,e,r=!1){const n=t.children,a=e.children;if(_t(n)&&_t(a))for(let s=0;s<n.length;s++){const o=n[s];let u=a[s];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[s]=Tu(a[s]),u.el=o.el),r||D5(o,u)),u.type===l_&&(u.el=o.el)}}function qq(t){const e=t.slice(),r=[0];let n,a,s,o,u;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(a=r[r.length-1],t[a]<l){e[n]=a,r.push(n);continue}for(s=0,o=r.length-1;s<o;)u=s+o>>1,t[r[u]]<l?s=u+1:o=u;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}const Vq=t=>t.__isTeleport,mi=Symbol.for("v-fgt"),l_=Symbol.for("v-txt"),Wu=Symbol.for("v-cmt"),w3=Symbol.for("v-stc"),tp=[];let ts=null;function pt(t=!1){tp.push(ts=t?null:[])}function Hq(){tp.pop(),ts=tp[tp.length-1]||null}let _p=1;function MI(t){_p+=t}function N5(t){return t.dynamicChildren=_p>0?ts||Od:null,Hq(),_p>0&&ts&&ts.push(t),t}function tr(t,e,r,n,a,s){return N5($t(t,e,r,n,a,s,!0))}function $n(t,e,r,n,a){return N5(Qt(t,e,r,n,a,!0))}function Tb(t){return t?t.__v_isVNode===!0:!1}function zf(t,e){return t.type===e.type&&t.key===e.key}const d_="__vInternal",j5=({key:t})=>t??null,X1=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?nn(t)||ei(t)||Ot(t)?{i:Fn,r:t,k:e,f:!!r}:t:null);function $t(t,e=null,r=null,n=0,a=null,s=t===mi?0:1,o=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&j5(e),ref:e&&X1(e),scopeId:u_,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Fn};return u?(lA(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=nn(r)?8:16),_p>0&&!o&&ts&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&ts.push(c),c}const Qt=kq;function kq(t,e=null,r=null,n=0,a=null,s=!1){if((!t||t===w5)&&(t=Wu),Tb(t)){const u=Ld(t,e,!0);return r&&lA(u,r),_p>0&&!s&&ts&&(u.shapeFlag&6?ts[ts.indexOf(t)]=u:ts.push(u)),u.patchFlag|=-2,u}if(eV(t)&&(t=t.__vccOpts),e){e=Qq(e);let{class:u,style:c}=e;u&&!nn(u)&&(e.class=rn(u)),Lr(c)&&(n5(c)&&!_t(c)&&(c=An({},c)),e.style=Nu(c))}const o=nn(t)?1:dq(t)?128:Vq(t)?64:Lr(t)?4:Ot(t)?2:0;return $t(t,e,r,n,a,o,s,!0)}function Qq(t){return t?n5(t)||d_ in t?An({},t):t:null}function Ld(t,e,r=!1){const{props:n,ref:a,patchFlag:s,children:o}=t,u=e?CE(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&j5(u),ref:e&&e.ref?r&&a?_t(a)?a.concat(X1(e)):[a,X1(e)]:X1(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==mi?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ld(t.ssContent),ssFallback:t.ssFallback&&Ld(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Lc(t=" ",e=0){return Qt(l_,null,t,e)}function Yr(t="",e=!1){return e?(pt(),$n(Wu,null,t)):Qt(Wu,null,t)}function Ds(t){return t==null||typeof t=="boolean"?Qt(Wu):_t(t)?Qt(mi,null,t.slice()):typeof t=="object"?Tu(t):Qt(l_,null,String(t))}function Tu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ld(t)}function lA(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(_t(e))r=16;else if(typeof e=="object")if(n&65){const a=e.default;a&&(a._c&&(a._d=!1),lA(t,a()),a._c&&(a._d=!0));return}else{r=32;const a=e._;!a&&!(d_ in e)?e._ctx=Fn:a===3&&Fn&&(Fn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ot(e)?(e={default:e,_ctx:Fn},r=32):(e=String(e),n&64?(r=16,e=[Lc(e)]):r=8);t.children=e,t.shapeFlag|=r}function CE(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const a in n)if(a==="class")e.class!==n.class&&(e.class=rn([e.class,n.class]));else if(a==="style")e.style=Nu([e.style,n.style]);else if(e_(a)){const s=e[a],o=n[a];o&&s!==o&&!(_t(s)&&s.includes(o))&&(e[a]=s?[].concat(s,o):o)}else a!==""&&(e[a]=n[a])}return e}function Ss(t,e,r,n=null){ns(t,e,7,[r,n])}const Gq=O5();let zq=0;function Wq(t,e,r){const n=t.type,a=(e?e.appContext:t.appContext)||Gq,s={uid:zq++,vnode:t,type:n,parent:e,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new mU(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:x5(n,a),emitsOptions:p5(n,a),emit:null,emitted:null,propsDefaults:Or,inheritAttrs:n.inheritAttrs,ctx:Or,data:Or,props:Or,attrs:Or,slots:Or,refs:Or,setupState:Or,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=iq.bind(null,s),t.ce&&t.ce(s),s}let On=null;const Xq=()=>On||Fn;let dA,kl,FI="__VUE_INSTANCE_SETTERS__";(kl=SE()[FI])||(kl=SE()[FI]=[]),kl.push(t=>On=t),dA=t=>{kl.length>1?kl.forEach(e=>e(t)):kl[0](t)};const Bd=t=>{dA(t),t.scope.on()},el=()=>{On&&On.scope.off(),dA(null)};function C5(t){return t.vnode.shapeFlag&4}let gp=!1;function Kq(t,e=!1){gp=e;const{props:r,children:n}=t.vnode,a=C5(t);Cq(t,r,a,e),Lq(t,n);const s=a?Jq(t,e):void 0;return gp=!1,s}function Jq(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=i5(new Proxy(t.ctx,Eq));const{setup:n}=r;if(n){const a=t.setupContext=n.length>1?F5(t):null;Bd(t),lf();const s=$u(n,t,0,[t.props,a]);if(df(),el(),U8(s)){if(s.then(el,el),e)return s.then(o=>{LI(t,o,e)}).catch(o=>{s_(o,t,0)});t.asyncDep=s}else LI(t,s,e)}else M5(t,e)}function LI(t,e,r){Ot(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Lr(e)&&(t.setupState=u5(e)),M5(t,r)}let BI;function M5(t,e,r){const n=t.type;if(!t.render){if(!e&&BI&&!n.render){const a=n.template||uA(t).template;if(a){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:u,compilerOptions:c}=n,l=An(An({isCustomElement:s,delimiters:u},o),c);n.render=BI(a,l)}}t.render=n.render||rs}Bd(t),lf(),xq(t),df(),el()}function Yq(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Hi(t,"get","$attrs"),e[r]}}))}function F5(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return Yq(t)},slots:t.slots,emit:t.emit,expose:e}}function f_(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(u5(i5(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in ep)return ep[r](t)},has(e,r){return r in e||r in ep}}))}function Zq(t,e=!0){return Ot(t)?t.displayName||t.name:t.name||e&&t.__name}function eV(t){return Ot(t)&&"__vccOpts"in t}const Ht=(t,e)=>YU(t,e,gp);function L5(t,e,r){const n=arguments.length;return n===2?Lr(e)&&!_t(e)?Tb(e)?Qt(t,null,[e]):Qt(t,e):Qt(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Tb(r)&&(r=[r]),Qt(t,e,r))}const tV=Symbol.for("v-scx"),rV=()=>is(tV),nV="3.3.4",iV="http://www.w3.org/2000/svg",Bc=typeof document<"u"?document:null,$I=Bc&&Bc.createElement("template"),aV={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const a=e?Bc.createElementNS(iV,t):Bc.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:t=>Bc.createTextNode(t),createComment:t=>Bc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Bc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,a,s){const o=r?r.previousSibling:e.lastChild;if(a&&(a===s||a.nextSibling))for(;e.insertBefore(a.cloneNode(!0),r),!(a===s||!(a=a.nextSibling)););else{$I.innerHTML=n?`<svg>${t}</svg>`:t;const u=$I.content;if(n){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}e.insertBefore(u,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function sV(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function oV(t,e,r){const n=t.style,a=nn(r);if(r&&!a){if(e&&!nn(e))for(const s in e)r[s]==null&&ME(n,s,"");for(const s in r)ME(n,s,r[s])}else{const s=n.display;a?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=s)}}const UI=/\s*!important$/;function ME(t,e,r){if(_t(r))r.forEach(n=>ME(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=uV(t,e);UI.test(r)?t.setProperty(cf(n),r.replace(UI,""),"important"):t[n]=r}}const qI=["Webkit","Moz","ms"],S3={};function uV(t,e){const r=S3[e];if(r)return r;let n=Gs(e);if(n!=="filter"&&n in t)return S3[e]=n;n=n_(n);for(let a=0;a<qI.length;a++){const s=qI[a]+n;if(s in t)return S3[e]=s}return e}const VI="http://www.w3.org/1999/xlink";function cV(t,e,r,n,a){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(VI,e.slice(6,e.length)):t.setAttributeNS(VI,e,r);else{const s=gU(e);r==null||s&&!H8(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function lV(t,e,r,n,a,s,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,a,s),t[e]=r??"";return}const u=t.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){t._value=r;const l=u==="OPTION"?t.getAttribute("value"):t.value,d=r??"";l!==d&&(t.value=d),r==null&&t.removeAttribute(e);return}let c=!1;if(r===""||r==null){const l=typeof t[e];l==="boolean"?r=H8(r):r==null&&l==="string"?(r="",c=!0):l==="number"&&(r=0,c=!0)}try{t[e]=r}catch{}c&&t.removeAttribute(e)}function dV(t,e,r,n){t.addEventListener(e,r,n)}function fV(t,e,r,n){t.removeEventListener(e,r,n)}function hV(t,e,r,n,a=null){const s=t._vei||(t._vei={}),o=s[e];if(n&&o)o.value=n;else{const[u,c]=pV(e);if(n){const l=s[e]=_V(n,a);dV(t,u,l,c)}else o&&(fV(t,u,o,c),s[e]=void 0)}}const HI=/(?:Once|Passive|Capture)$/;function pV(t){let e;if(HI.test(t)){e={};let n;for(;n=t.match(HI);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):cf(t.slice(2)),e]}let T3=0;const yV=Promise.resolve(),bV=()=>T3||(yV.then(()=>T3=0),T3=Date.now());function _V(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ns(gV(n,r.value),e,5,[n])};return r.value=t,r.attached=bV(),r}function gV(t,e){if(_t(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>a=>!a._stopped&&n&&n(a))}else return e}const kI=/^on[a-z]/,mV=(t,e,r,n,a=!1,s,o,u,c)=>{e==="class"?sV(t,n,a):e==="style"?oV(t,r,n):e_(e)?GO(e)||hV(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vV(t,e,n,a))?lV(t,e,n,s,o,u,c):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),cV(t,e,n,a))};function vV(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&kI.test(e)&&Ot(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||kI.test(e)&&nn(r)?!1:e in t}const wV=An({patchProp:mV},aV);let QI;function SV(){return QI||(QI=$q(wV))}const TV=(...t)=>{const e=SV().createApp(...t),{mount:r}=e;return e.mount=n=>{const a=EV(n);if(!a)return;const s=e._component;!Ot(s)&&!s.render&&!s.template&&(s.template=a.innerHTML),a.innerHTML="";const o=r(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),o},e};function EV(t){return nn(t)?document.querySelector(t):t}const OV=["primary","secondary","success","danger","warning","info","light","dark"],AV="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",xV=[0,0,0],GI=.5,RV=t=>t&&OV.includes(t.toLowerCase()),IV=(t,e)=>{const r=s=>(s.length<7&&(s=`#${s[1]}${s[1]}${s[2]}${s[2]}${s[3]}${s[3]}`),[parseInt(s.substr(1,2),16),parseInt(s.substr(3,2),16),parseInt(s.substr(5,2),16)]),n=s=>{const o=document.body.appendChild(document.createElement("fictum")),u="rgb(1, 2, 3)";return o.style.color=u,o.style.color!==u||(o.style.color=s,o.style.color===u||o.style.color==="")?e:(s=getComputedStyle(o).color,document.body.removeChild(o),s)},a=s=>{const o=s.match(/[.\d]+/g);if(o===null)return;const u=o.map(c=>+Number(c));return u.length=3,u};return typeof t=="string"&&t.toLowerCase()==="transparent"?e:typeof t=="string"&&t[0]==="#"?r(t):(typeof t=="string"&&t.indexOf("rgb")===-1&&(t=n(t)),typeof t=="string"&&t.indexOf("rgb")===0?a(t):e)},PV=({offsetX:t,offsetY:e,height:r,width:n})=>{const a=e<=r/2,s=t<=n/2,o=(f,h)=>Math.sqrt(f**2+h**2),u=e===r/2&&t===n/2,c={first:a===!0&&s===!1,second:a===!0&&s===!0,third:a===!1&&s===!0,fourth:a===!1&&s===!1},l={topLeft:o(t,e),topRight:o(n-t,e),bottomLeft:o(t,r-e),bottomRight:o(n-t,r-e)};let d=0;return u||c.fourth?d=l.topLeft:c.third?d=l.topRight:c.second?d=l.bottomRight:c.first&&(d=l.bottomLeft),d*2},DV=(t,e)=>{for(const r in e)t.style[r]=e[r]},NV=t=>{const e=IV(t,xV);if(t!==""&&e){const r=e.join(",");return`radial-gradient(circle, ${AV.split("{{color}}").join(`${r}`)})`}},jV=(t,e,r)=>{const n=document.createElement("div");n.classList.add("ripple-wave");const a={offsetX:r.centered?e.height/2:e.left,offsetY:r.centered?e.width/2:e.top,height:e.height,width:e.width},s=PV(a),o=r.radius||s/2,u={delay:r.duration&&r.duration*GI,duration:r.duration&&r.duration-r.duration*GI},c={left:r.centered?`${Math.round(e.width/2-o)}px`:`${Math.round(e.left-o)}px`,top:r.centered?`${Math.round(e.height/2-o)}px`:`${Math.round(e.top-o)}px`,height:`${Math.round(r.radius&&r.radius*2||s)}px`,width:`${Math.round(r.radius&&r.radius*2||s)}px`,transitionDelay:`0s, ${u.delay}ms`,transitionDuration:`${r.duration}ms, ${u.duration}ms`};r.unbound&&t.classList.add("ripple-surface-unbound"),RV(r.color)?t.classList.add(`ripple-surface-${r.color}`):c.backgroundImage=NV(r.color),DV(n,c),t.appendChild(n),setTimeout(()=>{n.classList.add("active")},50),setTimeout(()=>{t.removeChild(n)},r.duration?r.duration+1e3:1e3)},B5={mounted(t,e){if(e.value===!1)return;const r={centered:e.value&&e.value.centered||!1,color:e.value&&e.value.color||"",duration:e.value&&e.value.duration||500,radius:e.value&&e.value.radius||0,unbound:e.value&&e.value.unbound||!1};t.classList.add("ripple-surface"),t.waves=n=>{const a={top:n.layerY,left:n.layerX,height:t.offsetHeight,width:t.offsetWidth};jV(t,a,r)},t.addEventListener("click",n=>t.waves(n))},updated(t){t.classList.contains("ripple-surface")||t.classList.add("ripple-surface")},unmounted(t){t.removeEventListener("click",e=>t.waves(e))}},CV={name:"MDBBtn"},MV=Ii({...CV,props:{color:String,size:String,outline:String,rounded:Boolean,floating:Boolean,toggler:Boolean,toggle:Boolean,role:{type:String,default:"button"},type:{type:String,default:"button"},tag:{type:String,default:"button"},block:{type:Boolean,default:!1},ripple:{type:[Object,Boolean],default:t=>t.outline||t.color==="light"||t.color==="link"?{color:"dark"}:!0},picker:Boolean},emits:["update:toggle"],setup(t,{emit:e}){const r=t,n=yi(r.toggle),a=Ht(()=>[!r.picker&&"btn",r.color&&`btn-${r.color}`,r.size&&`btn-${r.size}`,r.outline&&`btn-outline-${r.outline}`,r.rounded&&"btn-rounded",r.floating&&"btn-floating",r.block&&"btn-block",n.value&&"active"]),s=()=>{r.toggler&&(n.value=!n.value,e("update:toggle",n.value))};return(o,u)=>vb((pt(),$n(ls(t.tag),{type:t.type,role:t.role,class:rn(mt(a)),onClick:s},{default:rr(()=>[qi(o.$slots,"default")]),_:3},8,["type","role","class"])),[[mt(B5),t.ripple]])}}),FV={name:"MDBCard"},$5=Ii({...FV,props:{tag:{type:String,default:"div"},border:String,bg:String,text:[String,Array],shadow:String},setup(t){const e=t,r=Ht(()=>{const a=e.text;return["card",e.border&&`border border-${e.border}`,e.bg&&`bg-${e.bg}`,e.shadow&&`shadow-${e.shadow}`,e.text&&n(a)]}),n=a=>typeof a=="string"?`text-${a}`:a.map(s=>`text-${s}`.trim()).join(" ");return(a,s)=>(pt(),$n(ls(t.tag),{class:rn(mt(r))},{default:rr(()=>[qi(a.$slots,"default")]),_:3},8,["class"]))}}),LV={name:"MDBCardBody"},U5=Ii({...LV,props:{tag:{type:String,default:"div"},text:{type:[String,Array]}},setup(t){const e=t,r=Ht(()=>{const a=e.text;return["card-body",e.text&&n(a)]}),n=a=>typeof a=="string"?`text-${a}`:a.map(s=>`text-${s}`.trim()).join(" ");return(a,s)=>(pt(),$n(ls(t.tag),{class:rn(mt(r))},{default:rr(()=>[qi(a.$slots,"default")]),_:3},8,["class"]))}}),BV={name:"MDBCardTitle"},$V=Ii({...BV,props:{tag:{type:String,default:"h5"},subtitle:{type:Boolean,default:!1}},setup(t){const e=t,r=Ht(()=>e.subtitle?e.tag!=="h5"?e.tag:"h6":e.tag),n=Ht(()=>[e.subtitle?"card-subtitle":"card-title"]);return(a,s)=>(pt(),$n(ls(mt(r)),{class:rn(mt(n))},{default:rr(()=>[qi(a.$slots,"default")]),_:3},8,["class"]))}}),UV={name:"MDBCardText"},q5=Ii({...UV,props:{tag:{type:String,default:"p"}},setup(t){const e=Ht(()=>["card-text"]);return(r,n)=>(pt(),$n(ls(t.tag),{class:rn(mt(e))},{default:rr(()=>[qi(r.$slots,"default")]),_:3},8,["class"]))}}),qV={name:"MDBCardFooter"},VV=Ii({...qV,props:{tag:{type:String,default:"div"},bg:String,border:String},setup(t){const e=t,r=Ht(()=>["card-footer",e.border&&`border-${e.border}`,e.bg&&`bg-${e.bg}`]);return(n,a)=>(pt(),$n(ls(t.tag),{class:rn(mt(r))},{default:rr(()=>[qi(n.$slots,"default")]),_:3},8,["class"]))}}),HV=1e6,kV=t=>{do t+=Math.floor(Math.random()*HV);while(document.getElementById(t));return t},QV=/\..*/,GV={mouseenter:"mouseover",mouseleave:"mouseout"},zV=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function V5(t,e,r){const n=typeof e=="string",a=n?r:e;let s=t.replace(QV,"");const o=GV[s];return o&&(s=o),zV.indexOf(s)>-1||(s=t),[n,a,s]}function WV(t,e,r,n){if(typeof e!="string"||!t)return;r||(r=n,n=null);const[a,s,o]=V5(e,r,n);t.addEventListener(o,s,a)}function XV(t,e,r,n){t.removeEventListener(e,r,!!n)}const KV=function(t,e,r,n=void 0){WV(t,e,r,n)},JV=function(t,e,r,n=void 0){if(typeof e!="string"||!t)return;const[a,s,o]=V5(e,r,n);XV(t,o,s,a?r:null)};var FE={stopProp(t){t.stopPropagation()},mounted(t,e){const r=a=>{const s=a.target;!t.contains(s)&&t!==s&&e.value(a)};t.clickOutside=r;const n=e.modifiers.mousedown?"mousedown":"click";document.addEventListener(n,a=>{var s;return(s=t.clickOutside)==null?void 0:s.call(t,a)}),document.addEventListener("touchstart",a=>{var s;return(s=t.clickOutside)==null?void 0:s.call(t,a)})},unmounted(t,e){if(!t.clickOutside)return;const r=e.modifiers.mousedown?"mousedown":"click";document.removeEventListener(r,n=>{var a;return(a=t.clickOutside)==null?void 0:a.call(t,n)}),document.removeEventListener("touchstart",n=>{var a;return(a=t.clickOutside)==null?void 0:a.call(t,n)}),delete t.clickOutside}};const YV={key:1,class:"visually-hidden"},ZV={name:"MDBDropdownToggle"};({...ZV,props:{...MV.props}});const eH={name:"MDBPagination"},tH=Ii({...eH,props:{tag:{type:String,default:"ul"},circle:{type:Boolean,default:!1},lg:{type:Boolean,default:!1},sm:{type:Boolean,default:!1}},setup(t){const e=t,r=Ht(()=>["pagination",e.sm&&"pagination-sm",e.lg&&"pagination-lg",e.circle&&"pagination-circle"]);return(n,a)=>(pt(),$n(ls(t.tag),{class:rn(mt(r))},{default:rr(()=>[qi(n.$slots,"default")]),_:3},8,["class"]))}}),rH=["href","aria-label","aria-disabled","tabindex"],nH={key:0,"aria-hidden":"true"},iH={key:1,class:"sr-only"},aH={name:"MDBPageItem"},sH=Ii({...aH,props:{tag:{type:String,default:"li"},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},href:String,icon:{type:Boolean,defaul:!1},label:{type:String}},setup(t){const e=t,r=Ht(()=>["page-item",e.active&&"active",e.disabled&&"disabled"]),n=Ht(()=>e.icon&&e.label?e.label:e.href),a=Ht(()=>e.disabled?"-1":" false");return(s,o)=>(pt(),$n(ls(t.tag),{class:rn(mt(r))},{default:rr(()=>[$t("a",{class:"page-link",href:t.href,"aria-label":mt(n),"aria-disabled":t.disabled,tabindex:mt(a)},[t.icon?(pt(),tr("span",nH,[qi(s.$slots,"default")])):Yr("",!0),t.icon?(pt(),tr("span",iH,br(mt(n)),1)):qi(s.$slots,"default",{key:2})],8,rH)]),_:3},8,["class"]))}}),oH={name:"MDBContainer"},uH=Ii({...oH,props:{tag:{type:String,default:"div"},sm:{type:Boolean,default:!1},md:{type:Boolean,default:!1},lg:{type:Boolean,default:!1},xl:{type:Boolean,default:!1},xxl:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1}},setup(t){const e=t,r=Ht(()=>[e.fluid?"container-fluid":"",e.sm?"container-sm":"",e.md?"container-md":"",e.lg?"container-lg":"",e.xl?"container-xl":"",e.xxl?"container-xxl":"",!e.fluid&&!e.sm&&!e.md&&!e.lg&&!e.xl&&!e.xxl?"container":""]);return(n,a)=>(pt(),$n(ls(t.tag),{class:rn(mt(r))},{default:rr(()=>[qi(n.$slots,"default")]),_:3},8,["class"]))}}),cH=["id","value"],lH=["for"],dH={key:2,class:"form-helper"},fH={key:3,class:"form-helper"},hH={class:"form-counter"},pH=$t("div",{class:"form-notch-trailing"},null,-1),yH=["id","value"],bH=["for"],_H={key:1,class:"form-helper"},gH={key:2,class:"form-helper"},mH={class:"form-counter"},vH=$t("div",{class:"form-notch-trailing"},null,-1),wH={key:9,class:"form-text"},SH={name:"MDBInput",inheritAttrs:!1},TH=Ii({...SH,props:{id:String,label:String,labelClass:String,modelValue:[String,Number,Date],size:String,formOutline:{type:Boolean,default:!0},wrapperClass:String,inputGroup:{type:[Boolean,String],default:!1},wrap:{type:Boolean,default:!0},formText:String,white:Boolean,validationEvent:String,isValidated:Boolean,isValid:Boolean,validFeedback:String,invalidFeedback:String,tooltipFeedback:{type:Boolean,default:!1},tag:{type:String,default:"div"},helper:String,counter:Boolean,maxlength:{type:Number,default:0}},emits:["update:modelValue","click-outside","on-validate"],setup(t,{expose:e,emit:r}){const n=t,a=Oq(),s=yi(null),o=yi(n.modelValue),u=yi(null),c=yi(!1),l=yi(9),d=yi(0),f=n.id||kV("MDBInput-"),h=Ht(()=>[n.formOutline&&"form-outline",_.value,n.white&&"form-white",n.wrapperClass]),p=Ht(()=>["form-control",n.size?`form-control-${n.size}`:n.inputGroup&&n.inputGroup!==!0&&`form-control-${n.inputGroup}`,(o.value||o.value===0)&&"active",c.value&&"placeholder-active",A.value&&T.value&&"is-valid",A.value&&!T.value&&"is-invalid"]),y=Ht(()=>["form-label",n.labelClass]),_=Ht(()=>{if(n.inputGroup)return n.inputGroup!==!0?`input-group input-group-${n.inputGroup}`:"input-group"}),E=Ht(()=>n.inputGroup&&A.value?{marginBottom:"1rem"}:""),w=Ht(()=>n.tooltipFeedback?"valid-tooltip":"valid-feedback"),O=Ht(()=>n.tooltipFeedback?"invalid-tooltip":"invalid-feedback"),A=yi(n.isValidated),T=yi(n.isValid),I=yi(""),D=Ht(()=>A.value&&!T.value&&n.validationEvent?I.value:n.invalidFeedback),U=he=>{const Te=he.target;T.value=Te.checkValidity(),T.value||(I.value=Te.validationMessage),A.value=!0,r("on-validate",T.value)},H=()=>{n.validationEvent!=="submit"&&typeof s.value!="string"&&KV(s.value,n.validationEvent,U)};function N(){u.value&&(d.value=u.value.clientWidth*.8+8)}function R(){a.placeholder&&!u.value?c.value=!0:c.value=!1}const F=yi(null);F.value=typeof o.value=="string"&&o.value?o.value.length:0;function X(he){const Te=he.target;if(n.counter){if(Te.value.length>n.maxlength){typeof o.value=="string"&&(Te.value=o.value);return}F.value=Te.value.length}o.value=Te.value,r("update:modelValue",o.value)}function ne(){r("click-outside")}const $=yi(null),C=yi(),Q=he=>{C.value.forEach(Te=>Te.style.opacity=he?"0":"1"),he&&($.value.style.opacity="1")},se=a.type&&a.type==="date",ie=(he=!1)=>{var Te;n.label&&n.formOutline&&((Te=C.value)==null?void 0:Te.length)>1&&Q(he),se&&typeof s.value!="string"&&(s.value.type=he?"date":"text")},be=he=>![...he.parentNode.children].findIndex(Te=>Te===he);return m5(()=>{if(N(),R(),ie(),n.label&&n.formOutline&&(C.value=s.value.parentNode.querySelectorAll(".form-notch")),n.label&&n.formOutline&&!be(s.value)){const he=parseFloat(getComputedStyle(u.value).left);u.value.style.left=`${he+s.value.offsetLeft}px`,l.value+=s.value.offsetLeft}n.validationEvent&&H()}),v5(()=>{N(),R()}),sA(()=>{typeof s.value!="string"&&JV(s.value,n.validationEvent,U)}),y5(()=>{var he,Te;if(n.counter&&typeof n.modelValue=="string"){if(((he=n.modelValue)==null?void 0:he.length)>n.maxlength){o.value=n.modelValue.slice(0,n.maxlength),F.value=n.maxlength;return}F.value=((Te=n.modelValue)==null?void 0:Te.length)||0}o.value=n.modelValue}),Id(()=>n.isValidated,he=>A.value=he),Id(()=>n.isValid,he=>T.value=he),e({inputRef:s}),(he,Te)=>(pt(),tr(mi,null,[t.wrap?Yr("",!0):vb((pt(),tr("input",CE({key:0,class:mt(p),id:mt(f),value:o.value},he.$attrs,{onInput:X,ref_key:"inputRef",ref:s,onFocus:Te[0]||(Te[0]=Ne=>ie(!0)),onBlur:Te[1]||(Te[1]=Ne=>ie())}),null,16,cH)),[[mt(FE),ne]]),t.label&&!t.wrap?(pt(),tr("label",{key:1,ref_key:"labelRef",ref:u,class:rn(mt(y)),for:mt(f)},br(t.label),11,lH)):Yr("",!0),!t.wrap&&t.helper?(pt(),tr("div",dH,br(t.helper),1)):Yr("",!0),!t.wrap&&t.counter?(pt(),tr("div",fH,[$t("div",hH,br(F.value)+" / "+br(t.maxlength),1)])):Yr("",!0),t.wrap?Yr("",!0):qi(he.$slots,"default",{key:4}),!t.wrap&&t.validFeedback?(pt(),tr("div",{key:5,class:rn(mt(w))},br(t.validFeedback),3)):Yr("",!0),!t.wrap&&mt(D)?(pt(),tr("div",{key:6,class:rn(mt(O))},br(mt(D)),3)):Yr("",!0),!t.wrap&&t.formOutline?(pt(),tr("div",{key:7,class:"form-notch",ref_key:"notchRef",ref:$},[$t("div",{class:"form-notch-leading",style:Nu({width:`${l.value}px`})},null,4),$t("div",{class:"form-notch-middle",style:Nu({width:`${d.value}px`})},null,4),pH],512)):Yr("",!0),t.wrap?vb((pt(),$n(ls(t.tag),{key:8,class:rn(mt(h)),style:Nu(mt(E))},{default:rr(()=>[qi(he.$slots,"prepend"),$t("input",CE({class:mt(p)},he.$attrs,{id:mt(f),value:o.value,onInput:X,ref_key:"inputRef",ref:s,onFocus:Te[2]||(Te[2]=Ne=>ie(!0)),onBlur:Te[3]||(Te[3]=Ne=>ie())}),null,16,yH),t.label?(pt(),tr("label",{key:0,ref_key:"labelRef",ref:u,class:rn(mt(y)),for:mt(f)},br(t.label),11,bH)):Yr("",!0),t.helper?(pt(),tr("div",_H,br(t.helper),1)):Yr("",!0),t.counter?(pt(),tr("div",gH,[$t("div",mH,br(F.value)+" / "+br(t.maxlength),1)])):Yr("",!0),qi(he.$slots,"default"),t.validFeedback?(pt(),tr("div",{key:3,class:rn(mt(w))},br(t.validFeedback),3)):Yr("",!0),mt(D)?(pt(),tr("div",{key:4,class:rn(mt(O))},br(mt(D)),3)):Yr("",!0),t.formOutline?(pt(),tr("div",{key:5,class:"form-notch",ref_key:"notchRef",ref:$},[$t("div",{class:"form-notch-leading",style:Nu({width:`${l.value}px`})},null,4),$t("div",{class:"form-notch-middle",style:Nu({width:`${d.value}px`})},null,4),vH],512)):Yr("",!0)]),_:3},8,["class","style"])),[[mt(FE),ne]]):Yr("",!0),t.formText?(pt(),tr("div",wH,br(t.formText),1)):Yr("",!0)],64))}});var g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var H5={},p_={},y_={},Gp={},k5={},b_={},Je={},fA={},Q5={};Object.defineProperty(Q5,"__esModule",{value:!0});var G5={};Object.defineProperty(G5,"__esModule",{value:!0});var z5={};Object.defineProperty(z5,"__esModule",{value:!0});var W5={};Object.defineProperty(W5,"__esModule",{value:!0});var X5={};Object.defineProperty(X5,"__esModule",{value:!0});var K5={};Object.defineProperty(K5,"__esModule",{value:!0});var J5={};Object.defineProperty(J5,"__esModule",{value:!0});var Y5={};Object.defineProperty(Y5,"__esModule",{value:!0});var Z5={};Object.defineProperty(Z5,"__esModule",{value:!0});var ej={};Object.defineProperty(ej,"__esModule",{value:!0});var tj={};Object.defineProperty(tj,"__esModule",{value:!0});var rj={};Object.defineProperty(rj,"__esModule",{value:!0});var nj={};Object.defineProperty(nj,"__esModule",{value:!0});var __={};Object.defineProperty(__,"__esModule",{value:!0});__.Logger=void 0;class g_{static getLevelOrdinal(e){return g_.LEVELS[e]}}__.Logger=g_;g_.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Q5,t),r(G5,t),r(z5,t),r(W5,t),r(X5,t),r(K5,t),r(J5,t),r(Y5,t),r(Z5,t),r(ej,t),r(tj,t),r(rj,t),r(nj,t),r(__,t)})(fA);var nl={},zp="delete",Ar=5,ma=1<<Ar,Ti=ma-1,Ut={};function LE(){return{value:!1}}function va(t){t&&(t.value=!0)}function hA(){}function $d(t){return t.size===void 0&&(t.size=t.__iterate(ij)),t.size}function Xu(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?$d(t)+e:e}function ij(){return!0}function Wp(t,e,r){return(t===0&&!sj(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function ff(t,e){return aj(t,e,0)}function Xp(t,e){return aj(t,e,e)}function aj(t,e,r){return t===void 0?r:sj(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function sj(t){return t<0||t===0&&1/t===-1/0}var oj="@@__IMMUTABLE_ITERABLE__@@";function ti(t){return!!(t&&t[oj])}var uj="@@__IMMUTABLE_KEYED__@@";function pr(t){return!!(t&&t[uj])}var cj="@@__IMMUTABLE_INDEXED__@@";function Ln(t){return!!(t&&t[cj])}function hf(t){return pr(t)||Ln(t)}var Rr=function(e){return ti(e)?e:ri(e)},Oa=function(t){function e(r){return pr(r)?r:nc(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rr),pl=function(t){function e(r){return Ln(r)?r:Aa(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rr),pf=function(t){function e(r){return ti(r)&&!hf(r)?r:_f(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rr);Rr.Keyed=Oa;Rr.Indexed=pl;Rr.Set=pf;var lj="@@__IMMUTABLE_SEQ__@@";function Kp(t){return!!(t&&t[lj])}var dj="@@__IMMUTABLE_RECORD__@@";function rc(t){return!!(t&&t[dj])}function ca(t){return ti(t)||rc(t)}var yf="@@__IMMUTABLE_ORDERED__@@";function aa(t){return!!(t&&t[yf])}var Jp=0,ss=1,Ta=2,BE=typeof Symbol=="function"&&Symbol.iterator,fj="@@iterator",m_=BE||fj,Gt=function(e){this.next=e};Gt.prototype.toString=function(){return"[Iterator]"};Gt.KEYS=Jp;Gt.VALUES=ss;Gt.ENTRIES=Ta;Gt.prototype.inspect=Gt.prototype.toSource=function(){return this.toString()};Gt.prototype[m_]=function(){return this};function Ir(t,e,r,n){var a=t===0?e:t===1?r:[e,r];return n?n.value=a:n={value:a,done:!1},n}function Oi(){return{value:void 0,done:!0}}function pA(t){return Array.isArray(t)?!0:!!v_(t)}function zI(t){return t&&typeof t.next=="function"}function $E(t){var e=v_(t);return e&&e.call(t)}function v_(t){var e=t&&(BE&&t[BE]||t[fj]);if(typeof e=="function")return e}function OH(t){var e=v_(t);return e&&e===t.entries}function AH(t){var e=v_(t);return e&&e===t.keys}var bf=Object.prototype.hasOwnProperty;function yA(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var ri=function(t){function e(r){return r==null?_A():ca(r)?r.toSeq():RH(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,a){var s=this._cache;if(s){for(var o=s.length,u=0;u!==o;){var c=s[a?o-++u:u++];if(n(c[1],c[0],this)===!1)break}return u}return this.__iterateUncached(n,a)},e.prototype.__iterator=function(n,a){var s=this._cache;if(s){var o=s.length,u=0;return new Gt(function(){if(u===o)return Oi();var c=s[a?o-++u:u++];return Ir(n,c[0],c[1])})}return this.__iteratorUncached(n,a)},e}(Rr),nc=function(t){function e(r){return r==null?_A().toKeyedSeq():ti(r)?pr(r)?r.toSeq():r.fromEntrySeq():rc(r)?r.toSeq():gA(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(ri),Aa=function(t){function e(r){return r==null?_A():ti(r)?pr(r)?r.entrySeq():r.toIndexedSeq():rc(r)?r.toSeq().entrySeq():hj(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(ri),_f=function(t){function e(r){return(ti(r)&&!hf(r)?r:Aa(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(ri);ri.isSeq=Kp;ri.Keyed=nc;ri.Set=_f;ri.Indexed=Aa;ri.prototype[lj]=!0;var il=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this.has(n)?this._array[Xu(this,n)]:a},e.prototype.__iterate=function(n,a){for(var s=this._array,o=s.length,u=0;u!==o;){var c=a?o-++u:u++;if(n(s[c],c,this)===!1)break}return u},e.prototype.__iterator=function(n,a){var s=this._array,o=s.length,u=0;return new Gt(function(){if(u===o)return Oi();var c=a?o-++u:u++;return Ir(n,c,s[c])})},e}(Aa),bA=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return a!==void 0&&!this.has(n)?a:this._object[n]},e.prototype.has=function(n){return bf.call(this._object,n)},e.prototype.__iterate=function(n,a){for(var s=this._object,o=this._keys,u=o.length,c=0;c!==u;){var l=o[a?u-++c:c++];if(n(s[l],l,this)===!1)break}return c},e.prototype.__iterator=function(n,a){var s=this._object,o=this._keys,u=o.length,c=0;return new Gt(function(){if(c===u)return Oi();var l=o[a?u-++c:c++];return Ir(n,l,s[l])})},e}(nc);bA.prototype[yf]=!0;var xH=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,a){if(a)return this.cacheResult().__iterate(n,a);var s=this._collection,o=$E(s),u=0;if(zI(o))for(var c;!(c=o.next()).done&&n(c.value,u++,this)!==!1;);return u},e.prototype.__iteratorUncached=function(n,a){if(a)return this.cacheResult().__iterator(n,a);var s=this._collection,o=$E(s);if(!zI(o))return new Gt(Oi);var u=0;return new Gt(function(){var c=o.next();return c.done?c:Ir(n,u++,c.value)})},e}(Aa),WI;function _A(){return WI||(WI=new il([]))}function gA(t){var e=mA(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new bA(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function hj(t){var e=mA(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function RH(t){var e=mA(t);if(e)return OH(t)?e.fromEntrySeq():AH(t)?e.toSetSeq():e;if(typeof t=="object")return new bA(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function mA(t){return yA(t)?new il(t):pA(t)?new xH(t):void 0}var pj="@@__IMMUTABLE_MAP__@@";function Yp(t){return!!(t&&t[pj])}function w_(t){return Yp(t)&&aa(t)}function Eb(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function pn(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(Eb(t)&&Eb(e)&&t.equals(e))}var Wf=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,a=r&65535;return n*a+((e>>>16)*a+n*(r>>>16)<<16>>>0)|0};function S_(t){return t>>>1&1073741824|t&3221225471}var IH=Object.prototype.valueOf;function vi(t){if(t==null)return XI(t);if(typeof t.hashCode=="function")return S_(t.hashCode(t));var e=MH(t);if(e==null)return XI(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return PH(e);case"string":return e.length>FH?DH(e):UE(e);case"object":case"function":return jH(e);case"symbol":return NH(e);default:if(typeof e.toString=="function")return UE(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function XI(t){return t===null?1108378658:1108378659}function PH(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return S_(e)}function DH(t){var e=A3[t];return e===void 0&&(e=UE(t),O3===LH&&(O3=0,A3={}),O3++,A3[t]=e),e}function UE(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return S_(e)}function NH(t){var e=YI[t];return e!==void 0||(e=yj(),YI[t]=e),e}function jH(t){var e;if(qE&&(e=VE.get(t),e!==void 0)||(e=t[$c],e!==void 0)||!JI&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[$c],e!==void 0||(e=CH(t),e!==void 0)))return e;if(e=yj(),qE)VE.set(t,e);else{if(KI!==void 0&&KI(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(JI)Object.defineProperty(t,$c,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[$c]=e;else if(t.nodeType!==void 0)t[$c]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var KI=Object.isExtensible,JI=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function CH(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function MH(t){return t.valueOf!==IH&&typeof t.valueOf=="function"?t.valueOf(t):t}function yj(){var t=++E3;return E3&1073741824&&(E3=0),t}var qE=typeof WeakMap=="function",VE;qE&&(VE=new WeakMap);var YI=Object.create(null),E3=0,$c="__immutablehash__";typeof Symbol=="function"&&($c=Symbol($c));var FH=16,LH=255,O3=0,A3={},T_=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,a){return this._iter.get(n,a)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,a=vA(this,!0);return this._useKeys||(a.valueSeq=function(){return n._iter.toSeq().reverse()}),a},e.prototype.map=function(n,a){var s=this,o=vj(this,n,a);return this._useKeys||(o.valueSeq=function(){return s._iter.toSeq().map(n,a)}),o},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o,u){return n(o,u,s)},a)},e.prototype.__iterator=function(n,a){return this._iter.__iterator(n,a)},e}(nc);T_.prototype[yf]=!0;var bj=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var s=this,o=0;return a&&$d(this),this._iter.__iterate(function(u){return n(u,a?s.size-++o:o++,s)},a)},e.prototype.__iterator=function(n,a){var s=this,o=this._iter.__iterator(ss,a),u=0;return a&&$d(this),new Gt(function(){var c=o.next();return c.done?c:Ir(n,a?s.size-++u:u++,c.value,c)})},e}(Aa),_j=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o){return n(o,o,s)},a)},e.prototype.__iterator=function(n,a){var s=this._iter.__iterator(ss,a);return new Gt(function(){var o=s.next();return o.done?o:Ir(n,o.value,o.value,o)})},e}(_f),gj=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,a){var s=this;return this._iter.__iterate(function(o){if(o){eP(o);var u=ti(o);return n(u?o.get(1):o[1],u?o.get(0):o[0],s)}},a)},e.prototype.__iterator=function(n,a){var s=this._iter.__iterator(ss,a);return new Gt(function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value;if(u){eP(u);var c=ti(u);return Ir(n,c?u.get(0):u[0],c?u.get(1):u[1],o)}}})},e}(nc);bj.prototype.cacheResult=T_.prototype.cacheResult=_j.prototype.cacheResult=gj.prototype.cacheResult=TA;function mj(t){var e=Zs(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=TA,e.__iterateUncached=function(r,n){var a=this;return t.__iterate(function(s,o){return r(o,s,a)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===Ta){var a=t.__iterator(r,n);return new Gt(function(){var s=a.next();if(!s.done){var o=s.value[0];s.value[0]=s.value[1],s.value[1]=o}return s})}return t.__iterator(r===ss?Jp:ss,n)},e}function vj(t,e,r){var n=Zs(t);return n.size=t.size,n.has=function(a){return t.has(a)},n.get=function(a,s){var o=t.get(a,Ut);return o===Ut?s:e.call(r,o,a,t)},n.__iterateUncached=function(a,s){var o=this;return t.__iterate(function(u,c,l){return a(e.call(r,u,c,l),c,o)!==!1},s)},n.__iteratorUncached=function(a,s){var o=t.__iterator(Ta,s);return new Gt(function(){var u=o.next();if(u.done)return u;var c=u.value,l=c[0];return Ir(a,l,e.call(r,c[1],l,t),u)})},n}function vA(t,e){var r=this,n=Zs(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var a=mj(t);return a.reverse=function(){return t.flip()},a}),n.get=function(a,s){return t.get(e?a:-1-a,s)},n.has=function(a){return t.has(e?a:-1-a)},n.includes=function(a){return t.includes(a)},n.cacheResult=TA,n.__iterate=function(a,s){var o=this,u=0;return s&&$d(t),t.__iterate(function(c,l){return a(c,e?l:s?o.size-++u:u++,o)},!s)},n.__iterator=function(a,s){var o=0;s&&$d(t);var u=t.__iterator(Ta,!s);return new Gt(function(){var c=u.next();if(c.done)return c;var l=c.value;return Ir(a,e?l[0]:s?r.size-++o:o++,l[1],c)})},n}function wj(t,e,r,n){var a=Zs(t);return n&&(a.has=function(s){var o=t.get(s,Ut);return o!==Ut&&!!e.call(r,o,s,t)},a.get=function(s,o){var u=t.get(s,Ut);return u!==Ut&&e.call(r,u,s,t)?u:o}),a.__iterateUncached=function(s,o){var u=this,c=0;return t.__iterate(function(l,d,f){if(e.call(r,l,d,f))return c++,s(l,n?d:c-1,u)},o),c},a.__iteratorUncached=function(s,o){var u=t.__iterator(Ta,o),c=0;return new Gt(function(){for(;;){var l=u.next();if(l.done)return l;var d=l.value,f=d[0],h=d[1];if(e.call(r,h,f,t))return Ir(s,n?f:c++,h,l)}})},a}function BH(t,e,r){var n=ac().asMutable();return t.__iterate(function(a,s){n.update(e.call(r,a,s,t),0,function(o){return o+1})}),n.asImmutable()}function $H(t,e,r){var n=pr(t),a=(aa(t)?os():ac()).asMutable();t.__iterate(function(o,u){a.update(e.call(r,o,u,t),function(c){return c=c||[],c.push(n?[u,o]:o),c})});var s=SA(t);return a.map(function(o){return hr(t,s(o))}).asImmutable()}function UH(t,e,r){var n=pr(t),a=[[],[]];t.__iterate(function(o,u){a[e.call(r,o,u,t)?1:0].push(n?[u,o]:o)});var s=SA(t);return a.map(function(o){return hr(t,s(o))})}function wA(t,e,r,n){var a=t.size;if(Wp(e,r,a))return t;var s=ff(e,a),o=Xp(r,a);if(s!==s||o!==o)return wA(t.toSeq().cacheResult(),e,r,n);var u=o-s,c;u===u&&(c=u<0?0:u);var l=Zs(t);return l.size=c===0?c:t.size&&c||void 0,!n&&Kp(t)&&c>=0&&(l.get=function(d,f){return d=Xu(this,d),d>=0&&d<c?t.get(d+s,f):f}),l.__iterateUncached=function(d,f){var h=this;if(c===0)return 0;if(f)return this.cacheResult().__iterate(d,f);var p=0,y=!0,_=0;return t.__iterate(function(E,w){if(!(y&&(y=p++<s)))return _++,d(E,n?w:_-1,h)!==!1&&_!==c}),_},l.__iteratorUncached=function(d,f){if(c!==0&&f)return this.cacheResult().__iterator(d,f);if(c===0)return new Gt(Oi);var h=t.__iterator(d,f),p=0,y=0;return new Gt(function(){for(;p++<s;)h.next();if(++y>c)return Oi();var _=h.next();return n||d===ss||_.done?_:d===Jp?Ir(d,y-1,void 0,_):Ir(d,y-1,_.value[1],_)})},l}function qH(t,e,r){var n=Zs(t);return n.__iterateUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterate(a,s);var u=0;return t.__iterate(function(c,l,d){return e.call(r,c,l,d)&&++u&&a(c,l,o)}),u},n.__iteratorUncached=function(a,s){var o=this;if(s)return this.cacheResult().__iterator(a,s);var u=t.__iterator(Ta,s),c=!0;return new Gt(function(){if(!c)return Oi();var l=u.next();if(l.done)return l;var d=l.value,f=d[0],h=d[1];return e.call(r,h,f,o)?a===Ta?l:Ir(a,f,h,l):(c=!1,Oi())})},n}function Sj(t,e,r,n){var a=Zs(t);return a.__iterateUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterate(s,o);var c=!0,l=0;return t.__iterate(function(d,f,h){if(!(c&&(c=e.call(r,d,f,h))))return l++,s(d,n?f:l-1,u)}),l},a.__iteratorUncached=function(s,o){var u=this;if(o)return this.cacheResult().__iterator(s,o);var c=t.__iterator(Ta,o),l=!0,d=0;return new Gt(function(){var f,h,p;do{if(f=c.next(),f.done)return n||s===ss?f:s===Jp?Ir(s,d++,void 0,f):Ir(s,d++,f.value[1],f);var y=f.value;h=y[0],p=y[1],l&&(l=e.call(r,p,h,u))}while(l);return s===Ta?f:Ir(s,h,p,f)})},a}function VH(t,e){var r=pr(t),n=[t].concat(e).map(function(o){return ti(o)?r&&(o=Oa(o)):o=r?gA(o):hj(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var a=n[0];if(a===t||r&&pr(a)||Ln(t)&&Ln(a))return a}var s=new il(n);return r?s=s.toKeyedSeq():Ln(t)||(s=s.toSetSeq()),s=s.flatten(!0),s.size=n.reduce(function(o,u){if(o!==void 0){var c=u.size;if(c!==void 0)return o+c}},0),s}function Tj(t,e,r){var n=Zs(t);return n.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);var o=0,u=!1;function c(l,d){l.__iterate(function(f,h){return(!e||d<e)&&ti(f)?c(f,d+1):(o++,a(f,r?h:o-1,n)===!1&&(u=!0)),!u},s)}return c(t,0),o},n.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var o=t.__iterator(a,s),u=[],c=0;return new Gt(function(){for(;o;){var l=o.next();if(l.done!==!1){o=u.pop();continue}var d=l.value;if(a===Ta&&(d=d[1]),(!e||u.length<e)&&ti(d))u.push(o),o=d.__iterator(a,s);else return r?l:Ir(a,c++,d,l)}return Oi()})},n}function HH(t,e,r){var n=SA(t);return t.toSeq().map(function(a,s){return n(e.call(r,a,s,t))}).flatten(!0)}function kH(t,e){var r=Zs(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,a){var s=this,o=0;return t.__iterate(function(u){return(!o||n(e,o++,s)!==!1)&&n(u,o++,s)!==!1},a),o},r.__iteratorUncached=function(n,a){var s=t.__iterator(ss,a),o=0,u;return new Gt(function(){return(!u||o%2)&&(u=s.next(),u.done)?u:o%2?Ir(n,o++,e):Ir(n,o++,u.value,u)})},r}function Ud(t,e,r){e||(e=Ej);var n=pr(t),a=0,s=t.toSeq().map(function(o,u){return[u,o,a++,r?r(o,u,t):o]}).valueSeq().toArray();return s.sort(function(o,u){return e(o[3],u[3])||o[2]-u[2]}).forEach(n?function(o,u){s[u].length=2}:function(o,u){s[u]=o[1]}),n?nc(s):Ln(t)?Aa(s):_f(s)}function By(t,e,r){if(e||(e=Ej),r){var n=t.toSeq().map(function(a,s){return[a,r(a,s,t)]}).reduce(function(a,s){return ZI(e,a[1],s[1])?s:a});return n&&n[0]}return t.reduce(function(a,s){return ZI(e,a,s)?s:a})}function ZI(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function $y(t,e,r,n){var a=Zs(t),s=new il(r).map(function(o){return o.size});return a.size=n?s.max():s.min(),a.__iterate=function(o,u){for(var c=this.__iterator(ss,u),l,d=0;!(l=c.next()).done&&o(l.value,d++,this)!==!1;);return d},a.__iteratorUncached=function(o,u){var c=r.map(function(f){return f=Rr(f),$E(u?f.reverse():f)}),l=0,d=!1;return new Gt(function(){var f;return d||(f=c.map(function(h){return h.next()}),d=n?f.every(function(h){return h.done}):f.some(function(h){return h.done})),d?Oi():Ir(o,l++,e.apply(null,f.map(function(h){return h.value})))})},a}function hr(t,e){return t===e?t:Kp(t)?e:t.constructor(e)}function eP(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function SA(t){return pr(t)?Oa:Ln(t)?pl:pf}function Zs(t){return Object.create((pr(t)?nc:Ln(t)?Aa:_f).prototype)}function TA(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ri.prototype.cacheResult.call(this)}function Ej(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function Cs(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),a=0;a<r;a++)n[a]=t[a+e];return n}function EA(t,e){if(!t)throw new Error(e)}function ea(t){EA(t!==1/0,"Cannot perform this action with an infinite size.")}function Oj(t){if(yA(t)&&typeof t!="string")return t;if(aa(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var QH=Object.prototype.toString;function E_(t){if(!t||typeof t!="object"||QH.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function Ku(t){return typeof t=="object"&&(ca(t)||Array.isArray(t)||E_(t))}function mp(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch{return JSON.stringify(t)}}function OA(t,e){return ca(t)?t.has(e):Ku(t)&&bf.call(t,e)}function O_(t,e,r){return ca(t)?t.get(e,r):OA(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function Ob(t){if(Array.isArray(t))return Cs(t);var e={};for(var r in t)bf.call(t,r)&&(e[r]=t[r]);return e}function AA(t,e){if(!Ku(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ca(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!bf.call(t,e))return t;var r=Ob(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function xA(t,e,r){if(!Ku(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(ca(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(bf.call(t,e)&&r===t[e])return t;var n=Ob(t);return n[e]=r,n}function ic(t,e,r,n){n||(n=r,r=void 0);var a=Aj(ca(t),t,Oj(e),0,r,n);return a===Ut?r:a}function Aj(t,e,r,n,a,s){var o=e===Ut;if(n===r.length){var u=o?a:e,c=s(u);return c===u?e:c}if(!o&&!Ku(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(mp)+"]: "+e);var l=r[n],d=o?Ut:O_(e,l,Ut),f=Aj(d===Ut?t:ca(d),d,r,n+1,a,s);return f===d?e:f===Ut?AA(e,l):xA(o?t?Za():{}:e,l,f)}function RA(t,e,r){return ic(t,e,Ut,function(){return r})}function IA(t,e){return RA(this,t,e)}function PA(t,e){return ic(t,e,function(){return Ut})}function DA(t){return PA(this,t)}function A_(t,e,r,n){return ic(t,[e],r,n)}function NA(t,e,r){return arguments.length===1?t(this):A_(this,t,e,r)}function jA(t,e,r){return ic(this,t,e,r)}function xj(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ij(this,t)}function Rj(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return Ij(this,e,t)}function Ij(t,e,r){for(var n=[],a=0;a<e.length;a++){var s=Oa(e[a]);s.size!==0&&n.push(s)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var u=r?function(l,d){A_(o,d,Ut,function(f){return f===Ut?l:r(f,l,d)})}:function(l,d){o.set(d,l)},c=0;c<n.length;c++)n[c].forEach(u)})}function Pj(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return e0(t,e)}function Dj(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return e0(e,r,t)}function Nj(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Zp(t,e)}function jj(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Zp(e,r,t)}function Zp(t,e,r){return e0(t,e,GH(r))}function e0(t,e,r){if(!Ku(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(ca(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),a=t,s=n?pl:Oa,o=n?function(c){a===t&&(a=Ob(a)),a.push(c)}:function(c,l){var d=bf.call(a,l),f=d&&r?r(a[l],c,l):c;(!d||f!==a[l])&&(a===t&&(a=Ob(a)),a[l]=f)},u=0;u<e.length;u++)s(e[u]).forEach(o);return a}function GH(t){function e(r,n,a){return Ku(r)&&Ku(n)&&zH(r,n)?e0(r,[n],e):t?t(r,n,a):n}return e}function zH(t,e){var r=ri(t),n=ri(e);return Ln(r)===Ln(n)&&pr(r)===pr(n)}function Cj(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Zp(this,t)}function Mj(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Zp(this,e,t)}function CA(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return ic(this,t,Za(),function(n){return e0(n,e)})}function MA(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return ic(this,t,Za(),function(n){return Zp(n,e)})}function t0(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function r0(){return this.__ownerID?this:this.__ensureOwner(new hA)}function n0(){return this.__ensureOwner()}function FA(){return this.__altered}var ac=function(t){function e(r){return r==null?Za():Yp(r)&&!aa(r)?r:Za().withMutations(function(n){var a=t(r);ea(a.size),a.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return Za().withMutations(function(s){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);s.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,a){return this._root?this._root.get(0,void 0,n,a):a},e.prototype.set=function(n,a){return nP(this,n,a)},e.prototype.remove=function(n){return nP(this,n,Ut)},e.prototype.deleteAll=function(n){var a=Rr(n);return a.size===0?this:this.withMutations(function(s){a.forEach(function(o){return s.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Za()},e.prototype.sort=function(n){return os(Ud(this,n))},e.prototype.sortBy=function(n,a){return os(Ud(this,a,n))},e.prototype.map=function(n,a){var s=this;return this.withMutations(function(o){o.forEach(function(u,c){o.set(c,n.call(a,u,c,s))})})},e.prototype.__iterator=function(n,a){return new WH(this,n,a)},e.prototype.__iterate=function(n,a){var s=this,o=0;return this._root&&this._root.iterate(function(u){return o++,n(u[1],u[0],s)},a),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?LA(this.size,this._root,n,this.__hash):this.size===0?Za():(this.__ownerID=n,this.__altered=!1,this)},e}(Oa);ac.isMap=Yp;var Pr=ac.prototype;Pr[pj]=!0;Pr[zp]=Pr.remove;Pr.removeAll=Pr.deleteAll;Pr.setIn=IA;Pr.removeIn=Pr.deleteIn=DA;Pr.update=NA;Pr.updateIn=jA;Pr.merge=Pr.concat=xj;Pr.mergeWith=Rj;Pr.mergeDeep=Cj;Pr.mergeDeepWith=Mj;Pr.mergeIn=CA;Pr.mergeDeepIn=MA;Pr.withMutations=t0;Pr.wasAltered=FA;Pr.asImmutable=n0;Pr["@@transducer/init"]=Pr.asMutable=r0;Pr["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};Pr["@@transducer/result"]=function(t){return t.asImmutable()};var vp=function(e,r){this.ownerID=e,this.entries=r};vp.prototype.get=function(e,r,n,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(pn(n,s[o][0]))return s[o][1];return a};vp.prototype.update=function(e,r,n,a,s,o,u){for(var c=s===Ut,l=this.entries,d=0,f=l.length;d<f&&!pn(a,l[d][0]);d++);var h=d<f;if(h?l[d][1]===s:c)return this;if(va(u),(c||!h)&&va(o),!(c&&l.length===1)){if(!h&&!c&&l.length>=ek)return XH(e,l,a,s);var p=e&&e===this.ownerID,y=p?l:Cs(l);return h?c?d===f-1?y.pop():y[d]=y.pop():y[d]=[a,s]:y.push([a,s]),p?(this.entries=y,this):new vp(e,y)}};var qd=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};qd.prototype.get=function(e,r,n,a){r===void 0&&(r=vi(n));var s=1<<((e===0?r:r>>>e)&Ti),o=this.bitmap;return o&s?this.nodes[Fj(o&s-1)].get(e+Ar,r,n,a):a};qd.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=vi(a));var c=(r===0?n:n>>>r)&Ti,l=1<<c,d=this.bitmap,f=(d&l)!==0;if(!f&&s===Ut)return this;var h=Fj(d&l-1),p=this.nodes,y=f?p[h]:void 0,_=BA(y,e,r+Ar,n,a,s,o,u);if(_===y)return this;if(!f&&_&&p.length>=tk)return JH(e,p,d,c,_);if(f&&!_&&p.length===2&&iP(p[h^1]))return p[h^1];if(f&&_&&p.length===1&&iP(_))return _;var E=e&&e===this.ownerID,w=f?_?d:d^l:d|l,O=f?_?Lj(p,h,_,E):ZH(p,h,E):YH(p,h,_,E);return E?(this.bitmap=w,this.nodes=O,this):new qd(e,w,O)};var wp=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};wp.prototype.get=function(e,r,n,a){r===void 0&&(r=vi(n));var s=(e===0?r:r>>>e)&Ti,o=this.nodes[s];return o?o.get(e+Ar,r,n,a):a};wp.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=vi(a));var c=(r===0?n:n>>>r)&Ti,l=s===Ut,d=this.nodes,f=d[c];if(l&&!f)return this;var h=BA(f,e,r+Ar,n,a,s,o,u);if(h===f)return this;var p=this.count;if(!f)p++;else if(!h&&(p--,p<rk))return KH(e,d,p,c);var y=e&&e===this.ownerID,_=Lj(d,c,h,y);return y?(this.count=p,this.nodes=_,this):new wp(e,p,_)};var Vd=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};Vd.prototype.get=function(e,r,n,a){for(var s=this.entries,o=0,u=s.length;o<u;o++)if(pn(n,s[o][0]))return s[o][1];return a};Vd.prototype.update=function(e,r,n,a,s,o,u){n===void 0&&(n=vi(a));var c=s===Ut;if(n!==this.keyHash)return c?this:(va(u),va(o),$A(this,e,r,n,[a,s]));for(var l=this.entries,d=0,f=l.length;d<f&&!pn(a,l[d][0]);d++);var h=d<f;if(h?l[d][1]===s:c)return this;if(va(u),(c||!h)&&va(o),c&&f===2)return new Ho(e,this.keyHash,l[d^1]);var p=e&&e===this.ownerID,y=p?l:Cs(l);return h?c?d===f-1?y.pop():y[d]=y.pop():y[d]=[a,s]:y.push([a,s]),p?(this.entries=y,this):new Vd(e,this.keyHash,y)};var Ho=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};Ho.prototype.get=function(e,r,n,a){return pn(n,this.entry[0])?this.entry[1]:a};Ho.prototype.update=function(e,r,n,a,s,o,u){var c=s===Ut,l=pn(a,this.entry[0]);if(l?s===this.entry[1]:c)return this;if(va(u),c){va(o);return}return l?e&&e===this.ownerID?(this.entry[1]=s,this):new Ho(e,this.keyHash,[a,s]):(va(o),$A(this,e,r,vi(a),[a,s]))};vp.prototype.iterate=Vd.prototype.iterate=function(t,e){for(var r=this.entries,n=0,a=r.length-1;n<=a;n++)if(t(r[e?a-n:n])===!1)return!1};qd.prototype.iterate=wp.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,a=r.length-1;n<=a;n++){var s=r[e?a-n:n];if(s&&s.iterate(t,e)===!1)return!1}};Ho.prototype.iterate=function(t,e){return t(this.entry)};var WH=function(t){function e(r,n,a){this._type=n,this._reverse=a,this._stack=r._root&&tP(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,a=this._stack;a;){var s=a.node,o=a.index++,u=void 0;if(s.entry){if(o===0)return x3(n,s.entry)}else if(s.entries){if(u=s.entries.length-1,o<=u)return x3(n,s.entries[this._reverse?u-o:o])}else if(u=s.nodes.length-1,o<=u){var c=s.nodes[this._reverse?u-o:o];if(c){if(c.entry)return x3(n,c.entry);a=this._stack=tP(c,a)}continue}a=this._stack=this._stack.__prev}return Oi()},e}(Gt);function x3(t,e){return Ir(t,e[0],e[1])}function tP(t,e){return{node:t,index:0,__prev:e}}function LA(t,e,r,n){var a=Object.create(Pr);return a.size=t,a._root=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var rP;function Za(){return rP||(rP=LA(0))}function nP(t,e,r){var n,a;if(t._root){var s=LE(),o=LE();if(n=BA(t._root,t.__ownerID,0,void 0,e,r,s,o),!o.value)return t;a=t.size+(s.value?r===Ut?-1:1:0)}else{if(r===Ut)return t;a=1,n=new vp(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=a,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?LA(a,n):Za()}function BA(t,e,r,n,a,s,o,u){return t?t.update(e,r,n,a,s,o,u):s===Ut?t:(va(u),va(o),new Ho(e,n,[a,s]))}function iP(t){return t.constructor===Ho||t.constructor===Vd}function $A(t,e,r,n,a){if(t.keyHash===n)return new Vd(e,n,[t.entry,a]);var s=(r===0?t.keyHash:t.keyHash>>>r)&Ti,o=(r===0?n:n>>>r)&Ti,u,c=s===o?[$A(t,e,r+Ar,n,a)]:(u=new Ho(e,n,a),s<o?[t,u]:[u,t]);return new qd(e,1<<s|1<<o,c)}function XH(t,e,r,n){t||(t=new hA);for(var a=new Ho(t,vi(r),[r,n]),s=0;s<e.length;s++){var o=e[s];a=a.update(t,0,void 0,o[0],o[1])}return a}function KH(t,e,r,n){for(var a=0,s=0,o=new Array(r),u=0,c=1,l=e.length;u<l;u++,c<<=1){var d=e[u];d!==void 0&&u!==n&&(a|=c,o[s++]=d)}return new qd(t,a,o)}function JH(t,e,r,n,a){for(var s=0,o=new Array(ma),u=0;r!==0;u++,r>>>=1)o[u]=r&1?e[s++]:void 0;return o[n]=a,new wp(t,s+1,o)}function Fj(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Lj(t,e,r,n){var a=n?t:Cs(t);return a[e]=r,a}function YH(t,e,r,n){var a=t.length+1;if(n&&e+1===a)return t[e]=r,t;for(var s=new Array(a),o=0,u=0;u<a;u++)u===e?(s[u]=r,o=-1):s[u]=t[u+o];return s}function ZH(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var a=new Array(n),s=0,o=0;o<n;o++)o===e&&(s=1),a[o]=t[o+s];return a}var ek=ma/4,tk=ma/2,rk=ma/4,Bj="@@__IMMUTABLE_LIST__@@";function x_(t){return!!(t&&t[Bj])}var gf=function(t){function e(r){var n=K1();if(r==null)return n;if(x_(r))return r;var a=t(r),s=a.size;return s===0?n:(ea(s),s>0&&s<ma?Sp(0,s,Ar,null,new Uu(a.toArray())):n.withMutations(function(o){o.setSize(s),a.forEach(function(u,c){return o.set(c,u)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,a){if(n=Xu(this,n),n>=0&&n<this.size){n+=this._origin;var s=$j(this,n);return s&&s.array[n&Ti]}return a},e.prototype.set=function(n,a){return nk(this,n,a)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,a){return this.splice(n,0,a)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Ar,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):K1()},e.prototype.push=function(){var n=arguments,a=this.size;return this.withMutations(function(s){Eu(s,0,a+n.length);for(var o=0;o<n.length;o++)s.set(a+o,n[o])})},e.prototype.pop=function(){return Eu(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(a){Eu(a,-n.length);for(var s=0;s<n.length;s++)a.set(s,n[s])})},e.prototype.shift=function(){return Eu(this,1)},e.prototype.concat=function(){for(var n=arguments,a=[],s=0;s<arguments.length;s++){var o=n[s],u=t(typeof o!="string"&&pA(o)?o:[o]);u.size!==0&&a.push(u)}return a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(c){a.forEach(function(l){return l.forEach(function(d){return c.push(d)})})})},e.prototype.setSize=function(n){return Eu(this,0,n)},e.prototype.map=function(n,a){var s=this;return this.withMutations(function(o){for(var u=0;u<s.size;u++)o.set(u,n.call(a,o.get(u),u,s))})},e.prototype.slice=function(n,a){var s=this.size;return Wp(n,a,s)?this:Eu(this,ff(n,s),Xp(a,s))},e.prototype.__iterator=function(n,a){var s=a?this.size:0,o=aP(this,a);return new Gt(function(){var u=o();return u===rp?Oi():Ir(n,a?--s:s++,u)})},e.prototype.__iterate=function(n,a){for(var s=a?this.size:0,o=aP(this,a),u;(u=o())!==rp&&n(u,a?--s:s++,this)!==!1;);return s},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Sp(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?K1():(this.__ownerID=n,this.__altered=!1,this)},e}(pl);gf.isList=x_;var an=gf.prototype;an[Bj]=!0;an[zp]=an.remove;an.merge=an.concat;an.setIn=IA;an.deleteIn=an.removeIn=DA;an.update=NA;an.updateIn=jA;an.mergeIn=CA;an.mergeDeepIn=MA;an.withMutations=t0;an.wasAltered=FA;an.asImmutable=n0;an["@@transducer/init"]=an.asMutable=r0;an["@@transducer/step"]=function(t,e){return t.push(e)};an["@@transducer/result"]=function(t){return t.asImmutable()};var Uu=function(e,r){this.array=e,this.ownerID=r};Uu.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var a=n>>>r&Ti;if(a>=this.array.length)return new Uu([],e);var s=a===0,o;if(r>0){var u=this.array[a];if(o=u&&u.removeBefore(e,r-Ar,n),o===u&&s)return this}if(s&&!o)return this;var c=Hd(this,e);if(!s)for(var l=0;l<a;l++)c.array[l]=void 0;return o&&(c.array[a]=o),c};Uu.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var a=n-1>>>r&Ti;if(a>=this.array.length)return this;var s;if(r>0){var o=this.array[a];if(s=o&&o.removeAfter(e,r-Ar,n),s===o&&a===this.array.length-1)return this}var u=Hd(this,e);return u.array.splice(a+1),s&&(u.array[a]=s),u};var rp={};function aP(t,e){var r=t._origin,n=t._capacity,a=Tp(n),s=t._tail;return o(t._root,t._level,0);function o(l,d,f){return d===0?u(l,f):c(l,d,f)}function u(l,d){var f=d===a?s&&s.array:l&&l.array,h=d>r?0:r-d,p=n-d;return p>ma&&(p=ma),function(){if(h===p)return rp;var y=e?--p:h++;return f&&f[y]}}function c(l,d,f){var h,p=l&&l.array,y=f>r?0:r-f>>d,_=(n-f>>d)+1;return _>ma&&(_=ma),function(){for(;;){if(h){var E=h();if(E!==rp)return E;h=null}if(y===_)return rp;var w=e?--_:y++;h=o(p&&p[w],d-Ar,f+(w<<d))}}}}function Sp(t,e,r,n,a,s,o){var u=Object.create(an);return u.size=e-t,u._origin=t,u._capacity=e,u._level=r,u._root=n,u._tail=a,u.__ownerID=s,u.__hash=o,u.__altered=!1,u}var sP;function K1(){return sP||(sP=Sp(0,0,Ar))}function nk(t,e,r){if(e=Xu(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?Eu(o,e).set(0,r):Eu(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,a=t._root,s=LE();return e>=Tp(t._capacity)?n=HE(n,t.__ownerID,0,e,r,s):a=HE(a,t.__ownerID,t._level,e,r,s),s.value?t.__ownerID?(t._root=a,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Sp(t._origin,t._capacity,t._level,a,n):t}function HE(t,e,r,n,a,s){var o=n>>>r&Ti,u=t&&o<t.array.length;if(!u&&a===void 0)return t;var c;if(r>0){var l=t&&t.array[o],d=HE(l,e,r-Ar,n,a,s);return d===l?t:(c=Hd(t,e),c.array[o]=d,c)}return u&&t.array[o]===a?t:(s&&va(s),c=Hd(t,e),a===void 0&&o===c.array.length-1?c.array.pop():c.array[o]=a,c)}function Hd(t,e){return e&&t&&e===t.ownerID?t:new Uu(t?t.array.slice():[],e)}function $j(t,e){if(e>=Tp(t._capacity))return t._tail;if(e<1<<t._level+Ar){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&Ti],n-=Ar;return r}}function Eu(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new hA,a=t._origin,s=t._capacity,o=a+e,u=r===void 0?s:r<0?s+r:a+r;if(o===a&&u===s)return t;if(o>=u)return t.clear();for(var c=t._level,l=t._root,d=0;o+d<0;)l=new Uu(l&&l.array.length?[void 0,l]:[],n),c+=Ar,d+=1<<c;d&&(o+=d,a+=d,u+=d,s+=d);for(var f=Tp(s),h=Tp(u);h>=1<<c+Ar;)l=new Uu(l&&l.array.length?[l]:[],n),c+=Ar;var p=t._tail,y=h<f?$j(t,u-1):h>f?new Uu([],n):p;if(p&&h>f&&o<s&&p.array.length){l=Hd(l,n);for(var _=l,E=c;E>Ar;E-=Ar){var w=f>>>E&Ti;_=_.array[w]=Hd(_.array[w],n)}_.array[f>>>Ar&Ti]=p}if(u<s&&(y=y&&y.removeAfter(n,0,u)),o>=h)o-=h,u-=h,c=Ar,l=null,y=y&&y.removeBefore(n,0,o);else if(o>a||h<f){for(d=0;l;){var O=o>>>c&Ti;if(O!==h>>>c&Ti)break;O&&(d+=(1<<c)*O),c-=Ar,l=l.array[O]}l&&o>a&&(l=l.removeBefore(n,c,o-d)),l&&h<f&&(l=l.removeAfter(n,c,h-d)),d&&(o-=d,u-=d)}return t.__ownerID?(t.size=u-o,t._origin=o,t._capacity=u,t._level=c,t._root=l,t._tail=y,t.__hash=void 0,t.__altered=!0,t):Sp(o,u,c,l,y)}function Tp(t){return t<ma?0:t-1>>>Ar<<Ar}var os=function(t){function e(r){return r==null?Ch():w_(r)?r:Ch().withMutations(function(n){var a=Oa(r);ea(a.size),a.forEach(function(s,o){return n.set(o,s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,a){var s=this._map.get(n);return s!==void 0?this._list.get(s)[1]:a},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Ch()},e.prototype.set=function(n,a){return uP(this,n,a)},e.prototype.remove=function(n){return uP(this,n,Ut)},e.prototype.__iterate=function(n,a){var s=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],s)},a)},e.prototype.__iterator=function(n,a){return this._list.fromEntrySeq().__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n),s=this._list.__ensureOwner(n);return n?UA(a,s,n,this.__hash):this.size===0?Ch():(this.__ownerID=n,this.__altered=!1,this._map=a,this._list=s,this)},e}(ac);os.isOrderedMap=w_;os.prototype[yf]=!0;os.prototype[zp]=os.prototype.remove;function UA(t,e,r,n){var a=Object.create(os.prototype);return a.size=t?t.size:0,a._map=t,a._list=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var oP;function Ch(){return oP||(oP=UA(Za(),K1()))}function uP(t,e,r){var n=t._map,a=t._list,s=n.get(e),o=s!==void 0,u,c;if(r===Ut){if(!o)return t;a.size>=ma&&a.size>=n.size*2?(c=a.filter(function(l,d){return l!==void 0&&s!==d}),u=c.toKeyedSeq().map(function(l){return l[0]}).flip().toMap(),t.__ownerID&&(u.__ownerID=c.__ownerID=t.__ownerID)):(u=n.remove(e),c=s===a.size-1?a.pop():a.set(s,void 0))}else if(o){if(r===a.get(s)[1])return t;u=n,c=a.set(s,[e,r])}else u=n.set(e,a.size),c=a.set(a.size,[e,r]);return t.__ownerID?(t.size=u.size,t._map=u,t._list=c,t.__hash=void 0,t.__altered=!0,t):UA(u,c)}var Uj="@@__IMMUTABLE_STACK__@@";function Ep(t){return!!(t&&t[Uj])}var i0=function(t){function e(r){return r==null?Uy():Ep(r)?r:Uy().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,a){var s=this._head;for(n=Xu(this,n);s&&n--;)s=s.next;return s?s.value:a},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var a=this.size+arguments.length,s=this._head,o=arguments.length-1;o>=0;o--)s={value:n[o],next:s};return this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mh(a,s)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Ep(n))return n;ea(n.size);var a=this.size,s=this._head;return n.__iterate(function(o){a++,s={value:o,next:s}},!0),this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):Mh(a,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Uy()},e.prototype.slice=function(n,a){if(Wp(n,a,this.size))return this;var s=ff(n,this.size),o=Xp(a,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,a);for(var u=this.size-s,c=this._head;s--;)c=c.next;return this.__ownerID?(this.size=u,this._head=c,this.__hash=void 0,this.__altered=!0,this):Mh(u,c)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Mh(this.size,this._head,n,this.__hash):this.size===0?Uy():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,a){var s=this;if(a)return new il(this.toArray()).__iterate(function(c,l){return n(c,l,s)},a);for(var o=0,u=this._head;u&&n(u.value,o++,this)!==!1;)u=u.next;return o},e.prototype.__iterator=function(n,a){if(a)return new il(this.toArray()).__iterator(n,a);var s=0,o=this._head;return new Gt(function(){if(o){var u=o.value;return o=o.next,Ir(n,s++,u)}return Oi()})},e}(pl);i0.isStack=Ep;var Ai=i0.prototype;Ai[Uj]=!0;Ai.shift=Ai.pop;Ai.unshift=Ai.push;Ai.unshiftAll=Ai.pushAll;Ai.withMutations=t0;Ai.wasAltered=FA;Ai.asImmutable=n0;Ai["@@transducer/init"]=Ai.asMutable=r0;Ai["@@transducer/step"]=function(t,e){return t.unshift(e)};Ai["@@transducer/result"]=function(t){return t.asImmutable()};function Mh(t,e,r,n){var a=Object.create(Ai);return a.size=t,a._head=e,a.__ownerID=r,a.__hash=n,a.__altered=!1,a}var cP;function Uy(){return cP||(cP=Mh(0))}var qj="@@__IMMUTABLE_SET__@@";function a0(t){return!!(t&&t[qj])}function R_(t){return a0(t)&&aa(t)}function qA(t,e){if(t===e)return!0;if(!ti(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||pr(t)!==pr(e)||Ln(t)!==Ln(e)||aa(t)!==aa(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!hf(t);if(aa(t)){var n=t.entries();return e.every(function(c,l){var d=n.next().value;return d&&pn(d[1],c)&&(r||pn(d[0],l))})&&n.next().done}var a=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{a=!0;var s=t;t=e,e=s}var o=!0,u=e.__iterate(function(c,l){if(r?!t.has(c):a?!pn(c,t.get(l,Ut)):!pn(t.get(l,Ut),c))return o=!1,!1});return o&&t.size===u}function yl(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function Ab(t){if(!t||typeof t!="object")return t;if(!ti(t)){if(!Ku(t))return t;t=ri(t)}if(pr(t)){var e={};return t.__iterate(function(n,a){e[a]=Ab(n)}),e}var r=[];return t.__iterate(function(n){r.push(Ab(n))}),r}var mf=function(t){function e(r){return r==null?Fh():a0(r)&&!aa(r)?r:Fh().withMutations(function(n){var a=t(r);ea(a.size),a.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Oa(n).keySeq())},e.intersect=function(n){return n=Rr(n).toArray(),n.length?Bn.intersect.apply(e(n.pop()),n):Fh()},e.union=function(n){return n=Rr(n).toArray(),n.length?Bn.union.apply(e(n.pop()),n):Fh()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return qy(this,this._map.set(n,n))},e.prototype.remove=function(n){return qy(this,this._map.remove(n))},e.prototype.clear=function(){return qy(this,this._map.clear())},e.prototype.map=function(n,a){var s=this,o=!1,u=qy(this,this._map.mapEntries(function(c){var l=c[1],d=n.call(a,l,l,s);return d!==l&&(o=!0),[d,d]},a));return o?u:this},e.prototype.union=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];return n=n.filter(function(s){return s.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(s){for(var o=0;o<n.length;o++)typeof n[o]=="string"?s.add(n[o]):t(n[o]).forEach(function(u){return s.add(u)})})},e.prototype.intersect=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.every(function(u){return u.includes(o)})||s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.subtract=function(){for(var n=[],a=arguments.length;a--;)n[a]=arguments[a];if(n.length===0)return this;n=n.map(function(o){return t(o)});var s=[];return this.forEach(function(o){n.some(function(u){return u.includes(o)})&&s.push(o)}),this.withMutations(function(o){s.forEach(function(u){o.remove(u)})})},e.prototype.sort=function(n){return al(Ud(this,n))},e.prototype.sortBy=function(n,a){return al(Ud(this,a,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,a){var s=this;return this._map.__iterate(function(o){return n(o,o,s)},a)},e.prototype.__iterator=function(n,a){return this._map.__iterator(n,a)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var a=this._map.__ensureOwner(n);return n?this.__make(a,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=a,this)},e}(pf);mf.isSet=a0;var Bn=mf.prototype;Bn[qj]=!0;Bn[zp]=Bn.remove;Bn.merge=Bn.concat=Bn.union;Bn.withMutations=t0;Bn.asImmutable=n0;Bn["@@transducer/init"]=Bn.asMutable=r0;Bn["@@transducer/step"]=function(t,e){return t.add(e)};Bn["@@transducer/result"]=function(t){return t.asImmutable()};Bn.__empty=Fh;Bn.__make=Vj;function qy(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function Vj(t,e){var r=Object.create(Bn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var lP;function Fh(){return lP||(lP=Vj(Za()))}var VA=function(t){function e(r,n,a){if(!(this instanceof e))return new e(r,n,a);if(EA(a!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),a=a===void 0?1:Math.abs(a),n<r&&(a=-a),this._start=r,this._end=n,this._step=a,this.size=Math.max(0,Math.ceil((n-r)/a-1)+1),this.size===0){if(R3)return R3;R3=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,a){return this.has(n)?this._start+Xu(this,n)*this._step:a},e.prototype.includes=function(n){var a=(n-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)},e.prototype.slice=function(n,a){return Wp(n,a,this.size)?this:(n=ff(n,this.size),a=Xp(a,this.size),a<=n?new e(0,0):new e(this.get(n,this._end),this.get(a,this._end),this._step))},e.prototype.indexOf=function(n){var a=n-this._start;if(a%this._step===0){var s=a/this._step;if(s>=0&&s<this.size)return s}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,a){for(var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,c=0;c!==s&&n(u,a?s-++c:c++,this)!==!1;)u+=a?-o:o;return c},e.prototype.__iterator=function(n,a){var s=this.size,o=this._step,u=a?this._start+(s-1)*o:this._start,c=0;return new Gt(function(){if(c===s)return Oi();var l=u;return u+=a?-o:o,Ir(n,a?s-++c:c++,l)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:qA(this,n)},e}(Aa),R3;function I_(t,e,r){for(var n=Oj(e),a=0;a!==n.length;)if(t=O_(t,n[a++],Ut),t===Ut)return r;return t}function Hj(t,e){return I_(this,t,e)}function HA(t,e){return I_(t,e,Ut)!==Ut}function ik(t){return HA(this,t)}function kj(){ea(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}Rr.isIterable=ti;Rr.isKeyed=pr;Rr.isIndexed=Ln;Rr.isAssociative=hf;Rr.isOrdered=aa;Rr.Iterator=Gt;yl(Rr,{toArray:function(){ea(this.size);var e=new Array(this.size||0),r=pr(this),n=0;return this.__iterate(function(a,s){e[n++]=r?[s,a]:a}),e},toIndexedSeq:function(){return new bj(this)},toJS:function(){return Ab(this)},toKeyedSeq:function(){return new T_(this,!0)},toMap:function(){return ac(this.toKeyedSeq())},toObject:kj,toOrderedMap:function(){return os(this.toKeyedSeq())},toOrderedSet:function(){return al(pr(this)?this.valueSeq():this)},toSet:function(){return mf(pr(this)?this.valueSeq():this)},toSetSeq:function(){return new _j(this)},toSeq:function(){return Ln(this)?this.toIndexedSeq():pr(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return i0(pr(this)?this.valueSeq():this)},toList:function(){return gf(pr(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return hr(this,VH(this,e))},includes:function(e){return this.some(function(r){return pn(r,e)})},entries:function(){return this.__iterator(Ta)},every:function(e,r){ea(this.size);var n=!0;return this.__iterate(function(a,s,o){if(!e.call(r,a,s,o))return n=!1,!1}),n},filter:function(e,r){return hr(this,wj(this,e,r,!0))},partition:function(e,r){return UH(this,e,r)},find:function(e,r,n){var a=this.findEntry(e,r);return a?a[1]:n},forEach:function(e,r){return ea(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){ea(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(a){n?n=!1:r+=e,r+=a!=null?a.toString():""}),r},keys:function(){return this.__iterator(Jp)},map:function(e,r){return hr(this,vj(this,e,r))},reduce:function(e,r,n){return dP(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return dP(this,e,r,n,arguments.length<2,!0)},reverse:function(){return hr(this,vA(this,!0))},slice:function(e,r){return hr(this,wA(this,e,r,!0))},some:function(e,r){ea(this.size);var n=!1;return this.__iterate(function(a,s,o){if(e.call(r,a,s,o))return n=!0,!1}),n},sort:function(e){return hr(this,Ud(this,e))},values:function(){return this.__iterator(ss)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return $d(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return BH(this,e,r)},equals:function(e){return qA(this,e)},entrySeq:function(){var e=this;if(e._cache)return new il(e._cache);var r=e.toSeq().map(sk).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(I3(e),r)},findEntry:function(e,r,n){var a=n;return this.__iterate(function(s,o,u){if(e.call(r,s,o,u))return a=[o,s],!1}),a},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(ij,null,e)},flatMap:function(e,r){return hr(this,HH(this,e,r))},flatten:function(e){return hr(this,Tj(this,e,!0))},fromEntrySeq:function(){return new gj(this)},get:function(e,r){return this.find(function(n,a){return pn(a,e)},void 0,r)},getIn:Hj,groupBy:function(e,r){return $H(this,e,r)},has:function(e){return this.get(e,Ut)!==Ut},hasIn:ik,isSubset:function(e){return e=typeof e.includes=="function"?e:Rr(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:Rr(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return pn(r,e)})},keySeq:function(){return this.toSeq().map(ak).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return By(this,e)},maxBy:function(e,r){return By(this,r,e)},min:function(e){return By(this,e?fP(e):pP)},minBy:function(e,r){return By(this,r?fP(r):pP,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return hr(this,Sj(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(I3(e),r)},sortBy:function(e,r){return hr(this,Ud(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return hr(this,qH(this,e,r))},takeUntil:function(e,r){return this.takeWhile(I3(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ok(this))}});var ni=Rr.prototype;ni[oj]=!0;ni[m_]=ni.values;ni.toJSON=ni.toArray;ni.__toStringMapper=mp;ni.inspect=ni.toSource=function(){return this.toString()};ni.chain=ni.flatMap;ni.contains=ni.includes;yl(Oa,{flip:function(){return hr(this,mj(this))},mapEntries:function(e,r){var n=this,a=0;return hr(this,this.toSeq().map(function(s,o){return e.call(r,[o,s],a++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return hr(this,this.toSeq().flip().map(function(a,s){return e.call(r,a,s,n)}).flip())}});var s0=Oa.prototype;s0[uj]=!0;s0[m_]=ni.entries;s0.toJSON=kj;s0.__toStringMapper=function(t,e){return mp(e)+": "+mp(t)};yl(pl,{toKeyedSeq:function(){return new T_(this,!1)},filter:function(e,r){return hr(this,wj(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return hr(this,vA(this,!1))},slice:function(e,r){return hr(this,wA(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=ff(e,e<0?this.count():this.size);var a=this.slice(0,e);return hr(this,n===1?a:a.concat(Cs(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return hr(this,Tj(this,e,!1))},get:function(e,r){return e=Xu(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,a){return a===e},void 0,r)},has:function(e){return e=Xu(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return hr(this,kH(this,e))},interleave:function(){var e=[this].concat(Cs(arguments)),r=$y(this.toSeq(),Aa.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),hr(this,n)},keySeq:function(){return VA(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return hr(this,Sj(this,e,r,!1))},zip:function(){var e=[this].concat(Cs(arguments));return hr(this,$y(this,hP,e))},zipAll:function(){var e=[this].concat(Cs(arguments));return hr(this,$y(this,hP,e,!0))},zipWith:function(e){var r=Cs(arguments);return r[0]=this,hr(this,$y(this,e,r))}});var vf=pl.prototype;vf[cj]=!0;vf[yf]=!0;yl(pf,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var kd=pf.prototype;kd.has=ni.includes;kd.contains=kd.includes;kd.keys=kd.values;yl(nc,s0);yl(Aa,vf);yl(_f,kd);function dP(t,e,r,n,a,s){return ea(t.size),t.__iterate(function(o,u,c){a?(a=!1,r=o):r=e.call(n,r,o,u,c)},s),r}function ak(t,e){return e}function sk(t,e){return[e,t]}function I3(t){return function(){return!t.apply(this,arguments)}}function fP(t){return function(){return-t.apply(this,arguments)}}function hP(){return Cs(arguments)}function pP(t,e){return t<e?1:t>e?-1:0}function ok(t){if(t.size===1/0)return 0;var e=aa(t),r=pr(t),n=e?1:0,a=t.__iterate(r?e?function(s,o){n=31*n+yP(vi(s),vi(o))|0}:function(s,o){n=n+yP(vi(s),vi(o))|0}:e?function(s){n=31*n+vi(s)|0}:function(s){n=n+vi(s)|0});return uk(a,n)}function uk(t,e){return e=Wf(e,3432918353),e=Wf(e<<15|e>>>-15,461845907),e=Wf(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Wf(e^e>>>16,2246822507),e=Wf(e^e>>>13,3266489909),e=S_(e^e>>>16),e}function yP(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var al=function(t){function e(r){return r==null?kE():R_(r)?r:kE().withMutations(function(n){var a=pf(r);ea(a.size),a.forEach(function(s){return n.add(s)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Oa(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(mf);al.isOrderedSet=R_;var bl=al.prototype;bl[yf]=!0;bl.zip=vf.zip;bl.zipWith=vf.zipWith;bl.zipAll=vf.zipAll;bl.__empty=kE;bl.__make=Qj;function Qj(t,e){var r=Object.create(bl);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var bP;function kE(){return bP||(bP=Qj(Ch()))}var Gj={LeftThenRight:-1,RightThenLeft:1};function ck(t){if(rc(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(ca(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var sn=function(e,r){var n;ck(e);var a=function(u){var c=this;if(u instanceof a)return u;if(!(this instanceof a))return new a(u);if(!n){n=!0;var l=Object.keys(e),d=s._indices={};s._name=r,s._keys=l,s._defaultValues=e;for(var f=0;f<l.length;f++){var h=l[f];d[h]=f,s[h]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+QA(this)+' with property "'+h+'" since that property name is part of the Record API.'):lk(s,h)}}return this.__ownerID=void 0,this._values=gf().withMutations(function(p){p.setSize(c._keys.length),Oa(u).forEach(function(y,_){p.set(c._indices[_],y===c._defaultValues[_]?void 0:y)})}),this},s=a.prototype=Object.create(_r);return s.constructor=a,r&&(a.displayName=r),a};sn.prototype.toString=function(){for(var e=QA(this)+" { ",r=this._keys,n,a=0,s=r.length;a!==s;a++)n=r[a],e+=(a?", ":"")+n+": "+mp(this.get(n));return e+" }"};sn.prototype.equals=function(e){return this===e||rc(e)&&Qd(this).equals(Qd(e))};sn.prototype.hashCode=function(){return Qd(this).hashCode()};sn.prototype.has=function(e){return this._indices.hasOwnProperty(e)};sn.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],a=this._values.get(n);return a===void 0?this._defaultValues[e]:a};sn.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return kA(this,n)}return this};sn.prototype.remove=function(e){return this.set(e)};sn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:kA(this,e)};sn.prototype.wasAltered=function(){return this._values.wasAltered()};sn.prototype.toSeq=function(){return Qd(this)};sn.prototype.toJS=function(){return Ab(this)};sn.prototype.entries=function(){return this.__iterator(Ta)};sn.prototype.__iterator=function(e,r){return Qd(this).__iterator(e,r)};sn.prototype.__iterate=function(e,r){return Qd(this).__iterate(e,r)};sn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?kA(this,r,e):(this.__ownerID=e,this._values=r,this)};sn.isRecord=rc;sn.getDescriptiveName=QA;var _r=sn.prototype;_r[dj]=!0;_r[zp]=_r.remove;_r.deleteIn=_r.removeIn=DA;_r.getIn=Hj;_r.hasIn=ni.hasIn;_r.merge=xj;_r.mergeWith=Rj;_r.mergeIn=CA;_r.mergeDeep=Cj;_r.mergeDeepWith=Mj;_r.mergeDeepIn=MA;_r.setIn=IA;_r.update=NA;_r.updateIn=jA;_r.withMutations=t0;_r.asMutable=r0;_r.asImmutable=n0;_r[m_]=_r.entries;_r.toJSON=_r.toObject=ni.toObject;_r.inspect=_r.toSource=function(){return this.toString()};function kA(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function QA(t){return t.constructor.displayName||t.constructor.name||"Record"}function Qd(t){return gA(t._keys.map(function(e){return[e,t.get(e)]}))}function lk(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){EA(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch{}}var zj=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(P3)return P3;P3=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,a){return this.has(n)?this._value:a},e.prototype.includes=function(n){return pn(this._value,n)},e.prototype.slice=function(n,a){var s=this.size;return Wp(n,a,s)?this:new e(this._value,Xp(a,s)-ff(n,s))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return pn(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return pn(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,a){for(var s=this.size,o=0;o!==s&&n(this._value,a?s-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,a){var s=this,o=this.size,u=0;return new Gt(function(){return u===o?Oi():Ir(n,a?o-++u:u++,s._value)})},e.prototype.equals=function(n){return n instanceof e?pn(this._value,n._value):qA(n)},e}(Aa),P3;function Wj(t,e){return Xj([],e||dk,t,"",e&&e.length>2?[]:void 0,{"":t})}function Xj(t,e,r,n,a,s){if(typeof r!="string"&&!ca(r)&&(yA(r)||pA(r)||E_(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),a&&n!==""&&a.push(n);var o=e.call(s,n,ri(r).map(function(u,c){return Xj(t,e,u,c,a,r)}),a&&a.slice());return t.pop(),a&&a.pop(),o}return r}function dk(t,e){return Ln(e)?e.toList():pr(e)?e.toMap():e.toSet()}var Kj="4.3.4",fk={version:Kj,Collection:Rr,Iterable:Rr,Seq:ri,Map:ac,OrderedMap:os,List:gf,Stack:i0,Set:mf,OrderedSet:al,PairSorting:Gj,Record:sn,Range:VA,Repeat:zj,is:pn,fromJS:Wj,hash:vi,isImmutable:ca,isCollection:ti,isKeyed:pr,isIndexed:Ln,isAssociative:hf,isOrdered:aa,isValueObject:Eb,isPlainObject:E_,isSeq:Kp,isList:x_,isMap:Yp,isOrderedMap:w_,isStack:Ep,isSet:a0,isOrderedSet:R_,isRecord:rc,get:O_,getIn:I_,has:OA,hasIn:HA,merge:Pj,mergeDeep:Nj,mergeWith:Dj,mergeDeepWith:jj,remove:AA,removeIn:PA,set:xA,setIn:RA,update:A_,updateIn:ic},hk=Rr;const pk=Object.freeze(Object.defineProperty({__proto__:null,Collection:Rr,Iterable:hk,List:gf,Map:ac,OrderedMap:os,OrderedSet:al,PairSorting:Gj,Range:VA,Record:sn,Repeat:zj,Seq:ri,Set:mf,Stack:i0,default:fk,fromJS:Wj,get:O_,getIn:I_,has:OA,hasIn:HA,hash:vi,is:pn,isAssociative:hf,isCollection:ti,isImmutable:ca,isIndexed:Ln,isKeyed:pr,isList:x_,isMap:Yp,isOrdered:aa,isOrderedMap:w_,isOrderedSet:R_,isPlainObject:E_,isRecord:rc,isSeq:Kp,isSet:a0,isStack:Ep,isValueObject:Eb,merge:Pj,mergeDeep:Nj,mergeDeepWith:jj,mergeWith:Dj,remove:AA,removeIn:PA,set:xA,setIn:RA,update:A_,updateIn:ic,version:Kj},Symbol.toStringTag,{value:"Module"})),GA=h_(pk);Object.defineProperty(nl,"__esModule",{value:!0});nl.ActionContextKey=nl.ActionContext=void 0;const _P=GA;class hd{constructor(e={}){this.map=(0,_P.Map)(e)}setDefault(e,r){return this.has(e)?this:this.set(e,r)}set(e,r){return this.setRaw(e.name,r)}setRaw(e,r){return new hd(this.map.set(e,r))}delete(e){return new hd(this.map.delete(e.name))}get(e){return this.getRaw(e.name)}getRaw(e){return this.map.get(e)}getSafe(e){if(!this.has(e))throw new Error(`Context entry ${e.name} is required but not available`);return this.get(e)}has(e){return this.hasRaw(e.name)}hasRaw(e){return this.map.has(e)}merge(...e){let r=this;for(const n of e)for(const a of n.keys())r=r.set(a,n.get(a));return r}keys(){return[...this.map.keys()].map(e=>new Jj(e))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(e){return e instanceof hd?e:new hd((0,_P.Map)(e||{}))}}nl.ActionContext=hd;class Jj{constructor(e){this.name=e}}nl.ActionContextKey=Jj;var o0={};Object.defineProperty(o0,"__esModule",{value:!0});o0.Bus=void 0;class yk{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,e)}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const r=this.actors.indexOf(e);return r>=0?(this.actors.splice(r,1),!0):!1}unsubscribeObserver(e){const r=this.observers.indexOf(e);return r>=0?(this.observers.splice(r,1),!0):!1}publish(e){return this.actors.map(r=>({actor:r,reply:r.test(e)}))}onRun(e,r,n){for(const a of this.observers)a.onRun(e,r,n)}addDependencies(e,r){for(const n of r){let a=this.dependencyLinks.get(n);a||(a=[],this.dependencyLinks.set(n,a)),a.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const e=[];for(const r of this.dependencyLinks.keys()){const n=this.actors.indexOf(r);n>=0&&(this.actors.splice(n,1),e.push(r))}for(;e.length>0;){let r=-1;for(let a=0;a<e.length;a++){let s=!0;for(const o of this.dependencyLinks.get(e[a]))if(!this.actors.includes(o)&&e.includes(o)){s=!1;break}if(s){r=a;break}}if(r<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const n=e.splice(r,1)[0];this.actors.push(n)}}}}o0.Bus=yk;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});P_.BusIndexed=void 0;const bk=o0;class _k extends bk.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){const r=this.getActorIdentifier(e)||"_undefined_";let n=this.actorsIndex[r];n||(n=this.actorsIndex[r]=[]),n.push(e),super.subscribe(e)}unsubscribe(e){const r=this.getActorIdentifier(e)||"_undefined_",n=this.actorsIndex[r];if(n){const a=n.indexOf(e);a>=0&&n.splice(a,1),n.length===0&&delete this.actorsIndex[r]}return super.unsubscribe(e)}publish(e){const r=this.getActionIdentifier(e);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(a=>({actor:a,reply:a.test(e)})):super.publish(e)}getActorIdentifier(e){return this.actorIdentifierFields.reduce((r,n)=>r[n],e)}getActionIdentifier(e){return this.actionIdentifierFields.reduce((r,n)=>r[n],e)}}P_.BusIndexed=_k;var u0={};Object.defineProperty(u0,"__esModule",{value:!0});u0.CONTEXT_KEY_LOGGER=void 0;const gk=nl;u0.CONTEXT_KEY_LOGGER=new gk.ActionContextKey("@comunica/core:log");var D_={};Object.defineProperty(D_,"__esModule",{value:!0});D_.ActionObserver=void 0;class mk{constructor(e){Object.assign(this,e)}}D_.ActionObserver=mk;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});N_.Actor=void 0;const vk=u0;class Ou{constructor(e){this.beforeActors=[],Object.assign(this,e),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors)}static getContextLogger(e){return e.get(vk.CONTEXT_KEY_LOGGER)}runObservable(e){const r=this.run(e);return this.bus.onRun(this,e,r),r}async initialize(){return!0}async deinitialize(){return!0}getDefaultLogData(e,r){const n=r?r():{};return n.actor=this.name,n}logTrace(e,r,n){const a=Ou.getContextLogger(e);a&&a.trace(r,this.getDefaultLogData(e,n))}logDebug(e,r,n){const a=Ou.getContextLogger(e);a&&a.debug(r,this.getDefaultLogData(e,n))}logInfo(e,r,n){const a=Ou.getContextLogger(e);a&&a.info(r,this.getDefaultLogData(e,n))}logWarn(e,r,n){const a=Ou.getContextLogger(e);a&&a.warn(r,this.getDefaultLogData(e,n))}logError(e,r,n){const a=Ou.getContextLogger(e);a&&a.error(r,this.getDefaultLogData(e,n))}logFatal(e,r,n){const a=Ou.getContextLogger(e);a&&a.fatal(r,this.getDefaultLogData(e,n))}}N_.Actor=Ou;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});j_.Mediator=void 0;class wk{constructor(e){Object.assign(this,e)}publish(e){const r=this.bus.publish(e);if(r.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return r}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediate(e){return(await this.mediateActor(e)).runObservable(e)}}j_.Mediator=wk;(function(t){var e=g&&g.__createBinding||(Object.create?function(s,o,u,c){c===void 0&&(c=u);var l=Object.getOwnPropertyDescriptor(o,u);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,c,l)}:function(s,o,u,c){c===void 0&&(c=u),s[c]=o[u]}),r=g&&g.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,s,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const a=fA.Logger;t.Logger=a,r(nl,t),r(o0,t),r(P_,t),r(u0,t),r(D_,t),r(N_,t),r(j_,t)})(Je);Object.defineProperty(b_,"__esModule",{value:!0});b_.ActorInit=void 0;const Sk=Je;class Tk extends Sk.Actor{constructor(e){super(e)}}b_.ActorInit=Tk;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(b_,t)})(k5);Object.defineProperty(Gp,"__esModule",{value:!0});Gp.ActorInitQueryBase=void 0;const Ek=k5;class Ok extends Ek.ActorInit{constructor(e){var r;(r=e.contextKeyShortcutsExtensions)==null||r.forEach(n=>{if(Object.keys(e.contextKeyShortcuts).some(a=>Object.keys(n).includes(a)))throw new Error("Duplicate keys found while adding `contextKeyShortcutsExtensions`.");e.contextKeyShortcuts={...e.contextKeyShortcuts,...n}}),super(e)}async test(e){return!0}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}Gp.ActorInitQueryBase=Ok;var C_={},D3={exports:{}},gP;function Yo(){if(gP)return D3.exports;gP=1;var t=D3.exports={},e,r;function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=a}catch{r=a}})();function s(_){if(e===setTimeout)return setTimeout(_,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(_,0);try{return e(_,0)}catch{try{return e.call(null,_,0)}catch{return e.call(this,_,0)}}}function o(_){if(r===clearTimeout)return clearTimeout(_);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this,_)}}}var u=[],c=!1,l,d=-1;function f(){!c||!l||(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){var _=s(f);c=!0;for(var E=u.length;E;){for(l=u,u=[];++d<E;)l&&l[d].run();d=-1,E=u.length}l=null,c=!1,o(_)}}t.nextTick=function(_){var E=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)E[w-1]=arguments[w];u.push(new p(_,E)),u.length===1&&!c&&s(h)};function p(_,E){this.fun=_,this.array=E}p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function y(){}return t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(_){return[]},t.binding=function(_){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(_){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},D3.exports}Object.defineProperty(C_,"__esModule",{value:!0});C_.ActorInitQuery=void 0;const Ak=Gp;typeof process>"u"&&(globalThis.process=Yo());class xk extends Ak.ActorInitQueryBase{}C_.ActorInitQuery=xk;var M_={},ct={},c0={},qt={},Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.KeysRdfUpdateQuads=Fr.KeysRdfResolveQuadPattern=Fr.KeysRdfParseHtmlScript=Fr.KeysRdfParseJsonLd=Fr.KeysQueryOperation=Fr.KeysInitQuery=Fr.KeysHttpProxy=Fr.KeysHttpMemento=Fr.KeysHttpWayback=Fr.KeysHttp=Fr.KeysCore=void 0;const yt=Je;Fr.KeysCore={log:yt.CONTEXT_KEY_LOGGER};Fr.KeysHttp={includeCredentials:new yt.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new yt.ActionContextKey("@comunica/bus-http:auth"),fetch:new yt.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new yt.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new yt.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new yt.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelay:new yt.ActionContextKey("@comunica/bus-http:http-retry-delay"),httpRetryOnServerError:new yt.ActionContextKey("@comunica/bus-http:http-retry-on-server-error")};Fr.KeysHttpWayback={recoverBrokenLinks:new yt.ActionContextKey("@comunica/bus-http:recover-broken-links")};Fr.KeysHttpMemento={datetime:new yt.ActionContextKey("@comunica/actor-http-memento:datetime")};Fr.KeysHttpProxy={httpProxyHandler:new yt.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")};Fr.KeysInitQuery={initialBindings:new yt.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new yt.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new yt.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new yt.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new yt.ActionContextKey("@comunica/actor-init-query:queryString"),query:new yt.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new yt.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new yt.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new yt.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),extensionFunctionCreator:new yt.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new yt.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new yt.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new yt.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new yt.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new yt.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new yt.ActionContextKey("@context")};Fr.KeysQueryOperation={operation:new yt.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new yt.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new yt.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new yt.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new yt.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new yt.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new yt.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new yt.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph")};Fr.KeysRdfParseJsonLd={documentLoader:new yt.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new yt.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new yt.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")};Fr.KeysRdfParseHtmlScript={processingHtmlScript:new yt.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new yt.ActionContextKey("extractAllScripts")};Fr.KeysRdfResolveQuadPattern={sources:new yt.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sources"),source:new yt.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:source"),sourceIds:new yt.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:sourceIds"),hypermediaSourcesAggregatedStores:new yt.ActionContextKey("@comunica/bus-rdf-resolve-quad-pattern:hypermediaSourcesAggregatedStores")};Fr.KeysRdfUpdateQuads={destination:new yt.ActionContextKey("@comunica/bus-rdf-update-quads:destination")};(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Fr,t)})(qt);var F_={},L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.BlankNodeScoped=void 0;class Rk{constructor(e,r){this.termType="BlankNode",this.value=e,this.skolemized=r}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}}L_.BlankNodeScoped=Rk;var B_={};Object.defineProperty(B_,"__esModule",{value:!0});B_.BlankNodeBindingsScoped=void 0;class Ik{constructor(e){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}}B_.BlankNodeBindingsScoped=Ik;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(L_,t),r(B_,t)})(F_);var sl={},Un={},l0={},d0={},nr={},Kn={},ft={},f0={};Object.defineProperty(f0,"__esModule",{value:!0});f0.BlankNode=void 0;let Pk=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&e.termType==="BlankNode"&&e.value===this.value}};f0.BlankNode=Pk;var $_={},h0={};Object.defineProperty(h0,"__esModule",{value:!0});h0.DefaultGraph=void 0;let QE=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&e.termType==="DefaultGraph"}};h0.DefaultGraph=QE;QE.INSTANCE=new QE;var p0={},wf={};Object.defineProperty(wf,"__esModule",{value:!0});wf.NamedNode=void 0;let Dk=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&e.termType==="NamedNode"&&e.value===this.value}};wf.NamedNode=Dk;Object.defineProperty(p0,"__esModule",{value:!0});p0.Literal=void 0;const Yj=wf;let zA=class GE{constructor(e,r){this.termType="Literal",this.value=e,typeof r=="string"?(this.language=r,this.datatype=GE.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=GE.XSD_STRING)}equals(e){return!!e&&e.termType==="Literal"&&e.value===this.value&&e.language===this.language&&this.datatype.equals(e.datatype)}};p0.Literal=zA;zA.RDF_LANGUAGE_STRING=new Yj.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString");zA.XSD_STRING=new Yj.NamedNode("http://www.w3.org/2001/XMLSchema#string");var y0={};Object.defineProperty(y0,"__esModule",{value:!0});y0.Quad=void 0;let Nk=class{constructor(e,r,n,a){this.termType="Quad",this.value="",this.subject=e,this.predicate=r,this.object=n,this.graph=a}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}};y0.Quad=Nk;var b0={};Object.defineProperty(b0,"__esModule",{value:!0});b0.Variable=void 0;let jk=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&e.termType==="Variable"&&e.value===this.value}};b0.Variable=jk;Object.defineProperty($_,"__esModule",{value:!0});$_.DataFactory=void 0;const Ck=f0,Mk=h0,mP=p0,Fk=wf,Lk=y0,Bk=b0;let $k=0,Uk=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${$k++}_`}namedNode(e){return new Fk.NamedNode(e)}blankNode(e){return new Ck.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,r){return new mP.Literal(e,r)}variable(e){return new Bk.Variable(e)}defaultGraph(){return Mk.DefaultGraph.INSTANCE}quad(e,r,n,a){return new Lk.Quad(e,r,n,a||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(mP.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}};$_.DataFactory=Uk;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(f0,t),r($_,t),r(h0,t),r(p0,t),r(wf,t),r(y0,t),r(b0,t)})(ft);Object.defineProperty(Kn,"__esModule",{value:!0});Kn.stringQuadToQuad=Kn.quadToStringQuad=Kn.stringToTerm=Kn.getLiteralLanguage=Kn.getLiteralType=Kn.getLiteralValue=Kn.termToString=void 0;const qk=ft,Zj=new qk.DataFactory;function jo(t){if(t)switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return"_:"+t.value;case"Literal":const e=t;return'"'+e.value+'"'+(e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&e.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+e.datatype.value:"")+(e.language?"@"+e.language:"");case"Quad":return`<<${jo(t.subject)} ${jo(t.predicate)} ${jo(t.object)}${t.graph.termType==="DefaultGraph"?"":" "+jo(t.graph)}>>`;case"Variable":return"?"+t.value;case"DefaultGraph":return t.value}}Kn.termToString=jo;function eC(t){const e=/^"([^]*)"/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]}Kn.getLiteralValue=eC;function tC(t){const e=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Kn.getLiteralType=tC;function rC(t){const e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(t);if(!e)throw new Error(t+" is not a literal");return e[1]?e[1].toLowerCase():""}Kn.getLiteralLanguage=rC;function Co(t,e){if(e=e||Zj,!t||!t.length)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.substr(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.substr(1));case'"':const r=rC(t),n=e.namedNode(tC(t));return e.literal(eC(t),r||n);case"<":default:if(t[0]==="<"&&t.length>4&&t[1]==="<"&&t[t.length-1]===">"&&t[t.length-2]===">"){const a=t.slice(2,-2).trim();let s=[],o=0,u=0,c=!1;for(let l=0;l<a.length;l++){const d=a[l];if(d==="<"&&o++,d===">"){if(o===0)throw new Error("Found closing tag without opening tag in "+t);o--}if(d==='"'){let f=!1,h=l;for(;h-- >0&&a[h]==="\\";)f=!f;f||(c=!c)}if(d===" "&&!c&&o===0){for(s.push(a.slice(u,l));a[l+1]===" ";)l+=1;u=l+1}}if(o!==0)throw new Error("Found opening tag without closing tag in "+t);if(s.push(a.slice(u,a.length)),s.length!==3&&s.length!==4)throw new Error("Nested quad syntax error "+t);return s=s.map(l=>l.startsWith("<")&&!l.includes(" ")?l.slice(1,-1):l),e.quad(Co(s[0]),Co(s[1]),Co(s[2]),s[3]?Co(s[3]):void 0)}return e.namedNode(t)}}Kn.stringToTerm=Co;function Vk(t){return{subject:jo(t.subject),predicate:jo(t.predicate),object:jo(t.object),graph:jo(t.graph)}}Kn.quadToStringQuad=Vk;function Hk(t,e){return e=e||Zj,e.quad(Co(t.subject,e),Co(t.predicate,e),Co(t.object,e),Co(t.graph,e))}Kn.stringQuadToQuad=Hk;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=Kn;Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(nr);Object.defineProperty(d0,"__esModule",{value:!0});d0.bindingsToString=void 0;const kk=nr;function Qk(t){const e={};for(const r of t.keys())e[r.value]=(0,kk.termToString)(t.get(r));return JSON.stringify(e,null,"  ")}d0.bindingsToString=Qk;Object.defineProperty(l0,"__esModule",{value:!0});l0.Bindings=void 0;const Vy=GA,Gk=d0;class Au{constructor(e,r){this.type="bindings",this.dataFactory=e,this.entries=r}has(e){return this.entries.has(typeof e=="string"?e:e.value)}get(e){return this.entries.get(typeof e=="string"?e:e.value)}set(e,r){return new Au(this.dataFactory,this.entries.set(typeof e=="string"?e:e.value,r))}delete(e){return new Au(this.dataFactory,this.entries.delete(typeof e=="string"?e:e.value))}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),e=>this.dataFactory.variable(e))}values(){return this.iteratorToIterable(this.entries.values())}forEach(e){this.entries.forEach((r,n)=>e(r,this.dataFactory.variable(n)))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([e,r])=>[this.dataFactory.variable(e),r])[Symbol.iterator]()}equals(e){var r;if(!e)return!1;if(this===e)return!0;if(this.size!==e.size)return!1;for(const n of this.keys())if(!((r=this.get(n))!=null&&r.equals(e.get(n))))return!1;return!0}filter(e){return new Au(this.dataFactory,(0,Vy.Map)(this.entries.filter((r,n)=>e(r,this.dataFactory.variable(n)))))}map(e){return new Au(this.dataFactory,(0,Vy.Map)(this.entries.map((r,n)=>e(r,this.dataFactory.variable(n)))))}merge(e){const r=new Set([...this.iteratorToIterable(this.entries.keys()),...[...e.keys()].map(a=>a.value)]),n=[];for(const a of r){const s=this.entries.get(a),o=e.get(this.dataFactory.variable(a));if(s&&o&&!s.equals(o))return;const u=s||o;n.push([a,u])}return new Au(this.dataFactory,(0,Vy.Map)(n))}mergeWith(e,r){const n=new Set([...this.iteratorToIterable(this.entries.keys()),...[...r.keys()].map(s=>s.value)]),a=[];for(const s of n){const o=this.dataFactory.variable(s),u=this.entries.get(s),c=r.get(o);let l;u&&c&&!u.equals(c)?l=e(u,c,o):l=u||c,a.push([s,l])}return new Au(this.dataFactory,(0,Vy.Map)(a))}toString(){return(0,Gk.bindingsToString)(this)}*mapIterable(e,r){for(const n of e)yield r(n)}iteratorToIterable(e){return{[Symbol.iterator]:()=>e}}}l0.Bindings=Au;var U_={};Object.defineProperty(U_,"__esModule",{value:!0});U_.BindingsFactory=void 0;const zk=GA,Wk=ft,Xk=l0;class Kk{constructor(e=new Wk.DataFactory){this.dataFactory=e}bindings(e=[]){return new Xk.Bindings(this.dataFactory,(0,zk.Map)(e.map(([r,n])=>[r.value,n])))}fromBindings(e){return this.bindings([...e])}fromRecord(e){return this.bindings(Object.entries(e).map(([r,n])=>[this.dataFactory.variable(r),n]))}}U_.BindingsFactory=Kk;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(l0,t),r(U_,t),r(d0,t)})(Un);var on={},st={};Object.defineProperty(st,"__esModule",{value:!0});st.matchPatternMappings=st.matchPatternComplete=st.matchPattern=st.matchTerm=st.getValueNestedPath=st.someTermsNested=st.someTerms=st.everyTermsNested=st.everyTerms=st.reduceTermsNested=st.reduceTerms=st.mapTermsNested=st.mapTerms=st.filterQuadTermNamesNested=st.filterQuadTermNames=st.filterTermsNested=st.filterTerms=st.forEachTermsNested=st.forEachTerms=st.collectNamedTerms=st.getNamedTerms=st.getTermsNested=st.getTerms=st.TRIPLE_TERM_NAMES=st.QUAD_TERM_NAMES=void 0;const Jk=ft,WA=new Jk.DataFactory;st.QUAD_TERM_NAMES=["subject","predicate","object","graph"];st.TRIPLE_TERM_NAMES=["subject","predicate","object"];function nC(t,e){return e&&t.graph.termType==="DefaultGraph"?[t.subject,t.predicate,t.object]:[t.subject,t.predicate,t.object,t.graph]}st.getTerms=nC;function iC(t,e){const r=[];for(const n of nC(t,e))n.termType==="Quad"?iC(n,e).forEach(a=>r.push(a)):r.push(n);return r}st.getTermsNested=iC;function Yk(t){return[{key:"subject",value:t.subject},{key:"predicate",value:t.predicate},{key:"object",value:t.object},{key:"graph",value:t.graph}]}st.getNamedTerms=Yk;function Zk(t,e,r){const n={};return t.forEach(a=>n[a.key]=a.value),e&&(n.subject=n.subject||e("subject"),n.predicate=n.predicate||e("predicate"),n.object=n.object||e("object"),n.graph=n.graph||e("graph")),(r||WA).quad(n.subject,n.predicate,n.object,n.graph)}st.collectNamedTerms=Zk;function eQ(t,e){e(t.subject,"subject"),e(t.predicate,"predicate"),e(t.object,"object"),e(t.graph,"graph")}st.forEachTerms=eQ;function Lh(t,e,r=[]){t.subject.termType==="Quad"?Lh(t.subject,e,[...r,"subject"]):e(t.subject,[...r,"subject"]),t.predicate.termType==="Quad"?Lh(t.predicate,e,[...r,"predicate"]):e(t.predicate,[...r,"predicate"]),t.object.termType==="Quad"?Lh(t.object,e,[...r,"object"]):e(t.object,[...r,"object"]),t.graph.termType==="Quad"?Lh(t.graph,e,[...r,"graph"]):e(t.graph,[...r,"graph"])}st.forEachTermsNested=Lh;function tQ(t,e){const r=[];return e(t.subject,"subject")&&r.push(t.subject),e(t.predicate,"predicate")&&r.push(t.predicate),e(t.object,"object")&&r.push(t.object),e(t.graph,"graph")&&r.push(t.graph),r}st.filterTerms=tQ;function Bh(t,e,r=[]){let n=[];return t.subject.termType==="Quad"?n=[...n,...Bh(t.subject,e,[...r,"subject"])]:e(t.subject,[...r,"subject"])&&n.push(t.subject),t.predicate.termType==="Quad"?n=[...n,...Bh(t.predicate,e,[...r,"predicate"])]:e(t.predicate,[...r,"predicate"])&&n.push(t.predicate),t.object.termType==="Quad"?n=[...n,...Bh(t.object,e,[...r,"object"])]:e(t.object,[...r,"object"])&&n.push(t.object),t.graph.termType==="Quad"?n=[...n,...Bh(t.graph,e,[...r,"graph"])]:e(t.graph,[...r,"graph"])&&n.push(t.graph),n}st.filterTermsNested=Bh;function rQ(t,e){const r=[];return e(t.subject,"subject")&&r.push("subject"),e(t.predicate,"predicate")&&r.push("predicate"),e(t.object,"object")&&r.push("object"),e(t.graph,"graph")&&r.push("graph"),r}st.filterQuadTermNames=rQ;function $h(t,e,r=[]){let n=[];const a=[...r,"subject"];t.subject.termType==="Quad"?n=[...n,...$h(t.subject,e,a)]:e(t.subject,a)&&n.push(a);const s=[...r,"predicate"];t.predicate.termType==="Quad"?n=[...n,...$h(t.predicate,e,s)]:e(t.predicate,s)&&n.push(s);const o=[...r,"object"];t.object.termType==="Quad"?n=[...n,...$h(t.object,e,o)]:e(t.object,o)&&n.push(o);const u=[...r,"graph"];return t.graph.termType==="Quad"?n=[...n,...$h(t.graph,e,u)]:e(t.graph,u)&&n.push(u),n}st.filterQuadTermNamesNested=$h;function nQ(t,e,r){return(r||WA).quad(e(t.subject,"subject"),e(t.predicate,"predicate"),e(t.object,"object"),e(t.graph,"graph"))}st.mapTerms=nQ;function Uh(t,e,r,n=[]){return(r||WA).quad(t.subject.termType==="Quad"?Uh(t.subject,e,r,[...n,"subject"]):e(t.subject,[...n,"subject"]),t.predicate.termType==="Quad"?Uh(t.predicate,e,r,[...n,"predicate"]):e(t.predicate,[...n,"predicate"]),t.object.termType==="Quad"?Uh(t.object,e,r,[...n,"object"]):e(t.object,[...n,"object"]),t.graph.termType==="Quad"?Uh(t.graph,e,r,[...n,"graph"]):e(t.graph,[...n,"graph"]))}st.mapTermsNested=Uh;function iQ(t,e,r){let n=r;return n=e(n,t.subject,"subject"),n=e(n,t.predicate,"predicate"),n=e(n,t.object,"object"),e(n,t.graph,"graph")}st.reduceTerms=iQ;function qh(t,e,r,n=[]){let a=r;return t.subject.termType==="Quad"?a=qh(t.subject,e,a,[...n,"subject"]):a=e(a,t.subject,[...n,"subject"]),t.predicate.termType==="Quad"?a=qh(t.predicate,e,a,[...n,"predicate"]):a=e(a,t.predicate,[...n,"predicate"]),t.object.termType==="Quad"?a=qh(t.object,e,a,[...n,"object"]):a=e(a,t.object,[...n,"object"]),t.graph.termType==="Quad"?a=qh(t.graph,e,a,[...n,"graph"]):a=e(a,t.graph,[...n,"graph"]),a}st.reduceTermsNested=qh;function aC(t,e){return e(t.subject,"subject")&&e(t.predicate,"predicate")&&e(t.object,"object")&&e(t.graph,"graph")}st.everyTerms=aC;function Vh(t,e,r=[]){return(t.subject.termType==="Quad"?Vh(t.subject,e,[...r,"subject"]):e(t.subject,[...r,"subject"]))&&(t.predicate.termType==="Quad"?Vh(t.predicate,e,[...r,"predicate"]):e(t.predicate,[...r,"predicate"]))&&(t.object.termType==="Quad"?Vh(t.object,e,[...r,"object"]):e(t.object,[...r,"object"]))&&(t.graph.termType==="Quad"?Vh(t.graph,e,[...r,"graph"]):e(t.graph,[...r,"graph"]))}st.everyTermsNested=Vh;function aQ(t,e){return e(t.subject,"subject")||e(t.predicate,"predicate")||e(t.object,"object")||e(t.graph,"graph")}st.someTerms=aQ;function Hh(t,e,r=[]){return(t.subject.termType==="Quad"?Hh(t.subject,e,[...r,"subject"]):e(t.subject,[...r,"subject"]))||(t.predicate.termType==="Quad"?Hh(t.predicate,e,[...r,"predicate"]):e(t.predicate,[...r,"predicate"]))||(t.object.termType==="Quad"?Hh(t.object,e,[...r,"object"]):e(t.object,[...r,"object"]))||(t.graph.termType==="Quad"?Hh(t.graph,e,[...r,"graph"]):e(t.graph,[...r,"graph"]))}st.someTermsNested=Hh;function sC(t,e){if(e.length===0)return t;if(t.termType==="Quad")return sC(t[e[0]],e.slice(1));throw new Error(`Tried to get ${e[0]} from term of type ${t.termType}`)}st.getValueNestedPath=sC;function kh(t,e){return!e||e.termType==="Variable"||e.termType==="Quad"&&t.termType==="Quad"&&uC(t,e)||e.equals(t)}st.matchTerm=kh;function oC(t,e,r,n,a){return kh(t.subject,e)&&kh(t.predicate,r)&&kh(t.object,n)&&kh(t.graph,a)}st.matchPattern=oC;function uC(t,e){return oC(t,e.subject,e.predicate,e.object,e.graph)}st.matchPatternComplete=uC;function sQ(t,e,r={}){const n={};function a(s,o){return aC(s,(u,c)=>{var l,d;const f=o[c];switch(u.termType){case"Variable":return r.skipVarMapping&&f.termType==="Variable"||((d=(l=n[u.value])===null||l===void 0?void 0:l.equals(f))!==null&&d!==void 0?d:(n[u.value]=f,!0));case"Quad":return f.termType==="Quad"&&a(u,f);default:return u.equals(f)}})}return a(e,t)&&(r.returnMappings?n:!0)}st.matchPatternMappings=sQ;var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.getQuads=tn.getDefaultGraphs=tn.getVariables=tn.getLiterals=tn.getBlankNodes=tn.getNamedNodes=tn.getTermsOfType=tn.uniqTerms=tn.TERM_TYPES=void 0;const oQ=nr;tn.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function uQ(t){const e={};return t.filter(r=>{const n=(0,oQ.termToString)(r);return!(n in e)&&(e[n]=!0)})}tn.uniqTerms=uQ;function _l(t,e){return t.filter(r=>r.termType===e)}tn.getTermsOfType=_l;function cQ(t){return _l(t,"NamedNode")}tn.getNamedNodes=cQ;function lQ(t){return _l(t,"BlankNode")}tn.getBlankNodes=lQ;function dQ(t){return _l(t,"Literal")}tn.getLiterals=dQ;function fQ(t){return _l(t,"Variable")}tn.getVariables=fQ;function hQ(t){return _l(t,"DefaultGraph")}tn.getDefaultGraphs=hQ;function pQ(t){return _l(t,"Quad")}tn.getQuads=pQ;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(st,t),r(tn,t)})(on);var vt={},XA={},yQ=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;for(a of e.entries())if(!t(a[1],r.get(a[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r},Sf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"}(t.types||(t.types={})),function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"}(t.expressionTypes||(t.expressionTypes={}))})(Sf);var Tf={},KA={};let q_=class{constructor(){return bQ||this}equals(e){return e&&this.termType===e.termType}};Object.defineProperty(q_.prototype,"value",{enumerable:!0,value:"*"});Object.defineProperty(q_.prototype,"termType",{enumerable:!0,value:"Wildcard"});var bQ=new q_;KA.Wildcard=q_;var _Q=function(){var t=function(Re,Oe,Pe,Le){for(Pe=Pe||{},Le=Re.length;Le--;Pe[Re[Le]]=Oe);return Pe},e=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],r=[2,247],n=[100,110,113,115,116,123,126,131,329,330,331,332,333],a=[2,409],s=[1,18],o=[1,27],u=[13,16,45,197,224,229,308],c=[28,29,53],l=[28,53],d=[1,42],f=[1,45],h=[1,41],p=[1,44],y=[123,126],_=[1,67],E=[39,45,87],w=[13,16,45,197,224,308],O=[1,87],A=[2,281],T=[1,86],I=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],D=[6,28,29,53,63,70,73,81,83,85],U=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],H=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],N=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],R=[13,16,308],F=[112,132,327,334],X=[13,16,112,132,308],ne=[1,111],$=[1,117],C=[112,132,327,328,334],Q=[13,16,112,132,308,328],se=[28,29,45,53,87],ie=[1,138],be=[1,151],he=[1,128],Te=[1,127],Ne=[1,129],ye=[1,140],ce=[1,141],xe=[1,142],oe=[1,143],J=[1,144],le=[1,145],pe=[1,147],L=[1,148],P=[2,457],m=[1,158],b=[1,159],v=[1,160],j=[1,152],V=[1,153],q=[1,156],G=[1,171],Y=[1,172],ee=[1,173],ae=[1,174],ve=[1,175],me=[1,176],Ee=[1,167],k=[1,168],W=[1,169],M=[1,170],S=[1,157],x=[1,166],z=[1,161],ue=[1,162],ge=[1,163],we=[1,164],Me=[1,165],Ue=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Ge=[1,195],We=[6,31,73,81,83,85],lt=[2,285],Wr=[1,199],gr=[1,201],$r=[6,31,70,73,81,83,85],zt=[2,283],mr=[1,207],Nr=[1,218],kr=[1,223],xn=[1,219],At=[1,225],B=[1,226],re=[1,224],Se=[6,63,70,73,81,83,85],Fe=[1,236],Ae=[2,334],ze=[1,243],De=[1,241],Be=[6,193],Ye=[2,349],Dt=[2,339],at=[28,128],qe=[47,48,193,272],_s=[47,48,193,242,272],ke=[47,48,193,242,246,272],_n=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],vr=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],wr=[1,271],ji=[1,270],Tt=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],ba=[1,281],Gi=[1,280],or=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],so=[45,89],su=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Xr=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Ci=[31,89],un=[48,87],zi=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],cn=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],Na=[1,313],en=[6,85],gs=[6,31,81,83,85],ja=[2,361],si=[2,353],Vn=[1,343],ou=[31,112,335],Ca=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Cl=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],te=[6,109,193],de=[31,112],_e=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],$e=[1,390],He=[1,391],Xe=[13,16,87,197,308,314],wt=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Bt=[1,417],ir=[1,418],jr=[13,16,48,197,229,308],Yt=[6,31,85],Sr=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],oi=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],Hn=[29,31,85,112,159,160,161,163,164],Rn=[1,443],ui=[1,444],Ma=[1,449],gn=[31,112,193,232,318,335],oo=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],fc=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],hc=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Wt=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],mn=[31,45],uo=[1,507],uu=[1,508],gy=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],my=[29,31,85,112,159,160,161,163,164,335],pc=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],KR=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],JR=[2,352],t3=[13,16,197,308,314],YR=[1,565],Ml=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],ZR=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],co=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],eI=[13,16,87,308],lo=[2,364],Fl=[29,31,85,112,159,160,161,163,164,193,232,318,335],vy=[31,112,193,232,272,318,335],fo=[2,359],tI=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],wy=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],rI=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],nI=[2,347],r3={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(Oe,Pe,Le,nt,ot,K,Wi){var Z=K.length-1;switch(ot){case 1:if(K[Z-1]=K[Z-1]||{},It.base&&(K[Z-1].base=It.base),It.base="",K[Z-1].prefixes=It.prefixes,It.prefixes=null,It.pathOnly){if(K[Z-1].type==="path"||"termType"in K[Z-1])return K[Z-1];throw new Error("Received full SPARQL query in path only mode")}else if(K[Z-1].type==="path"||"termType"in K[Z-1])throw new Error("Received only path in full SPARQL mode");if(K[Z-1].type==="update"){const xt={};for(const Zt of K[Z-1].updates)if(Zt.updateType==="insert"){const St={};for(const Pn of Zt.insert)if(Pn.type==="bgp"||Pn.type==="graph")for(const Dn of Pn.triples)Dn.subject.termType==="BlankNode"&&(St[Dn.subject.value]=!0),Dn.predicate.termType==="BlankNode"&&(St[Dn.predicate.value]=!0),Dn.object.termType==="BlankNode"&&(St[Dn.object.value]=!0);for(const Pn of Object.keys(St)){if(xt[Pn])throw new Error("Detected reuse blank node across different INSERT DATA clauses");xt[Pn]=!0}}}return K[Z-1];case 2:this.$={...K[Z-1],...K[Z],type:"query"};break;case 4:It.base=kf(K[Z]);break;case 5:It.prefixes||(It.prefixes={}),K[Z-1]=K[Z-1].substr(0,K[Z-1].length-1),K[Z]=kf(K[Z]),It.prefixes[K[Z-1]]=K[Z];break;case 6:this.$={...K[Z-3],..._c(K[Z-2]),...K[Z-1],...K[Z]};break;case 7:if(!It.skipValidation&&(l3(K[Z-3].variables.map(Zt=>c3(Zt.expression))).some(Zt=>Zt.aggregation==="count"&&!(Zt.expression instanceof Sy))||K[Z].group)){for(const Zt of K[Z-3].variables)if(Zt.termType==="Variable"){if(!K[Z].group||!K[Z].group.map(St=>ql(St)).includes(ql(Zt)))throw Error("Projection of ungrouped variable (?"+ql(Zt)+")")}else if(c3(Zt.expression).length===0){const St=tU(Zt.expression);for(const Pn of St)if(!K[Z].group||!K[Z].group.map||!K[Z].group.map(Dn=>ql(Dn)).includes(ql(Pn)))throw Error("Use of ungrouped variable in projection of operation (?"+ql(Pn)+")")}}const Vl=K[Z-1].where.filter(xt=>xt.type==="query");if(Vl.length>0){const xt=K[Z-3].variables.filter(St=>St.variable&&St.variable.value).map(St=>St.variable.value),Zt=l3(Vl.map(St=>St.variables)).map(St=>St.value||St.variable.value);for(const St of xt)if(Zt.indexOf(St)>=0)throw Error("Target id of 'AS' (?"+St+") already used in subquery")}this.$=Kr(K[Z-3],_c(K[Z-2]),K[Z-1],K[Z]);break;case 8:this.$=Kr({queryType:"CONSTRUCT",template:K[Z-3]},_c(K[Z-2]),K[Z-1],K[Z]);break;case 9:this.$=Kr({queryType:"CONSTRUCT",template:K[Z-2]=K[Z-2]?K[Z-2].triples:[]},_c(K[Z-5]),{where:[{type:"bgp",triples:Ll([],K[Z-2])}]},K[Z]);break;case 10:this.$=Kr({queryType:"DESCRIBE",variables:K[Z-3]==="*"?[new Sy]:K[Z-3]},_c(K[Z-2]),K[Z-1],K[Z]);break;case 11:this.$=Kr({queryType:"ASK"},_c(K[Z-2]),K[Z-1],K[Z]);break;case 12:this.$=Kr(K[Z-1],{variables:[new Sy]});break;case 13:const p3=K[Z].map(xt=>xt.value||xt.variable.value),Ry=rU(p3);if(Ry.length>0)throw Error("Two or more of the resulting columns have the same name (?"+Ry[0]+")");this.$=Kr(K[Z-1],{variables:K[Z]});break;case 14:this.$=Kr({queryType:"SELECT"},K[Z]&&(K[Z-1]=ci(K[Z]),K[Z]={},K[Z][K[Z-1]]=!0,K[Z]));break;case 16:case 27:this.$=Bl(K[Z-3],{variable:K[Z-1]});break;case 17:case 18:this.$=Kr(K[Z-3],K[Z-2],K[Z-1],K[Z],{type:"query"});break;case 19:case 58:this.$={iri:K[Z],named:!!K[Z-1]};break;case 20:this.$={where:K[Z].patterns};break;case 21:this.$=Kr(K[Z-1],K[Z]);break;case 22:this.$=Kr(K[Z-2],K[Z-1],K[Z]);break;case 23:this.$={group:K[Z]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=Bl(K[Z]);break;case 26:this.$=Bl(K[Z-1]);break;case 29:this.$={having:K[Z]};break;case 30:this.$={order:K[Z]};break;case 32:this.$=Bl(K[Z],{descending:!0});break;case 35:this.$={limit:Ul(K[Z])};break;case 36:this.$={offset:Ul(K[Z])};break;case 37:this.$={limit:Ul(K[Z-2]),offset:Ul(K[Z])};break;case 38:this.$={limit:Ul(K[Z]),offset:Ul(K[Z-2])};break;case 39:case 43:this.$={type:"values",values:K[Z]};break;case 40:case 84:this.$=K[Z-1].map(xt=>({[K[Z-3]]:xt}));break;case 41:case 85:this.$=K[Z-1].map(()=>({}));break;case 42:case 86:var cu=K[Z-4].length;K[Z-4]=K[Z-4].map(n3),this.$=K[Z-1].map(function(xt){if(xt.length!==cu)throw Error("Inconsistent VALUES length");for(var Zt={},St=0;St<cu;St++)Zt["?"+K[Z-4][St].value]=xt[St];return Zt});break;case 44:case 65:case 100:case 126:case 175:this.$=K[Z-1];break;case 45:this.$={type:"update",updates:bc(K[Z-2],K[Z-1])};break;case 46:this.$=Kr({type:"load",silent:!!K[Z-2],source:K[Z-1]},K[Z]&&{destination:K[Z]});break;case 47:this.$={type:ci(K[Z-2]),silent:!!K[Z-1],graph:K[Z]};break;case 48:this.$={type:ci(K[Z-4]),silent:!!K[Z-3],source:K[Z-2],destination:K[Z]};break;case 49:this.$={type:"create",silent:!!K[Z-2],graph:{type:"graph",name:K[Z]}};break;case 50:this.$={updateType:"insert",insert:pI(K[Z])};break;case 51:this.$={updateType:"delete",delete:h3(pI(K[Z]))};break;case 52:this.$={updateType:"deletewhere",delete:h3(K[Z])};break;case 53:this.$={updateType:"insertdelete",...K[Z-4],...K[Z-3],..._c(K[Z-2],"using"),where:K[Z].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=K[Z];break;case 55:this.$={delete:h3(K[Z-1]),insert:K[Z]||[]};break;case 56:this.$={delete:[],insert:K[Z]};break;case 59:this.$={graph:K[Z]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:K[Z]};break;case 64:this.$={[ci(K[Z])]:!0};break;case 66:this.$=K[Z-1]?ms(K[Z],[K[Z-1]]):ms(K[Z]);break;case 67:var Oy=Kr(K[Z-3]||{triples:[]},{type:"graph",name:K[Z-5]});this.$=K[Z]?[Oy,K[Z]]:[Oy];break;case 68:case 73:this.$={type:"bgp",triples:ms(K[Z-2],[K[Z-1]])};break;case 69:this.$={type:"group",patterns:[K[Z-1]]};break;case 70:for(const xt of K[Z-1].filter(Zt=>Zt.type==="bind")){const Zt=K[Z-1].indexOf(xt),St=new Set;for(const Pn of K[Z-1].slice(0,Zt))(Pn.type==="group"||Pn.type==="bgp")&&fI(Pn).forEach(Dn=>St.add(Dn));if(St.has(xt.variable.value))throw Error("Variable used to bind is already bound (?"+xt.variable.value+")")}this.$={type:"group",patterns:K[Z-1]};break;case 71:this.$=K[Z-1]?ms([K[Z-1]],K[Z]):ms(K[Z]);break;case 72:this.$=K[Z]?[K[Z-2],K[Z]]:K[Z-2];break;case 75:this.$=Kr(K[Z],{type:"optional"});break;case 76:this.$=Kr(K[Z],{type:"minus"});break;case 77:this.$=Kr(K[Z],{type:"graph",name:K[Z-1]});break;case 78:this.$=Kr(K[Z],{type:"service",name:K[Z-1],silent:!!K[Z-2]});break;case 79:this.$={type:"filter",expression:K[Z]};break;case 80:this.$={type:"bind",variable:K[Z-1],expression:K[Z-3]};break;case 89:this.$=Gf(K[Z]);break;case 90:this.$=void 0;break;case 91:this.$=K[Z-1].length?{type:"union",patterns:ms(K[Z-1].map(a3),[a3(K[Z])])}:K[Z];break;case 95:this.$={...K[Z],function:K[Z-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:bc(K[Z-2],K[Z-1]),distinct:!!K[Z-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=bc(K[Z-2],K[Z-1]);break;case 101:this.$=ms(K[Z-2],[K[Z-1]]);break;case 102:case 112:this.$=f3(K[Z].map(xt=>Kr(ho(K[Z-1]),xt)));break;case 103:this.$=f3(Ll(K[Z].map(xt=>Kr(ho(K[Z-1].entity),xt)),K[Z-1].triples));break;case 105:this.$=ms([K[Z-1]],K[Z]);break;case 106:this.$=ms(K[Z]);break;case 107:this.$=u3(K[Z-1],K[Z]);break;case 109:case 237:this.$=It.factory.namedNode(Q$);break;case 110:case 118:this.$=bc(K[Z-1],K[Z]);break;case 111:this.$=K[Z]?{annotation:K[Z],object:K[Z-1]}:K[Z-1];break;case 113:this.$=K[Z]?f3(Ll(K[Z].map(xt=>Kr(ho(K[Z-1].entity),xt)),K[Z-1].triples)):K[Z-1].triples;break;case 114:this.$=u3(...K[Z-1],K[Z]);break;case 116:this.$=u3(...K[Z]);break;case 117:case 159:case 163:this.$=[K[Z-1],K[Z]];break;case 119:this.$=K[Z]?{object:K[Z-1],annotation:K[Z]}:K[Z-1];break;case 120:this.$=K[Z-1].length?$l("|",bc(K[Z-1],K[Z])):K[Z];break;case 121:this.$=K[Z-1].length?$l("/",bc(K[Z-1],K[Z])):K[Z];break;case 122:this.$=K[Z]?$l(K[Z],[K[Z-1]]):K[Z-1];break;case 123:this.$=K[Z-1]?$l(K[Z-1],[K[Z]]):K[Z];break;case 125:case 131:this.$=$l(K[Z-1],[K[Z]]);break;case 129:this.$=$l("|",bc(K[Z-2],K[Z-1]));break;case 132:case 134:this.$=Z$(K[Z-1]);break;case 133:case 135:this.$=eU(K[Z-1]);break;case 140:this.$={entity:K[Z],triples:[]};break;case 145:this.$=n3(K[Z]);break;case 149:this.$=It.factory.namedNode(iI);break;case 151:case 153:case 158:case 162:this.$=i3(K[Z-1],K[Z]);break;case 152:this.$=["||",K[Z]];break;case 154:this.$=["&&",K[Z]];break;case 156:this.$=In(K[Z-1],[K[Z-2],K[Z]]);break;case 157:this.$=In(K[Z-2]?"notin":"in",[K[Z-3],K[Z]]);break;case 160:this.$=["+",i3(K[Z-1],K[Z])];break;case 161:var Ay=vs(K[Z-1].value.replace("-",""),K[Z-1].datatype);this.$=["-",i3(Ay,K[Z])];break;case 164:this.$=In("UPLUS",[K[Z]]);break;case 165:this.$=In(K[Z-1],[K[Z]]);break;case 166:this.$=In("UMINUS",[K[Z]]);break;case 177:this.$=In(ci(K[Z-1]));break;case 178:this.$=In(ci(K[Z-3]),[K[Z-1]]);break;case 179:this.$=Gf(In(ci(K[Z-3]),[K[Z-1]]));break;case 180:this.$=In(ci(K[Z-5]),[K[Z-3],K[Z-1]]);break;case 181:this.$=In(ci(K[Z-7]),[K[Z-5],K[Z-3],K[Z-1]]);break;case 182:this.$=Gf(In(ci(K[Z-7]),[K[Z-5],K[Z-3],K[Z-1]]));break;case 183:this.$=In(ci(K[Z-1]),K[Z]);break;case 184:this.$=In("bound",[n3(K[Z-1])]);break;case 185:this.$=In(K[Z-1],[]);break;case 186:this.$=In(K[Z-3],[K[Z-1]]);break;case 187:this.$=In(K[Z-2]?"notexists":"exists",[a3(K[Z])]);break;case 188:case 189:this.$=Bl(K[Z-1],{type:"aggregate",aggregation:ci(K[Z-4]),distinct:!!K[Z-2]});break;case 190:this.$=Bl(K[Z-2],{type:"aggregate",aggregation:ci(K[Z-5]),distinct:!!K[Z-3],separator:typeof K[Z-1]=="string"?K[Z-1]:" "});break;case 192:this.$=vs(K[Z]);break;case 193:this.$=X$(K[Z-1],ci(K[Z].substr(1)));break;case 194:this.$=vs(K[Z-2],K[Z]);break;case 195:case 204:this.$=vs(K[Z],aI);break;case 196:case 205:this.$=vs(K[Z],sI);break;case 197:case 206:this.$=vs(ci(K[Z]),oI);break;case 200:this.$=vs(K[Z].toLowerCase(),W$);break;case 201:this.$=vs(K[Z].substr(1),aI);break;case 202:this.$=vs(K[Z].substr(1),sI);break;case 203:this.$=vs(K[Z].substr(1).toLowerCase(),oI);break;case 207:case 208:this.$=dI(K[Z],1);break;case 209:case 210:this.$=dI(K[Z],3);break;case 211:this.$=It.factory.namedNode(kf(K[Z]));break;case 213:var xy=K[Z].indexOf(":"),Jr=K[Z].substr(0,xy),ws=It.prefixes[Jr];if(!ws)throw new Error("Unknown prefix: "+Jr);var gc=kf(ws+K[Z].substr(xy+1));this.$=It.factory.namedNode(gc);break;case 214:if(K[Z]=K[Z].substr(0,K[Z].length-1),!(K[Z]in It.prefixes))throw new Error("Unknown prefix: "+K[Z]);var gc=kf(It.prefixes[K[Z]]);this.$=It.factory.namedNode(gc);break;case 215:this.$=Qf(K[Z].replace(/^(_:)/,""));break;case 216:this.$=Qf();break;case 217:case 218:case 232:this.$=Gf(s3(K[Z-3],K[Z-2],K[Z-1]));break;case 230:case 231:this.$=Gf(K[Z-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:K[Z-1].push(K[Z]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[K[Z]];break;case 308:K[Z-3].push(K[Z-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:K[Z-2].push(K[Z-1]);break}},table:[t(e,r,{3:1,4:2,10:3}),{1:[3]},t(n,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:a,16:a,45:a,197:a,224:a,229:a,308:a,24:[1,13],32:[1,14],36:[1,15],41:s}),t([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:o},{6:[2,239]},t(u,[2,411],{216:28,217:29}),t(c,[2,249],{18:30}),t(c,[2,251],{22:31}),t(l,[2,255],{25:32,27:33,29:[1,34]}),{13:d,16:f,33:35,39:[1,37],44:39,55:40,87:h,139:38,307:43,308:p,323:36},t(c,[2,267],{37:46}),t(y,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:_,87:h},t(E,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),t(e,[2,248]),t(e,[2,245]),t(e,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),t(w,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:O,29:A,52:84,53:T,56:85},{19:88,28:O,29:A,52:89,53:T,56:85},t(c,[2,253],{26:90}),{28:[1,91],52:92,53:T},t(I,[2,385],{181:93,182:94,183:95,31:[2,383]}),t(D,[2,263],{34:96}),t(D,[2,261],{44:39,55:40,307:43,139:97,13:d,16:f,87:h,308:p}),t(D,[2,262]),t(U,[2,259]),t(H,[2,143]),t(H,[2,144]),t([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),t(N,[2,211]),t(N,[2,212]),t(N,[2,213]),t(N,[2,214]),{19:98,28:O,29:A,52:99,53:T,56:85},{6:[2,309],99:100,193:[1,101]},t(R,[2,311],{101:102,328:[1,103]}),t(F,[2,317],{104:104,328:[1,105]}),t(X,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:ne,114:110},{29:ne,114:112},{29:ne,114:113},{118:114,123:[1,115],125:116,126:$},t(C,[2,315]),t(C,[2,316]),t(Q,[2,319]),t(Q,[2,320]),t(Q,[2,321]),t(y,[2,327]),{13:d,16:f,55:118,307:43,308:p},t(c,[2,12]),t(c,[2,13],{44:66,43:119,45:_,87:h}),t(se,[2,269]),t(se,[2,15]),{13:d,16:f,44:136,45:ie,46:120,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(E,[2,14]),t(E,[2,274]),t(E,[2,271]),t(E,[2,272]),t(e,[2,4]),{13:[1,177]},t(Ue,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},t(u,[2,410]),t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:d,16:f,45:[1,193],55:194,197:Ge,219:189,220:190,223:191,224:[1,192],307:43,308:p},t(w,[2,419]),t(We,lt,{20:196,59:197,69:198,70:Wr}),t(c,[2,250]),{29:gr,57:200},t(R,[2,279],{54:202,327:[1,203]}),{29:[2,282]},t($r,zt,{23:204,58:205,62:206,63:mr}),t(c,[2,252]),{19:208,28:O,29:A,52:209,53:T,56:85},{29:[1,210]},t(l,[2,256]),{31:[1,211]},{31:[2,384]},{13:d,16:f,44:215,45:Nr,55:220,82:be,87:h,89:kr,145:212,172:221,185:213,187:214,231:xn,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},t(Se,[2,265],{56:85,35:227,52:228,19:229,28:O,29:A,53:T}),t(U,[2,260]),t($r,zt,{58:205,62:206,23:230,63:mr}),t(c,[2,268]),{6:[2,45]},t(e,r,{10:3,4:231}),{13:d,16:f,55:232,307:43,308:p},t(R,[2,312]),{105:233,112:Fe,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},t(F,[2,318]),t(R,Ae,{108:240,133:242,112:ze,132:De}),t(X,[2,323]),{112:[1,244]},{112:[2,325]},t(Be,[2,50]),t(I,Ye,{135:245,136:246,143:247,144:248,31:Dt,112:Dt}),t(Be,[2,51]),t(Be,[2,52]),t(at,[2,328],{119:249}),{29:ne,114:250},t(at,[2,56]),{29:ne,114:251},t(y,[2,59]),t(se,[2,270]),{47:[1,252]},t(qe,[2,150]),t(_s,[2,428],{240:253}),t(ke,[2,430],{244:254}),t(ke,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),t(_n,[2,440],{252:264}),t(vr,[2,448],{260:265}),{13:d,16:f,44:136,45:ie,55:133,67:132,68:134,77:131,82:be,87:h,172:135,255:154,257:155,264:266,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,55:133,67:132,68:134,77:131,82:be,87:h,172:135,255:154,257:155,264:267,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,55:133,67:132,68:134,77:131,82:be,87:h,172:135,255:154,257:155,264:268,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(vr,[2,167]),t(vr,[2,168]),t(vr,[2,169]),t(vr,[2,170],{176:269,45:wr,89:ji}),t(vr,[2,171]),t(vr,[2,172]),t(vr,[2,173]),t(vr,[2,174]),{13:d,16:f,44:136,45:ie,46:272,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(Tt,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:ba,89:Gi,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},t(or,[2,192],{292:[1,286],293:[1,287]}),t(or,[2,195]),t(or,[2,196]),t(or,[2,197]),t(or,[2,198]),t(or,[2,199]),t(or,[2,200]),{13:d,16:f,44:39,55:40,82:be,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},t(so,[2,452]),t(so,[2,453]),t(so,[2,454]),t(so,[2,455]),t(so,[2,456]),{279:[2,458]},t(su,[2,207]),t(su,[2,208]),t(su,[2,209]),t(su,[2,210]),t(or,[2,201]),t(or,[2,202]),t(or,[2,203]),t(or,[2,204]),t(or,[2,205]),t(or,[2,206]),t(e,[2,5]),t(Xr,[2,297],{88:295}),t(Ci,[2,299],{90:296}),{48:[1,297],87:[1,298]},t(un,[2,301]),t(Ue,[2,43]),t(Ue,[2,82]),t(Ue,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},t(u,[2,412]),t(zi,[2,123]),t(zi,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),t(cn,[2,124]),{13:d,16:f,45:[1,311],55:194,89:[1,310],197:Ge,223:312,225:308,226:309,229:Na,307:43,308:p},t(u,a,{215:10,214:314}),t(cn,[2,236]),t(cn,[2,237]),t(en,[2,6]),t(gs,[2,287],{60:315,72:316,73:[1,317]}),t(We,[2,286]),{13:d,16:f,45:ie,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,307:43,308:p,346:x,347:z,348:ue,349:ge,350:we,351:Me},t([6,31,63,70,73,81,83,85],[2,20]),t(I,ja,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:si,31:si,85:si,112:si,159:si,160:si,161:si,163:si,164:si,41:s}),{13:d,16:f,55:331,307:43,308:p},t(R,[2,280]),t(en,[2,7]),t(We,lt,{59:197,69:198,20:332,70:Wr}),t($r,[2,284]),{64:[1,333]},t($r,zt,{58:205,62:206,23:334,63:mr}),t(c,[2,254]),t(I,Ye,{144:248,30:335,143:336,31:[2,257]}),t(c,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:d,16:f,44:39,55:40,87:h,139:342,186:339,190:340,195:341,197:Vn,307:43,308:p},t(ou,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:d,16:f,87:h,197:Vn,308:p}),t(Ca,[2,227]),t(Ca,[2,228]),t(Ca,[2,229]),{13:d,16:f,44:215,45:Nr,55:220,82:be,87:h,89:kr,172:221,185:351,187:350,200:348,230:347,231:xn,234:349,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},{13:d,16:f,44:39,55:40,87:h,139:342,186:352,190:340,195:341,197:Vn,307:43,308:p},t(Ca,[2,146]),t(Ca,[2,147]),t(Ca,[2,148]),t(Ca,[2,149]),{13:d,16:f,44:354,55:355,82:be,87:h,172:357,237:356,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:358,312:re,313:353},t(Cl,[2,215]),t(Cl,[2,216]),t($r,zt,{58:205,62:206,23:359,63:mr}),t(D,[2,264]),t(Se,[2,266]),t(en,[2,11]),t(n,[2,308],{6:[2,310]}),t(Be,[2,313],{102:360,120:361,121:[1,362]}),t(Be,[2,47]),t(Be,[2,63]),t(Be,[2,64]),{13:d,16:f,55:363,307:43,308:p},t(Be,[2,336]),t(Be,[2,337]),t(Be,[2,338]),{109:[1,364]},t(te,[2,60]),{13:d,16:f,55:365,307:43,308:p},t(R,[2,335]),{13:d,16:f,55:366,307:43,308:p},{31:[1,367]},t(de,[2,341],{137:368}),t(de,[2,340]),{13:d,16:f,44:215,45:Nr,55:220,82:be,87:h,89:kr,145:369,172:221,185:213,187:214,231:xn,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},{28:[1,370],127:371,128:[1,372]},t(at,[2,330],{124:373,125:374,126:$}),t(at,[2,57]),{44:375,87:h},t(qe,[2,151],{241:376,242:[1,377]}),t(_s,[2,153],{245:378,246:[1,379]}),{13:d,16:f,44:136,45:ie,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,247:380,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{250:[1,381]},t(_e,[2,432]),t(_e,[2,433]),t(_e,[2,434]),t(_e,[2,435]),t(_e,[2,436]),t(_e,[2,437]),{250:[2,439]},t([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:G,298:Y,299:ee,300:ae,301:ve,302:me}),t(_n,[2,162],{261:388,262:389,39:$e,338:He}),t(vr,[2,164]),t(vr,[2,165]),t(vr,[2,166]),t(Tt,[2,95]),t(Tt,[2,96]),t(_e,[2,377],{177:392,325:[1,393]}),{48:[1,394]},t(Tt,[2,177]),{13:d,16:f,44:136,45:ie,46:395,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,46:396,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,46:397,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,46:398,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,46:399,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(Tt,[2,183]),t(Tt,[2,98]),t(_e,[2,381],{180:400}),{87:[1,401]},t(Tt,[2,185]),{13:d,16:f,44:136,45:ie,46:402,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{29:gr,57:403},t(or,[2,193]),{13:d,16:f,55:404,307:43,308:p},{13:d,16:f,44:39,55:40,87:h,139:342,195:405,197:Vn,307:43,308:p},t(Xe,[2,233]),t(Xe,[2,234]),t(Xe,[2,235]),t(wt,[2,459],{281:406,325:[1,407]}),t(_e,[2,463],{284:408,325:[1,409]}),t(_e,[2,465],{286:410,325:[1,411]}),{13:d,16:f,31:[1,412],55:414,82:be,171:413,172:415,173:416,174:Bt,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:ir},{31:[1,419],89:[1,420]},{29:[1,421]},t(un,[2,302]),t(Xr,[2,367],{167:422}),t(Ci,[2,369],{168:423}),{48:[1,424],87:[1,425]},t(un,[2,371]),t(zi,[2,122]),t(zi,[2,417]),t(zi,[2,413]),t(zi,[2,414]),t(zi,[2,415]),t(cn,[2,125]),t(cn,[2,127]),t(cn,[2,128]),t(jr,[2,420],{227:426}),t(cn,[2,130]),{13:d,16:f,55:194,197:Ge,223:427,307:43,308:p},{48:[1,428]},t(Yt,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),t(gs,[2,288]),{64:[1,433]},t(We,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:d,16:f,45:ie,268:ye,269:ce,270:xe,271:oe,273:J,274:le,276:pe,277:L,279:P,280:m,283:b,285:v,308:p,346:x,347:z,348:ue,349:ge,350:we,351:Me}),t(Sr,[2,293]),t(oi,[2,92]),t(oi,[2,93]),t(oi,[2,94]),{45:wr,89:ji,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:O,29:A,56:85},{19:438,28:O,29:A,56:85},t(Hn,[2,355],{149:439}),t(Hn,[2,354]),{13:d,16:f,44:215,45:Rn,55:220,82:be,87:h,89:kr,156:440,172:221,185:441,203:442,231:ui,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},t(D,[2,19]),t(Yt,[2,21]),{13:d,16:f,44:450,45:Ma,55:323,65:445,66:446,67:447,68:448,87:h,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,307:43,308:p,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(en,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},t(I,[2,386],{31:[2,388]}),t(ou,[2,102]),t(gn,[2,391],{191:452}),t(I,[2,395],{196:453,198:454}),t(I,[2,108]),t(I,[2,109]),t(ou,[2,103]),t(ou,[2,104]),t(ou,[2,390]),{13:d,16:f,44:215,45:Nr,48:[1,455],55:220,82:be,87:h,89:kr,172:221,185:351,187:350,200:456,231:xn,234:349,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},t(oo,[2,424]),t(fc,[2,136]),t(fc,[2,137]),t(hc,[2,140]),{232:[1,457]},{13:d,16:f,44:39,55:40,87:h,139:342,195:458,197:Vn,307:43,308:p},t(Xe,[2,219]),t(Xe,[2,220]),t(Xe,[2,221]),t(Xe,[2,222]),t(Xe,[2,223]),t(en,[2,10]),t(Be,[2,46]),t(Be,[2,314]),{112:Fe,122:459},t(Be,[2,62]),t(R,Ae,{133:242,108:460,112:ze,132:De}),t(te,[2,61]),t(Be,[2,49]),t([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},t(de,[2,351],{146:463,335:[1,464]}),{29:gr,57:465},t(at,[2,329]),t(R,[2,332],{129:466,327:[1,467]}),t(at,[2,55]),t(at,[2,331]),{48:[1,468]},t(_s,[2,429]),{13:d,16:f,44:136,45:ie,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(ke,[2,431]),{13:d,16:f,44:136,45:ie,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,243:470,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(ke,[2,156]),{45:ba,89:Gi,179:471},t(_n,[2,441]),{13:d,16:f,44:136,45:ie,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,251:472,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(vr,[2,444],{256:473}),t(vr,[2,446],{258:474}),t(_e,[2,442]),t(_e,[2,443]),t(vr,[2,449]),{13:d,16:f,44:136,45:ie,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,255:154,257:155,259:475,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(_e,[2,450]),t(_e,[2,451]),t(_e,[2,379],{178:476}),t(_e,[2,378]),t([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:d,16:f,44:136,45:ie,46:482,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{48:[1,483]},{48:[1,484]},t(Tt,[2,187]),t(or,[2,194]),{13:d,16:f,44:39,55:40,82:be,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,320:485},{13:d,16:f,39:[1,487],44:136,45:ie,46:488,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,282:486,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(wt,[2,460]),{13:d,16:f,44:136,45:ie,46:489,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(_e,[2,464]),{13:d,16:f,44:136,45:ie,46:490,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(_e,[2,466]),t(Ue,[2,40]),t(Xr,[2,298]),t(Wt,[2,87]),t(Wt,[2,88]),t(Wt,[2,89]),t(Wt,[2,90]),{13:d,16:f,55:492,82:be,172:493,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,311:494,312:re,315:491},t(Ue,[2,41]),t(Ci,[2,300]),t(mn,[2,303],{92:495}),{13:d,16:f,31:[1,496],55:414,82:be,171:497,172:415,173:416,174:Bt,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:ir},{31:[1,498],89:[1,499]},{29:[1,500]},t(un,[2,372]),{13:d,16:f,48:[2,422],55:194,197:Ge,223:312,226:502,228:501,229:Na,307:43,308:p},t(cn,[2,131]),t(cn,[2,126]),t(Yt,[2,22]),t(Yt,[2,290]),{82:[1,503]},{82:[1,504]},{13:d,16:f,44:510,45:ie,55:323,67:321,68:322,74:505,75:506,76:uo,77:320,78:uu,79:509,87:h,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,307:43,308:p,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(Sr,[2,294]),t(gy,[2,69]),t(gy,[2,70]),t(We,lt,{59:197,69:198,20:511,70:Wr}),t($r,zt,{58:205,62:206,23:512,63:mr}),{29:[2,375],31:[2,71],84:522,85:o,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},t(Hn,[2,363],{157:524,335:[1,525]}),t(u,a,{215:10,202:526,205:527,208:528,214:529,44:530,87:h}),t(my,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),{13:d,16:f,44:215,45:Rn,55:220,82:be,87:h,89:kr,172:221,185:351,203:536,212:534,231:ui,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},t(u,a,{215:10,205:527,208:528,214:529,44:530,202:537,87:h}),t($r,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:d,16:f,45:Ma,87:h,268:ye,269:ce,270:xe,271:oe,273:J,274:le,276:pe,277:L,279:P,280:m,283:b,285:v,308:p,346:x,347:z,348:ue,349:ge,350:we,351:Me}),t(pc,[2,291]),t(pc,[2,24]),t(pc,[2,25]),{13:d,16:f,44:136,45:ie,46:539,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(pc,[2,28]),t($r,zt,{58:205,62:206,23:540,63:mr}),t([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),t(gn,[2,107]),{13:d,16:f,44:215,45:Nr,55:220,82:be,87:h,89:kr,172:221,185:351,187:350,199:543,200:544,231:xn,234:349,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},t(KR,[2,132]),t(oo,[2,425]),t(KR,[2,133]),{13:d,16:f,44:354,55:355,82:be,87:h,172:357,237:356,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:358,312:re,313:545},t(Be,[2,54]),t(Be,[2,48]),t(de,[2,342]),{13:d,16:f,44:39,55:40,87:h,139:546,307:43,308:p},t(de,[2,68]),t(I,[2,350],{31:JR,112:JR}),t(Be,[2,53]),{13:d,16:f,55:547,307:43,308:p},t(R,[2,333]),t(se,[2,16]),t(_s,[2,152]),t(ke,[2,154]),t(ke,[2,157]),t(_n,[2,159]),t(_n,[2,160],{262:389,261:548,39:$e,338:He}),t(_n,[2,161],{262:389,261:549,39:$e,338:He}),t(vr,[2,163]),{13:d,16:f,44:136,45:ie,46:550,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(Tt,[2,178]),t(Tt,[2,179]),{13:d,16:f,44:136,45:ie,46:551,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,46:552,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,46:553,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{48:[1,554],272:[1,555]},t(Tt,[2,184]),t(Tt,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:d,16:f,55:194,197:Ge,223:562,307:43,308:p},t(t3,[2,224]),t(t3,[2,225]),t(t3,[2,226]),{31:[1,563],45:YR,94:564},t(Ue,[2,84]),t(Xr,[2,368]),t(Ue,[2,85]),t(Ci,[2,370]),t(mn,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},t(Yt,[2,35],{83:[1,569]}),t(Yt,[2,36],{81:[1,570]}),t(gs,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:d,16:f,45:ie,76:uo,78:uu,87:h,268:ye,269:ce,270:xe,271:oe,273:J,274:le,276:pe,277:L,279:P,280:m,283:b,285:v,308:p,346:x,347:z,348:ue,349:ge,350:we,351:Me}),t(Ml,[2,295]),{45:ie,77:572},{45:ie,77:573},t(Ml,[2,33]),t(Ml,[2,34]),{31:[2,275],50:574,84:575,85:o},{31:[2,277],51:576,84:577,85:o},t(Hn,[2,356]),t(ZR,[2,357],{152:578,335:[1,579]}),t(co,[2,74]),{29:gr,57:580},{29:gr,57:581},{13:d,16:f,44:39,55:40,87:h,139:582,307:43,308:p},t(eI,[2,365],{162:583,328:[1,584]}),{13:d,16:f,45:ie,55:323,67:321,68:322,77:320,79:585,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,307:43,308:p,346:x,347:z,348:ue,349:ge,350:we,351:Me},{45:[1,586]},t(co,[2,81]),{29:gr,57:587},t(Hn,[2,73]),t(I,[2,362],{29:lo,31:lo,85:lo,112:lo,159:lo,160:lo,161:lo,163:lo,164:lo}),t(my,[2,112]),t(Fl,[2,401],{206:588}),t(I,[2,405],{209:589,210:590}),t(I,[2,403]),t(I,[2,404]),t(my,[2,113]),t(my,[2,400]),{13:d,16:f,44:215,45:Rn,48:[1,591],55:220,82:be,87:h,89:kr,172:221,185:351,203:536,212:592,231:ui,234:535,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},t(oo,[2,426]),t(hc,[2,138]),t(hc,[2,139]),{232:[1,593]},t(pc,[2,292]),{47:[1,595],48:[1,594]},t(en,[2,9]),t(gn,[2,392]),t(gn,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:d,16:f,87:h,197:Vn,308:p}),t(gn,[2,110],{272:[1,598]}),t(vy,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},t(at,[2,58]),t(vr,[2,445]),t(vr,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},t(Tt,[2,99]),t(_e,[2,382]),t([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),t(Tt,[2,188]),t(Tt,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:d,16:f,55:492,82:be,172:493,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,311:494,312:re,315:611},t(Ue,[2,42]),t(mn,[2,304]),{13:d,16:f,55:414,82:be,95:612,171:613,172:415,173:416,174:Bt,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:ir},{31:[1,614],45:YR,94:615},t(cn,[2,129]),t(jr,[2,421]),{82:[1,616]},{82:[1,617]},t(Ml,[2,296]),t(Ml,[2,31]),t(Ml,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},t(I,ja,{155:330,153:618,154:619,29:fo,31:fo,85:fo,112:fo,159:fo,160:fo,161:fo,163:fo,164:fo}),t(ZR,[2,358]),t(co,[2,75]),t(co,[2,76]),{29:gr,57:620},{13:d,16:f,44:39,55:40,87:h,139:621,307:43,308:p},t(eI,[2,366]),t(co,[2,79]),{13:d,16:f,44:136,45:ie,46:622,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(co,[2,91],{336:[1,623]}),t([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),t(Fl,[2,117]),{13:d,16:f,44:215,45:Rn,55:220,82:be,87:h,89:kr,172:221,185:351,203:536,211:626,212:627,231:ui,234:535,236:216,237:222,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,309:At,310:B,311:217,312:re},t(Ca,[2,134]),t(oo,[2,427]),t(Ca,[2,135]),t(pc,[2,26]),{44:628,87:h},t(gn,[2,106]),t(gn,[2,394]),t(I,[2,396]),t(vy,[2,111]),t(vy,[2,398]),{13:d,16:f,44:39,55:40,87:h,139:342,186:629,190:340,195:341,197:Vn,307:43,308:p},t(Cl,[2,217]),t(I,Ye,{144:248,140:630,143:631,31:[2,343]}),t(Tt,[2,97]),t(_e,[2,380]),t(Tt,[2,180]),{13:d,16:f,44:136,45:ie,46:632,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},{13:d,16:f,44:136,45:ie,46:633,55:133,67:132,68:134,77:131,82:be,87:h,172:135,224:he,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Te,264:130,265:Ne,266:137,267:139,268:ye,269:ce,270:xe,271:oe,273:J,274:le,275:146,276:pe,277:L,278:149,279:P,280:m,283:b,285:v,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:S,346:x,347:z,348:ue,349:ge,350:we,351:Me},t(Tt,[2,190]),{290:[1,634]},{314:[1,635]},{13:d,16:f,48:[1,636],55:414,82:be,171:637,172:415,173:416,174:Bt,255:154,257:155,291:150,294:j,295:V,296:q,297:G,298:Y,299:ee,300:ae,301:ve,302:me,303:Ee,304:k,305:W,306:M,307:43,308:p,312:ir},t(tI,[2,305]),t(Ue,[2,86]),t(mn,[2,374]),t(Yt,[2,37]),t(Yt,[2,38]),t(Hn,[2,72]),t(Hn,[2,360]),t(co,[2,77]),{29:gr,57:638},{47:[1,639]},{29:[2,376]},t(Fl,[2,402]),t(Fl,[2,115],{215:10,208:528,214:529,44:530,205:640,13:a,16:a,45:a,197:a,224:a,229:a,308:a,87:h}),t(Fl,[2,118],{272:[1,641]}),t(wy,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Ee,304:k,305:W,306:M},t(Wt,[2,218]),t(mn,[2,44]),t(tI,[2,306]),t(co,[2,78]),{44:651,87:h},t(Fl,[2,116]),t(I,[2,406]),t(wy,[2,119]),t(wy,[2,408]),t(u,a,{215:10,205:527,208:528,214:529,44:530,202:652,87:h}),t(pc,[2,27]),t(vy,[2,230]),t(rI,[2,345],{141:653,335:[1,654]}),t(Tt,[2,181]),t(Tt,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},t(I,Ye,{144:248,142:657,143:658,31:nI,112:nI}),t(rI,[2,346]),t(co,[2,80]),t(wy,[2,231]),t(de,[2,67]),t(de,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(Oe,Pe){if(Pe.recoverable)this.trace(Oe);else{var Le=new Error(Oe);throw Le.hash=Pe,Le}},parse:function(Oe){var Pe=this,Le=[0],nt=[null],ot=[],K=this.table,Wi="",Z=0,cu=0,Oy=2,Ay=1,xy=ot.slice.call(arguments,1),Jr=Object.create(this.lexer),ws={yy:{}};for(var gc in this.yy)Object.prototype.hasOwnProperty.call(this.yy,gc)&&(ws.yy[gc]=this.yy[gc]);Jr.setInput(Oe,ws.yy),ws.yy.lexer=Jr,ws.yy.parser=this,typeof Jr.yylloc>"u"&&(Jr.yylloc={});var Vl=Jr.yylloc;ot.push(Vl);var p3=Jr.options&&Jr.options.ranges;typeof ws.yy.parseError=="function"?this.parseError=ws.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Ry=function(){var Hl;return Hl=Jr.lex()||Ay,typeof Hl!="number"&&(Hl=Pe.symbols_[Hl]||Hl),Hl},xt,Zt,St,Pn,Dn={},Iy,po,yI,Py;;){if(Zt=Le[Le.length-1],this.defaultActions[Zt]?St=this.defaultActions[Zt]:((xt===null||typeof xt>"u")&&(xt=Ry()),St=K[Zt]&&K[Zt][xt]),typeof St>"u"||!St.length||!St[0]){var y3="";Py=[];for(Iy in K[Zt])this.terminals_[Iy]&&Iy>Oy&&Py.push("'"+this.terminals_[Iy]+"'");Jr.showPosition?y3="Parse error on line "+(Z+1)+`:
`+Jr.showPosition()+`
Expecting `+Py.join(", ")+", got '"+(this.terminals_[xt]||xt)+"'":y3="Parse error on line "+(Z+1)+": Unexpected "+(xt==Ay?"end of input":"'"+(this.terminals_[xt]||xt)+"'"),this.parseError(y3,{text:Jr.match,token:this.terminals_[xt]||xt,line:Jr.yylineno,loc:Vl,expected:Py})}if(St[0]instanceof Array&&St.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Zt+", token: "+xt);switch(St[0]){case 1:Le.push(xt),nt.push(Jr.yytext),ot.push(Jr.yylloc),Le.push(St[1]),xt=null,cu=Jr.yyleng,Wi=Jr.yytext,Z=Jr.yylineno,Vl=Jr.yylloc;break;case 2:if(po=this.productions_[St[1]][1],Dn.$=nt[nt.length-po],Dn._$={first_line:ot[ot.length-(po||1)].first_line,last_line:ot[ot.length-1].last_line,first_column:ot[ot.length-(po||1)].first_column,last_column:ot[ot.length-1].last_column},p3&&(Dn._$.range=[ot[ot.length-(po||1)].range[0],ot[ot.length-1].range[1]]),Pn=this.performAction.apply(Dn,[Wi,cu,Z,ws.yy,St[1],nt,ot].concat(xy)),typeof Pn<"u")return Pn;po&&(Le=Le.slice(0,-1*po*2),nt=nt.slice(0,-1*po),ot=ot.slice(0,-1*po)),Le.push(this.productions_[St[1]][0]),nt.push(Dn.$),ot.push(Dn._$),yI=K[Le[Le.length-2]][Le[Le.length-1]],Le.push(yI);break;case 3:return!0}}return!0}},Sy=KA.Wildcard,Ty="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Q$=Ty+"type",G$=Ty+"first",z$=Ty+"rest",iI=Ty+"nil",Ey="http://www.w3.org/2001/XMLSchema#",aI=Ey+"integer",sI=Ey+"decimal",oI=Ey+"double",W$=Ey+"boolean",yc="",uI="",cI="";function ci(Re){return Re.toLowerCase()}function bc(Re,Oe){return Re.push(Oe),Re}function Ll(Re,Oe){return Re.push.apply(Re,Oe),Re}function Kr(Re){Re||(Re={});for(var Oe=1,Pe=arguments.length,Le;Oe<Pe&&(Le=arguments[Oe]||{});Oe++)for(var nt in Le)Re[nt]=Le[nt];return Re}function ms(){for(var Re=[],Oe=0,Pe=arguments.length;Oe<Pe;Oe++)Re=Re.concat.apply(Re,arguments[Oe]);return Re}function kf(Re){if(Re[0]==="<"&&(Re=Re.substring(1,Re.length-1)),/^[a-z]+:/i.test(Re))return Re;if(!It.base)throw new Error("Cannot resolve relative IRI "+Re+" because no base IRI was set.");switch(yc!==It.base&&(yc=It.base,uI=yc.replace(/[^\/:]*$/,""),cI=yc.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),Re[0]){case void 0:return yc;case"#":return yc+Re;case"?":return yc.replace(/(?:\?.*)?$/,Re);case"/":return cI+Re;default:return uI+Re}}function n3(Re){if(Re){var Oe=Re[0];if(Oe==="?"||Oe==="$")return It.factory.variable(Re.substr(1))}return Re}function In(Re,Oe){return{type:"operation",operator:Re,args:Oe||[]}}function Bl(Re,Oe){var Pe={expression:Re==="*"?new Sy:Re};if(Oe)for(var Le in Oe)Pe[Le]=Oe[Le];return Pe}function $l(Re,Oe){return{type:"path",pathType:Re,items:Oe}}function i3(Re,Oe){for(var Pe=0,Le=Oe.length,nt;Pe<Le&&(nt=Oe[Pe]);Pe++)Re=In(nt[0],[Re,nt[1]]);return Re}function _c(Re,Oe){var Pe=[],Le=[],nt=Re.length,ot,K={};if(!nt)return null;for(var Wi=0;Wi<nt&&(ot=Re[Wi]);Wi++)(ot.named?Le:Pe).push(ot.iri);return K[Oe||"from"]={default:Pe,named:Le},K}function Ul(Re){return parseInt(Re,10)}function a3(Re){return Re.type==="group"&&Re.patterns.length===1?Re.patterns[0]:Re}function vs(Re,Oe){return Oe&&Oe.termType!=="NamedNode"&&(Oe=It.factory.namedNode(Oe)),It.factory.literal(Re,Oe)}function X$(Re,Oe){return It.factory.literal(Re,Oe)}function s3(Re,Oe,Pe){if(!("termType"in Oe))throw new Error("Nested triples cannot contain paths");return It.factory.quad(Re,Oe,Pe)}function ho(Re,Oe,Pe,Le){var nt={};return Re!=null&&(nt.subject=Re),Oe!=null&&(nt.predicate=Oe),Pe!=null&&(nt.object=Pe),Le!=null&&(nt.annotations=Le),nt}function Qf(Re){return typeof Re=="string"?Re.startsWith("e_")?It.factory.blankNode(Re):It.factory.blankNode("e_"+Re):It.factory.blankNode("g_"+lI++)}var lI=0;It._resetBlanks=function(){lI=0};var K$=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,J$={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Y$=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,o3=String.fromCharCode;function dI(Re,Oe){Re=Re.substring(Oe,Re.length-Oe);try{Re=Re.replace(K$,function(Pe,Le,nt,ot){var K;if(Le){if(K=parseInt(Le,16),isNaN(K))throw new Error;return o3(K)}else if(nt){if(K=parseInt(nt,16),isNaN(K))throw new Error;return K<65535?o3(K):o3(55296+((K-=65536)>>10),56320+(K&1023))}else{var Wi=J$[ot];if(!Wi)throw new Error;return Wi}})}catch{return""}if(Y$.exec(Re))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+Re);return Re}function Z$(Re){var Oe=Qf(),Pe=Oe,Le=[],nt,ot=[];Re.forEach(function(cu){Le.push(cu.entity),Ll(ot,cu.triples)});for(var K=0,Wi=0,Z=Le.length,nt=Array(Z*2);K<Z;)nt[Wi++]=ho(Pe,It.factory.namedNode(G$),Le[K]),nt[Wi++]=ho(Pe,It.factory.namedNode(z$),Pe=++K<Z?Qf():It.factory.namedNode(iI));return{entity:Oe,triples:Ll(nt,ot)}}function eU(Re){var Oe=Qf();return{entity:Oe,triples:Re.map(function(Pe){return Kr(ho(Oe),Pe)})}}function u3(Re,Oe,Pe){var Le=[],nt=[];return Oe.forEach(function(ot){let K=null;ot.annotation&&(K=ot.annotation,ot=ot.object),Le.push(ho(null,Re,ot.entity,K)),Ll(nt,ot.triples)}),ms(Le,Pe||[],nt)}function ql(Re){return Re.variable?Re.variable.value:Re.value||Re.expression.value}function c3(Re){if(!Re)return[];if(Re.type==="aggregate")return[Re];if(Re.type==="operation"){const Oe=[];for(const Pe of Re.args)Oe.push(...c3(Pe));return Oe}return[]}function tU(Re){const Oe=new Set,Pe=function(Le){Le&&(Le.termType==="Variable"?Oe.add(Le):Le.type==="operation"&&Le.args.forEach(Pe))};return Pe(Re),Oe}function l3(Re,Oe=1,Pe=[]){for(const Le of Re)Oe>0&&Le instanceof Array?l3(Le,Oe-1,Pe):Pe.push(Le);return Pe}function d3(Re){return Re.termType==="Variable"}function fI(Re){if(Re.triples){const Oe=[];for(const Pe of Re.triples)d3(Pe.subject)&&Oe.push(Pe.subject.value),d3(Pe.predicate)&&Oe.push(Pe.predicate.value),d3(Pe.object)&&Oe.push(Pe.object.value);return Oe}else if(Re.patterns){const Oe=[];for(const Pe of Re.patterns)Oe.push(...fI(Pe));return Oe}return[]}function rU(Re){const Oe=Re.slice().sort(),Pe=[];for(let Le=0;Le<Oe.length-1;Le++)Oe[Le+1]==Oe[Le]&&Pe.push(Oe[Le]);return Pe}function Gf(Re){if(!It.sparqlStar)throw new Error("SPARQL-star support is not enabled");return Re}function hI(Re,Oe,Pe){for(const Le of Oe){const nt=ho("subject"in Le?Le.subject:Re,Le.predicate,Le.object);Pe.push(nt),Le.annotations&&hI(s3(Re,Le.predicate,Le.object),Le.annotations,Pe)}}function f3(Re){if(It.sparqlStar){const Oe=[];return Re.forEach(Pe=>{const Le=ho(Pe.subject,Pe.predicate,Pe.object);Oe.push(Le),Pe.annotations&&hI(s3(Pe.subject,Pe.predicate,Pe.object),Pe.annotations,Oe)}),Oe}return Re}function pI(Re){for(const Oe of Re){if(Oe.type==="graph"&&Oe.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(Oe.type==="bgp"||Oe.type==="graph"){for(const Pe of Oe.triples)if(Pe.subject.termType==="Variable"||Pe.predicate.termType==="Variable"||Pe.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return Re}function h3(Re){for(const Oe of Re)if(Oe.type==="bgp"){for(const Pe of Oe.triples)if(Pe.subject.termType==="BlankNode"||Pe.predicate.termType==="BlankNode"||Pe.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return Re}var nU=function(){var Re={EOF:1,parseError:function(Pe,Le){if(this.yy.parser)this.yy.parser.parseError(Pe,Le);else throw new Error(Pe)},setInput:function(Oe,Pe){return this.yy=Pe||this.yy||{},this._input=Oe,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Oe=this._input[0];this.yytext+=Oe,this.yyleng++,this.offset++,this.match+=Oe,this.matched+=Oe;var Pe=Oe.match(/(?:\r\n?|\n).*/g);return Pe?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Oe},unput:function(Oe){var Pe=Oe.length,Le=Oe.split(/(?:\r\n?|\n)/g);this._input=Oe+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Pe),this.offset-=Pe;var nt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Le.length-1&&(this.yylineno-=Le.length-1);var ot=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Le?(Le.length===nt.length?this.yylloc.first_column:0)+nt[nt.length-Le.length].length-Le[0].length:this.yylloc.first_column-Pe},this.options.ranges&&(this.yylloc.range=[ot[0],ot[0]+this.yyleng-Pe]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Oe){this.unput(this.match.slice(Oe))},pastInput:function(){var Oe=this.matched.substr(0,this.matched.length-this.match.length);return(Oe.length>20?"...":"")+Oe.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Oe=this.match;return Oe.length<20&&(Oe+=this._input.substr(0,20-Oe.length)),(Oe.substr(0,20)+(Oe.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Oe=this.pastInput(),Pe=new Array(Oe.length+1).join("-");return Oe+this.upcomingInput()+`
`+Pe+"^"},test_match:function(Oe,Pe){var Le,nt,ot;if(this.options.backtrack_lexer&&(ot={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ot.yylloc.range=this.yylloc.range.slice(0))),nt=Oe[0].match(/(?:\r\n?|\n).*/g),nt&&(this.yylineno+=nt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:nt?nt[nt.length-1].length-nt[nt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Oe[0].length},this.yytext+=Oe[0],this.match+=Oe[0],this.matches=Oe,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Oe[0].length),this.matched+=Oe[0],Le=this.performAction.call(this,this.yy,this,Pe,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Le)return Le;if(this._backtrack){for(var K in ot)this[K]=ot[K];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Oe,Pe,Le,nt;this._more||(this.yytext="",this.match="");for(var ot=this._currentRules(),K=0;K<ot.length;K++)if(Le=this._input.match(this.rules[ot[K]]),Le&&(!Pe||Le[0].length>Pe[0].length)){if(Pe=Le,nt=K,this.options.backtrack_lexer){if(Oe=this.test_match(Le,ot[K]),Oe!==!1)return Oe;if(this._backtrack){Pe=!1;continue}else return!1}else if(!this.options.flex)break}return Pe?(Oe=this.test_match(Pe,ot[nt]),Oe!==!1?Oe:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Pe=this.next();return Pe||this.lex()},begin:function(Pe){this.conditionStack.push(Pe)},popState:function(){var Pe=this.conditionStack.length-1;return Pe>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Pe){return Pe=this.conditionStack.length-1-Math.abs(Pe||0),Pe>=0?this.conditionStack[Pe]:"INITIAL"},pushState:function(Pe){this.begin(Pe)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Pe,Le,nt,ot){switch(nt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(Le.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return Re}();r3.lexer=nU;function It(){this.yy={}}return It.prototype=r3,r3.Parser=It,new It}(),gQ=_Q,mQ="http://www.w3.org/2001/XMLSchema#integer",vQ="http://www.w3.org/2001/XMLSchema#string";function Dr(t){this._options=t=t||{};var e=t.prefixes||{};this._prefixByIri={};var r=[];for(var n in e){var a=e[n];np(a)&&(this._prefixByIri[a]=n,r.push(a))}var s=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=t.sparqlStar,this._indent=np(t.indent)?t.indent:"  ",this._newline=np(t.newline)?t.newline:`
`,this._explicitDatatype=!!t.explicitDatatype}Dr.prototype.toQuery=function(t){var e="";return t.queryType&&(e+=t.queryType.toUpperCase()+" "),t.reduced&&(e+="REDUCED "),t.distinct&&(e+="DISTINCT "),t.variables?e+=ta(t.variables,void 0,function(r){return qu(r)?this.toEntity(r):"("+this.toExpression(r.expression)+" AS "+xb(r.variable)+")"},this)+" ":t.template&&(e+=this.group(t.template,!0)+this._newline),t.from&&(e+=this.graphs("FROM ",t.from.default)+this.graphs("FROM NAMED ",t.from.named)),t.where&&(e+="WHERE "+this.group(t.where,!0)+this._newline),t.updates&&(e+=ta(t.updates,";"+this._newline,this.toUpdate,this)),t.group&&(e+="GROUP BY "+ta(t.group,void 0,function(r){var n=qu(r.expression)?this.toEntity(r.expression):"("+this.toExpression(r.expression)+")";return r.variable?"("+n+" AS "+xb(r.variable)+")":n},this)+this._newline),t.having&&(e+="HAVING ("+ta(t.having,void 0,this.toExpression,this)+")"+this._newline),t.order&&(e+="ORDER BY "+ta(t.order,void 0,function(r){var n="("+this.toExpression(r.expression)+")";return r.descending?"DESC "+n:n},this)+this._newline),t.offset&&(e+="OFFSET "+t.offset+this._newline),t.limit&&(e+="LIMIT "+t.limit+this._newline),t.values&&(e+=this.values(t)),e=this.baseAndPrefixes(t)+e,e.trim()};Dr.prototype.baseAndPrefixes=function(t){var e=t.base?"BASE <"+t.base+">"+this._newline:"",r="";for(var n in t.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+t.prefixes[n]+">"+this._newline);return e+r};Dr.prototype.toPattern=function(t){var e=t.type||t instanceof Array&&"array"||(t.subject&&t.predicate&&t.object?"triple":"");if(!(e in this))throw new Error("Unknown entry type: "+e);return this[e](t)};Dr.prototype.triple=function(t){return this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+"."};Dr.prototype.array=function(t){return ta(t,this._newline,this.toPattern,this)};Dr.prototype.bgp=function(t){return this.encodeTriples(t.triples)};Dr.prototype.encodeTriples=function(t){if(!t.length)return"";for(var e=[],r=void 0,n=void 0,a=0;a<t.length;a++){var s=t[a];Uc(s.subject,r)?Uc(s.predicate,n)?e.push(","):(n=s.predicate,e.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&e.push("."+this._newline),r=s.subject,n=s.predicate,e.push(this.toEntity(r)," ",this.toEntity(n))),e.push(" ",this.toEntity(s.object))}return e.push("."),e.join("")};Dr.prototype.graph=function(t){return"GRAPH "+this.toEntity(t.name)+" "+this.group(t)};Dr.prototype.graphs=function(t,e){return!e||e.length===0?"":ta(e,"",function(r){return t+this.toEntity(r)+this._newline},this)};Dr.prototype.group=function(t,e){return t=e!==!0?this.array(t.patterns||t.triples):this.toPattern(t.type!=="group"?t:t.patterns),t.indexOf(this._newline)===-1?"{ "+t+" }":"{"+this._newline+this.indent(t)+this._newline+"}"};Dr.prototype.query=function(t){return this.toQuery(t)};Dr.prototype.filter=function(t){return"FILTER("+this.toExpression(t.expression)+")"};Dr.prototype.bind=function(t){return"BIND("+this.toExpression(t.expression)+" AS "+xb(t.variable)+")"};Dr.prototype.optional=function(t){return"OPTIONAL "+this.group(t)};Dr.prototype.union=function(t){return ta(t.patterns,this._newline+"UNION"+this._newline,function(e){return this.group(e,!0)},this)};Dr.prototype.minus=function(t){return"MINUS "+this.group(t)};Dr.prototype.values=function(t){var e=Object.keys(t.values.reduce(function(a,s){for(var o in s)a[o]=!0;return a},{})),r,n;return e.length===1?r=n="":(r="(",n=")"),"VALUES "+r+e.join(" ")+n+" {"+this._newline+ta(t.values,this._newline,function(a){return"  "+r+ta(e,void 0,function(s){return a[s]?this.toEntity(a[s]):"UNDEF"},this)+n},this)+this._newline+"}"};Dr.prototype.service=function(t){return"SERVICE "+(t.silent?"SILENT ":"")+this.toEntity(t.name)+" "+this.group(t)};Dr.prototype.toExpression=function(t){if(qu(t))return this.toEntity(t);switch(t.type.toLowerCase()){case"aggregate":return t.aggregation.toUpperCase()+"("+(t.distinct?"DISTINCT ":"")+this.toExpression(t.expression)+(typeof t.separator=="string"?'; SEPARATOR = "'+t.separator.replace(cC,lC)+'"':"")+")";case"functioncall":return this.toEntity(t.function)+"("+ta(t.args,", ",this.toExpression,this)+")";case"operation":var e=t.operator.toUpperCase(),r=t.args||[];switch(t.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(qu(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+e+" "+(qu(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uplus":return"+("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":e="NOT IN";case"in":return this.toExpression(r[0])+" "+e+"("+(np(r[1])?r[1]:ta(r[1],", ",this.toExpression,this))+")";case"notexists":e="NOT EXISTS";case"exists":return e+" "+this.group(r[0],!0);default:return e+"("+ta(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+t.type)}};Dr.prototype.toEntity=function(t){if(qu(t))switch(t.termType){case"Wildcard":return"*";case"Variable":return xb(t);case"BlankNode":return"_:"+t.value;case"Literal":var e=t.value||"",r=t.language||"",n=t.datatype;if(t='"'+e.replace(cC,lC)+'"',r)t+="@"+r;else if(n){if(!this._explicitDatatype)switch(n.value){case vQ:return t;case mQ:if(/^\d+$/.test(e))return e+" "}t+="^^"+this.encodeIRI(n.value)}return t;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return t.graph&&t.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(t.graph)+" { "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" }  >>":"<< "+this.toEntity(t.subject)+" "+this.toEntity(t.predicate)+" "+this.toEntity(t.object)+" >>";default:return this.encodeIRI(t.value)}else{var a=t.items.map(this.toEntity,this),s=t.pathType;switch(s){case"^":case"!":return s+a[0];case"*":case"+":case"?":return"("+a[0]+s+")";default:return"("+a.join(s)+")"}}};var cC=/["\\\t\n\r\b\f]/g,lC=function(t){return wQ[t]},wQ={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};Dr.prototype.encodeIRI=function(t){var e=this._prefixRegex.exec(t);if(e){var r=this._prefixByIri[e[1]];return this._usedPrefixes[r]=!0,r+":"+e[2]}return"<"+t+">"};Dr.prototype.toUpdate=function(t){switch(t.type||t.updateType){case"load":return"LOAD"+(t.source?" "+this.toEntity(t.source):"")+(t.destination?" INTO GRAPH "+this.toEntity(t.destination):"");case"insert":return"INSERT DATA "+this.group(t.insert,!0);case"delete":return"DELETE DATA "+this.group(t.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(t.delete,!0);case"insertdelete":return(t.graph?"WITH "+this.toEntity(t.graph)+this._newline:"")+(t.delete.length?"DELETE "+this.group(t.delete,!0)+this._newline:"")+(t.insert.length?"INSERT "+this.group(t.insert,!0)+this._newline:"")+(t.using?this.graphs("USING ",t.using.default):"")+(t.using?this.graphs("USING NAMED ",t.using.named):"")+"WHERE "+this.group(t.where,!0);case"add":case"copy":case"move":return t.type.toUpperCase()+" "+(t.silent?"SILENT ":"")+(t.source.default?"DEFAULT":this.toEntity(t.source.name))+" TO "+this.toEntity(t.destination.name);case"create":case"clear":case"drop":return t.type.toUpperCase()+(t.silent?" SILENT ":" ")+(t.graph.default?"DEFAULT":t.graph.named?"NAMED":t.graph.all?"ALL":"GRAPH "+this.toEntity(t.graph.name));default:throw new Error("Unknown update query type: "+t.type)}};Dr.prototype.indent=function(t){return t.replace(/^/gm,this._indent)};function xb(t){return"?"+t.value}function np(t){return typeof t=="string"}function qu(t){return typeof t.termType=="string"}function Uc(t,e){if(!t||!qu(t)||!e||!qu(e)||t.termType!==e.termType)return!1;switch(t.termType){case"Literal":return t.value===e.value&&t.language===e.language&&Uc(t.datatype,e.datatype);case"Quad":return Uc(t.subject,e.subject)&&Uc(t.predicate,e.predicate)&&Uc(t.object,e.object)&&Uc(t.graph,e.graph);default:return t.value===e.value}}function ta(t,e,r,n){return t.map(r,n).join(np(e)?e:" ")}var SQ=function(e={}){return{stringify:function(r){var n=Object.create(e);return n.prefixes=r.prefixes,new Dr(n).toQuery(r)},createGenerator:function(){return new Dr(e)}}},yo=gQ.Parser,TQ=SQ,EQ=KA.Wildcard,{DataFactory:OQ}=ft,_0={Parser:function({prefixes:t,baseIRI:e,factory:r,sparqlStar:n,skipValidation:a,skipUngroupedVariableCheck:s,pathOnly:o}={}){var u={};for(var c in t||{})u[c]=t[c];var l=new yo;return l.parse=function(){return yo.base=e||"",yo.prefixes=Object.create(u),yo.factory=r||new OQ,yo.sparqlStar=!!n,yo.pathOnly=!!o,yo.skipValidation=!!a||!!s,yo.prototype.parse.apply(l,arguments)},l._resetBlanks=yo._resetBlanks,l},Generator:TQ,Wildcard:EQ},AQ=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xQ=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RQ=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AQ(e,t,r);return xQ(e,t),e};Object.defineProperty(Tf,"__esModule",{value:!0});const rt=RQ(Sf),IQ=ft,PQ=nr,DQ=_0;class NQ{constructor(e){this.dataFactory=e||new IQ.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,r=!0){return this.flattenMulti({type:rt.types.ALT,input:e},r)}createAsk(e){return{type:rt.types.ASK,input:e}}createBoundAggregate(e,r,n,a,s){const o=this.createAggregateExpression(r,n,a,s);return o.variable=e,o}createBgp(e){return{type:rt.types.BGP,patterns:e}}createConstruct(e,r){return{type:rt.types.CONSTRUCT,input:e,template:r}}createDescribe(e,r){return{type:rt.types.DESCRIBE,input:e,terms:r}}createDistinct(e){return{type:rt.types.DISTINCT,input:e}}createExtend(e,r,n){return{type:rt.types.EXTEND,input:e,variable:r,expression:n}}createFrom(e,r,n){return{type:rt.types.FROM,input:e,default:r,named:n}}createFilter(e,r){return{type:rt.types.FILTER,input:e,expression:r}}createGraph(e,r){return{type:rt.types.GRAPH,input:e,name:r}}createGroup(e,r,n){return{type:rt.types.GROUP,input:e,variables:r,aggregates:n}}createInv(e){return{type:rt.types.INV,path:e}}createJoin(e,r=!0){return this.flattenMulti({type:rt.types.JOIN,input:e},r)}createLeftJoin(e,r,n){return n?{type:rt.types.LEFT_JOIN,input:[e,r],expression:n}:{type:rt.types.LEFT_JOIN,input:[e,r]}}createLink(e){return{type:rt.types.LINK,iri:e}}createMinus(e,r){return{type:rt.types.MINUS,input:[e,r]}}createNop(){return{type:rt.types.NOP}}createNps(e){return{type:rt.types.NPS,iris:e}}createOneOrMorePath(e){return{type:rt.types.ONE_OR_MORE_PATH,path:e}}createOrderBy(e,r){return{type:rt.types.ORDER_BY,input:e,expressions:r}}createPath(e,r,n,a){return a?{type:rt.types.PATH,subject:e,predicate:r,object:n,graph:a}:{type:rt.types.PATH,subject:e,predicate:r,object:n,graph:this.dataFactory.defaultGraph()}}createPattern(e,r,n,a){const s=this.dataFactory.quad(e,r,n,a);return s.type=rt.types.PATTERN,s}createProject(e,r){return{type:rt.types.PROJECT,input:e,variables:r}}createReduced(e){return{type:rt.types.REDUCED,input:e}}createSeq(e,r=!0){return this.flattenMulti({type:rt.types.SEQ,input:e},r)}createService(e,r,n){return{type:rt.types.SERVICE,input:e,name:r,silent:!!n}}createSlice(e,r,n){return r=r||0,n!==void 0?{type:rt.types.SLICE,input:e,start:r,length:n}:{type:rt.types.SLICE,input:e,start:r}}createUnion(e,r=!0){return this.flattenMulti({type:rt.types.UNION,input:e},r)}createValues(e,r){return{type:rt.types.VALUES,variables:e,bindings:r}}createZeroOrMorePath(e){return{type:rt.types.ZERO_OR_MORE_PATH,path:e}}createZeroOrOnePath(e){return{type:rt.types.ZERO_OR_ONE_PATH,path:e}}createAggregateExpression(e,r,n,a){return a?{type:rt.types.EXPRESSION,expressionType:rt.expressionTypes.AGGREGATE,aggregator:e,expression:r,separator:a,distinct:n}:{type:rt.types.EXPRESSION,expressionType:rt.expressionTypes.AGGREGATE,aggregator:e,expression:r,distinct:n}}createExistenceExpression(e,r){return{type:rt.types.EXPRESSION,expressionType:rt.expressionTypes.EXISTENCE,not:e,input:r}}createNamedExpression(e,r){return{type:rt.types.EXPRESSION,expressionType:rt.expressionTypes.NAMED,name:e,args:r}}createOperatorExpression(e,r){return{type:rt.types.EXPRESSION,expressionType:rt.expressionTypes.OPERATOR,operator:e,args:r}}createTermExpression(e){return{type:rt.types.EXPRESSION,expressionType:rt.expressionTypes.TERM,term:e}}createWildcardExpression(){return{type:rt.types.EXPRESSION,expressionType:rt.expressionTypes.WILDCARD,wildcard:new DQ.Wildcard}}createTerm(e){return(0,PQ.stringToTerm)(e,this.dataFactory)}createCompositeUpdate(e){return{type:rt.types.COMPOSITE_UPDATE,updates:e}}createDeleteInsert(e,r,n){const a={type:rt.types.DELETE_INSERT};return e&&(a.delete=e),r&&(a.insert=r),n&&(a.where=n),a}createLoad(e,r,n){const a={type:rt.types.LOAD,source:e};return r&&(a.destination=r),this.addSilent(a,!!n)}createClear(e,r){return this.addSilent({type:rt.types.CLEAR,source:e},!!r)}createCreate(e,r){return this.addSilent({type:rt.types.CREATE,source:e},!!r)}createDrop(e,r){return this.addSilent({type:rt.types.DROP,source:e},!!r)}createAdd(e,r,n){return this.addSilent({type:rt.types.ADD,source:e,destination:r},!!n)}createMove(e,r,n){return this.addSilent({type:rt.types.MOVE,source:e,destination:r},!!n)}createCopy(e,r,n){return this.addSilent({type:rt.types.COPY,source:e,destination:r},!!n)}addSilent(e,r){return r&&(e.silent=r),e}flattenMulti(e,r){if(!r)return e;const n=e.type,a=e.input;let s=[];for(const o of a)o.type===n?s.push(...o.input):s.push(o);return e.input=s,e}}Tf.default=NQ;var g0={},jQ=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(g0,"__esModule",{value:!0});const je=Sf,vP=jQ(Tf),CQ=on;let MQ=class hi{static flatten(e){return Array.prototype.concat(...e).filter(r=>r)}static objectify(e){if(e.termType){if(e.termType==="Quad")return{type:"pattern",termType:"Quad",subject:hi.objectify(e.subject),predicate:hi.objectify(e.predicate),object:hi.objectify(e.object),graph:hi.objectify(e.graph)};{let r={termType:e.termType,value:e.value};return e.language&&(r.language=e.language),e.datatype&&(r.datatype=hi.objectify(e.datatype)),r}}if(Array.isArray(e))return e.map(r=>hi.objectify(r));if(e===Object(e)){let r={};for(let n of Object.keys(e))r[n]=hi.objectify(e[n]);return r}return e}static inScopeVariables(e){const r=[];function n(s){r.find(o=>s.value===o.value)||r.push(s)}function a(s){s.subject.termType==="Variable"&&n(s.subject),s.predicate.termType==="Variable"&&n(s.predicate),s.object.termType==="Variable"&&n(s.object),s.graph.termType==="Variable"&&n(s.graph),s.subject.termType==="Quad"&&a(s.subject),s.predicate.termType==="Quad"&&a(s.predicate),s.object.termType==="Quad"&&a(s.object),s.graph.termType==="Quad"&&a(s.graph)}return hi.recurseOperation(e,{[je.types.EXPRESSION]:s=>(s.expressionType===je.expressionTypes.AGGREGATE&&s.variable&&n(s.variable),!0),[je.types.EXTEND]:s=>(n(s.variable),!0),[je.types.GRAPH]:s=>(s.name.termType==="Variable"&&n(s.name),!0),[je.types.GROUP]:s=>(s.variables.forEach(n),!0),[je.types.PATH]:s=>(s.subject.termType==="Variable"&&n(s.subject),s.object.termType==="Variable"&&n(s.object),s.graph.termType==="Variable"&&n(s.graph),s.subject.termType==="Quad"&&a(s.subject),s.object.termType==="Quad"&&a(s.object),s.graph.termType==="Quad"&&a(s.graph),!0),[je.types.PATTERN]:s=>(a(s),!0),[je.types.PROJECT]:s=>(s.variables.forEach(n),!1),[je.types.SERVICE]:s=>(s.name.termType==="Variable"&&n(s.name),!0),[je.types.VALUES]:s=>(s.variables.forEach(n),!0)}),r}static recurseOperation(e,r){let n=e,a=!0;const s=r[e.type];if(s&&(a=s(e)),!a)return;let o=u=>hi.recurseOperation(u,r);switch(n.type){case je.types.ALT:n.input.map(o);break;case je.types.ASK:o(n.input);break;case je.types.BGP:n.patterns.forEach(o);break;case je.types.CONSTRUCT:o(n.input),n.template.map(o);break;case je.types.DESCRIBE:o(n.input);break;case je.types.DISTINCT:o(n.input);break;case je.types.EXPRESSION:n.expressionType===je.expressionTypes.EXISTENCE&&o(n.input);break;case je.types.EXTEND:o(n.input),o(n.expression);break;case je.types.FILTER:o(n.input),o(n.expression);break;case je.types.FROM:o(n.input);break;case je.types.GRAPH:o(n.input);break;case je.types.GROUP:o(n.input),n.aggregates.forEach(o);break;case je.types.INV:o(n.path);break;case je.types.JOIN:n.input.map(o);break;case je.types.LEFT_JOIN:n.input.map(o),n.expression&&o(n.expression);break;case je.types.LINK:break;case je.types.MINUS:n.input.map(o);break;case je.types.NOP:break;case je.types.NPS:break;case je.types.ONE_OR_MORE_PATH:o(n.path);break;case je.types.ORDER_BY:o(n.input),n.expressions.forEach(o);break;case je.types.PATH:o(n.predicate);break;case je.types.PATTERN:break;case je.types.PROJECT:o(n.input);break;case je.types.REDUCED:o(n.input);break;case je.types.SEQ:n.input.map(o);break;case je.types.SERVICE:o(n.input);break;case je.types.SLICE:o(n.input);break;case je.types.UNION:n.input.map(o);break;case je.types.VALUES:break;case je.types.ZERO_OR_MORE_PATH:o(n.path);break;case je.types.ZERO_OR_ONE_PATH:o(n.path);break;case je.types.COMPOSITE_UPDATE:n.updates.forEach(u=>o(u));break;case je.types.DELETE_INSERT:n.delete&&n.delete.forEach(u=>o(u)),n.insert&&n.insert.forEach(u=>o(u)),n.where&&o(n.where);break;case je.types.LOAD:break;case je.types.CLEAR:break;case je.types.CREATE:break;case je.types.DROP:break;case je.types.ADD:break;case je.types.MOVE:break;case je.types.COPY:break;default:throw new Error(`Unknown Operation type ${n.type}`)}}static mapOperation(e,r,n){let a=e,s=!0,o=!0;n=n||new vP.default;const u=r[e.type];if(u){const d=u(e,n);a=d.result,s=d.recurse,o=d.copyMetadata!==!1}let c;if(o&&(a.metadata||e.metadata)&&(c={...a.metadata,...e.metadata}),!s)return c&&(a.metadata=c),a;let l=d=>hi.mapOperation(d,r,n);switch(a.type){case je.types.ALT:a=n.createAlt(a.input.map(l));break;case je.types.ASK:a=n.createAsk(l(a.input));break;case je.types.BGP:a=n.createBgp(a.patterns.map(l));break;case je.types.CONSTRUCT:a=n.createConstruct(l(a.input),a.template.map(l));break;case je.types.DESCRIBE:a=n.createDescribe(l(a.input),a.terms);break;case je.types.DISTINCT:a=n.createDistinct(l(a.input));break;case je.types.EXPRESSION:a=hi.mapExpression(a,r,n);break;case je.types.EXTEND:a=n.createExtend(l(a.input),a.variable,l(a.expression));break;case je.types.FILTER:a=n.createFilter(l(a.input),l(a.expression));break;case je.types.FROM:a=n.createFrom(l(a.input),[...a.default],[...a.named]);break;case je.types.GRAPH:a=n.createGraph(l(a.input),a.name);break;case je.types.GROUP:a=n.createGroup(l(a.input),[].concat(a.variables),a.aggregates.map(l));break;case je.types.INV:a=n.createInv(l(a.path));break;case je.types.JOIN:a=n.createJoin(a.input.map(l));break;case je.types.LEFT_JOIN:a=n.createLeftJoin(l(a.input[0]),l(a.input[1]),a.expression?l(a.expression):void 0);break;case je.types.LINK:a=n.createLink(a.iri);break;case je.types.MINUS:a=n.createMinus(l(a.input[0]),l(a.input[1]));break;case je.types.NOP:a=n.createNop();break;case je.types.NPS:a=n.createNps([].concat(a.iris));break;case je.types.ONE_OR_MORE_PATH:a=n.createOneOrMorePath(l(a.path));break;case je.types.ORDER_BY:a=n.createOrderBy(l(a.input),a.expressions.map(l));break;case je.types.PATH:a=n.createPath(a.subject,l(a.predicate),a.object,a.graph);break;case je.types.PATTERN:a=n.createPattern(a.subject,a.predicate,a.object,a.graph);break;case je.types.PROJECT:a=n.createProject(l(a.input),[...a.variables]);break;case je.types.REDUCED:a=n.createReduced(l(a.input));break;case je.types.SEQ:a=n.createSeq(a.input.map(l));break;case je.types.SERVICE:a=n.createService(l(a.input),a.name,a.silent);break;case je.types.SLICE:a=n.createSlice(l(a.input),a.start,a.length);break;case je.types.UNION:a=n.createUnion(a.input.map(l));break;case je.types.VALUES:a=n.createValues([].concat(a.variables),a.bindings.map(d=>Object.assign({},d)));break;case je.types.ZERO_OR_MORE_PATH:a=n.createZeroOrMorePath(l(a.path));break;case je.types.ZERO_OR_ONE_PATH:a=n.createZeroOrOnePath(l(a.path));break;case je.types.COMPOSITE_UPDATE:a=n.createCompositeUpdate(a.updates.map(l));break;case je.types.DELETE_INSERT:a=n.createDeleteInsert(a.delete?a.delete.map(l):void 0,a.insert?a.insert.map(l):void 0,a.where?l(a.where):void 0);break;case je.types.LOAD:a=n.createLoad(a.source,a.destination,a.silent);break;case je.types.CLEAR:a=n.createClear(a.source,a.silent);break;case je.types.CREATE:a=n.createCreate(a.source,a.silent);break;case je.types.DROP:a=n.createDrop(a.source,a.silent);break;case je.types.ADD:a=n.createAdd(a.source,a.destination);break;case je.types.MOVE:a=n.createMove(a.source,a.destination);break;case je.types.COPY:a=n.createCopy(a.source,a.destination);break;default:throw new Error(`Unknown Operation type ${a.type}`)}return c&&(a.metadata=c),a}static mapExpression(e,r,n){let a=e,s=!0;n=n||new vP.default;const o=r[e.expressionType];if(o&&({result:a,recurse:s}=o(e,n)),!s)return a;let u=c=>hi.mapOperation(c,r,n);switch(e.expressionType){case je.expressionTypes.AGGREGATE:return e.variable?n.createBoundAggregate(e.variable,e.aggregator,u(e.expression),e.distinct,e.separator):n.createAggregateExpression(e.aggregator,u(e.expression),e.distinct,e.separator);case je.expressionTypes.EXISTENCE:return n.createExistenceExpression(e.not,u(e.input));case je.expressionTypes.NAMED:return n.createNamedExpression(e.name,e.args.map(u));case je.expressionTypes.OPERATOR:return n.createOperatorExpression(e.operator,e.args.map(u));case je.expressionTypes.TERM:return n.createTermExpression(e.term);case je.expressionTypes.WILDCARD:return n.createWildcardExpression();default:throw new Error(`Unknown Expression type ${e.expressionType}`)}}static cloneOperation(e){return hi.mapOperation(e,{})}static cloneExpression(e){return hi.mapExpression(e,{})}static createUniqueVariable(e,r,n){let a=0,s=e;for(;r[s];)s=`${e}${a++}`;return n.variable(s)}static isSimpleTerm(e){return e.termType!==void 0&&e.termType!=="Quad"&&e.termType!=="Wildcard"}static isQuad(e){return e.termType==="Quad"}static hasQuadVariables(e){return(0,CQ.someTermsNested)(e,r=>r.termType==="Variable")}static isWildcard(e){return e.termType==="Wildcard"}};g0.default=MQ;var FQ=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),LQ=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BQ=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&FQ(e,t,r);return LQ(e,t),e},dC=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(XA,"__esModule",{value:!0});const $Q=yQ,UQ=nr,Qh=BQ(Sf),qQ=dC(Tf),Ei=dC(g0),VQ=_0.Parser,Si=Qh.types;let Gd=new Set,fC=0,V_=!1,Qe;function HQ(t,e){e=e||{},Qe=new qQ.default(e.dataFactory);let r;if(kQ(t)){let n=new VQ(e);n._resetBlanks(),r=n.parse(t)}else r=t;return hC(r,e.quads,e.blankToVariable)}XA.default=HQ;function hC(t,e,r){if(Gd=new Set,fC=0,V_=!!e,!t.type)return Qe.createNop();if(t.type!=="query"&&t.type!=="update")throw new Error("Translate only works on complete query or update objects.");let n;if(zE(t),t.type==="query"){const a={type:"group",patterns:t.where||[]};n=Mo(a),n=JQ(t,n)}else t.type==="update"&&(n=ZQ(t));return r&&(n=bC(n)),n}function kQ(t){return typeof t=="string"}function pC(t){return!!(t!=null&&t.termType)}function QQ(t){return t.subject&&t.predicate&&t.object}function Op(t){return(t==null?void 0:t.termType)==="Variable"}function zE(t){if(pC(t))Op(t)&&Gd.add(`?${t.value}`);else if(Array.isArray(t))for(const e of t)zE(e);else if(t&&typeof t=="object")for(let e of Object.keys(t))e.startsWith("?")&&Gd.add(e),zE(t[e])}function jn(t){let e={};if(QQ(t)){const r=[jn(t.subject),jn(t.predicate),jn(t.object),t.graph?jn(t.graph):{}];Object.assign(e,...r)}else if(pC(t))Op(t)&&(e[t.value]=t);else if(t.type==="bgp"){const r=t.triples;Object.assign(e,...r.map(jn))}else if(t.type==="path")Object.assign(e,...t.items.map(jn));else if(t.type==="group"||t.type==="union"||t.type==="optional")Object.assign(e,...t.patterns.map(jn));else if(t.type==="service"||t.type==="graph")Object.assign(e,jn(t.name)),Object.assign(e,...t.patterns.map(jn));else if(t.type==="bind")Object.assign(e,jn(t.variable));else if(t.type==="values"){if(t.values.length>0){const r=Object.keys(t.values[0]).map(n=>Qe.createTerm(n));Object.assign(e,...r.map(jn))}}else if(t.type==="query"&&(t.queryType==="SELECT"||t.queryType==="DESCRIBE")){t.where&&t.variables.some(Ei.default.isWildcard)&&Object.assign(e,...t.where.map(jn));for(const r of t.variables)Op(r)?Object.assign(e,jn(r)):r.variable&&Object.assign(e,jn(r.variable));if(t.queryType==="SELECT"){if(t.group)for(const r of t.group)r.variable&&Object.assign(e,jn(r.variable));if(t.values){const r={type:"values",values:t.values};Object.assign(e,jn(r))}}}return e}function Mo(t){let e=[],r=[];if("patterns"in t)for(let a of t.patterns)(a.type==="filter"?e:r).push(a);if(t.type==="bgp")return GQ(t);let n;if(t.type==="union")n=Qe.createUnion(r.map(a=>(a.type!=="group"&&(a={type:"group",patterns:[a]}),Mo(a))));else{if(t.type==="graph")return WQ(t);if(t.type==="group")n=r.reduce(KQ,Qe.createBgp([]));else if(t.type==="values")n=yC(t);else if(t.type==="query")n=hC(t,V_,!1);else throw new Error(`Unexpected type: ${t.type}`)}if(e.length>0){let a=e.map(s=>Zi(s.expression));a.length>0&&(n=Qe.createFilter(n,a.reduce((s,o)=>Qe.createOperatorExpression("&&",[s,o]))))}return n}function Zi(t){if(Ei.default.isSimpleTerm(t))return Qe.createTermExpression(t);if(Ei.default.isQuad(t))return Ei.default.hasQuadVariables(t)?Qe.createOperatorExpression("triple",[Zi(t.subject),Zi(t.predicate),Zi(t.object)]):Qe.createTermExpression(t);if(Ei.default.isWildcard(t))return Qe.createWildcardExpression();if("aggregation"in t)return Qe.createAggregateExpression(t.aggregation,Zi(t.expression),!!t.distinct,t.separator);if("function"in t)return Qe.createNamedExpression(t.function,t.args.map(Zi));if("operator"in t)return t.operator==="exists"||t.operator==="notexists"?Qe.createExistenceExpression(t.operator==="notexists",Mo(t.args[0])):((t.operator==="in"||t.operator==="notin")&&(t.args=[t.args[0]].concat(t.args[1])),Qe.createOperatorExpression(t.operator,t.args.map(Zi)));throw new Error(`Unknown expression: ${JSON.stringify(t)}`)}function GQ(t){let e=[],r=[];for(let n of t.triples)if("pathType"in n.predicate){let a=zQ(n);for(let s of a)s.type===Si.PATH?(e.length>0&&r.push(Qe.createBgp(e)),e=[],r.push(s)):e.push(s)}else e.push(JA(n));return e.length>0&&r.push(Qe.createBgp(e)),r.length===1?r[0]:Qe.createJoin(r)}function zQ(t){let e=t.subject,r=Dc(t.predicate),n=t.object;return WE(e,r,n)}function Dc(t){if(Ei.default.isSimpleTerm(t)){if(t.termType==="NamedNode")return Qe.createLink(t);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(t)}`)}if(t.pathType==="^")return Qe.createInv(Dc(t.items[0]));if(t.pathType==="!"){let e=[],r=[],n;"pathType"in t.items[0]&&t.items[0].pathType==="|"?n=t.items[0].items:n=t.items;for(let o of n)if(Ei.default.isSimpleTerm(o))e.push(o);else if(o.pathType==="^")r.push(o.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(o)}`);let a=Qe.createNps(e),s=Qe.createInv(Qe.createNps(r));return r.length===0?a:e.length===0?s:Qe.createAlt([a,s])}if(t.pathType==="/")return Qe.createSeq(t.items.map(Dc));if(t.pathType==="|")return Qe.createAlt(t.items.map(Dc));if(t.pathType==="*")return Qe.createZeroOrMorePath(Dc(t.items[0]));if(t.pathType==="+")return Qe.createOneOrMorePath(Dc(t.items[0]));if(t.pathType==="?")return Qe.createZeroOrOnePath(Dc(t.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(t)}`)}function WE(t,e,r){if(e.type===Si.LINK)return[Qe.createPattern(t,e.iri,r)];if(e.type===Si.INV)return WE(r,e.path,t);if(e.type===Si.SEQ){let n=t;return Ei.default.flatten(e.input.map((a,s)=>{const o=s===e.input.length-1?r:zd(),u=WE(n,a,o);return o.termType==="Variable"&&(n=o),u}))}return[Qe.createPath(t,e,r)]}function zd(){let t=`?var${fC++}`;return Gd.has(t)?zd():(Gd.add(t),Qe.createTerm(t))}function JA(t){if("pathType"in t.predicate)throw new Error("Trying to translate property path to quad.");return Qe.createPattern(t.subject,t.predicate,t.object,t.graph)}function WQ(t){const e={type:"group",patterns:t.patterns};let r=Mo(e);return V_?r=qc(r,t.name):r=Qe.createGraph(r,t.name),r}let XQ=Object.values(Si);function qc(t,e,r){if(t.type===Si.GRAPH){if(r)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");t=qc(t.input,t.name)}else if(t.type===Si.BGP)t.patterns=t.patterns.map(n=>(r&&(n.subject.equals(e)&&(n.subject=r),n.predicate.equals(e)&&(n.predicate=r),n.object.equals(e)&&(n.object=r)),n.graph.termType==="DefaultGraph"&&(n.graph=e),n));else if(t.type===Si.PATH)r&&(t.subject.equals(e)&&(t.subject=r),t.object.equals(e)&&(t.object=r)),t.graph.termType==="DefaultGraph"&&(t.graph=e);else if(t.type===Si.PROJECT&&!r)t.variables.some(n=>n.equals(e))||(r=zd()),t.input=qc(t.input,e,r);else if(t.type===Si.EXTEND&&!r)t.variable.equals(e)&&(r=zd()),t.input=qc(t.input,e,r);else for(let n of Object.keys(t))Array.isArray(t[n])?t[n]=t[n].map(a=>qc(a,e,r)):XQ.indexOf(t[n].type)>=0?t[n]=qc(t[n],e,r):r&&Op(t[n])&&t[n].equals(e)&&(t[n]=r);return t}function KQ(t,e){if(e.type==="optional"){const r=Mo({type:"group",patterns:e.patterns});r.type===Si.FILTER?t=Qe.createLeftJoin(t,r.input,r.expression):t=Qe.createLeftJoin(t,r)}else if(e.type==="minus"){const r=Mo({type:"group",patterns:e.patterns});t=Qe.createMinus(t,r)}else if(e.type==="bind")t=Qe.createExtend(t,e.variable,Zi(e.expression));else if(e.type==="service"){const r={type:"group",patterns:e.patterns},n=Qe.createService(Mo(r),e.name,e.silent);t=wP(t,n)}else{const r=Mo(e);t=wP(t,r)}return t}function wP(t,e){return t.type===Si.BGP&&e.type===Si.BGP?t=Qe.createBgp([...t.patterns,...e.patterns]):t.type===Si.BGP&&t.patterns.length===0?t=e:e.type===Si.BGP&&e.patterns.length===0||(t=Qe.createJoin([t,e])),t}function yC(t){let e=(t.values.length===0?[]:Object.keys(t.values[0])).map(Qe.createTerm.bind(Qe)),r=t.values.map(n=>{let a=Object.keys(n);a=a.filter(o=>n[o]!==void 0);let s={};for(let o of a)s[o]=n[o];return s});return Qe.createValues(e,r)}function JQ(t,e){const r=t,n=[],a={};if(r.variables=r.variables&&r.variables.map(o=>ip(o,a)),r.having=r.having&&r.having.map(o=>ip(o,a)),r.order=r.order&&r.order.map(o=>ip(o,a)),r.group||Object.keys(a).length>0){const o=Object.keys(a).map(c=>YQ(a[c],Qe.createTerm(c))),u=[];if(r.group)for(const c of r.group)if(Ei.default.isSimpleTerm(c.expression))u.push(c.expression);else{const l="variable"in c?c.variable:zd();e=Qe.createExtend(e,l,Zi(c.expression)),u.push(l)}e=Qe.createGroup(e,u,o)}if(r.having)for(let o of r.having)e=Qe.createFilter(e,Zi(o));t.values&&(e=Qe.createJoin([e,yC(t)]));let s=[];if(t.queryType==="SELECT"||t.queryType==="DESCRIBE")if(t.variables.some(o=>o&&Ei.default.isWildcard(o)))s=Object.values(jn(t)).sort((o,u)=>o.value.localeCompare(u.value));else for(let o of t.variables)Op(o)||!("variable"in o)?s.push(o):o.variable&&(s.push(o.variable),n.push(o));for(let o of n)e=Qe.createExtend(e,o.variable,Zi(o.expression));return r.order&&(e=Qe.createOrderBy(e,r.order.map(o=>{let u=Zi(o.expression);return o.descending&&(u=Qe.createOperatorExpression("desc",[u])),u}))),t.queryType==="SELECT"&&(e=Qe.createProject(e,s)),r.distinct&&(e=Qe.createDistinct(e)),r.reduced&&(e=Qe.createReduced(e)),t.queryType==="CONSTRUCT"?e=Qe.createConstruct(e,(t.template||[]).map(JA)):t.queryType==="ASK"?e=Qe.createAsk(e):t.queryType==="DESCRIBE"&&(e=Qe.createDescribe(e,s)),(r.offset||r.limit)&&(e=Qe.createSlice(e,r.offset||0,r.limit)),r.from&&(e=Qe.createFrom(e,r.from.default,r.from.named)),e}function ip(t,e){if("type"in t&&t.type==="aggregate"){let r=!1,n;for(let a of Object.keys(e))if($Q(e[a],t)){n=Qe.createTerm(a),r=!0;break}return r||(n=zd(),e[(0,UQ.termToString)(n)]=t),n}return"expression"in t&&t.expression?{...t,expression:ip(t.expression,e)}:"args"in t&&t.args?{...t,args:t.args.map(r=>ip(r,e))}:t}function YQ(t,e){if(t.type!=="aggregate"||!t.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(t)}`);const r=Zi(t);return r.variable=e,r}function ZQ(t){return t.updates.length===1?SP(t.updates[0]):Qe.createCompositeUpdate(t.updates.map(SP))}function SP(t){if("type"in t){if(t.type==="load")return rG(t);if(t.type==="clear"||t.type==="create"||t.type==="drop")return tG(t);if(t.type==="add"||t.type==="copy"||t.type==="move")return nG(t)}else if(t.updateType==="insertdelete"||t.updateType==="deletewhere"||t.updateType==="delete"||t.updateType==="insert")return eG(t);throw new Error(`Unknown update type ${JSON.stringify(t)}`)}function eG(t){if(!V_)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let e=[],r=[],n;if(t.delete&&(e=Ei.default.flatten(t.delete.map(a=>TP(a,t.graph)))),t.insert&&(r=Ei.default.flatten(t.insert.map(a=>TP(a,t.graph)))),t.where&&t.where.length>0){n=Mo({type:"group",patterns:t.where});const a=t.using;a?n=Qe.createFrom(n,a.default,a.named):t.graph&&(n=qc(n,t.graph))}else t.updateType==="deletewhere"&&e.length>0&&(n=Qe.createBgp(e));return Qe.createDeleteInsert(e.length>0?e:void 0,r.length>0?r:void 0,n)}function TP(t,e){let r=e;t.type==="graph"&&(r=t.name);let n=t.triples;return r&&(n=n.map(a=>Object.assign(a,{graph:r}))),n.map(JA)}function tG(t){let e;switch(Ei.default.isSimpleTerm(t.graph)?e=t.graph:t.graph.all?e="ALL":t.graph.default?e="DEFAULT":t.graph.named?e="NAMED":e=t.graph.name,t.type){case"clear":return Qe.createClear(e,t.silent);case"create":return Qe.createCreate(e,t.silent);case"drop":return Qe.createDrop(e,t.silent)}}function rG(t){return Qe.createLoad(t.source,t.destination,t.silent)}function nG(t){const e=t.source.default?"DEFAULT":t.source.name,r=t.destination.default?"DEFAULT":t.destination.name;switch(t.type){case"copy":return Qe.createCopy(e,r,t.silent);case"move":return Qe.createMove(e,r,t.silent);case"add":return Qe.createAdd(e,r,t.silent)}}function bC(t){const e={},r=Array.from(Gd).reduce((a,s)=>(a[s]=!0,a),{});return Ei.default.mapOperation(t,{[Qh.types.DELETE_INSERT]:a=>({result:a,recurse:!1}),[Qh.types.PATH]:(a,s)=>({result:s.createPath(n(a.subject),a.predicate,n(a.object),n(a.graph)),recurse:!1}),[Qh.types.PATTERN]:(a,s)=>({result:s.createPattern(n(a.subject),n(a.predicate),n(a.object),n(a.graph)),recurse:!1}),[Qh.types.CONSTRUCT]:a=>({result:Qe.createConstruct(bC(a.input),a.template),recurse:!1})});function n(a){if(a.termType==="BlankNode"){let s=e[a.value];return s||(s=Ei.default.createUniqueVariable(a.value,r,Qe.dataFactory),r[s.value]=!0,e[a.value]=s),s}return a}}var Wd={},_C={},Mt={},H_={},Lt={},m0=gC;function gC(t,e){if(!t)throw new Error(e||"Assertion failed")}gC.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var XE={exports:{}};typeof Object.create=="function"?XE.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:XE.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Ef=XE.exports,iG=m0,aG=Ef;Lt.inherits=aG;function sG(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function oG(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),a=0;a<t.length;a+=2)r.push(parseInt(t[a]+t[a+1],16))}else for(var n=0,a=0;a<t.length;a++){var s=t.charCodeAt(a);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):sG(t,a)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++a)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(a=0;a<t.length;a++)r[a]=t[a]|0;return r}Lt.toArray=oG;function uG(t){for(var e="",r=0;r<t.length;r++)e+=vC(t[r].toString(16));return e}Lt.toHex=uG;function mC(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}Lt.htonl=mC;function cG(t,e){for(var r="",n=0;n<t.length;n++){var a=t[n];e==="little"&&(a=mC(a)),r+=wC(a.toString(16))}return r}Lt.toHex32=cG;function vC(t){return t.length===1?"0"+t:t}Lt.zero2=vC;function wC(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}Lt.zero8=wC;function lG(t,e,r,n){var a=r-e;iG(a%4===0);for(var s=new Array(a/4),o=0,u=e;o<s.length;o++,u+=4){var c;n==="big"?c=t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:c=t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],s[o]=c>>>0}return s}Lt.join32=lG;function dG(t,e){for(var r=new Array(t.length*4),n=0,a=0;n<t.length;n++,a+=4){var s=t[n];e==="big"?(r[a]=s>>>24,r[a+1]=s>>>16&255,r[a+2]=s>>>8&255,r[a+3]=s&255):(r[a+3]=s>>>24,r[a+2]=s>>>16&255,r[a+1]=s>>>8&255,r[a]=s&255)}return r}Lt.split32=dG;function fG(t,e){return t>>>e|t<<32-e}Lt.rotr32=fG;function hG(t,e){return t<<e|t>>>32-e}Lt.rotl32=hG;function pG(t,e){return t+e>>>0}Lt.sum32=pG;function yG(t,e,r){return t+e+r>>>0}Lt.sum32_3=yG;function bG(t,e,r,n){return t+e+r+n>>>0}Lt.sum32_4=bG;function _G(t,e,r,n,a){return t+e+r+n+a>>>0}Lt.sum32_5=_G;function gG(t,e,r,n){var a=t[e],s=t[e+1],o=n+s>>>0,u=(o<n?1:0)+r+a;t[e]=u>>>0,t[e+1]=o}Lt.sum64=gG;function mG(t,e,r,n){var a=e+n>>>0,s=(a<e?1:0)+t+r;return s>>>0}Lt.sum64_hi=mG;function vG(t,e,r,n){var a=e+n;return a>>>0}Lt.sum64_lo=vG;function wG(t,e,r,n,a,s,o,u){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+u>>>0,c+=l<u?1:0;var d=t+r+a+o+c;return d>>>0}Lt.sum64_4_hi=wG;function SG(t,e,r,n,a,s,o,u){var c=e+n+s+u;return c>>>0}Lt.sum64_4_lo=SG;function TG(t,e,r,n,a,s,o,u,c,l){var d=0,f=e;f=f+n>>>0,d+=f<e?1:0,f=f+s>>>0,d+=f<s?1:0,f=f+u>>>0,d+=f<u?1:0,f=f+l>>>0,d+=f<l?1:0;var h=t+r+a+o+c+d;return h>>>0}Lt.sum64_5_hi=TG;function EG(t,e,r,n,a,s,o,u,c,l){var d=e+n+s+u+l;return d>>>0}Lt.sum64_5_lo=EG;function OG(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}Lt.rotr64_hi=OG;function AG(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Lt.rotr64_lo=AG;function xG(t,e,r){return t>>>r}Lt.shr64_hi=xG;function RG(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}Lt.shr64_lo=RG;var Of={},EP=Lt,IG=m0;function k_(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Of.BlockHash=k_;k_.prototype.update=function(e,r){if(e=EP.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=EP.join32(e,0,e.length-n,this.endian);for(var a=0;a<e.length;a+=this._delta32)this._update(e,a,a+this._delta32)}return this};k_.prototype.digest=function(e){return this.update(this._pad()),IG(this.pending===null),this._digest(e)};k_.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,a=new Array(n+this.padLength);a[0]=128;for(var s=1;s<n;s++)a[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)a[s++]=0;a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=e>>>24&255,a[s++]=e>>>16&255,a[s++]=e>>>8&255,a[s++]=e&255}else for(a[s++]=e&255,a[s++]=e>>>8&255,a[s++]=e>>>16&255,a[s++]=e>>>24&255,a[s++]=0,a[s++]=0,a[s++]=0,a[s++]=0,o=8;o<this.padLength;o++)a[s++]=0;return a};var Af={},eo={},PG=Lt,Ls=PG.rotr32;function DG(t,e,r,n){if(t===0)return SC(e,r,n);if(t===1||t===3)return EC(e,r,n);if(t===2)return TC(e,r,n)}eo.ft_1=DG;function SC(t,e,r){return t&e^~t&r}eo.ch32=SC;function TC(t,e,r){return t&e^t&r^e&r}eo.maj32=TC;function EC(t,e,r){return t^e^r}eo.p32=EC;function NG(t){return Ls(t,2)^Ls(t,13)^Ls(t,22)}eo.s0_256=NG;function jG(t){return Ls(t,6)^Ls(t,11)^Ls(t,25)}eo.s1_256=jG;function CG(t){return Ls(t,7)^Ls(t,18)^t>>>3}eo.g0_256=CG;function MG(t){return Ls(t,17)^Ls(t,19)^t>>>10}eo.g1_256=MG;var Xd=Lt,FG=Of,LG=eo,N3=Xd.rotl32,Xf=Xd.sum32,BG=Xd.sum32_5,$G=LG.ft_1,OC=FG.BlockHash,UG=[1518500249,1859775393,2400959708,3395469782];function zs(){if(!(this instanceof zs))return new zs;OC.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Xd.inherits(zs,OC);var qG=zs;zs.blockSize=512;zs.outSize=160;zs.hmacStrength=80;zs.padLength=64;zs.prototype._update=function(e,r){for(var n=this.W,a=0;a<16;a++)n[a]=e[r+a];for(;a<n.length;a++)n[a]=N3(n[a-3]^n[a-8]^n[a-14]^n[a-16],1);var s=this.h[0],o=this.h[1],u=this.h[2],c=this.h[3],l=this.h[4];for(a=0;a<n.length;a++){var d=~~(a/20),f=BG(N3(s,5),$G(d,o,u,c),l,n[a],UG[d]);l=c,c=u,u=N3(o,30),o=s,s=f}this.h[0]=Xf(this.h[0],s),this.h[1]=Xf(this.h[1],o),this.h[2]=Xf(this.h[2],u),this.h[3]=Xf(this.h[3],c),this.h[4]=Xf(this.h[4],l)};zs.prototype._digest=function(e){return e==="hex"?Xd.toHex32(this.h,"big"):Xd.split32(this.h,"big")};var Kd=Lt,VG=Of,xf=eo,HG=m0,Fa=Kd.sum32,kG=Kd.sum32_4,QG=Kd.sum32_5,GG=xf.ch32,zG=xf.maj32,WG=xf.s0_256,XG=xf.s1_256,KG=xf.g0_256,JG=xf.g1_256,AC=VG.BlockHash,YG=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ws(){if(!(this instanceof Ws))return new Ws;AC.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=YG,this.W=new Array(64)}Kd.inherits(Ws,AC);var xC=Ws;Ws.blockSize=512;Ws.outSize=256;Ws.hmacStrength=192;Ws.padLength=64;Ws.prototype._update=function(e,r){for(var n=this.W,a=0;a<16;a++)n[a]=e[r+a];for(;a<n.length;a++)n[a]=kG(JG(n[a-2]),n[a-7],KG(n[a-15]),n[a-16]);var s=this.h[0],o=this.h[1],u=this.h[2],c=this.h[3],l=this.h[4],d=this.h[5],f=this.h[6],h=this.h[7];for(HG(this.k.length===n.length),a=0;a<n.length;a++){var p=QG(h,XG(l),GG(l,d,f),this.k[a],n[a]),y=Fa(WG(s),zG(s,o,u));h=f,f=d,d=l,l=Fa(c,p),c=u,u=o,o=s,s=Fa(p,y)}this.h[0]=Fa(this.h[0],s),this.h[1]=Fa(this.h[1],o),this.h[2]=Fa(this.h[2],u),this.h[3]=Fa(this.h[3],c),this.h[4]=Fa(this.h[4],l),this.h[5]=Fa(this.h[5],d),this.h[6]=Fa(this.h[6],f),this.h[7]=Fa(this.h[7],h)};Ws.prototype._digest=function(e){return e==="hex"?Kd.toHex32(this.h,"big"):Kd.split32(this.h,"big")};var KE=Lt,RC=xC;function ko(){if(!(this instanceof ko))return new ko;RC.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}KE.inherits(ko,RC);var ZG=ko;ko.blockSize=512;ko.outSize=224;ko.hmacStrength=192;ko.padLength=64;ko.prototype._digest=function(e){return e==="hex"?KE.toHex32(this.h.slice(0,7),"big"):KE.split32(this.h.slice(0,7),"big")};var ki=Lt,ez=Of,tz=m0,Bs=ki.rotr64_hi,$s=ki.rotr64_lo,IC=ki.shr64_hi,PC=ki.shr64_lo,du=ki.sum64,j3=ki.sum64_hi,C3=ki.sum64_lo,rz=ki.sum64_4_hi,nz=ki.sum64_4_lo,iz=ki.sum64_5_hi,az=ki.sum64_5_lo,DC=ez.BlockHash,sz=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function us(){if(!(this instanceof us))return new us;DC.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sz,this.W=new Array(160)}ki.inherits(us,DC);var NC=us;us.blockSize=1024;us.outSize=512;us.hmacStrength=192;us.padLength=128;us.prototype._prepareBlock=function(e,r){for(var n=this.W,a=0;a<32;a++)n[a]=e[r+a];for(;a<n.length;a+=2){var s=_z(n[a-4],n[a-3]),o=gz(n[a-4],n[a-3]),u=n[a-14],c=n[a-13],l=yz(n[a-30],n[a-29]),d=bz(n[a-30],n[a-29]),f=n[a-32],h=n[a-31];n[a]=rz(s,o,u,c,l,d,f,h),n[a+1]=nz(s,o,u,c,l,d,f,h)}};us.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,a=this.h[0],s=this.h[1],o=this.h[2],u=this.h[3],c=this.h[4],l=this.h[5],d=this.h[6],f=this.h[7],h=this.h[8],p=this.h[9],y=this.h[10],_=this.h[11],E=this.h[12],w=this.h[13],O=this.h[14],A=this.h[15];tz(this.k.length===n.length);for(var T=0;T<n.length;T+=2){var I=O,D=A,U=hz(h,p),H=pz(h,p),N=oz(h,p,y,_,E),R=uz(h,p,y,_,E,w),F=this.k[T],X=this.k[T+1],ne=n[T],$=n[T+1],C=iz(I,D,U,H,N,R,F,X,ne,$),Q=az(I,D,U,H,N,R,F,X,ne,$);I=dz(a,s),D=fz(a,s),U=cz(a,s,o,u,c),H=lz(a,s,o,u,c,l);var se=j3(I,D,U,H),ie=C3(I,D,U,H);O=E,A=w,E=y,w=_,y=h,_=p,h=j3(d,f,C,Q),p=C3(f,f,C,Q),d=c,f=l,c=o,l=u,o=a,u=s,a=j3(C,Q,se,ie),s=C3(C,Q,se,ie)}du(this.h,0,a,s),du(this.h,2,o,u),du(this.h,4,c,l),du(this.h,6,d,f),du(this.h,8,h,p),du(this.h,10,y,_),du(this.h,12,E,w),du(this.h,14,O,A)};us.prototype._digest=function(e){return e==="hex"?ki.toHex32(this.h,"big"):ki.split32(this.h,"big")};function oz(t,e,r,n,a){var s=t&r^~t&a;return s<0&&(s+=4294967296),s}function uz(t,e,r,n,a,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function cz(t,e,r,n,a){var s=t&r^t&a^r&a;return s<0&&(s+=4294967296),s}function lz(t,e,r,n,a,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function dz(t,e){var r=Bs(t,e,28),n=Bs(e,t,2),a=Bs(e,t,7),s=r^n^a;return s<0&&(s+=4294967296),s}function fz(t,e){var r=$s(t,e,28),n=$s(e,t,2),a=$s(e,t,7),s=r^n^a;return s<0&&(s+=4294967296),s}function hz(t,e){var r=Bs(t,e,14),n=Bs(t,e,18),a=Bs(e,t,9),s=r^n^a;return s<0&&(s+=4294967296),s}function pz(t,e){var r=$s(t,e,14),n=$s(t,e,18),a=$s(e,t,9),s=r^n^a;return s<0&&(s+=4294967296),s}function yz(t,e){var r=Bs(t,e,1),n=Bs(t,e,8),a=IC(t,e,7),s=r^n^a;return s<0&&(s+=4294967296),s}function bz(t,e){var r=$s(t,e,1),n=$s(t,e,8),a=PC(t,e,7),s=r^n^a;return s<0&&(s+=4294967296),s}function _z(t,e){var r=Bs(t,e,19),n=Bs(e,t,29),a=IC(t,e,6),s=r^n^a;return s<0&&(s+=4294967296),s}function gz(t,e){var r=$s(t,e,19),n=$s(e,t,29),a=PC(t,e,6),s=r^n^a;return s<0&&(s+=4294967296),s}var JE=Lt,jC=NC;function Qo(){if(!(this instanceof Qo))return new Qo;jC.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}JE.inherits(Qo,jC);var mz=Qo;Qo.blockSize=1024;Qo.outSize=384;Qo.hmacStrength=192;Qo.padLength=128;Qo.prototype._digest=function(e){return e==="hex"?JE.toHex32(this.h.slice(0,12),"big"):JE.split32(this.h.slice(0,12),"big")};Af.sha1=qG;Af.sha224=ZG;Af.sha256=xC;Af.sha384=mz;Af.sha512=NC;var CC={},ol=Lt,vz=Of,Hy=ol.rotl32,OP=ol.sum32,Kf=ol.sum32_3,AP=ol.sum32_4,MC=vz.BlockHash;function Xs(){if(!(this instanceof Xs))return new Xs;MC.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ol.inherits(Xs,MC);CC.ripemd160=Xs;Xs.blockSize=512;Xs.outSize=160;Xs.hmacStrength=192;Xs.padLength=64;Xs.prototype._update=function(e,r){for(var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],u=this.h[4],c=n,l=a,d=s,f=o,h=u,p=0;p<80;p++){var y=OP(Hy(AP(n,xP(p,a,s,o),e[Tz[p]+r],wz(p)),Oz[p]),u);n=u,u=o,o=Hy(s,10),s=a,a=y,y=OP(Hy(AP(c,xP(79-p,l,d,f),e[Ez[p]+r],Sz(p)),Az[p]),h),c=h,h=f,f=Hy(d,10),d=l,l=y}y=Kf(this.h[1],s,f),this.h[1]=Kf(this.h[2],o,h),this.h[2]=Kf(this.h[3],u,c),this.h[3]=Kf(this.h[4],n,l),this.h[4]=Kf(this.h[0],a,d),this.h[0]=y};Xs.prototype._digest=function(e){return e==="hex"?ol.toHex32(this.h,"little"):ol.split32(this.h,"little")};function xP(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function wz(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Sz(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var Tz=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ez=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Oz=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Az=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],xz=Lt,Rz=m0;function Jd(t,e,r){if(!(this instanceof Jd))return new Jd(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(xz.toArray(e,r))}var Iz=Jd;Jd.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Rz(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Jd.prototype.update=function(e,r){return this.inner.update(e,r),this};Jd.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=Lt,e.common=Of,e.sha=Af,e.ripemd=CC,e.hmac=Iz,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(H_);Object.defineProperty(Mt,"__esModule",{value:!0});Mt.isTermGrounded=Mt.termToSignature=Mt.quadToSignature=Mt.sha1hex=Mt.hashTerm=Mt.hashTerms=Mt.getGraphBlankNodes=Mt.uniqGraph=Mt.deindexGraph=Mt.indexGraph=Mt.getQuadsWithoutBlankNodes=Mt.getQuadsWithBlankNodes=Mt.hasValue=Mt.hashValues=Mt.getBijectionInner=Mt.getBijection=Mt.isomorphic=void 0;const Pz=H_,es=nr,Us=on;function Dz(t,e){return!!FC(t,e)}Mt.isomorphic=Dz;function FC(t,e){const r=Rb(ZE(t)),n=Rb(ZE(e));if(Object.keys(r).length!==Object.keys(n).length)return null;for(const c in r)if(r[c]!==n[c])return null;const a=eO(YE(t)),s=eO(YE(e)),o=tO(t),u=tO(e);return YA(a,s,o,u)}Mt.getBijection=FC;function YA(t,e,r,n,a,s){a||(a={}),s||(s={});const[o,u]=rO(t,r,a),[c,l]=rO(e,n,s);if(Object.keys(o).length!==Object.keys(c).length)return null;for(const f in o)if(!BC(c,o[f]))return null;let d={};for(const f of r){const h=es.termToString(f),p=u[h];for(const y in l)if(l[y]===p){d[h]=y,delete l[y];break}}if(!RP(Object.keys(d).sort(),r.map(es.termToString).sort())||!RP(LC(d).sort(),n.map(es.termToString).sort())){d=null;for(const f of r){const h=es.termToString(f);if(!o[h])for(const p of n){const y=es.termToString(p);if(!c[y]&&u[h]===l[y]){const _=ZA(h);d=YA(t,e,r,n,Object.assign(Object.assign({},o),{[h]:_}),Object.assign(Object.assign({},c),{[y]:_}))}}}}return d}Mt.getBijectionInner=YA;function RP(t,e){if(t.length!==e.length)return!1;for(let r=t.length;r--;)if(t[r]!==e[r])return!1;return!0}function LC(t){const e=[];for(const r in t)e.push(t[r]);return e}Mt.hashValues=LC;function BC(t,e){for(const r in t)if(t[r]===e)return!0;return!1}Mt.hasValue=BC;function YE(t){return t.filter(e=>Us.someTerms(e,r=>r.termType==="BlankNode"||r.termType==="Quad"&&Us.getTermsNested(r).some(n=>n.termType==="BlankNode")))}Mt.getQuadsWithBlankNodes=YE;function ZE(t){return t.filter(e=>Us.everyTerms(e,r=>r.termType!=="BlankNode"&&!(r.termType==="Quad"&&Us.getTermsNested(r).some(n=>n.termType==="BlankNode"))))}Mt.getQuadsWithoutBlankNodes=ZE;function Rb(t){const e={};for(const r of t)e[JSON.stringify(es.quadToStringQuad(r))]=!0;return e}Mt.indexGraph=Rb;function $C(t){return Object.keys(t).map(e=>es.stringQuadToQuad(JSON.parse(e)))}Mt.deindexGraph=$C;function eO(t){return $C(Rb(t))}Mt.uniqGraph=eO;function tO(t){return Us.uniqTerms(t.map(e=>Us.getBlankNodes(Us.getTermsNested(e))).reduce((e,r)=>e.concat(r),[]))}Mt.getGraphBlankNodes=tO;function rO(t,e,r){const n=Object.assign({},r),a={};let s=!0;for(;s;){const o=Object.keys(n).length;for(const c of e){const l=es.termToString(c);if(!n[l]){const[d,f]=UC(c,t,n);d&&(n[l]=f),a[l]=f}}const u={};for(const c in a){const l=a[c];u[l]===void 0?u[l]=c:u[l]=!1}for(const c in u){const l=u[c];l&&(n[l]=c)}s=o!==Object.keys(n).length}return[n,a]}Mt.hashTerms=rO;function UC(t,e,r){const n=[];let a=!0;for(const o of e){const u=Us.getTermsNested(o);if(u.some(c=>c.equals(t))){n.push(ex(o,r,t));for(const c of u)!tx(c,r)&&!c.equals(t)&&(a=!1)}}const s=ZA(n.sort().join(""));return[a,s]}Mt.hashTerm=UC;function ZA(t){return Pz.sha1().update(t).digest("hex")}Mt.sha1hex=ZA;function ex(t,e,r){return Us.getTerms(t).map(n=>qC(n,e,r)).join("|")}Mt.quadToSignature=ex;function qC(t,e,r){return t.equals(r)?"@self":t.termType==="BlankNode"?e[es.termToString(t)]||"@blank":t.termType==="Quad"?`<${ex(t,e,r)}>`:es.termToString(t)}Mt.termToSignature=qC;function tx(t,e){return t.termType!=="BlankNode"&&!(t.termType==="Quad"&&Us.getTermsNested(t).some(r=>!tx(r,e)))||!!e[es.termToString(t)]}Mt.isTermGrounded=tx;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Mt,t)})(_C);var Nz=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jz=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cz=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nz(e,t,r);return jz(e,t),e},VC=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.toSparqlJs=Wd.toSparql=void 0;const Mz=_C,Fz=nr,HC=_0,kC=Cz(Sf),Lz=VC(Tf),xi=VC(g0),tt=kC.types,Ql=kC.expressionTypes;let Vr;const zc=new Lz.default;function Bz(t,e={}){return new HC.Generator(e).stringify(QC(t))}Wd.toSparql=Bz;function QC(t){GC(),t=xW(t);let e=Br(t);return e.type==="group"?e.patterns[0]:e}Wd.toSparqlJs=QC;function GC(){Vr={project:!1,extend:[],group:[],aggregates:[],order:[]}}function Br(t){switch(t.type!==tt.EXTEND&&t.type!==tt.ORDER_BY&&t.type!==tt.GRAPH&&(Vr.project=!1),t.type){case tt.EXPRESSION:return Ks(t);case tt.ASK:return M3(t,tt.ASK);case tt.BGP:return Gz(t);case tt.CONSTRUCT:return zz(t);case tt.DESCRIBE:return M3(t,tt.DESCRIBE);case tt.DISTINCT:return Wz(t);case tt.EXTEND:return Xz(t);case tt.FROM:return Kz(t);case tt.FILTER:return Jz(t);case tt.GRAPH:return Yz(t);case tt.GROUP:return Zz(t);case tt.JOIN:return eW(t);case tt.LEFT_JOIN:return tW(t);case tt.MINUS:return rW(t);case tt.NOP:return{};case tt.ORDER_BY:return nW(t);case tt.PATH:return iW(t);case tt.PATTERN:return Ap(t);case tt.PROJECT:return M3(t,tt.PROJECT);case tt.REDUCED:return aW(t);case tt.SERVICE:return sW(t);case tt.SLICE:return oW(t);case tt.UNION:return uW(t);case tt.VALUES:return cW(t);case tt.COMPOSITE_UPDATE:return gW(t);case tt.DELETE_INSERT:return mW(t);case tt.LOAD:return vW(t);case tt.CLEAR:return wW(t);case tt.CREATE:return SW(t);case tt.DROP:return TW(t);case tt.ADD:return EW(t);case tt.MOVE:return OW(t);case tt.COPY:return AW(t)}throw new Error(`Unknown Operation type ${t.type}`)}function Ks(t){switch(t.expressionType){case Ql.AGGREGATE:return $z(t);case Ql.EXISTENCE:return Uz(t);case Ql.NAMED:return qz(t);case Ql.OPERATOR:return Vz(t);case Ql.TERM:return Hz(t);case Ql.WILDCARD:return kz(t)}throw new Error(`Unknown Expression Operation type ${t.expressionType}`)}function gl(t){switch(t.type){case tt.ALT:return lW(t);case tt.INV:return dW(t);case tt.LINK:return fW(t);case tt.NPS:return hW(t);case tt.ONE_OR_MORE_PATH:return pW(t);case tt.SEQ:return yW(t);case tt.ZERO_OR_MORE_PATH:return bW(t);case tt.ZERO_OR_ONE_PATH:return _W(t)}throw new Error(`Unknown Path type ${t.type}`)}function pd(t){return(0,Fz.termToString)(t)}function $z(t){const e={expression:Ks(t.expression),type:"aggregate",aggregation:t.aggregator,distinct:t.distinct};return t.separator&&(e.separator=t.separator),e}function Uz(t){return{type:"operation",operator:t.not?"notexists":"exists",args:xi.default.flatten([Br(t.input)])}}function qz(t){return{type:"functionCall",function:t.name,args:t.args.map(Ks)}}function Vz(t){if(t.operator==="desc"){const r={expression:Ks(t.args[0])};return r.descending=!0,r}const e={type:"operation",operator:t.operator,args:t.args.map(Ks)};return(e.operator==="in"||e.operator==="notin")&&(e.args=[e.args[0]].concat([e.args.slice(1)])),e}function Hz(t){return t.term}function kz(t){return t.wildcard}function Qz(t){return t}function Gz(t){let e=t.patterns.map(Ap);return e.length===0?null:{type:"bgp",triples:e}}function zz(t){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:t.template.map(Ap),where:xi.default.flatten([Br(t.input)])}}function Wz(t){let e=Br(t.input);return e.patterns[0].distinct=!0,e}function Xz(t){return Vr.project?(Vr.extend.push(t),Br(t.input)):xi.default.flatten([Br(t.input),{type:"bind",variable:t.variable,expression:Ks(t.expression)}])}function Kz(t){const e=Br(t.input);let r=e;return e.type==="group"&&(r=e.patterns[0]),r.from={default:t.default,named:t.named},e}function Jz(t){return{type:"group",patterns:xi.default.flatten([Br(t.input),{type:"filter",expression:Ks(t.expression)}])}}function Yz(t){return{type:"graph",patterns:xi.default.flatten([Br(t.input)]),name:t.name}}function Zz(t){const e=Br(t.input),r=t.aggregates.map(Qz);return Vr.aggregates.push(...r),Vr.group.push(...t.variables),e}function eW(t){return xi.default.flatten(t.input.map(Br)).reduce((r,n)=>(n.type!=="bgp"||r.length==0||r[r.length-1].type!=="bgp"?r.push(n):r[r.length-1].triples.push(...n.triples),r),[])}function tW(t){const e={type:"optional",patterns:[Br(t.input[1])]};return t.expression&&e.patterns.push({type:"filter",expression:Ks(t.expression)}),e.patterns=xi.default.flatten(e.patterns),xi.default.flatten([Br(t.input[0]),e])}function rW(t){let e=Br(t.input[1]);return e.type==="group"&&(e=e.patterns),Array.isArray(e)||(e=[e]),xi.default.flatten([Br(t.input[0]),{type:"minus",patterns:e}])}function nW(t){return Vr.order.push(...t.expressions),Br(t.input)}function iW(t){return{type:"bgp",triples:[{subject:t.subject,predicate:gl(t.predicate),object:t.object}]}}function Ap(t){return{subject:t.subject,predicate:t.predicate,object:t.object}}function Ib(t,e){let r=xi.default.isSimpleTerm(t)?pd(t):t;if(typeof r=="string"){if(e[r])return e[r]}else if(Array.isArray(t))t=t.map(n=>Ib(n,e));else for(let n of Object.keys(t))t[n]=Ib(t[n],e);return t}function M3(t,e){const r={type:"query",prefixes:{}},n=r;let a;e===tt.PROJECT?(r.queryType="SELECT",a=t.variables):e===tt.ASK?r.queryType="ASK":e===tt.DESCRIBE&&(r.queryType="DESCRIBE",a=t.terms);const s=Vr.extend,o=Vr.group,u=Vr.aggregates,c=Vr.order;GC(),Vr.project=!0;let l=xi.default.flatten([Br(t.input)]);l.length===1&&l[0].type==="group"&&(l=l[0].patterns),r.where=l;let d={};for(let h of Vr.aggregates)d[pd(h.variable)]=Ks(h);let f={};for(let h=Vr.extend.length-1;h>=0;--h){let p=Vr.extend[h];f[pd(p.variable)]=Ib(Ks(p.expression),d)}if(Vr.group.length>0&&(n.group=Vr.group.map(h=>{let p=pd(h);if(f[p]){let y=f[p];return delete f[p],{variable:h,expression:y}}return{expression:h}})),Vr.order.length>0&&(n.order=Vr.order.map(Br).map(h=>h.descending?h:{expression:h})),a&&(n.variables=a.map(h=>{let p=pd(h);return f[p]?{variable:h,expression:f[p]}:h}),n.variables.length===0&&(n.variables=[new HC.Wildcard])),r.where.length>0&&r.where[r.where.length-1].type==="filter"){const h=r.where[r.where.length-1];nO(h,Object.keys(d))&&(n.having=xi.default.flatten([Ib(h.expression,d)]),r.where.splice(-1))}return Vr.extend=s,Vr.group=o,Vr.aggregates=u,Vr.order=c,{type:"group",patterns:[n]}}function nO(t,e){return xi.default.isSimpleTerm(t)?e.indexOf(pd(t))>=0:Array.isArray(t)?t.some(r=>nO(r,e)):t===Object(t)?Object.keys(t).some(r=>nO(t[r],e)):e.indexOf(t)>=0}function aW(t){let e=Br(t.input);return e.patterns[0].reduced=!0,e}function sW(t){let e=Br(t.input);return e.type==="group"&&(e=e.patterns),Array.isArray(e)||(e=[e]),{type:"service",name:t.name,silent:t.silent,patterns:e}}function oW(t){let e=Br(t.input),r=e;return e.type&&e.type==="group"&&(r=e.patterns[0]),t.start!==0&&(r.offset=t.start),t.length!==void 0&&(r.limit=t.length),e}function uW(t){return{type:"union",patterns:xi.default.flatten(t.input.map(Br))}}function cW(t){return{type:"values",values:t.bindings.map(e=>{let r={};for(let n of t.variables){let a=`?${n.value}`;e[a]?r[a]=e[a]:r[a]=void 0}return r})}}function lW(t){const e=t.input.map(gl);return e.every(r=>"pathType"in r&&r.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:xi.default.flatten(e.map(r=>r.items))}]}:{type:"path",pathType:"|",items:e}}function dW(t){if(t.path.type===tt.NPS){const e=t.path.iris.map(r=>({type:"path",pathType:"^",items:[r]}));return e.length<=1?{type:"path",pathType:"!",items:e}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e}]}}return{type:"path",pathType:"^",items:[gl(t.path)]}}function fW(t){return t.iri}function hW(t){return t.iris.length<=1?{type:"path",pathType:"!",items:t.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:t.iris}]}}function pW(t){return{type:"path",pathType:"+",items:[gl(t.path)]}}function yW(t){return{type:"path",pathType:"/",items:t.input.map(gl)}}function bW(t){return{type:"path",pathType:"*",items:[gl(t.path)]}}function _W(t){return{type:"path",pathType:"?",items:[gl(t.path)]}}function gW(t){const e=t.updates.map(r=>Br(r).updates[0]);return{prefixes:{},type:"update",updates:e}}function mW(t){var e;let r=t.where,n;if(r&&r.type===tt.FROM){let s=r;r=s.input,n={default:s.default,named:s.named}}const a=[{updateType:"insertdelete",delete:IP(t.delete||[]),insert:IP(t.insert||[])}];if(n&&(a[0].using=n),!r||r.type===tt.BGP&&r.patterns.length===0)a[0].where=[];else{const s=[];let o=Br(Pb(r,s));if(o.type==="group"?a[0].where=o.patterns:a[0].where=[o],s.length>0){if(s.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((e=s[0])===null||e===void 0?void 0:e.value)!==""&&(a[0].where=[{type:"graph",patterns:a[0].where,name:s[0]}])}}return!t.delete&&!t.where?(a[0].updateType="insert",delete a[0].delete,delete a[0].where):!t.insert&&!t.where?(delete a[0].insert,delete a[0].where,t.delete.some(s=>s.subject.termType==="Variable"||s.predicate.termType==="Variable"||s.object.termType==="Variable")?a[0].updateType="deletewhere":a[0].updateType="delete"):!t.insert&&t.where&&t.where.type==="bgp"&&(0,Mz.isomorphic)(t.delete,t.where.patterns)&&(delete a[0].where,a[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:a}}function vW(t){const e=[{type:"load",silent:!!t.silent,source:t.source}];return t.destination&&(e[0].destination=t.destination),{prefixes:{},type:"update",updates:e}}function wW(t){return rx(t,"clear")}function SW(t){return rx(t,"create")}function TW(t){return rx(t,"drop")}function rx(t,e){const r=[{type:e,silent:!!t.silent}];return t.source==="DEFAULT"?r[0].graph={default:!0}:t.source==="NAMED"?r[0].graph={named:!0}:t.source==="ALL"?r[0].graph={all:!0}:r[0].graph={type:"graph",name:t.source},{prefixes:{},type:"update",updates:r}}function EW(t){return nx(t,"add")}function OW(t){return nx(t,"move")}function AW(t){return nx(t,"copy")}function nx(t,e){const r=[{type:e,silent:!!t.silent}];return r[0].source=t.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:t.source},r[0].destination=t.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:t.destination},{prefixes:{},type:"update",updates:r}}function IP(t){if(!t)return[];const e={};return t.forEach(r=>{const n=r.graph.value;e[n]||(e[n]=[]),e[n].push(r)}),Object.keys(e).map(r=>r===""?{type:"bgp",triples:e[r].map(Ap)}:{type:"graph",triples:e[r].map(Ap),name:e[r][0].graph})}function xW(t){return Pb(t,[])}function Pb(t,e){if(Array.isArray(t))return t.map(o=>Pb(o,e));if(!t.type||t.type===tt.DELETE_INSERT)return t;if((t.type===tt.PATTERN||t.type===tt.PATH)&&t.graph)return e.push(t.graph),t.graph.name!==""?t.type===tt.PATTERN?zc.createPattern(t.subject,t.predicate,t.object):zc.createPath(t.subject,t.predicate,t.object):t;const r={},n={},a={};for(let o of Object.keys(t)){const u=[];if(r[o]=Pb(t[o],u),u.length>0){n[o]=u;for(const c of u)a[c.value]=c}}const s=Object.keys(a);if(s.length>0)if(s.length===1&&t.type!==tt.PROJECT)e.push(a[s[0]]);else{if(t.type===tt.BGP)return RW(t,n.patterns);for(let o of Object.keys(n)){const u=r[o];Array.isArray(u)?r[o]=u.map((c,l)=>n[o][0].value===""?c:zc.createGraph(c,n[o][l])):n[o][0].value!==""&&(r[o]=zc.createGraph(u,n[o][0]))}}return r}function RW(t,e){var r;const n={};for(let o=0;o<t.patterns.length;++o){const u=t.patterns[o],c=e[o].value;n[c]=(r=n[c])!==null&&r!==void 0?r:{patterns:[],graph:e[o]},n[c].patterns.push(u)}let a=[];for(const[o,{patterns:u,graph:c}]of Object.entries(n)){const l=zc.createBgp(u);a.push(o===""?l:zc.createGraph(l,c))}let s=a[0];for(let o=1;o<a.length;++o)s=zc.createJoin([s,a[o]]);return s}(function(t){var e=g&&g.__createBinding||(Object.create?function(d,f,h,p){p===void 0&&(p=h);var y=Object.getOwnPropertyDescriptor(f,h);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(d,p,y)}:function(d,f,h,p){p===void 0&&(p=h),d[p]=f[h]}),r=g&&g.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),n=g&&g.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var h in d)h!=="default"&&Object.prototype.hasOwnProperty.call(d,h)&&e(f,d,h);return r(f,d),f},a=g&&g.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const s=a(XA);t.translate=s.default;const o=n(Sf);t.Algebra=o;const u=a(Tf);t.Factory=u.default;const c=Wd;Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return c.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return c.toSparqlJs}});const l=a(g0);t.Util=l.default})(vt);Object.defineProperty(sl,"__esModule",{value:!0});sl.materializeOperation=sl.materializeTerm=void 0;const IW=Un,Gl=nr,PP=on,PW=vt,DW=new IW.BindingsFactory;function Os(t,e){if(t.termType==="Variable"){const r=e.get(t);if(r)return r}return t.termType==="Quad"&&(0,PP.someTermsNested)(t,r=>r.termType==="Variable")?(0,PP.mapTermsNested)(t,r=>Os(r,e)):t}sl.materializeTerm=Os;function iO(t,e,r={}){return r={strictTargetVariables:"strictTargetVariables"in r?r.strictTargetVariables:!1,bindFilter:"bindFilter"in r?r.bindFilter:!0},PW.Util.mapOperation(t,{path(n,a){return{recurse:!1,result:a.createPath(Os(n.subject,e),n.predicate,Os(n.object,e),Os(n.graph,e))}},pattern(n,a){return{recurse:!1,result:a.createPattern(Os(n.subject,e),Os(n.predicate,e),Os(n.object,e),Os(n.graph,e))}},extend(n){if(e.has(n.variable)){if(r.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,Gl.termToString)(n.variable)} in a BIND operator.`);return{recurse:!0,result:iO(n.input,e,r)}}return{recurse:!0,result:n}},group(n,a){if(r.strictTargetVariables){for(const o of n.variables)if(e.has(o))throw new Error(`Tried to bind variable ${(0,Gl.termToString)(o)} in a GROUP BY operator.`);return{recurse:!0,result:n}}const s=n.variables.filter(o=>!e.has(o));return{recurse:!0,result:a.createGroup(n.input,s,n.aggregates)}},project(n,a){if(r.strictTargetVariables){for(const u of n.variables)if(e.has(u))throw new Error(`Tried to bind variable ${(0,Gl.termToString)(u)} in a SELECT operator.`);return{recurse:!0,result:n}}const s=n.variables.filter(u=>!e.has(u)),o=DW.bindings(n.variables.map(u=>{const c=e.get(u);if(c)return[u,c]}).filter(u=>!!u));return{recurse:!1,result:a.createProject(iO(n.input,o,r),s)}},values(n,a){if(r.strictTargetVariables){for(const s of n.variables)if(e.has(s))throw new Error(`Tried to bind variable ${(0,Gl.termToString)(s)} in a VALUES operator.`)}else{const s=n.variables.filter(u=>!e.has(u)),o=n.bindings.map(u=>{const c={...u};let l=!0;return e.forEach((d,f)=>{const h=(0,Gl.termToString)(f);h in c&&(d.equals(c[h])||(l=!1),delete c[h])}),l?c:void 0}).filter(Boolean);return{recurse:!0,result:a.createValues(s,o)}}return{recurse:!1,result:n}},expression(n,a){if(!r.bindFilter)return{recurse:!1,result:n};if(n.expressionType==="term")return{recurse:!1,result:a.createTermExpression(Os(n.term,e))};if(n.expressionType==="aggregate"&&"variable"in n&&e.has(n.variable)){if(r.strictTargetVariables)throw new Error(`Tried to bind ${(0,Gl.termToString)(n.variable)} in a ${n.aggregator} aggregate.`);return{recurse:!0,result:n}}return{recurse:!0,result:n}}})}sl.materializeOperation=iO;Object.defineProperty(c0,"__esModule",{value:!0});c0.ActorQueryOperation=void 0;const fu=qt,NW=Je,DP=F_,jW=sl;let NP=0;class xu extends NW.Actor{constructor(e){super(e)}static getSafeBindings(e){return xu.validateQueryOutput(e,"bindings"),e}static getSafeQuads(e){return xu.validateQueryOutput(e,"quads"),e}static getSafeBoolean(e){return xu.validateQueryOutput(e,"boolean"),e}static getSafeVoid(e){return xu.validateQueryOutput(e,"void"),e}static cachifyMetadata(e){let r;return()=>(r||(r=e(),r.then(n=>n.state.addInvalidateListener(()=>{r=void 0})).catch(()=>{})),r)}static validateQueryOutput(e,r){if(e.type!==r)throw new Error(`Invalid query output type: Expected '${r}' but got '${e.type}'`)}static getBaseExpressionContext(e){const r=e.get(fu.KeysInitQuery.queryTimestamp),n=e.get(fu.KeysInitQuery.baseIRI),a=e.get(fu.KeysInitQuery.functionArgumentsCache)||{};if(e.has(fu.KeysInitQuery.extensionFunctionCreator)&&e.has(fu.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");let s=e.get(fu.KeysInitQuery.extensionFunctionCreator);const o=e.get(fu.KeysInitQuery.extensionFunctions);return o&&(s=u=>o[u.value]),{now:r,baseIRI:n,extensionFunctionCreator:s,functionArgumentsCache:a}}static getExpressionContext(e,r){return{...this.getBaseExpressionContext(e),bnode:n=>new DP.BlankNodeBindingsScoped(n||`BNODE_${NP++}`)}}static getAsyncExpressionContext(e,r){return{...this.getBaseExpressionContext(e),bnode:n=>Promise.resolve(new DP.BlankNodeBindingsScoped(n||`BNODE_${NP++}`)),exists:xu.createExistenceResolver(e,r)}}static createExistenceResolver(e,r){return async(n,a)=>{const s=(0,jW.materializeOperation)(n.input,a),o=await r.mediate({operation:s,context:e}),u=xu.getSafeBindings(o);return new Promise((c,l)=>{u.bindingsStream.on("end",()=>{c(!1)}),u.bindingsStream.on("error",l),u.bindingsStream.on("data",()=>{u.bindingsStream.close(),c(!0)})}).then(c=>n.not?!c:c)}}static throwOnReadOnly(e){if(e.get(fu.KeysQueryOperation.readOnly))throw new Error("Attempted a write operation in read-only mode")}}c0.ActorQueryOperation=xu;var v0={};Object.defineProperty(v0,"__esModule",{value:!0});v0.ActorQueryOperationTyped=void 0;const ky=qt,jP=c0;class CW extends jP.ActorQueryOperation{constructor(e,r){if(super({...e,operationName:r}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");if(e.operation.type!==this.operationName)throw new Error(`Actor ${this.name} only supports ${this.operationName} operations, but got ${e.operation.type}`);const r=e.operation;return this.testOperation(r,e.context)}async run(e){const r=e.context.get(ky.KeysInitQuery.physicalQueryPlanLogger);r&&(r.logOperation(e.operation.type,void 0,e.operation,e.context.get(ky.KeysInitQuery.physicalQueryPlanNode),this.name,{}),e.context=e.context.set(ky.KeysInitQuery.physicalQueryPlanNode,e.operation));const n=e.operation,a=e.context.set(ky.KeysQueryOperation.operation,n),s=await this.runOperation(n,a);return"metadata"in s&&(s.metadata=jP.ActorQueryOperation.cachifyMetadata(s.metadata)),s}}v0.ActorQueryOperationTyped=CW;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.ActorQueryOperationTypedMediated=void 0;const MW=v0;class FW extends MW.ActorQueryOperationTyped{constructor(e,r){super(e,r)}}Q_.ActorQueryOperationTypedMediated=FW;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});G_.BusQueryOperation=void 0;const LW=Je;class BW extends LW.BusIndexed{constructor(e){super({...e,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}}G_.BusQueryOperation=BW;var z_={},kt={},ix={exports:{}},Pd=typeof Reflect=="object"?Reflect:null,CP=Pd&&typeof Pd.apply=="function"?Pd.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},J1;Pd&&typeof Pd.ownKeys=="function"?J1=Pd.ownKeys:Object.getOwnPropertySymbols?J1=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:J1=function(e){return Object.getOwnPropertyNames(e)};function $W(t){console&&console.warn&&console.warn(t)}var zC=Number.isNaN||function(e){return e!==e};function fr(){fr.init.call(this)}ix.exports=fr;ix.exports.once=HW;fr.EventEmitter=fr;fr.prototype._events=void 0;fr.prototype._eventsCount=0;fr.prototype._maxListeners=void 0;var MP=10;function W_(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(fr,"defaultMaxListeners",{enumerable:!0,get:function(){return MP},set:function(t){if(typeof t!="number"||t<0||zC(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");MP=t}});fr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};fr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||zC(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function WC(t){return t._maxListeners===void 0?fr.defaultMaxListeners:t._maxListeners}fr.prototype.getMaxListeners=function(){return WC(this)};fr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var a=e==="error",s=this._events;if(s!==void 0)a=a&&s.error===void 0;else if(!a)return!1;if(a){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")CP(c,this,r);else for(var l=c.length,d=ZC(c,l),n=0;n<l;++n)CP(d[n],this,r);return!0};function XC(t,e,r,n){var a,s,o;if(W_(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),a=WC(t),a>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,$W(u)}return t}fr.prototype.addListener=function(e,r){return XC(this,e,r,!1)};fr.prototype.on=fr.prototype.addListener;fr.prototype.prependListener=function(e,r){return XC(this,e,r,!0)};function UW(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function KC(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},a=UW.bind(n);return a.listener=r,n.wrapFn=a,a}fr.prototype.once=function(e,r){return W_(r),this.on(e,KC(this,e,r)),this};fr.prototype.prependOnceListener=function(e,r){return W_(r),this.prependListener(e,KC(this,e,r)),this};fr.prototype.removeListener=function(e,r){var n,a,s,o,u;if(W_(r),a=this._events,a===void 0)return this;if(n=a[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){u=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():qW(n,s),n.length===1&&(a[e]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",e,u||r)}return this};fr.prototype.off=fr.prototype.removeListener;fr.prototype.removeAllListeners=function(e){var r,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(a=0;a<s.length;++a)o=s[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(a=r.length-1;a>=0;a--)this.removeListener(e,r[a]);return this};function JC(t,e,r){var n=t._events;if(n===void 0)return[];var a=n[e];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?VW(a):ZC(a,a.length)}fr.prototype.listeners=function(e){return JC(this,e,!0)};fr.prototype.rawListeners=function(e){return JC(this,e,!1)};fr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):YC.call(t,e)};fr.prototype.listenerCount=YC;function YC(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}fr.prototype.eventNames=function(){return this._eventsCount>0?J1(this._events):[]};function ZC(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function qW(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function VW(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function HW(t,e){return new Promise(function(r,n){function a(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",a),r([].slice.call(arguments))}e9(t,e,s,{once:!0}),e!=="error"&&kW(t,a,{once:!0})})}function kW(t,e,r){typeof t.on=="function"&&e9(t,"error",e,r)}function e9(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function a(s){n.once&&t.removeEventListener(e,a),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Rf=ix.exports,X_={};Object.defineProperty(X_,"__esModule",{value:!0});X_.LinkedList=void 0;class QW{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}get empty(){return this._head===null}push(e){const r={value:e,next:null};this._tail===null?this._head=this._tail=r:this._tail.next=this._tail=r,this._length++}shift(){if(this._head===null)return;const{value:e,next:r}=this._head;return this._head=r,r===null&&(this._tail=null),this._length--,e}clear(){this._length=0,this._head=this._tail=null}}X_.LinkedList=QW;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});K_.createTaskScheduler=void 0;const GW=Promise.resolve(void 0);function zW(){const t=typeof queueMicrotask=="function"?queueMicrotask:a=>GW.then(a),e=typeof setImmediate=="function"?setImmediate:a=>setTimeout(a,0);let r=0,n=null;return a=>{n!==null?n.push(a):++r<100?t(a):(n=[a],e(()=>{for(const s of n)t(s);n=null,r=0}))}}K_.createTaskScheduler=zW;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isIterator=t.isIterable=t.isSourceExpression=t.isPromise=t.isEventEmitter=t.isFunction=t.range=t.union=t.fromIterable=t.fromIterator=t.fromArray=t.single=t.empty=t.wrap=t.WrappingIterator=t.ClonedIterator=t.UnionIterator=t.MultiTransformIterator=t.SimpleTransformIterator=t.TransformIterator=t.BufferedIterator=t.MappingIterator=t.DESTINATION=t.identity=t.IntegerIterator=t.ArrayIterator=t.SingletonIterator=t.EmptyIterator=t.AsyncIterator=t.DESTROYED=t.ENDED=t.CLOSED=t.CLOSING=t.OPEN=t.INIT=t.setTaskScheduler=t.getTaskScheduler=t.scheduleTask=t.LinkedList=void 0;const e=Rf,r=X_;Object.defineProperty(t,"LinkedList",{enumerable:!0,get:function(){return r.LinkedList}});let a=K_.createTaskScheduler();function s(m){a(m)}t.scheduleTask=s;function o(){return a}t.getTaskScheduler=o;function u(m){a=m}t.setTaskScheduler=u,t.INIT=1,t.OPEN=2,t.CLOSING=4,t.CLOSED=8,t.ENDED=16,t.DESTROYED=32;class c extends e.EventEmitter{constructor(b=t.OPEN){super(),this._readable=!1,this._state=b,this.on("newListener",l)}_changeState(b,v=!1){const j=b>this._state&&this._state<t.ENDED;return j&&(this._state=b,b===t.ENDED&&(v?a(()=>this.emit("end")):this.emit("end"))),j}read(){return null}forEach(b,v){this.on("data",xe(b,v))}close(){this._changeState(t.CLOSED)&&this._endAsync()}destroy(b){this.done||this._destroy(b,v=>{b=b||v,b&&this.emit("error",b),this._end(!0)})}_destroy(b,v){v()}_end(b=!1){this._changeState(b?t.DESTROYED:t.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){a(()=>this._end())}get readable(){return this._readable}set readable(b){b=!!b&&!this.done,this._readable!==b&&(this._readable=b,b&&a(()=>this.emit("readable")))}get closed(){return this._state>=t.CLOSING}get ended(){return this._state===t.ENDED}get destroyed(){return this._state===t.DESTROYED}get done(){return this._state>=t.ENDED}toString(){const b=this._toStringDetails();return`[${this.constructor.name}${b?` ${b}`:""}]`}_toStringDetails(){return""}toArray(b){const v=[],j=typeof(b==null?void 0:b.limit)=="number"?b.limit:1/0;return this.ended||j<=0?Promise.resolve(v):new Promise((V,q)=>{const G=()=>V(v),Y=ee=>{v.push(ee),v.length>=j&&(this.removeListener("error",q),this.removeListener("data",Y),this.removeListener("end",G),V(v))};this.on("error",q),this.on("data",Y),this.on("end",G)})}getProperty(b,v){const j=this._properties;if(!v)return j&&j[b];if(j&&b in j)a(()=>v(j[b]));else{let V;(V=this._propertyCallbacks)||(this._propertyCallbacks=V=Object.create(null)),b in V?V[b].push(v):V[b]=[v]}}setProperty(b,v){const j=this._properties||(this._properties=Object.create(null));j[b]=v;const V=this._propertyCallbacks||{},q=V[b];if(q){delete V[b],a(()=>{for(const G of q)G(v)});for(b in V)return;delete this._propertyCallbacks}}getProperties(){const b=this._properties,v={};for(const j in b)v[j]=b[j];return v}setProperties(b){for(const v in b)this.setProperty(v,b[v])}copyProperties(b,v){for(const j of v)b.getProperty(j,V=>this.setProperty(j,V))}transform(b){return new R(this,b)}map(b,v){return new w(this,xe(b,v))}filter(b,v){return this.map(function(j){return b.call(v||this,j)?j:null})}uniq(b=E){const v=new Set;return this.filter(function(j){const V=b.call(this,j);return v.has(V)?!1:(v.add(V),!0)})}prepend(b){return this.transform({prepend:b})}append(b){return this.transform({append:b})}surround(b,v){return this.transform({prepend:b,append:v})}skip(b){return this.map(v=>b-- >0?null:v)}take(b){return this.transform({limit:b})}range(b,v){return this.transform({offset:b,limit:Math.max(v-b+1,0)})}clone(){return new $(this)}}t.AsyncIterator=c;function l(m){m==="data"&&(this.removeListener("newListener",l),f(this,"readable",d),this.readable&&a(()=>d.call(this)))}function d(){let m;for(;this.listenerCount("data")!==0&&(m=this.read())!==null;)this.emit("data",m);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",d),f(this,"newListener",l))}function f(m,b,v){m.listeners(b).includes(v)||m.on(b,v)}class h extends c{constructor(){super(),this._changeState(t.ENDED,!0)}}t.EmptyIterator=h;class p extends c{constructor(b){super(),this._item=b,b===null?this.close():this.readable=!0}read(){const b=this._item;return this._item=null,this.close(),b}_toStringDetails(){return this._item===null?"":`(${this._item})`}}t.SingletonIterator=p;class y extends c{constructor(b=[],{autoStart:v=!0,preserve:j=!0}={}){super();const V=j||!Array.isArray(b)?[...b]:b;this._index=0,this._sourceStarted=v!==!1,this._truncateThreshold=j?-1:64,this._sourceStarted&&V.length===0?this.close():this._buffer=V,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let b=null;return this._buffer&&(this._index<this._buffer.length&&(b=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),b}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(b,v){delete this._buffer,v()}toArray(b={}){if(!this._buffer)return Promise.resolve([]);const{length:v}=this._buffer,j=this._index,V=typeof b.limit!="number"?v:j+b.limit,q=this._buffer.slice(j,V);return this._index=V,V>=v&&this.close(),Promise.resolve(q)}}t.ArrayIterator=y;class _ extends c{constructor({start:b=0,step:v=1,end:j}={}){super(),Number.isFinite(b)&&(b=Math.trunc(b)),this._next=b,Number.isFinite(v)&&(v=Math.trunc(v)),this._step=v;const V=v>=0,q=V?1/0:-1/0;Number.isFinite(j)?j=Math.trunc(j):j!==-q&&(j=q),this._last=j,!Number.isFinite(b)||(V?b>j:b<j)?this.close():this.readable=!0}read(){if(this.closed)return null;const b=this._next,v=this._step,j=this._last,V=this._next+=v;return(v>=0?V>j:V<j)&&this.close(),b}_toStringDetails(){return`(${this._next}...${this._last})`}}t.IntegerIterator=_;function E(m){return m}t.identity=E,t.DESTINATION=Symbol("destination");class w extends c{constructor(b,v=E,j={}){super(),this._map=v,this._source=O(b),this._destroySource=j.destroySource!==!1,b.done?this.close():(this._source[t.DESTINATION]=this,this._source.on("end",U),this._source.on("error",D),this._source.on("readable",I),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let b,v;for(;(b=this._source.read())!==null;)if((v=this._map(b))!==null)return v}this.readable=!1,this._source.done&&this.close()}return null}_end(b){this._source.removeListener("end",U),this._source.removeListener("error",D),this._source.removeListener("readable",I),delete this._source[t.DESTINATION],this._destroySource&&this._source.destroy(),super._end(b)}}t.MappingIterator=w;function O(m,b=!1){if(!m||!oe(m.read)||!oe(m.on))throw new TypeError(`Invalid source: ${m}`);if(!b&&m[t.DESTINATION])throw new Error("The source already has a destination");return m}class A extends c{constructor({maxBufferSize:b=4,autoStart:v=!0}={}){super(t.INIT),this._buffer=new r.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=b,a(()=>this._init(v)),this._sourceStarted=v!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(b){b!==1/0&&(b=Number.isFinite(b)?Math.max(Math.trunc(b),1):4),this._maxBufferSize!==b&&(this._maxBufferSize=b,this._state===t.OPEN&&this._fillBuffer())}_init(b){let v=!1;this._reading=!0,this._begin(()=>{if(v)throw new Error("done callback called multiple times");v=!0,this._reading=!1,this._changeState(t.OPEN),b?this._fillBufferAsync():this.readable=!0})}_begin(b){b()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const b=this._buffer;let v;return b.empty?(v=null,this.readable=!1):v=b.shift(),!this._reading&&b.length<this._maxBufferSize&&(this.closed?b.empty&&this._endAsync():this._fillBufferAsync()),v}_read(b,v){v()}_push(b){this.done||(this._pushedCount++,this._buffer.push(b),this.readable=!0)}_fillBuffer(){let b;this._reading||(this.closed?this._completeClose():(b=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(b,()=>{if(!b)throw new Error("done callback called multiple times");b=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,a(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(t.CLOSING):this._completeClose()}_completeClose(){this._changeState(t.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(b,v){this._buffer.clear(),v()}_flush(b){b()}_toStringDetails(){const b=this._buffer;return`{${b.empty?"":`next: ${b.first}, `}buffer: ${b.length}}`}}t.BufferedIterator=A;class T extends A{constructor(b,v=b||{}){super(v),this._boundPush=j=>this._push(j),pe(b)||(b=v.source),J(b)?this.source=b:b&&(this._createSource=le(b)?()=>b:b,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!v.optional,this._destroySource=v.destroySource!==!1}get source(){return oe(this._createSource)&&this._loadSourceAsync(),this._source}set source(b){const v=this._source=this._validateSource(b);v[t.DESTINATION]=this,this.done?this._destroySource&&v.destroy():v.done?this.close():(v.on("end",H),v.on("readable",N),v.on("error",D))}_loadSourceAsync(){oe(this._createSource)&&(Promise.resolve(this._createSource()).then(b=>{delete this._createSource,this.source=b,this._fillBuffer()},b=>this.emit("error",b)),this._createSource=null)}_validateSource(b,v=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return O(b,v)}_read(b,v){const j=()=>{this._pushedCount<b&&!this.closed?a(()=>this._readAndTransform(j,v)):v()};this._readAndTransform(j,v)}_readAndTransform(b,v){let j;const V=this.source;!V||V.done||(j=V.read())===null?v():this._optional?this._optionalTransform(j,b):this._transform(j,b,this._boundPush)}_optionalTransform(b,v){const j=this._pushedCount;this._transform(b,()=>{j===this._pushedCount&&this._push(b),v()},this._boundPush)}_transform(b,v,j){j(b),v()}_closeWhenDone(){this.close()}_end(b){const v=this._source;v&&(v.removeListener("end",H),v.removeListener("error",D),v.removeListener("readable",N),delete v[t.DESTINATION],this._destroySource&&v.destroy()),super._end(b)}}t.TransformIterator=T;function I(){this[t.DESTINATION].readable=!0}function D(m){this[t.DESTINATION].emit("error",m)}function U(){this[t.DESTINATION].close()}function H(){this[t.DESTINATION]._closeWhenDone()}function N(){this[t.DESTINATION]._sourceStarted!==!1&&this[t.DESTINATION]._fillBuffer()}class R extends T{constructor(b,v){if(super(b,v),this._offset=0,this._limit=1/0,this._filter=j=>!0,v=v||(pe(b)?null:b),v){const j=oe(v)?v:v.transform,{limit:V,offset:q,filter:G,map:Y,prepend:ee,append:ae}=v;q===1/0||V===-1/0?this._limit=0:(Number.isFinite(q)&&(this._offset=Math.max(Math.trunc(q),0)),Number.isFinite(V)&&(this._limit=Math.max(Math.trunc(V),0)),oe(G)&&(this._filter=G),oe(Y)&&(this._map=Y),this._transform=oe(j)?j:null),ee&&(this._prepender=J(ee)?ee:he(ee)),ae&&(this._appender=J(ae)?ae:he(ae))}}_read(b,v){const j=()=>this._readAndTransformSimple(b,V,v);this._readAndTransformSimple(b,V,v);function V(){a(j)}}_readAndTransformSimple(b,v,j){let V;const{source:q}=this;if(!q||q.done){j();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<b&&(V=q.read())!==null;){if(!this._filter(V)||this._offset!==0&&this._offset--)continue;const G=typeof this._map>"u"?V:this._map(V);if(G===null)this._optional&&this._push(V);else if(!oe(this._transform))this._push(G);else{this._optional?this._optionalTransform(G,v):this._transform(G,v,this._boundPush);return}--this._limit===0&&this.close()}j()}_begin(b){this._insert(this._prepender,b),delete this._prepender}_flush(b){this._insert(this._appender,b),delete this._appender}_insert(b,v){const j=q=>this._push(q);!b||b.done?v():(b.on("data",j),b.on("end",V));function V(){b.removeListener("data",j),b.removeListener("end",V),v()}}}t.SimpleTransformIterator=R;class F extends T{constructor(b,v){if(super(b,v),this._transformerQueue=[],v){const j=oe(v)?v:v.multiTransform;j&&(this._createTransformer=j)}}_read(b,v){const j=this._transformerQueue,V=this._optional;let q,G;for(;(q=j[0])&&q.transformer.done;){V&&q.item!==null&&(b--,this._push(q.item)),j.shift();const{transformer:ee}=q;ee.removeListener("end",N),ee.removeListener("readable",N),ee.removeListener("error",D)}const{source:Y}=this;for(;Y&&!Y.done&&j.length<this.maxBufferSize&&(G=Y.read(),G!==null);){const ee=this._createTransformer(G)||new h;ee[t.DESTINATION]=this,ee.on("end",N),ee.on("readable",N),ee.on("error",D),j.push({transformer:ee,item:G})}if(q=j[0],q){const{transformer:ee}=q;for(;b-- >0&&(G=ee.read())!==null;)this._push(G),V&&(q.item=null)}else Y&&Y.done&&this.close();v()}_createTransformer(b){return new p(b)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(b){if(super._end(b),this._destroySource)for(const v of this._transformerQueue)v.transformer.destroy()}}t.MultiTransformIterator=F;class X extends A{constructor(b,v={}){super(v),this._sources=[],this._currentSource=-1;const j=v.autoStart!==!1;if(J(b))b.on("error",V=>this.emit("error",V)),this._pending={loading:!1,sources:b},j&&this._loadSources();else if(Array.isArray(b)&&b.length>0)for(const V of b)this._addSource(V);else j&&this.close();this._destroySources=v.destroySources!==!1}_loadSources(){const b=this._pending.sources;this._pending.loading=!0,b.done?(delete this._pending,this.close()):(b.on("data",v=>{this._addSource(v),this._fillBufferAsync()}),b.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(b){le(b)&&(b=se(b)),b.done||(this._sources.push(b),b[t.DESTINATION]=this,b.on("error",D),b.on("readable",N),b.on("end",ne))}_removeEmptySources(){this._sources=this._sources.filter((b,v)=>(b.done&&v<=this._currentSource&&this._currentSource--,!b.done)),this._fillBuffer()}_read(b,v){var j;((j=this._pending)===null||j===void 0?void 0:j.loading)===!1&&this._loadSources();let V=0,q;for(;V!==(V=b);)for(let G=0;G<this._sources.length&&b>0;G++)this._currentSource=(this._currentSource+1)%this._sources.length,(q=this._sources[this._currentSource].read())!==null&&(b--,this._push(q));!this._pending&&this._sources.length===0&&this.close(),v()}_end(b=!1){if(super._end(b),this._destroySources){for(const v of this._sources)v.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}t.UnionIterator=X;function ne(){this[t.DESTINATION]._removeEmptySources()}class $ extends T{constructor(b){super(b,{autoStart:!1}),this._readPosition=0,this._reading=!1,b&&(this.readable=!0)}_init(){}close(){c.prototype.close.call(this)}get source(){return super.source}set source(b){const v=this._source=this._validateSource(b),j=v&&v[t.DESTINATION]||(v[t.DESTINATION]=new C(v));this.done?this._destroySource&&v.destroy():j.endsAt(0)?this.close():(j.register(this),(v._sourceStarted===!1||j.readAt(0)!==null)&&(this.readable=!0));const V=this._propertyCallbacks;for(const q in V){const G=V[q];for(const Y of G)this._getSourceProperty(q,Y)}}_validateSource(b,v=!1){const j=b&&b[t.DESTINATION];return super._validateSource(b,!j||j instanceof C)}getProperty(b,v){const{source:j}=this,V=this._properties,q=V&&b in V;if(!v)return q?V&&V[b]:j&&j.getProperty(b);super.getProperty(b,v),j&&!q&&this._getSourceProperty(b,v)}_getSourceProperty(b,v){this.source.getProperty(b,j=>{(!this._properties||!(b in this._properties))&&v(j)})}getProperties(){const b=this.source?this.source.getProperties():{},v=this._properties;for(const j in v)b[j]=v[j];return b}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const b=this.source;let v=null;if(!this.done&&b){const j=b[t.DESTINATION];(v=j.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,j.endsAt(this._readPosition)&&this.close()}return v}_end(b){const v=this.source,j=v==null?void 0:v[t.DESTINATION];j&&j.unregister(this),A.prototype._end.call(this,b)}}t.ClonedIterator=$;class C{constructor(b){if(this._history=[],this._trackers=new Set,this._source=b,!b.done){const v=()=>{for(const q of this._trackers)q.readable=!0},j=q=>{for(const G of this._trackers)G.emit("error",q)},V=()=>{for(const q of this._trackers)q._sourceStarted!==!1&&q._readPosition===this._history.length&&q.close();this._trackers.clear(),b.removeListener("end",V),b.removeListener("error",j),b.removeListener("readable",v)};b.on("end",V),b.on("error",j),b.on("readable",v)}}register(b){this._source.done||this._trackers.add(b)}unregister(b){this._trackers.delete(b)}readAt(b){let v=null;return b<this._history.length?v=this._history[b]:!this._source.done&&(v=this._source.read())!==null&&(this._history[b]=v),v}endsAt(b){return this._source.done&&this._history.length===b}}class Q extends c{constructor(b,v){super(),this._source=null,this._destroySource=(v==null?void 0:v.destroySource)!==!1,le(b)?(this._source=new c,b.then(j=>{this._source=null,this.source=j}).catch(j=>this.emit("error",j))):b&&(this.source=b)}set source(b){let v=b;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(L(v)&&(v=v[Symbol.iterator]()),P(v)){let j=v;v=new e.EventEmitter,v.read=()=>{if(j!==null){let V;for(;!(V=j.next()).done;)if(V.value!==null)return V.value;j=null,this.close()}return null}}else v=O(v);if(this.done){this._destroySource&&oe(v.destroy)&&v.destroy();return}v[t.DESTINATION]=this,v.on("end",U),v.on("error",D),v.on("readable",I),this._source=v,this.readable=v.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const b=this._source.read();if(b!==null)return b;this.readable=!1}return null}_end(b=!1){this._source!==null&&(this._source.removeListener("end",U),this._source.removeListener("error",D),this._source.removeListener("readable",I),delete this._source[t.DESTINATION],this._destroySource&&oe(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(b)}}t.WrappingIterator=Q;function se(m,b){if(b&&("autoStart"in b||"optional"in b||"source"in b||"maxBufferSize"in b))return m&&!J(m)&&(m=new Q(m)),new T(m,b);if(!m)return ie();if(le(m))return new Q(m,b);if(m instanceof c)return m;if(Array.isArray(m))return he(m);if(L(m)||P(m)||J(m))return new Q(m,b);throw new TypeError(`Invalid source: ${m}`)}t.wrap=se;function ie(){return new h}t.empty=ie;function be(m){return new p(m)}t.single=be;function he(m){return new y(m)}t.fromArray=he;function Te(m){return new Q(m)}t.fromIterator=Te;function Ne(m){return new Q(m)}t.fromIterable=Ne;function ye(m){return new X(m)}t.union=ye;function ce(m,b,v){return new _({start:m,end:b,step:v})}t.range=ce;function xe(m,b){return b?m.bind(b):m}function oe(m){return typeof m=="function"}t.isFunction=oe;function J(m){return oe(m==null?void 0:m.on)}t.isEventEmitter=J;function le(m){return oe(m==null?void 0:m.then)}t.isPromise=le;function pe(m){return m&&(J(m)||le(m)||oe(m))}t.isSourceExpression=pe;function L(m){return m&&Symbol.iterator in m}t.isIterable=L;function P(m){return oe(m==null?void 0:m.next)}t.isIterator=P})(kt);Object.defineProperty(z_,"__esModule",{value:!0});z_.ClosableTransformIterator=void 0;const WW=kt;class XW extends WW.TransformIterator{constructor(e,r){super(e,r),this.onClose=r.onClose}_end(e){this.onClose(),super._end(e)}}z_.ClosableTransformIterator=XW;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(c0,t),r(v0,t),r(Q_,t),r(sl,t),r(G_,t),r(z_,t)})(ct);var J_={};Object.defineProperty(J_,"__esModule",{value:!0});J_.MemoryPhysicalQueryPlanLogger=void 0;const Qy=nr;class KW{constructor(){this.children=new Map}logOperation(e,r,n,a,s,o){const u={actor:s,logicalOperator:e,physicalOperator:r,rawNode:n,children:[],metadata:o};if(this.children.set(n,u.children),this.rootNode){if(!a)throw new Error("Detected more than one parent-less node");const c=this.children.get(a);if(!c)throw new Error("Could not find parent node");c.push(u)}else{if(a)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=u}}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(e){return{logical:e.logicalOperator,physical:e.physicalOperator,...this.getLogicalMetadata(e.rawNode),...e.metadata,...e.children.length>0?{children:e.children.map(r=>this.planNodeToJson(r))}:{}}}getLogicalMetadata(e){if("type"in e){const r=e;switch(r.type){case"pattern":return{pattern:this.quadToString(r)};case"project":return{variables:r.variables.map(n=>n.value)}}}return{}}quadToString(e){return`${(0,Qy.termToString)(e.subject)} ${(0,Qy.termToString)(e.predicate)} ${(0,Qy.termToString)(e.object)}${e.graph.termType==="DefaultGraph"?"":` ${(0,Qy.termToString)(e.graph)}`}`}}J_.MemoryPhysicalQueryPlanLogger=KW;Object.defineProperty(M_,"__esModule",{value:!0});M_.QueryEngineBase=void 0;const JW=ct,vn=qt,Jf=Je,YW=J_;class Db{constructor(e){this.actorInitQuery=e,this.defaultFunctionArgumentsCache={}}async queryBindings(e,r){return this.queryOfType(e,r,"bindings")}async queryQuads(e,r){return this.queryOfType(e,r,"quads")}async queryBoolean(e,r){return this.queryOfType(e,r,"boolean")}async queryVoid(e,r){return this.queryOfType(e,r,"void")}async queryOfType(e,r,n){const a=await this.query(e,r);if(a.resultType===n)return await a.execute();throw new Error(`Query result type '${n}' was expected, while '${a.resultType}' was found.`)}async query(e,r){const n=await this.queryOrExplain(e,r);if("explain"in n)throw new Error("Tried to explain a query when in query-only mode");return n}async explain(e,r,n){return r.explain=n,await this.queryOrExplain(e,r)}async queryOrExplain(e,r){r=r||{};for(const h in r)this.actorInitQuery.contextKeyShortcuts[h]&&(r[this.actorInitQuery.contextKeyShortcuts[h]]=r[h],delete r[h]);let n=new Jf.ActionContext(r),a={language:"sparql",version:"1.1"};n.has(vn.KeysInitQuery.queryFormat)&&(a=n.get(vn.KeysInitQuery.queryFormat),n=n.delete(vn.KeysInitQuery.queryFormat),a.language==="graphql"&&(n=n.setDefault(vn.KeysInitQuery.graphqlSingularizeVariables,{})));const s=n.get(vn.KeysInitQuery.baseIRI);n=n.setDefault(vn.KeysInitQuery.queryTimestamp,new Date).setDefault(vn.KeysRdfResolveQuadPattern.sourceIds,new Map).setDefault(vn.KeysCore.log,this.actorInitQuery.logger).setDefault(vn.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(vn.KeysRdfResolveQuadPattern.hypermediaSourcesAggregatedStores,new Map),n=(await this.actorInitQuery.mediatorContextPreprocess.mediate({context:n})).context;const o=n.get(vn.KeysInitQuery.explain);let u;if(typeof e=="string"){n=n.set(vn.KeysInitQuery.queryString,e);const h=await this.actorInitQuery.mediatorQueryParse.mediate({context:n,query:e,queryFormat:a,baseIRI:s});u=h.operation,h.baseIRI&&(n=n.set(vn.KeysInitQuery.baseIRI,h.baseIRI))}else u=e;if(o==="parsed")return{explain:!0,type:o,data:u};n.has(vn.KeysInitQuery.initialBindings)&&(u=(0,JW.materializeOperation)(u,n.get(vn.KeysInitQuery.initialBindings)),n=n.delete(vn.KeysInitQuery.queryString));const c=await this.actorInitQuery.mediatorOptimizeQueryOperation.mediate({context:n,operation:u});if(u=c.operation,n=c.context||n,o==="logical")return{explain:!0,type:o,data:u};n=n.set(vn.KeysInitQuery.query,u);let l;o==="physical"&&(l=new YW.MemoryPhysicalQueryPlanLogger,n=n.set(vn.KeysInitQuery.physicalQueryPlanLogger,l));const d=await this.actorInitQuery.mediatorQueryOperation.mediate({context:n,operation:u});d.context=n;const f=Db.internalToFinalResult(d);if(l){switch(f.resultType){case"bindings":await(await f.execute()).toArray();break;case"quads":await(await f.execute()).toArray();break;case"boolean":await f.execute();break;case"void":await f.execute();break}return{explain:!0,type:o,data:l.toJson()}}return f}async getResultMediaTypes(e){return e=Jf.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(e){return e=Jf.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(e,r,n){if(n=Jf.ActionContext.ensureActionContext(n),!r)switch(e.resultType){case"bindings":r="application/json";break;case"quads":r="application/trig";break;default:r="simple";break}const a={...await Db.finalToInternalResult(e),context:n};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:n,handle:a,handleMediaType:r})).handle}invalidateHttpCache(e,r){return r=Jf.ActionContext.ensureActionContext(r),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:e,context:r})}static internalToFinalResult(e){switch(e.type){case"bindings":return{resultType:"bindings",execute:async()=>e.bindingsStream,metadata:async()=>await e.metadata(),context:e.context};case"quads":return{resultType:"quads",execute:async()=>e.quadStream,metadata:async()=>await e.metadata(),context:e.context};case"boolean":return{resultType:"boolean",execute:async()=>e.execute(),context:e.context};case"void":return{resultType:"void",execute:async()=>e.execute(),context:e.context}}}static async finalToInternalResult(e){switch(e.resultType){case"bindings":return{type:"bindings",bindingsStream:await e.execute(),metadata:async()=>await e.metadata()};case"quads":return{type:"quads",quadStream:await e.execute(),metadata:async()=>await e.metadata()};case"boolean":return{type:"boolean",execute:()=>e.execute()};case"void":return{type:"void",execute:()=>e.execute()}}}}M_.QueryEngineBase=Db;(function(t){var e=g&&g.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,c)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),r=g&&g.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryEngineBase=void 0,r(Gp,t),r(C_,t);var n=M_;Object.defineProperty(t,"QueryEngineBase",{enumerable:!0,get:function(){return n.QueryEngineBase}})})(y_);var t9={},Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.LoggerVoid=void 0;const ZW=fA;class eX extends ZW.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}Y_.LoggerVoid=eX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Y_,t)})(t9);var Z_={},eg={},tg={},rg={};Object.defineProperty(rg,"__esModule",{value:!0});rg.ActorExtractLinks=void 0;const tX=Je;class rX extends tX.Actor{constructor(e){super(e)}static collectStream(e,r){return new Promise((n,a)=>{const s=[];e.on("error",a),e.on("data",o=>r(o,s)),e.on("end",()=>{n(s)})})}}rg.ActorExtractLinks=rX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rg,t)})(tg);Object.defineProperty(eg,"__esModule",{value:!0});eg.ActorExtractLinksPredicates=void 0;const FP=tg;class nX extends FP.ActorExtractLinks{constructor(e){super(e),this.predicates=e.predicateRegexes.map(r=>new RegExp(r,"u"))}async test(e){return!0}async run(e){return{links:await FP.ActorExtractLinks.collectStream(e.metadata,(r,n)=>{if(!this.checkSubject||this.subjectMatches(r.subject.value,e.url)){for(const a of this.predicates)if(a.test(r.predicate.value)){n.push({url:r.object.value});break}}})}}subjectMatches(e,r){const n=e.indexOf("#");return n>=0&&(e=e.slice(0,n)),e===r}}eg.ActorExtractLinksPredicates=nX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(eg,t)})(Z_);var r9={},ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.ActorExtractLinksQuadPatternQuery=void 0;const LP=tg,iX=qt,aX=ft,zl=on,BP=vt,aO=new aX.DataFactory,Gy=aO.variable("__comunica:pp_var");class ap extends LP.ActorExtractLinks{constructor(e){super(e)}static getCurrentQuery(e){const r=e.get(iX.KeysInitQuery.query);if(r)return r}static matchQuadPatternInOperation(e,r){const n=[];return BP.Util.recurseOperation(r,{pattern(a){return(0,zl.matchPatternComplete)(e,a)&&n.push(a),!1},path(a){return BP.Util.recurseOperation(a,{link(s){const o=aO.quad(Gy,s.iri,Gy,a.graph);return(0,zl.matchPatternComplete)(e,o)&&n.push(o),!1},nps(s){for(const o of s.iris){const u=aO.quad(Gy,o,Gy,a.graph);(0,zl.matchPatternComplete)(e,u)&&n.push(u)}return!1}}),!1}}),n}async test(e){if(!ap.getCurrentQuery(e.context))throw new Error(`Actor ${this.name} can only work in the context of a query.`);return!0}async run(e){const r=ap.getCurrentQuery(e.context);return{links:await LP.ActorExtractLinks.collectStream(e.metadata,(n,a)=>{const s=ap.matchQuadPatternInOperation(n,r);if(s.length>0)if(this.onlyVariables){const o={};for(const u of s)for(const c of(0,zl.filterQuadTermNames)(u,l=>l.termType==="Variable"))o[c]=!0;for(const u of Object.keys(o))n[u].termType==="NamedNode"&&a.push({url:n[u].value})}else for(const o of(0,zl.getNamedNodes)((0,zl.getTerms)(n)))a.push({url:o.value})})}}}ng.ActorExtractLinksQuadPatternQuery=ap;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ng,t)})(r9);var n9={},ig={};Object.defineProperty(ig,"__esModule",{value:!0});ig.MediatorCombineArray=void 0;const sX=Je;class oX extends sX.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){let r;try{r=this.publish(e)}catch{r=[]}await Promise.all(r.map(({reply:a})=>a));const n=await Promise.all(r.map(a=>a.actor.runObservable(e)));return this.combiner(n)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return e=>{const r={};for(const n of this.fields)r[n]=[],[[]].concat(e.map(a=>a[n])).forEach((a,s,o)=>{a&&r[n].push(...a)});return r}}}ig.MediatorCombineArray=oX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ig,t)})(n9);var ax={},ag={};Object.defineProperty(ag,"__esModule",{value:!0});ag.MediatorCombinePipeline=void 0;const uX=Je;class cX extends uX.Mediator{constructor(e){super(e)}async mediate(e){let r;try{r=this.publish(e)}catch{return e}if(this.filterErrors){const a=[];for(const s of r)try{await s.reply,a.push(s)}catch{}r=a}if(r=await Promise.all(r.map(async({actor:a,reply:s})=>({actor:a,reply:await s}))),this.order){const a=s=>{const o=this.field?s[this.field]:s;if(typeof o!="number")throw new Error("Cannot order elements that are not numbers.");return o};r=r.sort((s,o)=>(this.order==="increasing"?1:-1)*(a(s.reply)-a(o.reply)))}let n=e;for(const{actor:a}of r)n={...n,...await a.runObservable(n)};return n}mediateWith(){throw new Error("Method not supported.")}}ag.MediatorCombinePipeline=cX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ag,t)})(ax);var i9={},sg={},w0={},og={};Object.defineProperty(og,"__esModule",{value:!0});og.ActorOptimizeQueryOperation=void 0;const lX=Je;class dX extends lX.Actor{constructor(e){super(e)}}og.ActorOptimizeQueryOperation=dX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(og,t)})(w0);Object.defineProperty(sg,"__esModule",{value:!0});sg.ActorOptimizeQueryOperationSetSeedSourcesQuadpatternIris=void 0;const fX=w0,$P=qt,F3=vt;class hX extends fX.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return!0}async run(e){const r=e.context.get($P.KeysRdfResolveQuadPattern.sources);if(!r||r.length===0){const n=[...new Set(this.extractIrisFromOperation(e.operation))];e.context=e.context.set($P.KeysRdfResolveQuadPattern.sources,n)}return{...e,context:e.context}}extractIrisFromOperation(e){const r=[];return F3.Util.recurseOperation(e,{[F3.Algebra.types.PATH]:n=>(this.extractSubjects&&n.subject.termType==="NamedNode"&&r.push(n.subject.value),this.extractObjects&&n.object.termType==="NamedNode"&&r.push(n.object.value),this.extractGraphs&&n.graph.termType==="NamedNode"&&r.push(n.graph.value),!1),[F3.Algebra.types.PATTERN]:n=>(this.extractSubjects&&n.subject.termType==="NamedNode"&&r.push(n.subject.value),this.extractPredicates&&n.predicate.termType==="NamedNode"&&r.push(n.predicate.value),this.extractObjects&&n.object.termType==="NamedNode"&&(this.extractVocabIris||n.predicate.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#type")&&r.push(n.object.value),this.extractGraphs&&n.graph.termType==="NamedNode"&&r.push(n.graph.value),!1)}),r}}sg.ActorOptimizeQueryOperationSetSeedSourcesQuadpatternIris=hX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sg,t)})(i9);var a9={},ug={};Object.defineProperty(ug,"__esModule",{value:!0});ug.ActorOptimizeQueryOperationJoinBgp=void 0;const pX=w0,yX=vt;class bX extends pX.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:yX.Util.mapOperation(e.operation,{join(n,a){return n.input.every(s=>s.type==="bgp")?{recurse:!1,result:a.createBgp(n.input.flatMap(s=>s.patterns))}:{recurse:!1,result:n}}}),context:e.context}}}ug.ActorOptimizeQueryOperationJoinBgp=bX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ug,t)})(a9);var s9={},cg={};Object.defineProperty(cg,"__esModule",{value:!0});cg.ActorOptimizeQueryOperationBgpToJoin=void 0;const _X=w0,gX=vt;class mX extends _X.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:gX.Util.mapOperation(e.operation,{bgp(n,a){return{recurse:!1,result:a.createJoin(n.patterns)}}}),context:e.context}}}cg.ActorOptimizeQueryOperationBgpToJoin=mX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(cg,t)})(s9);var o9={},lg={};Object.defineProperty(lg,"__esModule",{value:!0});lg.ActorOptimizeQueryOperationJoinConnected=void 0;const vX=w0,UP=vt;class sp extends vX.ActorOptimizeQueryOperation{async test(e){return!0}async run(e){return{operation:UP.Util.mapOperation(e.operation,{join(n,a){return{recurse:!1,result:sp.cluster(n,a)}}}),context:e.context}}static cluster(e,r){const n=e.input.map(u=>({inScopeVariables:Object.fromEntries(UP.Util.inScopeVariables(u).map(c=>[c.value,!0])),entries:[u]}));let a,s=n;do a=s,s=sp.clusterIteration(a);while(a.length!==s.length);const o=s.map(u=>r.createJoin(u.entries));return o.length===1?o[0]:r.createJoin(o,!1)}static clusterIteration(e){const r=[];for(const n of e){let a=!1;for(const s of r)if(sp.haveOverlappingVariables(n.inScopeVariables,s.inScopeVariables)){s.entries=[...s.entries,...n.entries],s.inScopeVariables={...s.inScopeVariables,...n.inScopeVariables},a=!0;break}a||r.push({inScopeVariables:n.inScopeVariables,entries:n.entries})}return r}static haveOverlappingVariables(e,r){for(const n of Object.keys(e))if(r[n])return!0;return!1}}lg.ActorOptimizeQueryOperationJoinConnected=sp;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lg,t)})(o9);var If={},dg={};Object.defineProperty(dg,"__esModule",{value:!0});dg.MediatorNumber=void 0;const wX=Je;class SX extends wX.Mediator{constructor(e){super(e),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return e=>e.reduce((r,n,a)=>{const s=this.getOrDefault(n[this.field],Number.POSITIVE_INFINITY);return s!==null&&(Number.isNaN(r[0])||r[0]>s)?[s,a]:r},[Number.NaN,-1])[1];case"max":return e=>e.reduce((r,n,a)=>{const s=this.getOrDefault(n[this.field],Number.NEGATIVE_INFINITY);return s!==null&&(Number.isNaN(r[0])||r[0]<s)?[s,a]:r},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(e,r){return e===void 0?r:e}async mediateWith(e,r){let n=r.map(({reply:u})=>u);const a=[];if(this.ignoreErrors){const u={};u[this.field]=null,n=n.map(c=>c.catch(l=>(a.push(l),u)))}const s=await Promise.all(n),o=this.indexPicker(s);if(o<0)throw new Error(`All actors rejected their test in ${this.name}
${a.map(u=>u.message).join(`
`)}`);return r[o].actor}}dg.MediatorNumber=SX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dg,t)})(If);var u9={},fg={},la={},hg={};Object.defineProperty(hg,"__esModule",{value:!0});hg.MetadataValidationState=void 0;class TX{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(e){this.invalidateListeners.push(e)}invalidate(){if(this.valid){this.valid=!1;for(const e of this.invalidateListeners)e()}}}hg.MetadataValidationState=TX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hg,t)})(la);Object.defineProperty(fg,"__esModule",{value:!0});fg.ActorQueryOperationValues=void 0;const EX=Un,OX=ct,AX=la,xX=kt,RX=ft,IX=new EX.BindingsFactory,PX=new RX.DataFactory;class DX extends OX.ActorQueryOperationTyped{constructor(e){super(e,"values")}async testOperation(e,r){return!0}async runOperation(e,r){const n=new xX.ArrayIterator(e.bindings.map(o=>IX.bindings(Object.entries(o).map(([u,c])=>[PX.variable(u.slice(1)),c])))),a=e.variables;return{type:"bindings",bindingsStream:n,metadata:()=>Promise.resolve({state:new AX.MetadataValidationState,cardinality:{type:"exact",value:e.bindings.length},canContainUndefs:e.bindings.some(o=>a.some(u=>!(`?${u.value}`in o))),variables:a})}}}fg.ActorQueryOperationValues=DX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fg,t)})(u9);var Pi={},pg={};Object.defineProperty(pg,"__esModule",{value:!0});pg.MediatorRace=void 0;const NX=Je;class jX extends NX.Mediator{constructor(e){super(e)}mediateWith(e,r){return new Promise((n,a)=>{const s=[];for(const o of r)o.reply.then(()=>{n(o.actor)}).catch(u=>{s.push(u),s.length===r.length&&a(new Error(`${this.name} mediated over all rejecting actors:
${s.map(c=>c.message).join(`
`)}`))})})}}pg.MediatorRace=jX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pg,t)})(Pi);var c9={},yg={},sx={},bg={};Object.defineProperty(bg,"__esModule",{value:!0});bg.ActorQueryParse=void 0;const CX=Je;class MX extends CX.Actor{constructor(e){super(e)}}bg.ActorQueryParse=MX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bg,t)})(sx);Object.defineProperty(yg,"__esModule",{value:!0});yg.ActorQueryParseSparql=void 0;const FX=sx,LX=vt,BX=_0;class $X extends FX.ActorQueryParse{constructor(e){super(e),this.prefixes=Object.freeze(this.prefixes)}async test(e){if(e.queryFormat&&e.queryFormat.language!=="sparql")throw new Error("This actor can only parse SPARQL queries");return!0}async run(e){const n=new BX.Parser({prefixes:this.prefixes,baseIRI:e.baseIRI,sparqlStar:!0}).parse(e.query);return{baseIRI:n.type==="query"?n.base:void 0,operation:(0,LX.translate)(n,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:e.baseIRI})}}}yg.ActorQueryParseSparql=$X;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(yg,t)})(c9);var l9={},_g={},d9={},ox={},ux={},Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.DirectiveNodeHandlerAdapter=void 0;class UX{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}getDirectiveConditionalValue(e,r){const n=this.util.getArgument(e.arguments,"if");if(!n)throw new Error(`The directive ${e.name.value} is missing an if-argument.`);const a=this.util.handleNodeValue(n.value,n.name.value,r);if(a.terms.length!==1)throw new Error(`Can not apply the directive ${e.name.value} with a list.`);return a.terms[0]}isDirectiveScopeAll(e){const r=this.util.getArgument(e.arguments,"scope");return r&&r.value.kind==="EnumValue"&&r.value.value==="all"}}Zo.DirectiveNodeHandlerAdapter=UX;var gg={};Object.defineProperty(gg,"__esModule",{value:!0});gg.DirectiveNodeHandlerInclude=void 0;const qX=Zo;class VX extends qX.DirectiveNodeHandlerAdapter{constructor(e,r){super("include",e,r)}handle(e,r){const n=this.getDirectiveConditionalValue(e.directive,r);return n.termType==="Literal"&&n.value==="false"?{ignore:!0}:{}}}gg.DirectiveNodeHandlerInclude=VX;var mg={};Object.defineProperty(mg,"__esModule",{value:!0});mg.DirectiveNodeHandlerOptional=void 0;const HX=Zo;class kX extends HX.DirectiveNodeHandlerAdapter{constructor(e,r){super("optional",e,r)}handle(e,r){return{operationOverrider:n=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),n)}}}mg.DirectiveNodeHandlerOptional=kX;var vg={},Pf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.SingularizeState=void 0,function(e){e[e.SINGLE=0]="SINGLE",e[e.PLURAL=1]="PLURAL"}(t.SingularizeState||(t.SingularizeState={}))})(Pf);Object.defineProperty(vg,"__esModule",{value:!0});vg.DirectiveNodeHandlerPlural=void 0;const QX=Pf,GX=Zo;class zX extends GX.DirectiveNodeHandlerAdapter{constructor(e,r){super("plural",e,r)}handle(e,r){return this.isDirectiveScopeAll(e.directive)&&(r.singularizeState=QX.SingularizeState.PLURAL),delete r.singularizeVariables[this.util.nameToVariable(e.fieldLabel,r).value],{}}}vg.DirectiveNodeHandlerPlural=zX;var wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.DirectiveNodeHandlerSingle=void 0;const WX=Pf,XX=Zo;class KX extends XX.DirectiveNodeHandlerAdapter{constructor(e,r){super("single",e,r)}handle(e,r){return this.isDirectiveScopeAll(e.directive)&&(r.singularizeState=WX.SingularizeState.SINGLE),r.singularizeVariables[this.util.nameToVariable(e.fieldLabel,r).value]=!0,{}}}wg.DirectiveNodeHandlerSingle=KX;var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});Sg.DirectiveNodeHandlerSkip=void 0;const JX=Zo;class YX extends JX.DirectiveNodeHandlerAdapter{constructor(e,r){super("skip",e,r)}handle(e,r){const n=this.getDirectiveConditionalValue(e.directive,r);return n.termType==="Literal"&&n.value==="true"?{ignore:!0}:{}}}Sg.DirectiveNodeHandlerSkip=YX;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Zo,t),r(gg,t),r(mg,t),r(vg,t),r(wg,t),r(Sg,t)})(ux);var f9={},da={};Object.defineProperty(da,"__esModule",{value:!0});da.NodeValueHandlerAdapter=void 0;class ZX{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}}da.NodeValueHandlerAdapter=ZX;var Tg={};Object.defineProperty(Tg,"__esModule",{value:!0});Tg.NodeValueHandlerBoolean=void 0;const eK=da;class tK extends eK.NodeValueHandlerAdapter{constructor(e,r){super("BooleanValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value?"true":"false",this.datatype)]}}}Tg.NodeValueHandlerBoolean=tK;var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.NodeValueHandlerEnum=void 0;const rK=da;class nK extends rK.NodeValueHandlerAdapter{constructor(e,r){super("EnumValue",e,r)}handle(e,r,n){return{terms:[this.util.valueToNamedNode(e.value,n.context)]}}}Eg.NodeValueHandlerEnum=nK;var Og={};Object.defineProperty(Og,"__esModule",{value:!0});Og.NodeValueHandlerFloat=void 0;const iK=da;class aK extends iK.NodeValueHandlerAdapter{constructor(e,r){super("FloatValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value,this.datatype)]}}}Og.NodeValueHandlerFloat=aK;var Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});Ag.NodeValueHandlerInt=void 0;const sK=da;class oK extends sK.NodeValueHandlerAdapter{constructor(e,r){super("IntValue",e,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(e,r,n){return{terms:[this.util.dataFactory.literal(e.value,this.datatype)]}}}Ag.NodeValueHandlerInt=oK;var xg={};Object.defineProperty(xg,"__esModule",{value:!0});xg.NodeValueHandlerList=void 0;const uK=da;class cK extends uK.NodeValueHandlerAdapter{constructor(e,r){super("ListValue",e,r),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(e,r,n){const a=[];let s=[];for(const o of e.values){const u=this.util.handleNodeValue(o,r,n);for(const c of u.terms)a.push(c);u.auxiliaryPatterns&&(s=s.concat(u.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const o=this.util.dataFactory.blankNode();let u=o,c=a.length;for(const l of a){s.push(this.util.operationFactory.createPattern(u,this.nodeFirst,l,n.graph));const d=--c===0?this.nodeNil:this.util.dataFactory.blankNode();s.push(this.util.operationFactory.createPattern(u,this.nodeRest,d,n.graph)),u=d}return{terms:[o],auxiliaryPatterns:s}}else return{terms:a,auxiliaryPatterns:s}}}xg.NodeValueHandlerList=cK;var Rg={};Object.defineProperty(Rg,"__esModule",{value:!0});Rg.NodeValueHandlerNull=void 0;const lK=da;class dK extends lK.NodeValueHandlerAdapter{constructor(e,r){super("NullValue",e,r),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(e,r,n){return{terms:[this.nil]}}}Rg.NodeValueHandlerNull=dK;var Ig={};Object.defineProperty(Ig,"__esModule",{value:!0});Ig.NodeValueHandlerObject=void 0;const fK=da;class hK extends fK.NodeValueHandlerAdapter{constructor(e,r){super("ObjectValue",e,r)}handle(e,r,n){const a=this.util.dataFactory.blankNode();let s=[];for(const o of e.fields){const u=this.util.handleNodeValue(o.value,r,n);for(const c of u.terms)s.push(this.util.createQuadPattern(a,o.name,c,n.graph,n.context));u.auxiliaryPatterns&&(s=s.concat(u.auxiliaryPatterns))}return{terms:[a],auxiliaryPatterns:s}}}Ig.NodeValueHandlerObject=hK;var Pg={};Object.defineProperty(Pg,"__esModule",{value:!0});Pg.NodeValueHandlerString=void 0;const pK=da;class yK extends pK.NodeValueHandlerAdapter{constructor(e,r){super("StringValue",e,r)}handle(e,r,n){const a=n.context.getContextRaw()[r];let s,o;return a&&typeof a!="string"&&(a["@language"]?s=a["@language"]:a["@type"]&&(o=this.util.dataFactory.namedNode(a["@type"]))),{terms:[this.util.dataFactory.literal(e.value,s||o)]}}}Pg.NodeValueHandlerString=yK;var Dg={};Object.defineProperty(Dg,"__esModule",{value:!0});Dg.NodeValueHandlerVariable=void 0;const bK=da;class _K extends bK.NodeValueHandlerAdapter{constructor(e,r){super("Variable",e,r)}handle(e,r,n){const a=e.name.value,s=n.variablesDict[a],o=n.variablesMetaDict[a];if(!s){if(!n.ignoreUnknownVariables&&(!o||o.mandatory))throw new Error(`Undefined variable: ${a}`);{const u=this.util.dataFactory.variable(a);return n.terminalVariables.map(c=>c.value).indexOf(a)<0&&n.terminalVariables.push(u),{terms:[u]}}}if(s.kind==="Variable")throw new Error(`Variable refers to another variable: ${a}`);if(o)if(o.list){if(s.kind!=="ListValue")throw new Error(`Expected a list, but got ${s.kind} for ${a}`);if(o.type){const u=s;for(const c of u.values)if(c.kind!==o.type)throw new Error(`Expected ${o.type}, but got ${c.kind} for ${a}`)}}else o.type;return this.util.handleNodeValue(s,r,n)}}Dg.NodeValueHandlerVariable=_K;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(da,t),r(Tg,t),r(Eg,t),r(Og,t),r(Ag,t),r(xg,t),r(Rg,t),r(Ig,t),r(Pg,t),r(Dg,t)})(f9);var ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.NodeHandlerAdapter=void 0;class gK{constructor(e,r,n){this.targetKind=e,this.util=r,this.settings=n}getNodeQuadContextSelectionSet(e,r,n){const a={};if(e){for(const s of e.selections)if(s.kind==="Field"){const o=s;this.handleNodeQuadContextField(o,n,a,"id","subject"),this.handleNodeQuadContextField(o,n,a,"graph","graph")}}return a}handleNodeQuadContextField(e,r,n,a,s){if(!n[s]&&e.name.value===a){if(!n[s]){const o=this.util.getArgument(e.arguments,"_");if(o){const u=this.util.handleNodeValue(o.value,e.name.value,r);if(u.terms.length!==1)throw new Error(`Only single values can be set as ${a}, but got ${u.terms.length} at ${e.name.value}`);n[s]=u.terms[0],u.auxiliaryPatterns&&(n.auxiliaryPatterns||(n.auxiliaryPatterns=[]),n.auxiliaryPatterns.concat(u.auxiliaryPatterns))}}if(!n[s]){const o=this.util.nameToVariable(this.util.getFieldLabel(e),r);r.terminalVariables.push(o),n[s]=o}}}getDirectiveOutputs(e,r,n){const a=[];if(e)for(const s of e){const o=this.util.handleDirectiveNode({directive:s,fieldLabel:r},n);if(o){if(o.ignore)return null;a.push(o)}}return a}handleDirectiveOutputs(e,r){for(const n of e){if(n.ignore)return this.util.operationFactory.createBgp([]);n.operationOverrider&&(r=n.operationOverrider(r))}return r}}ml.NodeHandlerAdapter=gK;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.NodeHandlerDefinitionAdapter=void 0;const mK=ml;class vK extends mK.NodeHandlerAdapter{constructor(e,r,n){super(e,r,n)}}Df.NodeHandlerDefinitionAdapter=vK;var Ng={};Object.defineProperty(Ng,"__esModule",{value:!0});Ng.NodeHandlerDefinitionFragment=void 0;const wK=Df;class SK extends wK.NodeHandlerDefinitionAdapter{constructor(e,r){super("FragmentDefinition",e,r)}handle(e,r){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}}Ng.NodeHandlerDefinitionFragment=SK;var jg={};Object.defineProperty(jg,"__esModule",{value:!0});jg.NodeHandlerDefinitionOperation=void 0;const TK=Df;class EK extends TK.NodeHandlerDefinitionAdapter{constructor(e,r){super("OperationDefinition",e,r)}handle(e,r){if(e.operation!=="query")throw new Error("Unsupported definition operation: "+e.operation);if(e.variableDefinitions)for(const s of e.variableDefinitions){const o=s.variable.name.value;s.defaultValue&&(r.variablesDict[o]||(r.variablesDict[o]=s.defaultValue));let u=s.type;const c=u.kind==="NonNullType";c&&(u=u.type);const l=u.kind==="ListType";l&&(u=u.type);const d=u.name.value;r.variablesMetaDict[o]={mandatory:c,list:l,type:d}}const n=this.getDirectiveOutputs(e.directives,e.name?e.name.value:"",r);if(!n)return this.util.operationFactory.createBgp([]);const a=this.util.joinOperations(e.selectionSet.selections.map(s=>this.util.handleNode(s,r)));return this.handleDirectiveOutputs(n,a)}}jg.NodeHandlerDefinitionOperation=EK;var Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.NodeHandlerDocument=void 0;const qP=vt,OK=ml;class AK extends OK.NodeHandlerAdapter{constructor(e,r){super("Document",e,r)}handle(e,r){const n=e.definitions.map(s=>{const o=this.getNodeQuadContextDefinitionNode(s,Object.assign(Object.assign({},r),{ignoreUnknownVariables:!0})),u=Object.assign(Object.assign({},r),{graph:o.graph||r.graph,subject:o.subject||this.util.dataFactory.blankNode()});let c=this.util.handleNode(s,u);return o&&o.auxiliaryPatterns&&(c=this.util.joinOperations([c,this.util.operationFactory.createBgp(o.auxiliaryPatterns)])),c}),a=this.util.operationFactory.createProject(n.length===1?n[0]:this.util.operationFactory.createUnion(n),r.terminalVariables);return this.translateBlankNodesToVariables(a)}getNodeQuadContextDefinitionNode(e,r){if(e.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(e.selectionSet,e.name?e.name.value:"",r);throw new Error(`Unsupported definition: ${e.kind}`)}translateBlankNodesToVariables(e){const r=this,n={},a=Array.from(e.variables).reduce((o,u)=>(o[u.value]=!0,o),{});return qP.Util.mapOperation(e,{path:(o,u)=>({recurse:!1,result:u.createPath(s(o.subject),o.predicate,s(o.object),s(o.graph))}),pattern:(o,u)=>({recurse:!1,result:u.createPattern(s(o.subject),s(o.predicate),s(o.object),s(o.graph))})});function s(o){if(o.termType==="BlankNode"){let u=n[o.value];return u||(u=qP.Util.createUniqueVariable(o.value,a,r.util.dataFactory),a[u.value]=!0,n[o.value]=u),u}return o}}}Cg.NodeHandlerDocument=AK;var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.NodeHandlerSelectionAdapter=void 0;const xK=vt,RK=Pf,IK=ml;class PK extends IK.NodeHandlerAdapter{constructor(e,r,n){super(e,r,n)}getNodeQuadContextFieldNode(e,r,n){return this.getNodeQuadContextSelectionSet(e.selectionSet,r,Object.assign(Object.assign({},n),{path:this.util.appendFieldToPath(n.path,r)}))}fieldToOperation(e,r,n,a){const s=n;let o=0,u;if((r.name.value==="id"||r.name.value==="graph")&&(n=!1,r.arguments))for(const w of r.arguments)w.name.value==="_"&&this.util.handleNodeValue(w.value,r.name.value,e);const c=this.util.getFieldLabel(r);if(e.singularizeState===RK.SingularizeState.SINGLE&&(e.singularizeVariables[this.util.nameToVariable(c,e).value]=!0),n){const w=this.handleMetaField(e,c,a);if(w)return w}const l=a?[this.util.operationFactory.createBgp(a)]:[],d=this.getNodeQuadContextFieldNode(r,c,e);let f=d.subject||this.util.nameToVariable(c,e),h=d.graph||e.graph;d.auxiliaryPatterns&&l.push(this.util.operationFactory.createBgp(d.auxiliaryPatterns));let p=!0,y=null;if(n&&r.arguments&&r.arguments.length){for(const w of r.arguments)if(w.name.value==="_"){const O=this.util.handleNodeValue(w.value,r.name.value,e);y=O.terms,l.push(this.util.operationFactory.createBgp(O.terms.map(A=>this.util.createQuadPattern(e.subject,r.name,A,e.graph,e.context)))),O.auxiliaryPatterns&&l.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns)),n=!1;break}else if(w.name.value==="graph"){const O=this.util.handleNodeValue(w.value,r.name.value,e);if(O.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${O.terms.length} at ${r.name.value}`);h=O.terms[0],e=Object.assign(Object.assign({},e),{graph:h}),O.auxiliaryPatterns&&l.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns));break}else if(w.name.value==="alt"){let O=w.value;O.kind!=="ListValue"&&(O={kind:"ListValue",values:[O]}),l.push(this.util.createQuadPath(e.subject,r.name,O,f,e.graph,e.context)),p=!1;break}}if(n&&p&&l.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(e.subject,r.name,f,e.graph,e.context)])),r.arguments&&r.arguments.length){for(const w of r.arguments)if(!(w.name.value==="_"||w.name.value==="graph"||w.name.value==="alt"))if(w.name.value==="first"){if(w.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+w.value.kind);u=parseInt(w.value.value,10)}else if(w.name.value==="offset"){if(w.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+w.value.kind);o=parseInt(w.value.value,10)}else{const O=this.util.handleNodeValue(w.value,w.name.value,e);l.push(this.util.operationFactory.createBgp(O.terms.map(A=>this.util.createQuadPattern(f,w.name,A,e.graph,e.context)))),O.auxiliaryPatterns&&l.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns))}}const _=this.getDirectiveOutputs(r.directives,c,e);if(!_)return this.util.operationFactory.createBgp([]);let E=this.util.joinOperations(l);if(r.selectionSet&&r.selectionSet.selections.length){if(y){if(y.length!==1)throw new Error(`Only single values can be set as id, but got ${y.length} at ${r.name.value}`);f=y[0]}const w=Object.assign(Object.assign(Object.assign({},e),s?{path:this.util.appendFieldToPath(e.path,c)}:{}),{graph:h,subject:s?f:e.subject});let O=!1;const A=r.selectionSet.selections.filter(I=>I.kind==="Field"&&I.name.value==="totalCount"?(O=!0,!1):!0);let T=this.util.joinOperations(l.concat(A.map(I=>this.util.handleNode(I,w))));if(O){const I=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),D=this.util.dataFactory.variable(f.value+this.settings.variableDelimiter+"totalCount"),U=this.util.operationFactory.createBoundAggregate(I,"count",this.util.operationFactory.createTermExpression(f),!1),H=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(E,[],[U]),D,this.util.operationFactory.createTermExpression(I)),[D]);e.terminalVariables.push(D),A.length?T=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(T,[]),H]):T=H}E=T}else n&&f.termType==="Variable"&&e.terminalVariables.push(f);return(o||u)&&(E=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(E,xK.Util.inScopeVariables(E)),o,u)),this.handleDirectiveOutputs(_,E)}handleMetaField(e,r,n){if(r==="__typename"){const a=this.util.nameToVariable(r,e);return e.terminalVariables.push(a),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(e.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(r,e),e.graph)].concat(n||[]))}}}vl.NodeHandlerSelectionAdapter=PK;var Mg={};Object.defineProperty(Mg,"__esModule",{value:!0});Mg.NodeHandlerSelectionField=void 0;const DK=vl;class NK extends DK.NodeHandlerSelectionAdapter{constructor(e,r){super("Field",e,r)}handle(e,r){return this.fieldToOperation(r,e,!0)}}Mg.NodeHandlerSelectionField=NK;var Fg={};Object.defineProperty(Fg,"__esModule",{value:!0});Fg.NodeHandlerSelectionFragmentSpread=void 0;const jK=vl;class CK extends jK.NodeHandlerSelectionAdapter{constructor(e,r){super("FragmentSpread",e,r)}handle(e,r){const n=r.fragmentDefinitions[e.name.value];if(!n)throw new Error("Undefined fragment definition: "+e.name.value);const a={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:e.name,selectionSet:n.selectionSet},s=[this.util.newTypePattern(r.subject,n.typeCondition,r)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,a,!1,s))}}Fg.NodeHandlerSelectionFragmentSpread=CK;var Lg={};Object.defineProperty(Lg,"__esModule",{value:!0});Lg.NodeHandlerSelectionInlineFragment=void 0;const MK=vl;class FK extends MK.NodeHandlerSelectionAdapter{constructor(e,r){super("InlineFragment",e,r)}handle(e,r){const n={alias:void 0,arguments:void 0,directives:e.directives,kind:"Field",name:{kind:"Name",value:r.subject.value},selectionSet:e.selectionSet},a=e.typeCondition?[this.util.newTypePattern(r.subject,e.typeCondition,r)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,n,!1,a))}}Lg.NodeHandlerSelectionInlineFragment=FK;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ux,t),r(f9,t),r(ml,t),r(Df,t),r(Ng,t),r(jg,t),r(Cg,t),r(vl,t),r(Mg,t),r(Fg,t),r(Lg,t)})(ox);var Bg={},h9=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",LK=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;const sO=LK;function Y1(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Y1=function(r){return typeof r}:Y1=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Y1(t)}var BK=10,p9=2;function y9(t){return $g(t,[])}function $g(t,e){switch(Y1(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return t===null?"null":$K(t,e);default:return String(t)}}function $K(t,e){if(e.indexOf(t)!==-1)return"[Circular]";var r=[].concat(e,[t]),n=VK(t);if(n!==void 0){var a=n.call(t);if(a!==t)return typeof a=="string"?a:$g(a,r)}else if(Array.isArray(t))return qK(t,r);return UK(t,r)}function UK(t,e){var r=Object.keys(t);if(r.length===0)return"{}";if(e.length>p9)return"["+HK(t)+"]";var n=r.map(function(a){var s=$g(t[a],e);return a+": "+s});return"{ "+n.join(", ")+" }"}function qK(t,e){if(t.length===0)return"[]";if(e.length>p9)return"[Array]";for(var r=Math.min(BK,t.length),n=t.length-r,a=[],s=0;s<r;++s)a.push($g(t[s],e));return n===1?a.push("... 1 more item"):n>1&&a.push("... ".concat(n," more items")),"["+a.join(", ")+"]"}function VK(t){var e=t[String(sO)];if(typeof e=="function")return e;if(typeof t.inspect=="function")return t.inspect}function HK(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){var r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}function L3(t,e){var r=!!t;if(!r)throw new Error(e)}const kK=function(e,r){return e instanceof r};function VP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function QK(t,e,r){return e&&VP(t.prototype,e),r&&VP(t,r),t}var cx=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof e=="string"||L3(0,"Body must be a string. Received: ".concat(y9(e),".")),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||L3(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||L3(0,"column in locationOffset is 1-indexed and must be positive.")}return QK(t,[{key:h9,get:function(){return"Source"}}]),t}();function GK(t){return kK(t,cx)}function Nb(t,e){for(var r=/\r\n|[\n\r]/g,n=1,a=e+1,s;(s=r.exec(t.body))&&s.index<e;)n+=1,a=e+1-(s.index+s[0].length);return{line:n,column:a}}function b9(t){return lx(t.source,Nb(t.source,t.start))}function lx(t,e){var r=t.locationOffset.column-1,n=Z1(r)+t.body,a=e.line-1,s=t.locationOffset.line-1,o=e.line+s,u=e.line===1?r:0,c=e.column+u,l="".concat(t.name,":").concat(o,":").concat(c,`
`),d=n.split(/\r\n|[\n\r]/g),f=d[a];if(f.length>120){for(var h=Math.floor(c/80),p=c%80,y=[],_=0;_<f.length;_+=80)y.push(f.slice(_,_+80));return l+HP([["".concat(o),y[0]]].concat(y.slice(1,h+1).map(function(E){return["",E]}),[[" ",Z1(p-1)+"^"],["",y[h+1]]]))}return l+HP([["".concat(o-1),d[a-1]],["".concat(o),f],["",Z1(c-1)+"^"],["".concat(o+1),d[a+1]]])}function HP(t){var e=t.filter(function(n){n[0];var a=n[1];return a!==void 0}),r=Math.max.apply(Math,e.map(function(n){var a=n[0];return a.length}));return e.map(function(n){var a=n[0],s=n[1];return zK(r,a)+(s?" | "+s:" |")}).join(`
`)}function Z1(t){return Array(t+1).join(" ")}function zK(t,e){return Z1(t-e.length)+e}var Ve=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),Ie=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function eb(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eb=function(r){return typeof r}:eb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},eb(t)}function WK(t){return eb(t)=="object"&&t!==null}function tb(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tb=function(r){return typeof r}:tb=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tb(t)}function kP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(r),!0).forEach(function(n){KK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KK(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QP(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function YK(t,e,r){return e&&QP(t.prototype,e),r&&QP(t,r),t}function ZK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xp(t,e)}function eJ(t){var e=g9();return function(){var n=Rp(t),a;if(e){var s=Rp(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return _9(this,a)}}function _9(t,e){return e&&(tb(e)==="object"||typeof e=="function")?e:Gh(t)}function Gh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oO(t){var e=typeof Map=="function"?new Map:void 0;return oO=function(n){if(n===null||!tJ(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,a)}function a(){return rb(n,arguments,Rp(this).constructor)}return a.prototype=Object.create(n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),xp(a,n)},oO(t)}function rb(t,e,r){return g9()?rb=Reflect.construct:rb=function(a,s,o){var u=[null];u.push.apply(u,s);var c=Function.bind.apply(a,u),l=new c;return o&&xp(l,o.prototype),l},rb.apply(null,arguments)}function g9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function tJ(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function xp(t,e){return xp=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},xp(t,e)}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(t)}var rJ=function(t){ZK(r,t);var e=eJ(r);function r(n,a,s,o,u,c,l){var d,f,h,p;JK(this,r),p=e.call(this,n),p.name="GraphQLError",p.originalError=c??void 0,p.nodes=GP(Array.isArray(a)?a:a?[a]:void 0);for(var y=[],_=0,E=(w=p.nodes)!==null&&w!==void 0?w:[];_<E.length;_++){var w,O=E[_],A=O.loc;A!=null&&y.push(A)}y=GP(y),p.source=s??((d=y)===null||d===void 0?void 0:d[0].source),p.positions=o??((f=y)===null||f===void 0?void 0:f.map(function(I){return I.start})),p.locations=o&&s?o.map(function(I){return Nb(s,I)}):(h=y)===null||h===void 0?void 0:h.map(function(I){return Nb(I.source,I.start)}),p.path=u??void 0;var T=c==null?void 0:c.extensions;return l==null&&WK(T)?p.extensions=XK({},T):p.extensions=l??{},Object.defineProperties(Gh(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(Gh(p),"stack",{value:c.stack,writable:!0,configurable:!0}),_9(p)):(Error.captureStackTrace?Error.captureStackTrace(Gh(p),r):Object.defineProperty(Gh(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return YK(r,[{key:"toString",value:function(){return nJ(this)}},{key:h9,get:function(){return"Object"}}]),r}(oO(Error));function GP(t){return t===void 0||t.length===0?void 0:t}function nJ(t){var e=t.message;if(t.nodes)for(var r=0,n=t.nodes;r<n.length;r++){var a=n[r];a.loc&&(e+=`

`+b9(a.loc))}else if(t.source&&t.locations)for(var s=0,o=t.locations;s<o.length;s++){var u=o[s];e+=`

`+lx(t.source,u)}return e}function ia(t,e,r){return new rJ("Syntax Error: ".concat(r),void 0,t,[e])}function iJ(t,e){var r=!!t;if(!r)throw new Error(e??"Unexpected invariant triggered.")}function m9(t){var e=t.prototype.toJSON;typeof e=="function"||iJ(0),t.prototype.inspect=e,sO&&(t.prototype[sO]=e)}var dx=function(){function t(r,n,a){this.start=r.start,this.end=n.end,this.startToken=r,this.endToken=n,this.source=a}var e=t.prototype;return e.toJSON=function(){return{start:this.start,end:this.end}},t}();m9(dx);var Hr=function(){function t(r,n,a,s,o,u,c){this.kind=r,this.start=n,this.end=a,this.line=s,this.column=o,this.value=c,this.prev=u,this.next=null}var e=t.prototype;return e.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}();m9(Hr);function zP(t){return t!=null&&typeof t.kind=="string"}function aJ(t){var e=t.split(/\r\n|[\n\r]/g),r=sJ(t);if(r!==0)for(var n=1;n<e.length;n++)e[n]=e[n].slice(r);for(var a=0;a<e.length&&WP(e[a]);)++a;for(var s=e.length;s>a&&WP(e[s-1]);)--s;return e.slice(a,s).join(`
`)}function WP(t){for(var e=0;e<t.length;++e)if(t[e]!==" "&&t[e]!=="	")return!1;return!0}function sJ(t){for(var e,r=!0,n=!0,a=0,s=null,o=0;o<t.length;++o)switch(t.charCodeAt(o)){case 13:t.charCodeAt(o+1)===10&&++o;case 10:r=!1,n=!0,a=0;break;case 9:case 32:++a;break;default:n&&!r&&(s===null||a<s)&&(s=a),n=!1}return(e=s)!==null&&e!==void 0?e:0}function oJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=t.indexOf(`
`)===-1,a=t[0]===" "||t[0]==="	",s=t[t.length-1]==='"',o=t[t.length-1]==="\\",u=!n||s||o||r,c="";return u&&!(n&&a)&&(c+=`
`+e),c+=e?t.replace(/\n/g,`
`+e):t,u&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var v9=function(){function t(r){var n=new Hr(Ie.SOF,0,0,0,0,null);this.source=r,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var e=t.prototype;return e.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},e.lookahead=function(){var n=this.token;if(n.kind!==Ie.EOF)do{var a;n=(a=n.next)!==null&&a!==void 0?a:n.next=cJ(this,n)}while(n.kind===Ie.COMMENT);return n},t}();function uJ(t){return t===Ie.BANG||t===Ie.DOLLAR||t===Ie.AMP||t===Ie.PAREN_L||t===Ie.PAREN_R||t===Ie.SPREAD||t===Ie.COLON||t===Ie.EQUALS||t===Ie.AT||t===Ie.BRACKET_L||t===Ie.BRACKET_R||t===Ie.BRACE_L||t===Ie.PIPE||t===Ie.BRACE_R}function ul(t){return isNaN(t)?Ie.EOF:t<127?JSON.stringify(String.fromCharCode(t)):'"\\u'.concat(("00"+t.toString(16).toUpperCase()).slice(-4),'"')}function cJ(t,e){for(var r=t.source,n=r.body,a=n.length,s=e.end;s<a;){var o=n.charCodeAt(s),u=t.line,c=1+s-t.lineStart;switch(o){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++t.line,t.lineStart=s;continue;case 13:n.charCodeAt(s+1)===10?s+=2:++s,++t.line,t.lineStart=s;continue;case 33:return new Hr(Ie.BANG,s,s+1,u,c,e);case 35:return dJ(r,s,u,c,e);case 36:return new Hr(Ie.DOLLAR,s,s+1,u,c,e);case 38:return new Hr(Ie.AMP,s,s+1,u,c,e);case 40:return new Hr(Ie.PAREN_L,s,s+1,u,c,e);case 41:return new Hr(Ie.PAREN_R,s,s+1,u,c,e);case 46:if(n.charCodeAt(s+1)===46&&n.charCodeAt(s+2)===46)return new Hr(Ie.SPREAD,s,s+3,u,c,e);break;case 58:return new Hr(Ie.COLON,s,s+1,u,c,e);case 61:return new Hr(Ie.EQUALS,s,s+1,u,c,e);case 64:return new Hr(Ie.AT,s,s+1,u,c,e);case 91:return new Hr(Ie.BRACKET_L,s,s+1,u,c,e);case 93:return new Hr(Ie.BRACKET_R,s,s+1,u,c,e);case 123:return new Hr(Ie.BRACE_L,s,s+1,u,c,e);case 124:return new Hr(Ie.PIPE,s,s+1,u,c,e);case 125:return new Hr(Ie.BRACE_R,s,s+1,u,c,e);case 34:return n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34?pJ(r,s,u,c,e,t):hJ(r,s,u,c,e);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return fJ(r,s,o,u,c,e);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return bJ(r,s,u,c,e)}throw ia(r,s,lJ(o))}var l=t.line,d=1+s-t.lineStart;return new Hr(Ie.EOF,a,a,l,d,e)}function lJ(t){return t<32&&t!==9&&t!==10&&t!==13?"Cannot contain the invalid character ".concat(ul(t),"."):t===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(ul(t),".")}function dJ(t,e,r,n,a){var s=t.body,o,u=e;do o=s.charCodeAt(++u);while(!isNaN(o)&&(o>31||o===9));return new Hr(Ie.COMMENT,e,u,r,n,a,s.slice(e+1,u))}function fJ(t,e,r,n,a,s){var o=t.body,u=r,c=e,l=!1;if(u===45&&(u=o.charCodeAt(++c)),u===48){if(u=o.charCodeAt(++c),u>=48&&u<=57)throw ia(t,c,"Invalid number, unexpected digit after 0: ".concat(ul(u),"."))}else c=B3(t,c,u),u=o.charCodeAt(c);if(u===46&&(l=!0,u=o.charCodeAt(++c),c=B3(t,c,u),u=o.charCodeAt(c)),(u===69||u===101)&&(l=!0,u=o.charCodeAt(++c),(u===43||u===45)&&(u=o.charCodeAt(++c)),c=B3(t,c,u),u=o.charCodeAt(c)),u===46||_J(u))throw ia(t,c,"Invalid number, expected digit but got: ".concat(ul(u),"."));return new Hr(l?Ie.FLOAT:Ie.INT,e,c,n,a,s,o.slice(e,c))}function B3(t,e,r){var n=t.body,a=e,s=r;if(s>=48&&s<=57){do s=n.charCodeAt(++a);while(s>=48&&s<=57);return a}throw ia(t,a,"Invalid number, expected digit but got: ".concat(ul(s),"."))}function hJ(t,e,r,n,a){for(var s=t.body,o=e+1,u=o,c=0,l="";o<s.length&&!isNaN(c=s.charCodeAt(o))&&c!==10&&c!==13;){if(c===34)return l+=s.slice(u,o),new Hr(Ie.STRING,e,o+1,r,n,a,l);if(c<32&&c!==9)throw ia(t,o,"Invalid character within String: ".concat(ul(c),"."));if(++o,c===92){switch(l+=s.slice(u,o-1),c=s.charCodeAt(o),c){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+=`
`;break;case 114:l+="\r";break;case 116:l+="	";break;case 117:{var d=yJ(s.charCodeAt(o+1),s.charCodeAt(o+2),s.charCodeAt(o+3),s.charCodeAt(o+4));if(d<0){var f=s.slice(o+1,o+5);throw ia(t,o,"Invalid character escape sequence: \\u".concat(f,"."))}l+=String.fromCharCode(d),o+=4;break}default:throw ia(t,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++o,u=o}}throw ia(t,o,"Unterminated string.")}function pJ(t,e,r,n,a,s){for(var o=t.body,u=e+3,c=u,l=0,d="";u<o.length&&!isNaN(l=o.charCodeAt(u));){if(l===34&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34)return d+=o.slice(c,u),new Hr(Ie.BLOCK_STRING,e,u+3,r,n,a,aJ(d));if(l<32&&l!==9&&l!==10&&l!==13)throw ia(t,u,"Invalid character within String: ".concat(ul(l),"."));l===10?(++u,++s.line,s.lineStart=u):l===13?(o.charCodeAt(u+1)===10?u+=2:++u,++s.line,s.lineStart=u):l===92&&o.charCodeAt(u+1)===34&&o.charCodeAt(u+2)===34&&o.charCodeAt(u+3)===34?(d+=o.slice(c,u)+'"""',u+=4,c=u):++u}throw ia(t,u,"Unterminated string.")}function yJ(t,e,r,n){return zy(t)<<12|zy(e)<<8|zy(r)<<4|zy(n)}function zy(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function bJ(t,e,r,n,a){for(var s=t.body,o=s.length,u=e+1,c=0;u!==o&&!isNaN(c=s.charCodeAt(u))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++u;return new Hr(Ie.NAME,e,u,r,n,a,s.slice(e,u))}function _J(t){return t===95||t>=65&&t<=90||t>=97&&t<=122}var w9=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function gJ(t,e){var r=new fx(t,e);return r.parseDocument()}function mJ(t,e){var r=new fx(t,e);r.expectToken(Ie.SOF);var n=r.parseValueLiteral(!1);return r.expectToken(Ie.EOF),n}function vJ(t,e){var r=new fx(t,e);r.expectToken(Ie.SOF);var n=r.parseTypeReference();return r.expectToken(Ie.EOF),n}var fx=function(){function t(r,n){var a=GK(r)?r:new cx(r);this._lexer=new v9(a),this._options=n}var e=t.prototype;return e.parseName=function(){var n=this.expectToken(Ie.NAME);return{kind:Ve.NAME,value:n.value,loc:this.loc(n)}},e.parseDocument=function(){var n=this._lexer.token;return{kind:Ve.DOCUMENT,definitions:this.many(Ie.SOF,this.parseDefinition,Ie.EOF),loc:this.loc(n)}},e.parseDefinition=function(){if(this.peek(Ie.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Ie.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},e.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(Ie.BRACE_L))return{kind:Ve.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var a=this.parseOperationType(),s;return this.peek(Ie.NAME)&&(s=this.parseName()),{kind:Ve.OPERATION_DEFINITION,operation:a,name:s,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseOperationType=function(){var n=this.expectToken(Ie.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},e.parseVariableDefinitions=function(){return this.optionalMany(Ie.PAREN_L,this.parseVariableDefinition,Ie.PAREN_R)},e.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:Ve.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ie.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ie.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},e.parseVariable=function(){var n=this._lexer.token;return this.expectToken(Ie.DOLLAR),{kind:Ve.VARIABLE,name:this.parseName(),loc:this.loc(n)}},e.parseSelectionSet=function(){var n=this._lexer.token;return{kind:Ve.SELECTION_SET,selections:this.many(Ie.BRACE_L,this.parseSelection,Ie.BRACE_R),loc:this.loc(n)}},e.parseSelection=function(){return this.peek(Ie.SPREAD)?this.parseFragment():this.parseField()},e.parseField=function(){var n=this._lexer.token,a=this.parseName(),s,o;return this.expectOptionalToken(Ie.COLON)?(s=a,o=this.parseName()):o=a,{kind:Ve.FIELD,alias:s,name:o,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ie.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},e.parseArguments=function(n){var a=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ie.PAREN_L,a,Ie.PAREN_R)},e.parseArgument=function(){var n=this._lexer.token,a=this.parseName();return this.expectToken(Ie.COLON),{kind:Ve.ARGUMENT,name:a,value:this.parseValueLiteral(!1),loc:this.loc(n)}},e.parseConstArgument=function(){var n=this._lexer.token;return{kind:Ve.ARGUMENT,name:this.parseName(),value:(this.expectToken(Ie.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},e.parseFragment=function(){var n=this._lexer.token;this.expectToken(Ie.SPREAD);var a=this.expectOptionalKeyword("on");return!a&&this.peek(Ie.NAME)?{kind:Ve.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:Ve.INLINE_FRAGMENT,typeCondition:a?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},e.parseFragmentDefinition=function(){var n,a=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:Ve.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}:{kind:Ve.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(a)}},e.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},e.parseValueLiteral=function(n){var a=this._lexer.token;switch(a.kind){case Ie.BRACKET_L:return this.parseList(n);case Ie.BRACE_L:return this.parseObject(n);case Ie.INT:return this._lexer.advance(),{kind:Ve.INT,value:a.value,loc:this.loc(a)};case Ie.FLOAT:return this._lexer.advance(),{kind:Ve.FLOAT,value:a.value,loc:this.loc(a)};case Ie.STRING:case Ie.BLOCK_STRING:return this.parseStringLiteral();case Ie.NAME:switch(this._lexer.advance(),a.value){case"true":return{kind:Ve.BOOLEAN,value:!0,loc:this.loc(a)};case"false":return{kind:Ve.BOOLEAN,value:!1,loc:this.loc(a)};case"null":return{kind:Ve.NULL,loc:this.loc(a)};default:return{kind:Ve.ENUM,value:a.value,loc:this.loc(a)}}case Ie.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},e.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:Ve.STRING,value:n.value,block:n.kind===Ie.BLOCK_STRING,loc:this.loc(n)}},e.parseList=function(n){var a=this,s=this._lexer.token,o=function(){return a.parseValueLiteral(n)};return{kind:Ve.LIST,values:this.any(Ie.BRACKET_L,o,Ie.BRACKET_R),loc:this.loc(s)}},e.parseObject=function(n){var a=this,s=this._lexer.token,o=function(){return a.parseObjectField(n)};return{kind:Ve.OBJECT,fields:this.any(Ie.BRACE_L,o,Ie.BRACE_R),loc:this.loc(s)}},e.parseObjectField=function(n){var a=this._lexer.token,s=this.parseName();return this.expectToken(Ie.COLON),{kind:Ve.OBJECT_FIELD,name:s,value:this.parseValueLiteral(n),loc:this.loc(a)}},e.parseDirectives=function(n){for(var a=[];this.peek(Ie.AT);)a.push(this.parseDirective(n));return a},e.parseDirective=function(n){var a=this._lexer.token;return this.expectToken(Ie.AT),{kind:Ve.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(a)}},e.parseTypeReference=function(){var n=this._lexer.token,a;return this.expectOptionalToken(Ie.BRACKET_L)?(a=this.parseTypeReference(),this.expectToken(Ie.BRACKET_R),a={kind:Ve.LIST_TYPE,type:a,loc:this.loc(n)}):a=this.parseNamedType(),this.expectOptionalToken(Ie.BANG)?{kind:Ve.NON_NULL_TYPE,type:a,loc:this.loc(n)}:a},e.parseNamedType=function(){var n=this._lexer.token;return{kind:Ve.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},e.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===Ie.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},e.peekDescription=function(){return this.peek(Ie.STRING)||this.peek(Ie.BLOCK_STRING)},e.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},e.parseSchemaDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("schema");var s=this.parseDirectives(!0),o=this.many(Ie.BRACE_L,this.parseOperationTypeDefinition,Ie.BRACE_R);return{kind:Ve.SCHEMA_DEFINITION,description:a,directives:s,operationTypes:o,loc:this.loc(n)}},e.parseOperationTypeDefinition=function(){var n=this._lexer.token,a=this.parseOperationType();this.expectToken(Ie.COLON);var s=this.parseNamedType();return{kind:Ve.OPERATION_TYPE_DEFINITION,operation:a,type:s,loc:this.loc(n)}},e.parseScalarTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("scalar");var s=this.parseName(),o=this.parseDirectives(!0);return{kind:Ve.SCALAR_TYPE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(n)}},e.parseObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("type");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:Ve.OBJECT_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:c,loc:this.loc(n)}},e.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var a=[];this.expectOptionalToken(Ie.AMP);do a.push(this.parseNamedType());while(this.expectOptionalToken(Ie.AMP)||this.peek(Ie.NAME));return a}return this.delimitedMany(Ie.AMP,this.parseNamedType)},e.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(Ie.BRACE_L)&&this._lexer.lookahead().kind===Ie.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Ie.BRACE_L,this.parseFieldDefinition,Ie.BRACE_R)},e.parseFieldDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseArgumentDefs();this.expectToken(Ie.COLON);var u=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:Ve.FIELD_DEFINITION,description:a,name:s,arguments:o,type:u,directives:c,loc:this.loc(n)}},e.parseArgumentDefs=function(){return this.optionalMany(Ie.PAREN_L,this.parseInputValueDef,Ie.PAREN_R)},e.parseInputValueDef=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName();this.expectToken(Ie.COLON);var o=this.parseTypeReference(),u;this.expectOptionalToken(Ie.EQUALS)&&(u=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:Ve.INPUT_VALUE_DEFINITION,description:a,name:s,type:o,defaultValue:u,directives:c,loc:this.loc(n)}},e.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("interface");var s=this.parseName(),o=this.parseImplementsInterfaces(),u=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:Ve.INTERFACE_TYPE_DEFINITION,description:a,name:s,interfaces:o,directives:u,fields:c,loc:this.loc(n)}},e.parseUnionTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("union");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseUnionMemberTypes();return{kind:Ve.UNION_TYPE_DEFINITION,description:a,name:s,directives:o,types:u,loc:this.loc(n)}},e.parseUnionMemberTypes=function(){return this.expectOptionalToken(Ie.EQUALS)?this.delimitedMany(Ie.PIPE,this.parseNamedType):[]},e.parseEnumTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("enum");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseEnumValuesDefinition();return{kind:Ve.ENUM_TYPE_DEFINITION,description:a,name:s,directives:o,values:u,loc:this.loc(n)}},e.parseEnumValuesDefinition=function(){return this.optionalMany(Ie.BRACE_L,this.parseEnumValueDefinition,Ie.BRACE_R)},e.parseEnumValueDefinition=function(){var n=this._lexer.token,a=this.parseDescription(),s=this.parseName(),o=this.parseDirectives(!0);return{kind:Ve.ENUM_VALUE_DEFINITION,description:a,name:s,directives:o,loc:this.loc(n)}},e.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("input");var s=this.parseName(),o=this.parseDirectives(!0),u=this.parseInputFieldsDefinition();return{kind:Ve.INPUT_OBJECT_TYPE_DEFINITION,description:a,name:s,directives:o,fields:u,loc:this.loc(n)}},e.parseInputFieldsDefinition=function(){return this.optionalMany(Ie.BRACE_L,this.parseInputValueDef,Ie.BRACE_R)},e.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===Ie.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},e.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var a=this.parseDirectives(!0),s=this.optionalMany(Ie.BRACE_L,this.parseOperationTypeDefinition,Ie.BRACE_R);if(a.length===0&&s.length===0)throw this.unexpected();return{kind:Ve.SCHEMA_EXTENSION,directives:a,operationTypes:s,loc:this.loc(n)}},e.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var a=this.parseName(),s=this.parseDirectives(!0);if(s.length===0)throw this.unexpected();return{kind:Ve.SCALAR_TYPE_EXTENSION,name:a,directives:s,loc:this.loc(n)}},e.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:Ve.OBJECT_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},e.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var a=this.parseName(),s=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),u=this.parseFieldsDefinition();if(s.length===0&&o.length===0&&u.length===0)throw this.unexpected();return{kind:Ve.INTERFACE_TYPE_EXTENSION,name:a,interfaces:s,directives:o,fields:u,loc:this.loc(n)}},e.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseUnionMemberTypes();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Ve.UNION_TYPE_EXTENSION,name:a,directives:s,types:o,loc:this.loc(n)}},e.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Ve.ENUM_TYPE_EXTENSION,name:a,directives:s,values:o,loc:this.loc(n)}},e.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var a=this.parseName(),s=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();if(s.length===0&&o.length===0)throw this.unexpected();return{kind:Ve.INPUT_OBJECT_TYPE_EXTENSION,name:a,directives:s,fields:o,loc:this.loc(n)}},e.parseDirectiveDefinition=function(){var n=this._lexer.token,a=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ie.AT);var s=this.parseName(),o=this.parseArgumentDefs(),u=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:Ve.DIRECTIVE_DEFINITION,description:a,name:s,arguments:o,repeatable:u,locations:c,loc:this.loc(n)}},e.parseDirectiveLocations=function(){return this.delimitedMany(Ie.PIPE,this.parseDirectiveLocation)},e.parseDirectiveLocation=function(){var n=this._lexer.token,a=this.parseName();if(w9[a.value]!==void 0)return a;throw this.unexpected(n)},e.loc=function(n){var a;if(((a=this._options)===null||a===void 0?void 0:a.noLocation)!==!0)return new dx(n,this._lexer.lastToken,this._lexer.source)},e.peek=function(n){return this._lexer.token.kind===n},e.expectToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a;throw ia(this._lexer.source,a.start,"Expected ".concat(S9(n),", found ").concat($3(a),"."))},e.expectOptionalToken=function(n){var a=this._lexer.token;if(a.kind===n)return this._lexer.advance(),a},e.expectKeyword=function(n){var a=this._lexer.token;if(a.kind===Ie.NAME&&a.value===n)this._lexer.advance();else throw ia(this._lexer.source,a.start,'Expected "'.concat(n,'", found ').concat($3(a),"."))},e.expectOptionalKeyword=function(n){var a=this._lexer.token;return a.kind===Ie.NAME&&a.value===n?(this._lexer.advance(),!0):!1},e.unexpected=function(n){var a=n??this._lexer.token;return ia(this._lexer.source,a.start,"Unexpected ".concat($3(a),"."))},e.any=function(n,a,s){this.expectToken(n);for(var o=[];!this.expectOptionalToken(s);)o.push(a.call(this));return o},e.optionalMany=function(n,a,s){if(this.expectOptionalToken(n)){var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o}return[]},e.many=function(n,a,s){this.expectToken(n);var o=[];do o.push(a.call(this));while(!this.expectOptionalToken(s));return o},e.delimitedMany=function(n,a){this.expectOptionalToken(n);var s=[];do s.push(a.call(this));while(this.expectOptionalToken(n));return s},t}();function $3(t){var e=t.value;return S9(t.kind)+(e!=null?' "'.concat(e,'"'):"")}function S9(t){return uJ(t)?'"'.concat(t,'"'):t}var wJ={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},yd=Object.freeze({});function T9(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wJ,n=void 0,a=Array.isArray(t),s=[t],o=-1,u=[],c=void 0,l=void 0,d=void 0,f=[],h=[],p=t;do{o++;var y=o===s.length,_=y&&u.length!==0;if(y){if(l=h.length===0?void 0:f[f.length-1],c=d,d=h.pop(),_){if(a)c=c.slice();else{for(var E={},w=0,O=Object.keys(c);w<O.length;w++){var A=O[w];E[A]=c[A]}c=E}for(var T=0,I=0;I<u.length;I++){var D=u[I][0],U=u[I][1];a&&(D-=T),a&&U===null?(c.splice(D,1),T++):c[D]=U}}o=n.index,s=n.keys,u=n.edits,a=n.inArray,n=n.prev}else{if(l=d?a?o:s[o]:void 0,c=d?d[l]:p,c==null)continue;d&&f.push(l)}var H=void 0;if(!Array.isArray(c)){if(!zP(c))throw new Error("Invalid AST Node: ".concat(y9(c),"."));var N=jb(e,c.kind,y);if(N){if(H=N.call(e,c,l,d,f,h),H===yd)break;if(H===!1){if(!y){f.pop();continue}}else if(H!==void 0&&(u.push([l,H]),!y))if(zP(H))c=H;else{f.pop();continue}}}if(H===void 0&&_&&u.push([l,c]),y)f.pop();else{var R;n={inArray:a,index:o,keys:s,edits:u,prev:n},a=Array.isArray(c),s=a?c:(R=r[c.kind])!==null&&R!==void 0?R:[],o=-1,u=[],d&&h.push(d),d=c}}while(n!==void 0);return u.length!==0&&(p=u[u.length-1][1]),p}function SJ(t){var e=new Array(t.length);return{enter:function(n){for(var a=0;a<t.length;a++)if(e[a]==null){var s=jb(t[a],n.kind,!1);if(s){var o=s.apply(t[a],arguments);if(o===!1)e[a]=n;else if(o===yd)e[a]=yd;else if(o!==void 0)return o}}},leave:function(n){for(var a=0;a<t.length;a++)if(e[a]==null){var s=jb(t[a],n.kind,!0);if(s){var o=s.apply(t[a],arguments);if(o===yd)e[a]=yd;else if(o!==void 0&&o!==!1)return o}}else e[a]===n&&(e[a]=null)}}}function jb(t,e,r){var n=t[e];if(n){if(!r&&typeof n=="function")return n;var a=r?n.leave:n.enter;if(typeof a=="function")return a}else{var s=r?t.leave:t.enter;if(s){if(typeof s=="function")return s;var o=s[e];if(typeof o=="function")return o}}}function TJ(t){return T9(t,{leave:OJ})}var EJ=80,OJ={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return et(e.definitions,`

`)+`
`},OperationDefinition:function(e){var r=e.operation,n=e.name,a=qr("(",et(e.variableDefinitions,", "),")"),s=et(e.directives," "),o=e.selectionSet;return!n&&!s&&!a&&r==="query"?o:et([r,et([n,a]),s,o]," ")},VariableDefinition:function(e){var r=e.variable,n=e.type,a=e.defaultValue,s=e.directives;return r+": "+n+qr(" = ",a)+qr(" ",et(s," "))},SelectionSet:function(e){var r=e.selections;return Ba(r)},Field:function(e){var r=e.alias,n=e.name,a=e.arguments,s=e.directives,o=e.selectionSet,u=qr("",r,": ")+n,c=u+qr("(",et(a,", "),")");return c.length>EJ&&(c=u+qr(`(
`,nb(et(a,`
`)),`
)`)),et([c,et(s," "),o]," ")},Argument:function(e){var r=e.name,n=e.value;return r+": "+n},FragmentSpread:function(e){var r=e.name,n=e.directives;return"..."+r+qr(" ",et(n," "))},InlineFragment:function(e){var r=e.typeCondition,n=e.directives,a=e.selectionSet;return et(["...",qr("on ",r),et(n," "),a]," ")},FragmentDefinition:function(e){var r=e.name,n=e.typeCondition,a=e.variableDefinitions,s=e.directives,o=e.selectionSet;return"fragment ".concat(r).concat(qr("(",et(a,", "),")")," ")+"on ".concat(n," ").concat(qr("",et(s," ")," "))+o},IntValue:function(e){var r=e.value;return r},FloatValue:function(e){var r=e.value;return r},StringValue:function(e,r){var n=e.value,a=e.block;return a?oJ(n,r==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(e){var r=e.value;return r?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){var r=e.value;return r},ListValue:function(e){var r=e.values;return"["+et(r,", ")+"]"},ObjectValue:function(e){var r=e.fields;return"{"+et(r,", ")+"}"},ObjectField:function(e){var r=e.name,n=e.value;return r+": "+n},Directive:function(e){var r=e.name,n=e.arguments;return"@"+r+qr("(",et(n,", "),")")},NamedType:function(e){var r=e.name;return r},ListType:function(e){var r=e.type;return"["+r+"]"},NonNullType:function(e){var r=e.type;return r+"!"},SchemaDefinition:La(function(t){var e=t.directives,r=t.operationTypes;return et(["schema",et(e," "),Ba(r)]," ")}),OperationTypeDefinition:function(e){var r=e.operation,n=e.type;return r+": "+n},ScalarTypeDefinition:La(function(t){var e=t.name,r=t.directives;return et(["scalar",e,et(r," ")]," ")}),ObjectTypeDefinition:La(function(t){var e=t.name,r=t.interfaces,n=t.directives,a=t.fields;return et(["type",e,qr("implements ",et(r," & ")),et(n," "),Ba(a)]," ")}),FieldDefinition:La(function(t){var e=t.name,r=t.arguments,n=t.type,a=t.directives;return e+(XP(r)?qr(`(
`,nb(et(r,`
`)),`
)`):qr("(",et(r,", "),")"))+": "+n+qr(" ",et(a," "))}),InputValueDefinition:La(function(t){var e=t.name,r=t.type,n=t.defaultValue,a=t.directives;return et([e+": "+r,qr("= ",n),et(a," ")]," ")}),InterfaceTypeDefinition:La(function(t){var e=t.name,r=t.interfaces,n=t.directives,a=t.fields;return et(["interface",e,qr("implements ",et(r," & ")),et(n," "),Ba(a)]," ")}),UnionTypeDefinition:La(function(t){var e=t.name,r=t.directives,n=t.types;return et(["union",e,et(r," "),n&&n.length!==0?"= "+et(n," | "):""]," ")}),EnumTypeDefinition:La(function(t){var e=t.name,r=t.directives,n=t.values;return et(["enum",e,et(r," "),Ba(n)]," ")}),EnumValueDefinition:La(function(t){var e=t.name,r=t.directives;return et([e,et(r," ")]," ")}),InputObjectTypeDefinition:La(function(t){var e=t.name,r=t.directives,n=t.fields;return et(["input",e,et(r," "),Ba(n)]," ")}),DirectiveDefinition:La(function(t){var e=t.name,r=t.arguments,n=t.repeatable,a=t.locations;return"directive @"+e+(XP(r)?qr(`(
`,nb(et(r,`
`)),`
)`):qr("(",et(r,", "),")"))+(n?" repeatable":"")+" on "+et(a," | ")}),SchemaExtension:function(e){var r=e.directives,n=e.operationTypes;return et(["extend schema",et(r," "),Ba(n)]," ")},ScalarTypeExtension:function(e){var r=e.name,n=e.directives;return et(["extend scalar",r,et(n," ")]," ")},ObjectTypeExtension:function(e){var r=e.name,n=e.interfaces,a=e.directives,s=e.fields;return et(["extend type",r,qr("implements ",et(n," & ")),et(a," "),Ba(s)]," ")},InterfaceTypeExtension:function(e){var r=e.name,n=e.interfaces,a=e.directives,s=e.fields;return et(["extend interface",r,qr("implements ",et(n," & ")),et(a," "),Ba(s)]," ")},UnionTypeExtension:function(e){var r=e.name,n=e.directives,a=e.types;return et(["extend union",r,et(n," "),a&&a.length!==0?"= "+et(a," | "):""]," ")},EnumTypeExtension:function(e){var r=e.name,n=e.directives,a=e.values;return et(["extend enum",r,et(n," "),Ba(a)]," ")},InputObjectTypeExtension:function(e){var r=e.name,n=e.directives,a=e.fields;return et(["extend input",r,et(n," "),Ba(a)]," ")}};function La(t){return function(e){return et([e.description,t(e)],`
`)}}function et(t){var e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(e=t==null?void 0:t.filter(function(n){return n}).join(r))!==null&&e!==void 0?e:""}function Ba(t){return qr(`{
`,nb(et(t,`
`)),`
}`)}function qr(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return e!=null&&e!==""?t+e+r:""}function nb(t){return qr("  ",t.replace(/\n/g,`
  `))}function AJ(t){return t.indexOf(`
`)!==-1}function XP(t){return t!=null&&t.some(AJ)}function xJ(t){return E9(t)||O9(t)||x9(t)}function E9(t){return t.kind===Ve.OPERATION_DEFINITION||t.kind===Ve.FRAGMENT_DEFINITION}function RJ(t){return t.kind===Ve.FIELD||t.kind===Ve.FRAGMENT_SPREAD||t.kind===Ve.INLINE_FRAGMENT}function IJ(t){return t.kind===Ve.VARIABLE||t.kind===Ve.INT||t.kind===Ve.FLOAT||t.kind===Ve.STRING||t.kind===Ve.BOOLEAN||t.kind===Ve.NULL||t.kind===Ve.ENUM||t.kind===Ve.LIST||t.kind===Ve.OBJECT}function PJ(t){return t.kind===Ve.NAMED_TYPE||t.kind===Ve.LIST_TYPE||t.kind===Ve.NON_NULL_TYPE}function O9(t){return t.kind===Ve.SCHEMA_DEFINITION||A9(t)||t.kind===Ve.DIRECTIVE_DEFINITION}function A9(t){return t.kind===Ve.SCALAR_TYPE_DEFINITION||t.kind===Ve.OBJECT_TYPE_DEFINITION||t.kind===Ve.INTERFACE_TYPE_DEFINITION||t.kind===Ve.UNION_TYPE_DEFINITION||t.kind===Ve.ENUM_TYPE_DEFINITION||t.kind===Ve.INPUT_OBJECT_TYPE_DEFINITION}function x9(t){return t.kind===Ve.SCHEMA_EXTENSION||R9(t)}function R9(t){return t.kind===Ve.SCALAR_TYPE_EXTENSION||t.kind===Ve.OBJECT_TYPE_EXTENSION||t.kind===Ve.INTERFACE_TYPE_EXTENSION||t.kind===Ve.UNION_TYPE_EXTENSION||t.kind===Ve.ENUM_TYPE_EXTENSION||t.kind===Ve.INPUT_OBJECT_TYPE_EXTENSION}const DJ=Object.freeze(Object.defineProperty({__proto__:null,BREAK:yd,DirectiveLocation:w9,Kind:Ve,Lexer:v9,Location:dx,Source:cx,Token:Hr,TokenKind:Ie,getLocation:Nb,getVisitFn:jb,isDefinitionNode:xJ,isExecutableDefinitionNode:E9,isSelectionNode:RJ,isTypeDefinitionNode:A9,isTypeExtensionNode:R9,isTypeNode:PJ,isTypeSystemDefinitionNode:O9,isTypeSystemExtensionNode:x9,isValueNode:IJ,parse:gJ,parseType:vJ,parseValue:mJ,print:TJ,printLocation:b9,printSourceLocation:lx,visit:T9,visitInParallel:SJ},Symbol.toStringTag,{value:"Module"})),NJ=h_(DJ);var S0={},yn={},Ug={};(function(){(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(N){return N&&DataView.prototype.isPrototypeOf(N)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(N){return N&&a.indexOf(Object.prototype.toString.call(N))>-1};function o(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function u(N){return typeof N!="string"&&(N=String(N)),N}function c(N){var R={next:function(){var F=N.shift();return{done:F===void 0,value:F}}};return r.iterable&&(R[Symbol.iterator]=function(){return R}),R}function l(N){this.map={},N instanceof l?N.forEach(function(R,F){this.append(F,R)},this):Array.isArray(N)?N.forEach(function(R){this.append(R[0],R[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(R){this.append(R,N[R])},this)}l.prototype.append=function(N,R){N=o(N),R=u(R);var F=this.map[N];this.map[N]=F?F+", "+R:R},l.prototype.delete=function(N){delete this.map[o(N)]},l.prototype.get=function(N){return N=o(N),this.has(N)?this.map[N]:null},l.prototype.has=function(N){return this.map.hasOwnProperty(o(N))},l.prototype.set=function(N,R){this.map[o(N)]=u(R)},l.prototype.forEach=function(N,R){for(var F in this.map)this.map.hasOwnProperty(F)&&N.call(R,this.map[F],F,this)},l.prototype.keys=function(){var N=[];return this.forEach(function(R,F){N.push(F)}),c(N)},l.prototype.values=function(){var N=[];return this.forEach(function(R){N.push(R)}),c(N)},l.prototype.entries=function(){var N=[];return this.forEach(function(R,F){N.push([F,R])}),c(N)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function d(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function f(N){return new Promise(function(R,F){N.onload=function(){R(N.result)},N.onerror=function(){F(N.error)}})}function h(N){var R=new FileReader,F=f(R);return R.readAsArrayBuffer(N),F}function p(N){var R=new FileReader,F=f(R);return R.readAsText(N),F}function y(N){for(var R=new Uint8Array(N),F=new Array(R.length),X=0;X<R.length;X++)F[X]=String.fromCharCode(R[X]);return F.join("")}function _(N){if(N.slice)return N.slice(0);var R=new Uint8Array(N.byteLength);return R.set(new Uint8Array(N)),R.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(N){this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:r.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:r.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():r.arrayBuffer&&r.blob&&n(N)?(this._bodyArrayBuffer=_(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||s(N))?this._bodyArrayBuffer=_(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(N){var R=N.toUpperCase();return w.indexOf(R)>-1?R:N}function A(N,R){R=R||{};var F=R.body;if(N instanceof A){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,R.headers||(this.headers=new l(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!F&&N._bodyInit!=null&&(F=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new l(R.headers)),this.method=O(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(F)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function T(N){var R=new FormData;return N.trim().split("&").forEach(function(F){if(F){var X=F.split("="),ne=X.shift().replace(/\+/g," "),$=X.join("=").replace(/\+/g," ");R.append(decodeURIComponent(ne),decodeURIComponent($))}}),R}function I(N){var R=new l,F=N.replace(/\r?\n[\t ]+/g," ");return F.split(/\r?\n/).forEach(function(X){var ne=X.split(":"),$=ne.shift().trim();if($){var C=ne.join(":").trim();R.append($,C)}}),R}E.call(A.prototype);function D(N,R){R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new l(R.headers),this.url=R.url||"",this._initBody(N)}E.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},D.error=function(){var N=new D(null,{status:0,statusText:""});return N.type="error",N};var U=[301,302,303,307,308];D.redirect=function(N,R){if(U.indexOf(R)===-1)throw new RangeError("Invalid status code");return new D(null,{status:R,headers:{location:N}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(R,F){this.message=R,this.name=F;var X=Error(R);this.stack=X.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function H(N,R){return new Promise(function(F,X){var ne=new A(N,R);if(ne.signal&&ne.signal.aborted)return X(new e.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function C(){$.abort()}$.onload=function(){var Q={status:$.status,statusText:$.statusText,headers:I($.getAllResponseHeaders()||"")};Q.url="responseURL"in $?$.responseURL:Q.headers.get("X-Request-URL");var se="response"in $?$.response:$.responseText;F(new D(se,Q))},$.onerror=function(){X(new TypeError("Network request failed"))},$.ontimeout=function(){X(new TypeError("Network request failed"))},$.onabort=function(){X(new e.DOMException("Aborted","AbortError"))},$.open(ne.method,ne.url,!0),ne.credentials==="include"?$.withCredentials=!0:ne.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&r.blob&&($.responseType="blob"),ne.headers.forEach(function(Q,se){$.setRequestHeader(se,Q)}),ne.signal&&(ne.signal.addEventListener("abort",C),$.onreadystatechange=function(){$.readyState===4&&ne.signal.removeEventListener("abort",C)}),$.send(typeof ne._bodyInit>"u"?null:ne._bodyInit)})}return H.polyfill=!0,t.fetch||(t.fetch=H,t.Headers=l,t.Request=A,t.Response=D),e.Headers=l,e.Request=A,e.Response=D,e.fetch=H,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:g)})();var xa={},Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.removeDotSegmentsOfPath=Vu.removeDotSegments=Vu.resolve=void 0;function jJ(t,e){e=e||"";const r=e.indexOf("#");if(r>0&&(e=e.substr(0,r)),!t.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);return e}if(t.startsWith("?")){const l=e.indexOf("?");return l>0&&(e=e.substr(0,l)),e+t}if(t.startsWith("#"))return e+t;if(!e.length){const l=t.indexOf(":");if(l<0)throw new Error(`Found invalid relative IRI '${t}' for a missing baseIRI`);return Nc(t,l)}const n=t.indexOf(":");if(n>=0)return Nc(t,n);const a=e.indexOf(":");if(a<0)throw new Error(`Found invalid baseIRI '${e}' for value '${t}'`);const s=e.substr(0,a+1);if(t.indexOf("//")===0)return s+Nc(t,n);let o;if(e.indexOf("//",a)===a+1){if(o=e.indexOf("/",a+3),o<0)return e.length>a+3?e+"/"+Nc(t,n):s+Nc(t,n)}else if(o=e.indexOf("/",a+1),o<0)return s+Nc(t,n);if(t.indexOf("/")===0)return e.substr(0,o)+Cb(t);let u=e.substr(o);const c=u.lastIndexOf("/");return c>=0&&c<u.length-1&&(u=u.substr(0,c+1),t[0]==="."&&t[1]!=="."&&t[1]!=="/"&&t[2]&&(t=t.substr(1))),t=u+t,t=Cb(t),e.substr(0,o)+t}Vu.resolve=jJ;function Cb(t){const e=[];let r=0;for(;r<t.length;)switch(t[r]){case"/":if(t[r+1]===".")if(t[r+2]==="."){if(!KP(t[r+3])){e.push([]),r++;break}e.pop(),t[r+3]||e.push([]),r+=3}else{if(!KP(t[r+2])){e.push([]),r++;break}t[r+2]||e.push([]),r+=2}else e.push([]),r++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(t.substr(r)),r=t.length;break;default:e.length||e.push([]),e[e.length-1].push(t[r]),r++;break}return"/"+e.map(n=>n.join("")).join("/")}Vu.removeDotSegments=Cb;function Nc(t,e){let r=e+1;e>=0?t[e+1]==="/"&&t[e+2]==="/"&&(r=e+3):t[0]==="/"&&t[1]==="/"&&(r=2);const n=t.indexOf("/",r);if(n<0)return t;const a=t.substr(0,n),s=t.substr(n);return a+Cb(s)}Vu.removeDotSegmentsOfPath=Nc;function KP(t){return!t||t==="#"||t==="?"||t==="/"}(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Vu,t)})(xa);var Nf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class e extends Error{constructor(n,a){super(n),this.code=a}}t.ErrorCoded=e,function(r){r.COLLIDING_KEYWORDS="colliding keywords",r.CONFLICTING_INDEXES="conflicting indexes",r.CYCLIC_IRI_MAPPING="cyclic IRI mapping",r.INVALID_ID_VALUE="invalid @id value",r.INVALID_INDEX_VALUE="invalid @index value",r.INVALID_NEST_VALUE="invalid @nest value",r.INVALID_PREFIX_VALUE="invalid @prefix value",r.INVALID_PROPAGATE_VALUE="invalid @propagate value",r.INVALID_REVERSE_VALUE="invalid @reverse value",r.INVALID_IMPORT_VALUE="invalid @import value",r.INVALID_VERSION_VALUE="invalid @version value",r.INVALID_BASE_IRI="invalid base IRI",r.INVALID_CONTAINER_MAPPING="invalid container mapping",r.INVALID_CONTEXT_ENTRY="invalid context entry",r.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",r.INVALID_DEFAULT_LANGUAGE="invalid default language",r.INVALID_INCLUDED_VALUE="invalid @included value",r.INVALID_IRI_MAPPING="invalid IRI mapping",r.INVALID_JSON_LITERAL="invalid JSON literal",r.INVALID_KEYWORD_ALIAS="invalid keyword alias",r.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",r.INVALID_LANGUAGE_MAPPING="invalid language mapping",r.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",r.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",r.INVALID_LOCAL_CONTEXT="invalid local context",r.INVALID_REMOTE_CONTEXT="invalid remote context",r.INVALID_REVERSE_PROPERTY="invalid reverse property",r.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",r.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",r.INVALID_SCOPED_CONTEXT="invalid scoped context",r.INVALID_SCRIPT_ELEMENT="invalid script element",r.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",r.INVALID_TERM_DEFINITION="invalid term definition",r.INVALID_TYPE_MAPPING="invalid type mapping",r.INVALID_TYPE_VALUE="invalid type value",r.INVALID_TYPED_VALUE="invalid typed value",r.INVALID_VALUE_OBJECT="invalid value object",r.INVALID_VALUE_OBJECT_VALUE="invalid value object value",r.INVALID_VOCAB_MAPPING="invalid vocab mapping",r.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",r.KEYWORD_REDEFINITION="keyword redefinition",r.LOADING_DOCUMENT_FAILED="loading document failed",r.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",r.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",r.PROCESSING_MODE_CONFLICT="processing mode conflict",r.PROTECTED_TERM_REDEFINITION="protected term redefinition",r.CONTEXT_OVERFLOW="context overflow",r.INVALID_BASE_DIRECTION="invalid base direction",r.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",r.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",r.INVALID_EMBEDDED_NODE="invalid embedded node",r.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))})(Nf);var T0={},CJ=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,MJ=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,FJ=/\s|\uFEFF|\xA0/,LJ=/\r?\n[\x20\x09]+/g,BJ=/[;,"]/,$J=/[;,"]|\s/,UJ=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,bo={IDLE:1,URI:2,ATTR:4};function JP(t){return t.replace(MJ,"")}function ib(t){return FJ.test(t)}function qJ(t,e){for(;ib(t[e]);)e++;return e}function YP(t){return $J.test(t)||!UJ.test(t)}function VJ(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>r in e&&t[r]===e[r])}class xr{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var r=[],n=e.toLowerCase(),a=0;a<this.refs.length;a++)this.refs[a].rel.toLowerCase()===n&&r.push(this.refs[a]);return r}get(e,r){e=e.toLowerCase();for(var n=[],a=0;a<this.refs.length;a++)this.refs[a][e]===r&&n.push(this.refs[a]);return n}set(e){return this.refs.push(e),this}setUnique(e){return this.refs.some(r=>VJ(r,e))||this.refs.push(e),this}has(e,r){e=e.toLowerCase();for(var n=0;n<this.refs.length;n++)if(this.refs[n][e]===r)return!0;return!1}parse(e,s){s=s||0,e=s?e.slice(s):e,e=JP(e).replace(LJ,"");for(var n=bo.IDLE,a=e.length,s=0,o=null;s<a;)if(n===bo.IDLE){if(ib(e[s])){s++;continue}else if(e[s]==="<"){o!=null&&(o.rel!=null?this.refs.push(...xr.expandRelations(o)):this.refs.push(o));var u=e.indexOf(">",s);if(u===-1)throw new Error("Expected end of URI delimiter at offset "+s);o={uri:e.slice(s+1,u)},s=u,n=bo.URI}else throw new Error('Unexpected character "'+e[s]+'" at offset '+s);s++}else if(n===bo.URI)if(ib(e[s])){s++;continue}else if(e[s]===";")n=bo.ATTR,s++;else if(e[s]===",")n=bo.IDLE,s++;else throw new Error('Unexpected character "'+e[s]+'" at offset '+s);else if(n===bo.ATTR){if(e[s]===";"||ib(e[s])){s++;continue}var u=e.indexOf("=",s);u===-1&&(u=e.indexOf(";",s)),u===-1&&(u=e.length);var c=JP(e.slice(s,u)).toLowerCase(),l="";if(s=u+1,s=qJ(e,s),e[s]==='"')for(s++;s<a;){if(e[s]==='"'){s++;break}e[s]==="\\"&&s++,l+=e[s],s++}else{for(var u=s+1;!BJ.test(e[u])&&u<a;)u++;l=e.slice(s,u),s=u}switch(o[c]&&xr.isSingleOccurenceAttr(c)||(c[c.length-1]==="*"?o[c]=xr.parseExtendedValue(l):(l=c==="type"?l.toLowerCase():l,o[c]!=null?Array.isArray(o[c])?o[c].push(l):o[c]=[o[c],l]:o[c]=l)),e[s]){case",":n=bo.IDLE;break;case";":n=bo.ATTR;break}s++}else throw new Error('Unknown parser state "'+n+'"');return o!=null&&(o.rel!=null?this.refs.push(...xr.expandRelations(o)):this.refs.push(o)),o=null,this}toString(){for(var e=[],r="",n=null,a=0;a<this.refs.length;a++)n=this.refs[a],r=Object.keys(this.refs[a]).reduce(function(s,o){return o==="uri"?s:s+"; "+xr.formatAttribute(o,n[o])},"<"+n.uri+">"),e.push(r);return e.join(", ")}}xr.isCompatibleEncoding=function(t){return CJ.test(t)};xr.parse=function(t,e){return new xr().parse(t,e)};xr.isSingleOccurenceAttr=function(t){return t==="rel"||t==="type"||t==="media"||t==="title"||t==="title*"};xr.isTokenAttr=function(t){return t==="rel"||t==="type"||t==="anchor"};xr.escapeQuotes=function(t){return t.replace(/"/g,'\\"')};xr.expandRelations=function(t){var e=t.rel.split(" ");return e.map(function(r){var n=Object.assign({},t);return n.rel=r,n})};xr.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']*)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:xr.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:xr.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}};xr.formatExtendedAttribute=function(t,e){var r=(e.encoding||"utf-8").toUpperCase(),n=e.language||"en",a="";return Buffer.isBuffer(e.value)&&xr.isCompatibleEncoding(r)?a=e.value.toString(r):Buffer.isBuffer(e.value)?a=e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):a=encodeURIComponent(e.value),t+"="+r+"'"+n+"'"+a};xr.formatAttribute=function(t,e){return Array.isArray(e)?e.map(r=>xr.formatAttribute(t,r)).join("; "):t[t.length-1]==="*"||typeof e!="string"?xr.formatExtendedAttribute(t,e):(xr.isTokenAttr(t)?e=YP(e)?'"'+xr.escapeQuotes(e)+'"':xr.escapeQuotes(e):YP(e)&&(e=encodeURIComponent(e),e=e.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),e='"'+e+'"'),t+"="+e)};var I9=xr;Object.defineProperty(T0,"__esModule",{value:!0});T0.FetchDocumentLoader=void 0;const ZP=Nf,HJ=I9,kJ=xa;class QJ{constructor(e){this.fetcher=e}async load(e){const r=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(r.ok&&r.headers){let n=r.headers.get("Content-Type");if(n){const a=n.indexOf(";");a>0&&(n=n.substr(0,a))}if(n==="application/ld+json")return await r.json();if(r.headers.has("Link")){let a;if(r.headers.forEach((s,o)=>{if(o==="link"){const u=(0,HJ.parse)(s);for(const c of u.get("type","application/ld+json"))if(c.rel==="alternate"){if(a)throw new Error("Multiple JSON-LD alternate links were found on "+e);a=(0,kJ.resolve)(c.uri,e)}}}),a)return this.load(a)}throw new ZP.ErrorCoded(`Unsupported JSON-LD media type ${n}`,ZP.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(r.statusText||`Status code: ${r.status}`)}}T0.FetchDocumentLoader=QJ;var hx={},jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.Util=void 0;let fa=class So{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&e[0]==="#")}static getPrefix(e,r){if(e&&e[0]==="#")return null;const n=e.indexOf(":");if(n>=0){if(e.length>n+1&&e.charAt(n+1)==="/"&&e.charAt(n+2)==="/")return null;const a=e.substr(0,n);if(a==="_")return null;if(r[a])return a}return null}static getContextValueId(e){if(e===null||typeof e=="string")return e;const r=e["@id"];return r||null}static isSimpleTermDefinitionPrefix(e,r){return!So.isPotentialKeyword(e)&&(r.allowPrefixNonGenDelims||typeof e=="string"&&(e[0]==="_"||So.isPrefixIriEndingWithGenDelim(e)))}static isPotentialKeyword(e){return typeof e=="string"&&So.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return So.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&(typeof e=="string"||e&&typeof e=="object")}static isValidIri(e){return!!(e&&So.IRI_REGEX.test(e))}static isValidIriWeak(e){return!!e&&e[0]!==":"&&So.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return So.VALID_KEYWORDS[e]}static isTermProtected(e,r){const n=e[r];return typeof n!="string"&&n&&n["@protected"]}static hasProtectedTerms(e){for(const r of Object.keys(e))if(So.isTermProtected(e,r))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}static deepEqual(e,r){const n=Object.keys(e),a=Object.keys(r);return n.length!==a.length?!1:n.every(s=>{const o=e[s],u=r[s];return o===u||o!==null&&u!==null&&typeof o=="object"&&typeof u=="object"&&this.deepEqual(o,u)})}};fa.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/;fa.IRI_REGEX_WEAK=/(?::[^:])|\//;fa.KEYWORD_REGEX=/^@[a-z]+$/i;fa.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/;fa.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/;fa.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/;fa.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0};fa.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"];fa.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"];fa.ALIAS_RANGE_BLACKLIST=["@context","@preserve"];fa.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"];fa.CONTAINERS_1_0=["@list","@set","@index"];jf.Util=fa;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.JsonLdContextNormalized=void 0;const e=xa,r=Nf,n=jf;class a{constructor(o){this.contextRaw=o}getContextRaw(){return this.contextRaw}expandTerm(o,u,c=t.defaultExpandOptions){const l=this.contextRaw[o];if(l===null||l&&l["@id"]===null)return null;let d=!0;if(l&&u){const E=n.Util.getContextValueId(l);if(E&&E!==o)if(typeof E!="string"||!n.Util.isValidIri(E)&&!n.Util.isValidKeyword(E))n.Util.isPotentialKeyword(E)||(d=!1);else return E}const f=n.Util.getPrefix(o,this.contextRaw),h=this.contextRaw["@vocab"],p=(!!h||h==="")&&h.indexOf(":")<0,y=this.contextRaw["@base"],_=n.Util.isPotentialKeyword(o);if(f){const E=this.contextRaw[f],w=n.Util.getContextValueId(E);if(w){if(typeof E=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(w,c))return o}else if(w[0]!=="_"&&!_&&!E["@prefix"]&&!(o in this.contextRaw))return o;return w+o.substr(f.length+1)}}else if(u&&(h||h===""||c.allowVocabRelativeToBase&&y&&p)&&!_&&!n.Util.isCompactIri(o))if(p){if(c.allowVocabRelativeToBase)return(h||y?(0,e.resolve)(h,y):"")+o;throw new r.ErrorCoded(`Relative vocab expansion for term '${o}' with vocab '${h}' is not allowed.`,r.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return h+o;else if(!u&&y&&!_&&!n.Util.isCompactIri(o))return(0,e.resolve)(o,y);if(d)return o;throw new r.ErrorCoded(`Invalid IRI mapping found for context entry '${o}': '${JSON.stringify(l)}'`,r.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(o,u){if(u&&this.contextRaw["@vocab"]&&o.startsWith(this.contextRaw["@vocab"]))return o.substr(this.contextRaw["@vocab"].length);if(!u&&this.contextRaw["@base"]&&o.startsWith(this.contextRaw["@base"]))return o.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:o};for(const l in this.contextRaw){const d=this.contextRaw[l];if(d&&!n.Util.isPotentialKeyword(l)){const f=n.Util.getContextValueId(d);if(o.startsWith(f)){const h=o.substr(f.length);if(h)h.length<c.suffix.length&&(c.prefix=l,c.suffix=h);else if(u)return l}}}return c.prefix?c.prefix+":"+c.suffix:o}}t.JsonLdContextNormalized=a,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}})(hx);Object.defineProperty(Ug,"__esModule",{value:!0});Ug.ContextParser=void 0;const eD=xa,Ce=Nf,GJ=T0,$a=hx,dt=jf;class Ao{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new GJ.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in e?!!e.redirectSchemaOrgHttps:!0}static validateLanguage(e,r,n){if(typeof e!="string")throw new Ce.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,n);if(!dt.Util.REGEX_LANGUAGE_TAG.test(e)){if(r)throw new Ce.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,n);return!1}return!0}static validateDirection(e,r){if(typeof e!="string")throw new Ce.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,Ce.ERROR_CODES.INVALID_BASE_DIRECTION);if(!dt.Util.REGEX_DIRECTION_TAG.test(e)){if(r)throw new Ce.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,Ce.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const r of Object.keys(e)){let n=e[r];if(n&&typeof n=="object"&&n["@reverse"]&&!n["@id"]){if(typeof n["@reverse"]!="string"||dt.Util.isValidKeyword(n["@reverse"]))throw new Ce.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${n["@reverse"]}'`,Ce.ERROR_CODES.INVALID_IRI_MAPPING);n=e[r]=Object.assign(Object.assign({},n),{"@id":n["@reverse"]}),n["@id"]=n["@reverse"],dt.Util.isPotentialKeyword(n["@reverse"])?delete n["@reverse"]:n["@reverse"]=!0}}return e}expandPrefixedTerms(e,r,n){const a=e.getContextRaw();for(const s of n||Object.keys(a))if(dt.Util.EXPAND_KEYS_BLACKLIST.indexOf(s)<0&&!dt.Util.isReservedInternalKeyword(s)){const o=a[s];if(dt.Util.isPotentialKeyword(s)&&dt.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(s)>=0&&(s!=="@type"||typeof a[s]=="object"&&!(a[s]["@protected"]||a[s]["@container"]==="@set")))throw new Ce.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${s} to ${JSON.stringify(o)}`,Ce.ERROR_CODES.KEYWORD_REDEFINITION);if(dt.Util.ALIAS_RANGE_BLACKLIST.indexOf(dt.Util.getContextValueId(o))>=0)throw new Ce.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${s} to ${JSON.stringify(o)}`,Ce.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(o&&dt.Util.isPotentialKeyword(dt.Util.getContextValueId(o))&&o["@prefix"]===!0)throw new Ce.ErrorCoded(`Tried to use keyword aliases as prefix: '${s}': '${JSON.stringify(o)}'`,Ce.ERROR_CODES.INVALID_TERM_DEFINITION);for(;dt.Util.isPrefixValue(a[s]);){const u=a[s];let c=!1;if(typeof u=="string")a[s]=e.expandTerm(u,!0),c=c||u!==a[s];else{const l=u["@id"],d=u["@type"],f=!("@prefix"in u)||dt.Util.isValidIri(s);if("@id"in u)l!=null&&typeof l=="string"&&(a[s]=Object.assign(Object.assign({},a[s]),{"@id":e.expandTerm(l,!0)}),c=c||l!==a[s]["@id"]);else if(!dt.Util.isPotentialKeyword(s)&&f){const h=e.expandTerm(s,!0);h!==s&&(a[s]=Object.assign(Object.assign({},a[s]),{"@id":h}),c=!0)}if(d&&typeof d=="string"&&d!=="@vocab"&&(!u["@container"]||!u["@container"]["@type"])&&f){let h=e.expandTerm(d,!0);r&&d===h&&(h=e.expandTerm(d,!1)),h!==d&&(c=!0,a[s]=Object.assign(Object.assign({},a[s]),{"@type":h}))}}if(!c)break}}}normalize(e,{processingMode:r,normalizeLanguageTags:n}){if(n||r===1)for(const a of Object.keys(e))if(a==="@language"&&typeof e[a]=="string")e[a]=e[a].toLowerCase();else{const s=e[a];if(s&&typeof s=="object"&&typeof s["@language"]=="string"){const o=s["@language"].toLowerCase();o!==s["@language"]&&(e[a]=Object.assign(Object.assign({},s),{"@language":o}))}}}containersToHash(e){for(const r of Object.keys(e)){const n=e[r];if(n&&typeof n=="object"){if(typeof n["@container"]=="string")e[r]=Object.assign(Object.assign({},n),{"@container":{[n["@container"]]:!0}});else if(Array.isArray(n["@container"])){const a={};for(const s of n["@container"])a[s]=!0;e[r]=Object.assign(Object.assign({},n),{"@container":a})}}}}applyScopedProtected(e,{processingMode:r},n){if(r&&r>=1.1&&e["@protected"]){for(const a of Object.keys(e))if(!dt.Util.isReservedInternalKeyword(a)&&!dt.Util.isPotentialKeyword(a)&&!dt.Util.isTermProtected(e,a)){const s=e[a];s&&typeof s=="object"?"@protected"in e[a]||(e[a]=Object.assign(Object.assign({},e[a]),{"@protected":!0})):(e[a]={"@id":s,"@protected":!0},dt.Util.isSimpleTermDefinitionPrefix(s,n)&&(e[a]=Object.assign(Object.assign({},e[a]),{"@prefix":!0})))}delete e["@protected"]}}validateKeywordRedefinitions(e,r,n,a){for(const s of a??Object.keys(r))if(dt.Util.isTermProtected(e,s)&&(typeof r[s]=="string"?r[s]={"@id":r[s],"@protected":!0}:r[s]=Object.assign(Object.assign({},r[s]),{"@protected":!0}),!dt.Util.deepEqual(e[s],r[s])))throw new Ce.ErrorCoded(`Attempted to override the protected keyword ${s} from ${JSON.stringify(dt.Util.getContextValueId(e[s]))} to ${JSON.stringify(dt.Util.getContextValueId(r[s]))}`,Ce.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(e,{processingMode:r}){for(const n of Object.keys(e)){if(dt.Util.isReservedInternalKeyword(n))continue;if(n==="")throw new Ce.ErrorCoded(`The empty term is not allowed, got: '${n}': '${JSON.stringify(e[n])}'`,Ce.ERROR_CODES.INVALID_TERM_DEFINITION);const a=e[n],s=typeof a;if(dt.Util.isPotentialKeyword(n)){switch(n.substr(1)){case"vocab":if(a!==null&&s!=="string")throw new Ce.ErrorCoded(`Found an invalid @vocab IRI: ${a}`,Ce.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(a!==null&&s!=="string")throw new Ce.ErrorCoded(`Found an invalid @base IRI: ${e[n]}`,Ce.ERROR_CODES.INVALID_BASE_IRI);break;case"language":a!==null&&Ao.validateLanguage(a,!0,Ce.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(a!==null&&s!=="number")throw new Ce.ErrorCoded(`Found an invalid @version number: ${a}`,Ce.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":a!==null&&Ao.validateDirection(a,!0);break;case"propagate":if(r===1)throw new Ce.ErrorCoded(`Found an illegal @propagate keyword: ${a}`,Ce.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(a!==null&&s!=="boolean")throw new Ce.ErrorCoded(`Found an invalid @propagate value: ${a}`,Ce.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(dt.Util.isValidKeyword(n)&&dt.Util.isValidKeyword(dt.Util.getContextValueId(a)))throw new Ce.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${dt.Util.getContextValueId(a)}'`,Ce.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(a!==null)switch(s){case"string":if(dt.Util.getPrefix(a,e)===n)throw new Ce.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.CYCLIC_IRI_MAPPING);if(dt.Util.isValidIriWeak(n)){if(a==="@type")throw new Ce.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${a}'`,Ce.ERROR_CODES.INVALID_IRI_MAPPING);if(dt.Util.isValidIri(a)&&a!==new $a.JsonLdContextNormalized(e).expandTerm(n))throw new Ce.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${a}'`,Ce.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!dt.Util.isCompactIri(n)&&!("@id"in a)&&(a["@type"]==="@id"?!e["@base"]:!e["@vocab"]))throw new Ce.ErrorCoded(`Missing @id in context entry: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_IRI_MAPPING);for(const o of Object.keys(a)){const u=a[o];if(u)switch(o){case"@id":if(dt.Util.isValidKeyword(u)&&u!=="@type"&&u!=="@id"&&u!=="@graph"&&u!=="@nest")throw new Ce.ErrorCoded(`Illegal keyword alias in term value, found: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_IRI_MAPPING);if(dt.Util.isValidIriWeak(n)){if(u==="@type")throw new Ce.ErrorCoded(`IRIs can not be mapped to @type, found: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_IRI_MAPPING);if(dt.Util.isValidIri(u)&&u!==new $a.JsonLdContextNormalized(e).expandTerm(n))throw new Ce.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof u!="string")throw new Ce.ErrorCoded(`Detected non-string @id in context entry: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_IRI_MAPPING);if(dt.Util.getPrefix(u,e)===n)throw new Ce.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(a["@container"]==="@type"&&u!=="@id"&&u!=="@vocab")throw new Ce.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${n}': '${u}'`,Ce.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof u!="string")throw new Ce.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(s)}'`,Ce.ERROR_CODES.INVALID_TYPE_MAPPING);if(u!=="@id"&&u!=="@vocab"&&(r===1||u!=="@json")&&(r===1||u!=="@none")&&(u[0]==="_"||!dt.Util.isValidIri(u)))throw new Ce.ErrorCoded(`A context @type must be an absolute IRI, found: '${n}': '${u}'`,Ce.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof u=="string"&&a["@id"]&&a["@id"]!==u)throw new Ce.ErrorCoded(`Found non-matching @id and @reverse term values in '${n}':'${u}' and '${a["@id"]}'`,Ce.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in a)throw new Ce.ErrorCoded(`@nest is not allowed in the reverse property '${n}'`,Ce.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(r===1&&(Object.keys(u).length>1||dt.Util.CONTAINERS_1_0.indexOf(Object.keys(u)[0])<0))throw new Ce.ErrorCoded(`Invalid term @container for '${n}' ('${Object.keys(u)}') in 1.0, must be only one of ${dt.Util.CONTAINERS_1_0.join(", ")}`,Ce.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const c of Object.keys(u)){if(c==="@list"&&a["@reverse"])throw new Ce.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${n}'`,Ce.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(dt.Util.CONTAINERS.indexOf(c)<0)throw new Ce.ErrorCoded(`Invalid term @container for '${n}' ('${c}'), must be one of ${dt.Util.CONTAINERS.join(", ")}`,Ce.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":Ao.validateLanguage(u,!0,Ce.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":Ao.validateDirection(u,!0);break;case"@prefix":if(u!==null&&typeof u!="boolean")throw new Ce.ErrorCoded(`Found an invalid term @prefix boolean in: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in a)&&!dt.Util.isValidIri(n))throw new Ce.ErrorCoded(`Invalid @prefix definition for '${n}' ('${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(r===1||!a["@container"]||!a["@container"]["@index"])throw new Ce.ErrorCoded(`Attempt to add illegal key to value object: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(dt.Util.isPotentialKeyword(u)&&u!=="@nest")throw new Ce.ErrorCoded(`Found an invalid term @nest value in: '${n}': '${JSON.stringify(a)}'`,Ce.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new Ce.ErrorCoded(`Found an invalid term value: '${n}': '${a}'`,Ce.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,r,n){return typeof e=="string"||(n&&!("@base"in e)&&r.parentContext&&typeof r.parentContext=="object"&&"@base"in r.parentContext&&(e["@base"]=r.parentContext["@base"],r.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),r.baseIRI&&!r.external&&("@base"in e?e["@base"]!==null&&typeof e["@base"]=="string"&&!dt.Util.isValidIri(e["@base"])&&(e["@base"]=(0,eD.resolve)(e["@base"],r.parentContext&&r.parentContext["@base"]||r.baseIRI)):(e["@base"]=r.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,r){if(!dt.Util.isValidIri(e))try{e=(0,eD.resolve)(e,r)}catch{throw new Error(`Invalid context IRI: ${e}`)}return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,r,n){for(const a of n??Object.keys(e)){const s=e[a];if(s&&typeof s=="object"&&"@context"in s&&s["@context"]!==null&&!r.ignoreScopedContexts){if(this.validateContext)try{const o=Object.assign(Object.assign({},e),{[a]:Object.assign({},e[a])});delete o[a]["@context"],await this.parse(s["@context"],Object.assign(Object.assign({},r),{external:!1,parentContext:o,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(o){throw new Ce.ErrorCoded(o.message,Ce.ERROR_CODES.INVALID_SCOPED_CONTEXT)}e[a]=Object.assign(Object.assign({},s),{"@context":(await this.parse(s["@context"],Object.assign(Object.assign({},r),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()})}}return e}async parse(e,r={},n={}){const{baseIRI:a,parentContext:s,external:o,processingMode:u=Ao.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:c,ignoreProtection:l,minimalProcessing:d}=r,f=r.remoteContexts||{};if(Object.keys(f).length>=this.remoteContextsDepthLimit)throw new Ce.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(f),Ce.ERROR_CODES.CONTEXT_OVERFLOW);if(e==null){if(!l&&s&&dt.Util.hasProtectedTerms(s))throw new Ce.ErrorCoded("Illegal context nullification when terms are protected",Ce.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new $a.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}else if(typeof e=="string"){const h=this.normalizeContextIri(e,a),p=this.getOverriddenLoad(h,r);if(p)return new $a.JsonLdContextNormalized(p);const y=await this.parse(await this.load(h),Object.assign(Object.assign({},r),{baseIRI:h,external:!0,remoteContexts:Object.assign(Object.assign({},f),{[h]:!0})}));return this.applyBaseEntry(y.getContextRaw(),r,!0),y}else if(Array.isArray(e)){const h=[],p=await Promise.all(e.map((_,E)=>{if(typeof _=="string"){const w=this.normalizeContextIri(_,a);h[E]=w;const O=this.getOverriddenLoad(w,r);return O||this.load(w)}else return _}));if(d)return new $a.JsonLdContextNormalized(p);const y=await p.reduce((_,E,w)=>_.then(O=>this.parse(E,Object.assign(Object.assign({},r),{baseIRI:h[w]||r.baseIRI,external:!!h[w]||r.external,parentContext:O.getContextRaw(),remoteContexts:h[w]?Object.assign(Object.assign({},f),{[h[w]]:!0}):f}),{skipValidation:w<p.length-1})),Promise.resolve(new $a.JsonLdContextNormalized(s||{})));return this.applyBaseEntry(y.getContextRaw(),r,!0),y}else if(typeof e=="object"){if("@context"in e)return await this.parse(e["@context"],r);if(e=Object.assign({},e),o&&delete e["@base"],this.applyBaseEntry(e,r,!0),this.containersToHash(e),d)return new $a.JsonLdContextNormalized(e);let h={};if("@import"in e)if(u>=1.1){if(typeof e["@import"]!="string")throw new Ce.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],Ce.ERROR_CODES.INVALID_IMPORT_VALUE);h=await this.loadImportContext(this.normalizeContextIri(e["@import"],a)),delete e["@import"]}else throw new Ce.ErrorCoded("Context importing is not supported in JSON-LD 1.0",Ce.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(h,{processingMode:u},$a.defaultExpandOptions);const p=Object.assign(h,e);this.idifyReverseTerms(p),this.normalize(p,{processingMode:u,normalizeLanguageTags:c}),this.applyScopedProtected(p,{processingMode:u},$a.defaultExpandOptions);const y=Object.keys(p),_=[];if(typeof s=="object")for(const w in s)w in p?_.push(w):p[w]=s[w];await this.parseInnerContexts(p,r,y);const E=new $a.JsonLdContextNormalized(p);return(p&&p["@version"]||Ao.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&typeof e["@vocab"]=="string"||e["@vocab"]==="")&&(s&&"@vocab"in s&&e["@vocab"].indexOf(":")<0?p["@vocab"]=s["@vocab"]+e["@vocab"]:(dt.Util.isCompactIri(e["@vocab"])||e["@vocab"]in p)&&(p["@vocab"]=E.expandTerm(e["@vocab"],!0))),this.expandPrefixedTerms(E,this.expandContentTypeToBase,y),!l&&s&&u>=1.1&&this.validateKeywordRedefinitions(s,p,$a.defaultExpandOptions,_),this.validateContext&&!n.skipValidation&&this.validate(p,{processingMode:u}),E}else throw new Ce.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${e}`,Ce.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){const r=this.documentCache[e];if(r)return r;let n;try{n=await this.documentLoader.load(e)}catch(a){throw new Ce.ErrorCoded(`Failed to load remote context ${e}: ${a.message}`,Ce.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in n))throw new Ce.ErrorCoded(`Missing @context in remote context at ${e}`,Ce.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=n["@context"]}getOverriddenLoad(e,r){if(e in(r.remoteContexts||{})){if(r.ignoreRemoteScopedContexts)return e;throw new Ce.ErrorCoded("Detected a cyclic context inclusion of "+e,Ce.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){let r=await this.load(e);if(typeof r!="object"||Array.isArray(r))throw new Ce.ErrorCoded("An imported context must be a single object: "+e,Ce.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in r)throw new Ce.ErrorCoded("An imported context can not import another context: "+e,Ce.ERROR_CODES.INVALID_CONTEXT_ENTRY);return r=Object.assign({},r),this.containersToHash(r),r}}Ao.DEFAULT_PROCESSING_MODE=1.1;Ug.ContextParser=Ao;var P9={};Object.defineProperty(P9,"__esModule",{value:!0});var D9={};Object.defineProperty(D9,"__esModule",{value:!0});(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ug,t),r(Nf,t),r(T0,t),r(P9,t),r(D9,t),r(hx,t),r(jf,t)})(yn);Object.defineProperty(S0,"__esModule",{value:!0});S0.Util=void 0;const zJ=ft,WJ=yn,XJ=vt;let KJ=class{constructor(e){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=e,this.dataFactory=e.dataFactory||new zJ.DataFactory,this.operationFactory=new XJ.Factory(this.dataFactory),this.contextParser=new WJ.ContextParser}registerNodeHandler(e){this.nodeHandlers[e.targetKind]=e}registerNodeValueHandler(e){this.nodeValueHandlers[e.targetKind]=e}registerDirectiveNodeHandler(e){this.directiveNodeHandlers[e.targetKind]=e}handleNode(e,r){const n=this.nodeHandlers[e.kind];if(!n)throw new Error(`Unsupported GraphQL node '${e.kind}'`);return n.handle(e,r)}handleNodeValue(e,r,n){const a=this.nodeValueHandlers[e.kind];if(!a)throw new Error(`Unsupported GraphQL value node '${e.kind}'`);return a.handle(e,r,n)}handleDirectiveNode(e,r){const n=this.directiveNodeHandlers[e.directive.name.value];return n?n.handle(e,r):null}joinOperations(e){if(e.length===1)return e[0];const r=[],n=[];for(const a of e)a.type==="bgp"?r.push(a):n.push(a);if(r.length===e.length)return this.joinOperationsAsBgp(r);if(r.length===e.length-1&&n[0].type==="leftjoin"&&n[0].input[0].type==="bgp"){const a=n[0];return r.push(a.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(r),a.input[1])}else return n.length===e.length?this.joinOperationsAsNestedJoin(n):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(r),this.joinOperationsAsNestedJoin(n)])}joinOperationsAsBgp(e){return this.operationFactory.createBgp([].concat.apply([],e.map(r=>r.patterns)))}joinOperationsAsNestedJoin(e){return this.operationFactory.createJoin(e)}appendFieldToPath(e,r){return e.concat([r])}getFieldLabel(e){return(e.alias?e.alias:e.name).value}nameToVariable(e,r){return this.dataFactory.variable((r.path.length?r.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+e)}valueToNamedNode(e,r){const n=r.expandTerm(e,!0);if(this.settings.requireContext&&!n)throw new Error("No context entry was found for "+e);return this.dataFactory.namedNode(n||e)}getArgument(e,r){if(e){for(const n of e)if(n.name.value===r)return n}}newTypePattern(e,r,n){return this.operationFactory.createPattern(e,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(r.name.value,n.context),n.graph)}createQuadPattern(e,r,n,a,s){const o=this.valueToNamedNode(r.value,s);return s&&s.getContextRaw()[r.value]&&s.getContextRaw()[r.value]["@reverse"]?this.operationFactory.createPattern(n,o,e,a):this.operationFactory.createPattern(e,o,n,a)}createQuadPath(e,r,n,a,s,o){const u=this.valueToNamedNode(r.value,o);let c=this.operationFactory.createLink(u);for(const l of n.values){if(l.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+l.kind);c=this.operationFactory.createAlt([c,this.operationFactory.createLink(this.valueToNamedNode(l.value,o))])}return o&&o.getContextRaw()[r.value]&&o.getContextRaw()[r.value]["@reverse"]?this.operationFactory.createPath(a,c,e,s):this.operationFactory.createPath(e,c,a,s)}};S0.Util=KJ;var JJ=g&&g.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):a(d.value).then(u,c)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Bg,"__esModule",{value:!0});Bg.Converter=void 0;const YJ=NJ,li=ox,Yf=ux,ZJ=Pf,eY=S0;let tY=class ab{constructor(e){e=e||{},e.variableDelimiter=e.variableDelimiter||"_",e.expressionVariableCounter=e.expressionVariableCounter||0,this.util=new eY.Util(e),this.initializeNodeHandlers(e)}static registerNodeHandlers(e,r){e.registerNodeHandler(new li.NodeHandlerDocument(e,r)),e.registerNodeHandler(new li.NodeHandlerDefinitionOperation(e,r)),e.registerNodeHandler(new li.NodeHandlerDefinitionFragment(e,r)),e.registerNodeHandler(new li.NodeHandlerSelectionFragmentSpread(e,r)),e.registerNodeHandler(new li.NodeHandlerSelectionInlineFragment(e,r)),e.registerNodeHandler(new li.NodeHandlerSelectionField(e,r))}static registerNodeValueHandlers(e,r){e.registerNodeValueHandler(new li.NodeValueHandlerVariable(e,r)),e.registerNodeValueHandler(new li.NodeValueHandlerInt(e,r)),e.registerNodeValueHandler(new li.NodeValueHandlerFloat(e,r)),e.registerNodeValueHandler(new li.NodeValueHandlerString(e,r)),e.registerNodeValueHandler(new li.NodeValueHandlerBoolean(e,r)),e.registerNodeValueHandler(new li.NodeValueHandlerNull(e,r)),e.registerNodeValueHandler(new li.NodeValueHandlerEnum(e,r)),e.registerNodeValueHandler(new li.NodeValueHandlerList(e,r)),e.registerNodeValueHandler(new li.NodeValueHandlerObject(e,r))}static registerDirectiveNodeHandlers(e,r){e.registerDirectiveNodeHandler(new Yf.DirectiveNodeHandlerInclude(e,r)),e.registerDirectiveNodeHandler(new Yf.DirectiveNodeHandlerOptional(e,r)),e.registerDirectiveNodeHandler(new Yf.DirectiveNodeHandlerPlural(e,r)),e.registerDirectiveNodeHandler(new Yf.DirectiveNodeHandlerSingle(e,r)),e.registerDirectiveNodeHandler(new Yf.DirectiveNodeHandlerSkip(e,r))}graphqlToSparqlAlgebra(e,r,n){return JJ(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(e,yield this.util.contextParser.parse(r),n)})}graphqlToSparqlAlgebraRawContext(e,r,n){n=n||{};const a=typeof e=="string"?(0,YJ.parse)(e):e,s=this.indexFragments(a),o={context:r,fragmentDefinitions:s,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:ZJ.SingularizeState.PLURAL,singularizeVariables:n.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:n.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(a,o)}indexFragments(e){const r={},n=[];for(const a of e.definitions)a.kind==="FragmentDefinition"?r[a.name.value]=a:n.push(a);return e.definitions=n,r}initializeNodeHandlers(e){ab.registerNodeHandlers(this.util,e),ab.registerNodeValueHandlers(this.util,e),ab.registerDirectiveNodeHandlers(this.util,e)}};Bg.Converter=tY;var N9={};Object.defineProperty(N9,"__esModule",{value:!0});(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ox,t),r(Bg,t),r(Pf,t),r(N9,t),r(S0,t)})(d9);Object.defineProperty(_g,"__esModule",{value:!0});_g.ActorQueryParseGraphql=void 0;const rY=sx,tD=qt,nY=d9;class iY extends rY.ActorQueryParse{constructor(e){super(e),this.graphqlToSparql=new nY.Converter({requireContext:!0})}async test(e){var r;if(((r=e.queryFormat)==null?void 0:r.language)!=="graphql")throw new Error("This actor can only parse GraphQL queries");return!0}async run(e){const r=e.context.get(tD.KeysInitQuery.jsonLdContext)||{},n={singularizeVariables:e.context.get(tD.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(e.query,r,n)}}}_g.ActorQueryParseGraphql=iY;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_g,t)})(l9);var sc={},qg={};Object.defineProperty(qg,"__esModule",{value:!0});qg.MediatorCombineUnion=void 0;const aY=Je;class sY extends aY.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){let r;try{r=this.publish(e)}catch{r=[]}await Promise.all(r.map(({reply:a})=>a));const n=await Promise.all(r.map(a=>a.actor.runObservable(e)));return this.combiner(n)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return e=>{const r={};return r[this.field]={},[{}].concat(e.map(n=>n[this.field])).forEach((n,a,s)=>{r[this.field]={...n,...r[this.field]}}),r}}}qg.MediatorCombineUnion=sY;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qg,t)})(sc);var j9={},Vg={},ds={},Hg={},wl={},E0={};Object.defineProperty(E0,"__esModule",{value:!0});E0.ActorAbstractMediaTyped=void 0;const oY=Je;class uY extends oY.Actor{constructor(e){super(e)}async run(e){if("handle"in e){const r=e;return{handle:await this.runHandle(r.handle,r.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.getMediaTypes(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.getMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(e){if("handle"in e){const r=e;return{handle:await this.testHandle(r.handle,r.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.testMediaType(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.testMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}E0.ActorAbstractMediaTyped=uY;var kg={};Object.defineProperty(kg,"__esModule",{value:!0});kg.ActorAbstractMediaTypedFixed=void 0;const cY=E0;class lY extends cY.ActorAbstractMediaTyped{constructor(e){super(e);const r=this.priorityScale||this.priorityScale===0?this.priorityScale:1;this.mediaTypePriorities&&Object.entries(this.mediaTypePriorities).forEach(([n,a],s)=>{this.mediaTypePriorities[n]=r*a}),this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(e,r,n){if(!r||!(r in this.mediaTypePriorities))throw new Error(`Unrecognized media type: ${r}`);return await this.testHandleChecked(e,n)}async testMediaType(e){return!0}async getMediaTypes(e){return this.mediaTypePriorities}async testMediaTypeFormats(e){return!0}async getMediaTypeFormats(e){return this.mediaTypeFormats}}kg.ActorAbstractMediaTypedFixed=lY;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(E0,t),r(kg,t)})(wl);Object.defineProperty(Hg,"__esModule",{value:!0});Hg.ActorQueryResultSerialize=void 0;const dY=wl;class fY extends dY.ActorAbstractMediaTyped{constructor(e){super(e)}}Hg.ActorQueryResultSerialize=fY;var Qg={};Object.defineProperty(Qg,"__esModule",{value:!0});Qg.ActorQueryResultSerializeFixedMediaTypes=void 0;const hY=wl;class pY extends hY.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e,r){return!0}}Qg.ActorQueryResultSerializeFixedMediaTypes=pY;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Hg,t),r(Qg,t)})(ds);var C9={exports:{}},U3={exports:{}},ha={},Gg={};Gg.byteLength=_Y;Gg.toByteArray=mY;Gg.fromByteArray=SY;var Ms=[],_a=[],yY=typeof Uint8Array<"u"?Uint8Array:Array,q3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wl=0,bY=q3.length;Wl<bY;++Wl)Ms[Wl]=q3[Wl],_a[q3.charCodeAt(Wl)]=Wl;_a["-".charCodeAt(0)]=62;_a["_".charCodeAt(0)]=63;function M9(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function _Y(t){var e=M9(t),r=e[0],n=e[1];return(r+n)*3/4-n}function gY(t,e,r){return(e+r)*3/4-r}function mY(t){var e,r=M9(t),n=r[0],a=r[1],s=new yY(gY(t,n,a)),o=0,u=a>0?n-4:n,c;for(c=0;c<u;c+=4)e=_a[t.charCodeAt(c)]<<18|_a[t.charCodeAt(c+1)]<<12|_a[t.charCodeAt(c+2)]<<6|_a[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return a===2&&(e=_a[t.charCodeAt(c)]<<2|_a[t.charCodeAt(c+1)]>>4,s[o++]=e&255),a===1&&(e=_a[t.charCodeAt(c)]<<10|_a[t.charCodeAt(c+1)]<<4|_a[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function vY(t){return Ms[t>>18&63]+Ms[t>>12&63]+Ms[t>>6&63]+Ms[t&63]}function wY(t,e,r){for(var n,a=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),a.push(vY(n));return a.join("")}function SY(t){for(var e,r=t.length,n=r%3,a=[],s=16383,o=0,u=r-n;o<u;o+=s)a.push(wY(t,o,o+s>u?u:o+s));return n===1?(e=t[r-1],a.push(Ms[e>>2]+Ms[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],a.push(Ms[e>>10]+Ms[e>>4&63]+Ms[e<<2&63]+"=")),a.join("")}var px={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */px.read=function(t,e,r,n,a){var s,o,u=a*8-n-1,c=(1<<u)-1,l=c>>1,d=-7,f=r?a-1:0,h=r?-1:1,p=t[e+f];for(f+=h,s=p&(1<<-d)-1,p>>=-d,d+=u;d>0;s=s*256+t[e+f],f+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+t[e+f],f+=h,d-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(p?-1:1)*o*Math.pow(2,s-n)};px.write=function(t,e,r,n,a,s){var o,u,c,l=s*8-a-1,d=(1<<l)-1,f=d>>1,h=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,y=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=h/c:e+=h*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=d?(u=0,o=d):o+f>=1?(u=(e*c-1)*Math.pow(2,a),o=o+f):(u=e*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;t[r+p]=u&255,p+=y,u/=256,a-=8);for(o=o<<a|u,l+=a;l>0;t[r+p]=o&255,p+=y,o/=256,l-=8);t[r+p-y]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Gg,r=px,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=O,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=s(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const M=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(M,S),M.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function o(M){if(M>a)throw new RangeError('The value "'+M+'" is invalid for option "size"');const S=new Uint8Array(M);return Object.setPrototypeOf(S,u.prototype),S}function u(M,S,x){if(typeof M=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(M)}return c(M,S,x)}u.poolSize=8192;function c(M,S,x){if(typeof M=="string")return h(M,S);if(ArrayBuffer.isView(M))return y(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(ve(M,ArrayBuffer)||M&&ve(M.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(M,SharedArrayBuffer)||M&&ve(M.buffer,SharedArrayBuffer)))return _(M,S,x);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const z=M.valueOf&&M.valueOf();if(z!=null&&z!==M)return u.from(z,S,x);const ue=E(M);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return u.from(M[Symbol.toPrimitive]("string"),S,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}u.from=function(M,S,x){return c(M,S,x)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function l(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function d(M,S,x){return l(M),M<=0?o(M):S!==void 0?typeof x=="string"?o(M).fill(S,x):o(M).fill(S):o(M)}u.alloc=function(M,S,x){return d(M,S,x)};function f(M){return l(M),o(M<0?0:w(M)|0)}u.allocUnsafe=function(M){return f(M)},u.allocUnsafeSlow=function(M){return f(M)};function h(M,S){if((typeof S!="string"||S==="")&&(S="utf8"),!u.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const x=A(M,S)|0;let z=o(x);const ue=z.write(M,S);return ue!==x&&(z=z.slice(0,ue)),z}function p(M){const S=M.length<0?0:w(M.length)|0,x=o(S);for(let z=0;z<S;z+=1)x[z]=M[z]&255;return x}function y(M){if(ve(M,Uint8Array)){const S=new Uint8Array(M);return _(S.buffer,S.byteOffset,S.byteLength)}return p(M)}function _(M,S,x){if(S<0||M.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<S+(x||0))throw new RangeError('"length" is outside of buffer bounds');let z;return S===void 0&&x===void 0?z=new Uint8Array(M):x===void 0?z=new Uint8Array(M,S):z=new Uint8Array(M,S,x),Object.setPrototypeOf(z,u.prototype),z}function E(M){if(u.isBuffer(M)){const S=w(M.length)|0,x=o(S);return x.length===0||M.copy(x,0,0,S),x}if(M.length!==void 0)return typeof M.length!="number"||me(M.length)?o(0):p(M);if(M.type==="Buffer"&&Array.isArray(M.data))return p(M.data)}function w(M){if(M>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return M|0}function O(M){return+M!=M&&(M=0),u.alloc(+M)}u.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==u.prototype},u.compare=function(S,x){if(ve(S,Uint8Array)&&(S=u.from(S,S.offset,S.byteLength)),ve(x,Uint8Array)&&(x=u.from(x,x.offset,x.byteLength)),!u.isBuffer(S)||!u.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===x)return 0;let z=S.length,ue=x.length;for(let ge=0,we=Math.min(z,ue);ge<we;++ge)if(S[ge]!==x[ge]){z=S[ge],ue=x[ge];break}return z<ue?-1:ue<z?1:0},u.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(S,x){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return u.alloc(0);let z;if(x===void 0)for(x=0,z=0;z<S.length;++z)x+=S[z].length;const ue=u.allocUnsafe(x);let ge=0;for(z=0;z<S.length;++z){let we=S[z];if(ve(we,Uint8Array))ge+we.length>ue.length?(u.isBuffer(we)||(we=u.from(we)),we.copy(ue,ge)):Uint8Array.prototype.set.call(ue,we,ge);else if(u.isBuffer(we))we.copy(ue,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=we.length}return ue};function A(M,S){if(u.isBuffer(M))return M.length;if(ArrayBuffer.isView(M)||ve(M,ArrayBuffer))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const x=M.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&x===0)return 0;let ue=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return q(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return ee(M).length;default:if(ue)return z?-1:q(M).length;S=(""+S).toLowerCase(),ue=!0}}u.byteLength=A;function T(M,S,x){let z=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,S>>>=0,x<=S))return"";for(M||(M="utf8");;)switch(M){case"hex":return be(this,S,x);case"utf8":case"utf-8":return $(this,S,x);case"ascii":return se(this,S,x);case"latin1":case"binary":return ie(this,S,x);case"base64":return ne(this,S,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,S,x);default:if(z)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),z=!0}}u.prototype._isBuffer=!0;function I(M,S,x){const z=M[S];M[S]=M[x],M[x]=z}u.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<S;x+=2)I(this,x,x+1);return this},u.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<S;x+=4)I(this,x,x+3),I(this,x+1,x+2);return this},u.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<S;x+=8)I(this,x,x+7),I(this,x+1,x+6),I(this,x+2,x+5),I(this,x+3,x+4);return this},u.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?$(this,0,S):T.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(S){if(!u.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:u.compare(this,S)===0},u.prototype.inspect=function(){let S="";const x=t.INSPECT_MAX_BYTES;return S=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(S+=" ... "),"<Buffer "+S+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(S,x,z,ue,ge){if(ve(S,Uint8Array)&&(S=u.from(S,S.offset,S.byteLength)),!u.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(x===void 0&&(x=0),z===void 0&&(z=S?S.length:0),ue===void 0&&(ue=0),ge===void 0&&(ge=this.length),x<0||z>S.length||ue<0||ge>this.length)throw new RangeError("out of range index");if(ue>=ge&&x>=z)return 0;if(ue>=ge)return-1;if(x>=z)return 1;if(x>>>=0,z>>>=0,ue>>>=0,ge>>>=0,this===S)return 0;let we=ge-ue,Me=z-x;const Ue=Math.min(we,Me),Ge=this.slice(ue,ge),We=S.slice(x,z);for(let lt=0;lt<Ue;++lt)if(Ge[lt]!==We[lt]){we=Ge[lt],Me=We[lt];break}return we<Me?-1:Me<we?1:0};function D(M,S,x,z,ue){if(M.length===0)return-1;if(typeof x=="string"?(z=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,me(x)&&(x=ue?0:M.length-1),x<0&&(x=M.length+x),x>=M.length){if(ue)return-1;x=M.length-1}else if(x<0)if(ue)x=0;else return-1;if(typeof S=="string"&&(S=u.from(S,z)),u.isBuffer(S))return S.length===0?-1:U(M,S,x,z,ue);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(M,S,x):Uint8Array.prototype.lastIndexOf.call(M,S,x):U(M,[S],x,z,ue);throw new TypeError("val must be string, number or Buffer")}function U(M,S,x,z,ue){let ge=1,we=M.length,Me=S.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(M.length<2||S.length<2)return-1;ge=2,we/=2,Me/=2,x/=2}function Ue(We,lt){return ge===1?We[lt]:We.readUInt16BE(lt*ge)}let Ge;if(ue){let We=-1;for(Ge=x;Ge<we;Ge++)if(Ue(M,Ge)===Ue(S,We===-1?0:Ge-We)){if(We===-1&&(We=Ge),Ge-We+1===Me)return We*ge}else We!==-1&&(Ge-=Ge-We),We=-1}else for(x+Me>we&&(x=we-Me),Ge=x;Ge>=0;Ge--){let We=!0;for(let lt=0;lt<Me;lt++)if(Ue(M,Ge+lt)!==Ue(S,lt)){We=!1;break}if(We)return Ge}return-1}u.prototype.includes=function(S,x,z){return this.indexOf(S,x,z)!==-1},u.prototype.indexOf=function(S,x,z){return D(this,S,x,z,!0)},u.prototype.lastIndexOf=function(S,x,z){return D(this,S,x,z,!1)};function H(M,S,x,z){x=Number(x)||0;const ue=M.length-x;z?(z=Number(z),z>ue&&(z=ue)):z=ue;const ge=S.length;z>ge/2&&(z=ge/2);let we;for(we=0;we<z;++we){const Me=parseInt(S.substr(we*2,2),16);if(me(Me))return we;M[x+we]=Me}return we}function N(M,S,x,z){return ae(q(S,M.length-x),M,x,z)}function R(M,S,x,z){return ae(G(S),M,x,z)}function F(M,S,x,z){return ae(ee(S),M,x,z)}function X(M,S,x,z){return ae(Y(S,M.length-x),M,x,z)}u.prototype.write=function(S,x,z,ue){if(x===void 0)ue="utf8",z=this.length,x=0;else if(z===void 0&&typeof x=="string")ue=x,z=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(z)?(z=z>>>0,ue===void 0&&(ue="utf8")):(ue=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-x;if((z===void 0||z>ge)&&(z=ge),S.length>0&&(z<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");let we=!1;for(;;)switch(ue){case"hex":return H(this,S,x,z);case"utf8":case"utf-8":return N(this,S,x,z);case"ascii":case"latin1":case"binary":return R(this,S,x,z);case"base64":return F(this,S,x,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,S,x,z);default:if(we)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),we=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(M,S,x){return S===0&&x===M.length?e.fromByteArray(M):e.fromByteArray(M.slice(S,x))}function $(M,S,x){x=Math.min(M.length,x);const z=[];let ue=S;for(;ue<x;){const ge=M[ue];let we=null,Me=ge>239?4:ge>223?3:ge>191?2:1;if(ue+Me<=x){let Ue,Ge,We,lt;switch(Me){case 1:ge<128&&(we=ge);break;case 2:Ue=M[ue+1],(Ue&192)===128&&(lt=(ge&31)<<6|Ue&63,lt>127&&(we=lt));break;case 3:Ue=M[ue+1],Ge=M[ue+2],(Ue&192)===128&&(Ge&192)===128&&(lt=(ge&15)<<12|(Ue&63)<<6|Ge&63,lt>2047&&(lt<55296||lt>57343)&&(we=lt));break;case 4:Ue=M[ue+1],Ge=M[ue+2],We=M[ue+3],(Ue&192)===128&&(Ge&192)===128&&(We&192)===128&&(lt=(ge&15)<<18|(Ue&63)<<12|(Ge&63)<<6|We&63,lt>65535&&lt<1114112&&(we=lt))}}we===null?(we=65533,Me=1):we>65535&&(we-=65536,z.push(we>>>10&1023|55296),we=56320|we&1023),z.push(we),ue+=Me}return Q(z)}const C=4096;function Q(M){const S=M.length;if(S<=C)return String.fromCharCode.apply(String,M);let x="",z=0;for(;z<S;)x+=String.fromCharCode.apply(String,M.slice(z,z+=C));return x}function se(M,S,x){let z="";x=Math.min(M.length,x);for(let ue=S;ue<x;++ue)z+=String.fromCharCode(M[ue]&127);return z}function ie(M,S,x){let z="";x=Math.min(M.length,x);for(let ue=S;ue<x;++ue)z+=String.fromCharCode(M[ue]);return z}function be(M,S,x){const z=M.length;(!S||S<0)&&(S=0),(!x||x<0||x>z)&&(x=z);let ue="";for(let ge=S;ge<x;++ge)ue+=Ee[M[ge]];return ue}function he(M,S,x){const z=M.slice(S,x);let ue="";for(let ge=0;ge<z.length-1;ge+=2)ue+=String.fromCharCode(z[ge]+z[ge+1]*256);return ue}u.prototype.slice=function(S,x){const z=this.length;S=~~S,x=x===void 0?z:~~x,S<0?(S+=z,S<0&&(S=0)):S>z&&(S=z),x<0?(x+=z,x<0&&(x=0)):x>z&&(x=z),x<S&&(x=S);const ue=this.subarray(S,x);return Object.setPrototypeOf(ue,u.prototype),ue};function Te(M,S,x){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+S>x)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(S,x,z){S=S>>>0,x=x>>>0,z||Te(S,x,this.length);let ue=this[S],ge=1,we=0;for(;++we<x&&(ge*=256);)ue+=this[S+we]*ge;return ue},u.prototype.readUintBE=u.prototype.readUIntBE=function(S,x,z){S=S>>>0,x=x>>>0,z||Te(S,x,this.length);let ue=this[S+--x],ge=1;for(;x>0&&(ge*=256);)ue+=this[S+--x]*ge;return ue},u.prototype.readUint8=u.prototype.readUInt8=function(S,x){return S=S>>>0,x||Te(S,1,this.length),this[S]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(S,x){return S=S>>>0,x||Te(S,2,this.length),this[S]|this[S+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(S,x){return S=S>>>0,x||Te(S,2,this.length),this[S]<<8|this[S+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(S,x){return S=S>>>0,x||Te(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(S,x){return S=S>>>0,x||Te(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},u.prototype.readBigUInt64LE=k(function(S){S=S>>>0,b(S,"offset");const x=this[S],z=this[S+7];(x===void 0||z===void 0)&&v(S,this.length-8);const ue=x+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,ge=this[++S]+this[++S]*2**8+this[++S]*2**16+z*2**24;return BigInt(ue)+(BigInt(ge)<<BigInt(32))}),u.prototype.readBigUInt64BE=k(function(S){S=S>>>0,b(S,"offset");const x=this[S],z=this[S+7];(x===void 0||z===void 0)&&v(S,this.length-8);const ue=x*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],ge=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+z;return(BigInt(ue)<<BigInt(32))+BigInt(ge)}),u.prototype.readIntLE=function(S,x,z){S=S>>>0,x=x>>>0,z||Te(S,x,this.length);let ue=this[S],ge=1,we=0;for(;++we<x&&(ge*=256);)ue+=this[S+we]*ge;return ge*=128,ue>=ge&&(ue-=Math.pow(2,8*x)),ue},u.prototype.readIntBE=function(S,x,z){S=S>>>0,x=x>>>0,z||Te(S,x,this.length);let ue=x,ge=1,we=this[S+--ue];for(;ue>0&&(ge*=256);)we+=this[S+--ue]*ge;return ge*=128,we>=ge&&(we-=Math.pow(2,8*x)),we},u.prototype.readInt8=function(S,x){return S=S>>>0,x||Te(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},u.prototype.readInt16LE=function(S,x){S=S>>>0,x||Te(S,2,this.length);const z=this[S]|this[S+1]<<8;return z&32768?z|4294901760:z},u.prototype.readInt16BE=function(S,x){S=S>>>0,x||Te(S,2,this.length);const z=this[S+1]|this[S]<<8;return z&32768?z|4294901760:z},u.prototype.readInt32LE=function(S,x){return S=S>>>0,x||Te(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},u.prototype.readInt32BE=function(S,x){return S=S>>>0,x||Te(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},u.prototype.readBigInt64LE=k(function(S){S=S>>>0,b(S,"offset");const x=this[S],z=this[S+7];(x===void 0||z===void 0)&&v(S,this.length-8);const ue=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(z<<24);return(BigInt(ue)<<BigInt(32))+BigInt(x+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),u.prototype.readBigInt64BE=k(function(S){S=S>>>0,b(S,"offset");const x=this[S],z=this[S+7];(x===void 0||z===void 0)&&v(S,this.length-8);const ue=(x<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(ue)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+z)}),u.prototype.readFloatLE=function(S,x){return S=S>>>0,x||Te(S,4,this.length),r.read(this,S,!0,23,4)},u.prototype.readFloatBE=function(S,x){return S=S>>>0,x||Te(S,4,this.length),r.read(this,S,!1,23,4)},u.prototype.readDoubleLE=function(S,x){return S=S>>>0,x||Te(S,8,this.length),r.read(this,S,!0,52,8)},u.prototype.readDoubleBE=function(S,x){return S=S>>>0,x||Te(S,8,this.length),r.read(this,S,!1,52,8)};function Ne(M,S,x,z,ue,ge){if(!u.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>ue||S<ge)throw new RangeError('"value" argument is out of bounds');if(x+z>M.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(S,x,z,ue){if(S=+S,x=x>>>0,z=z>>>0,!ue){const Me=Math.pow(2,8*z)-1;Ne(this,S,x,z,Me,0)}let ge=1,we=0;for(this[x]=S&255;++we<z&&(ge*=256);)this[x+we]=S/ge&255;return x+z},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(S,x,z,ue){if(S=+S,x=x>>>0,z=z>>>0,!ue){const Me=Math.pow(2,8*z)-1;Ne(this,S,x,z,Me,0)}let ge=z-1,we=1;for(this[x+ge]=S&255;--ge>=0&&(we*=256);)this[x+ge]=S/we&255;return x+z},u.prototype.writeUint8=u.prototype.writeUInt8=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,1,255,0),this[x]=S&255,x+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,2,65535,0),this[x]=S&255,this[x+1]=S>>>8,x+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,2,65535,0),this[x]=S>>>8,this[x+1]=S&255,x+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,4,4294967295,0),this[x+3]=S>>>24,this[x+2]=S>>>16,this[x+1]=S>>>8,this[x]=S&255,x+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,4,4294967295,0),this[x]=S>>>24,this[x+1]=S>>>16,this[x+2]=S>>>8,this[x+3]=S&255,x+4};function ye(M,S,x,z,ue){m(S,z,ue,M,x,7);let ge=Number(S&BigInt(4294967295));M[x++]=ge,ge=ge>>8,M[x++]=ge,ge=ge>>8,M[x++]=ge,ge=ge>>8,M[x++]=ge;let we=Number(S>>BigInt(32)&BigInt(4294967295));return M[x++]=we,we=we>>8,M[x++]=we,we=we>>8,M[x++]=we,we=we>>8,M[x++]=we,x}function ce(M,S,x,z,ue){m(S,z,ue,M,x,7);let ge=Number(S&BigInt(4294967295));M[x+7]=ge,ge=ge>>8,M[x+6]=ge,ge=ge>>8,M[x+5]=ge,ge=ge>>8,M[x+4]=ge;let we=Number(S>>BigInt(32)&BigInt(4294967295));return M[x+3]=we,we=we>>8,M[x+2]=we,we=we>>8,M[x+1]=we,we=we>>8,M[x]=we,x+8}u.prototype.writeBigUInt64LE=k(function(S,x=0){return ye(this,S,x,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=k(function(S,x=0){return ce(this,S,x,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(S,x,z,ue){if(S=+S,x=x>>>0,!ue){const Ue=Math.pow(2,8*z-1);Ne(this,S,x,z,Ue-1,-Ue)}let ge=0,we=1,Me=0;for(this[x]=S&255;++ge<z&&(we*=256);)S<0&&Me===0&&this[x+ge-1]!==0&&(Me=1),this[x+ge]=(S/we>>0)-Me&255;return x+z},u.prototype.writeIntBE=function(S,x,z,ue){if(S=+S,x=x>>>0,!ue){const Ue=Math.pow(2,8*z-1);Ne(this,S,x,z,Ue-1,-Ue)}let ge=z-1,we=1,Me=0;for(this[x+ge]=S&255;--ge>=0&&(we*=256);)S<0&&Me===0&&this[x+ge+1]!==0&&(Me=1),this[x+ge]=(S/we>>0)-Me&255;return x+z},u.prototype.writeInt8=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,1,127,-128),S<0&&(S=255+S+1),this[x]=S&255,x+1},u.prototype.writeInt16LE=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,2,32767,-32768),this[x]=S&255,this[x+1]=S>>>8,x+2},u.prototype.writeInt16BE=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,2,32767,-32768),this[x]=S>>>8,this[x+1]=S&255,x+2},u.prototype.writeInt32LE=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,4,2147483647,-2147483648),this[x]=S&255,this[x+1]=S>>>8,this[x+2]=S>>>16,this[x+3]=S>>>24,x+4},u.prototype.writeInt32BE=function(S,x,z){return S=+S,x=x>>>0,z||Ne(this,S,x,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[x]=S>>>24,this[x+1]=S>>>16,this[x+2]=S>>>8,this[x+3]=S&255,x+4},u.prototype.writeBigInt64LE=k(function(S,x=0){return ye(this,S,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=k(function(S,x=0){return ce(this,S,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(M,S,x,z,ue,ge){if(x+z>M.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function oe(M,S,x,z,ue){return S=+S,x=x>>>0,ue||xe(M,S,x,4),r.write(M,S,x,z,23,4),x+4}u.prototype.writeFloatLE=function(S,x,z){return oe(this,S,x,!0,z)},u.prototype.writeFloatBE=function(S,x,z){return oe(this,S,x,!1,z)};function J(M,S,x,z,ue){return S=+S,x=x>>>0,ue||xe(M,S,x,8),r.write(M,S,x,z,52,8),x+8}u.prototype.writeDoubleLE=function(S,x,z){return J(this,S,x,!0,z)},u.prototype.writeDoubleBE=function(S,x,z){return J(this,S,x,!1,z)},u.prototype.copy=function(S,x,z,ue){if(!u.isBuffer(S))throw new TypeError("argument should be a Buffer");if(z||(z=0),!ue&&ue!==0&&(ue=this.length),x>=S.length&&(x=S.length),x||(x=0),ue>0&&ue<z&&(ue=z),ue===z||S.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),S.length-x<ue-z&&(ue=S.length-x+z);const ge=ue-z;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,z,ue):Uint8Array.prototype.set.call(S,this.subarray(z,ue),x),ge},u.prototype.fill=function(S,x,z,ue){if(typeof S=="string"){if(typeof x=="string"?(ue=x,x=0,z=this.length):typeof z=="string"&&(ue=z,z=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!u.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(S.length===1){const we=S.charCodeAt(0);(ue==="utf8"&&we<128||ue==="latin1")&&(S=we)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(x<0||this.length<x||this.length<z)throw new RangeError("Out of range index");if(z<=x)return this;x=x>>>0,z=z===void 0?this.length:z>>>0,S||(S=0);let ge;if(typeof S=="number")for(ge=x;ge<z;++ge)this[ge]=S;else{const we=u.isBuffer(S)?S:u.from(S,ue),Me=we.length;if(Me===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(ge=0;ge<z-x;++ge)this[ge+x]=we[ge%Me]}return this};const le={};function pe(M,S,x){le[M]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ue,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(M,S){return`The "${M}" argument must be of type number. Received type ${typeof S}`},TypeError),pe("ERR_OUT_OF_RANGE",function(M,S,x){let z=`The value of "${M}" is out of range.`,ue=x;return Number.isInteger(x)&&Math.abs(x)>2**32?ue=L(String(x)):typeof x=="bigint"&&(ue=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(ue=L(ue)),ue+="n"),z+=` It must be ${S}. Received ${ue}`,z},RangeError);function L(M){let S="",x=M.length;const z=M[0]==="-"?1:0;for(;x>=z+4;x-=3)S=`_${M.slice(x-3,x)}${S}`;return`${M.slice(0,x)}${S}`}function P(M,S,x){b(S,"offset"),(M[S]===void 0||M[S+x]===void 0)&&v(S,M.length-(x+1))}function m(M,S,x,z,ue,ge){if(M>x||M<S){const we=typeof S=="bigint"?"n":"";let Me;throw ge>3?S===0||S===BigInt(0)?Me=`>= 0${we} and < 2${we} ** ${(ge+1)*8}${we}`:Me=`>= -(2${we} ** ${(ge+1)*8-1}${we}) and < 2 ** ${(ge+1)*8-1}${we}`:Me=`>= ${S}${we} and <= ${x}${we}`,new le.ERR_OUT_OF_RANGE("value",Me,M)}P(z,ue,ge)}function b(M,S){if(typeof M!="number")throw new le.ERR_INVALID_ARG_TYPE(S,"number",M)}function v(M,S,x){throw Math.floor(M)!==M?(b(M,x),new le.ERR_OUT_OF_RANGE(x||"offset","an integer",M)):S<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE(x||"offset",`>= ${x?1:0} and <= ${S}`,M)}const j=/[^+/0-9A-Za-z-_]/g;function V(M){if(M=M.split("=")[0],M=M.trim().replace(j,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function q(M,S){S=S||1/0;let x;const z=M.length;let ue=null;const ge=[];for(let we=0;we<z;++we){if(x=M.charCodeAt(we),x>55295&&x<57344){if(!ue){if(x>56319){(S-=3)>-1&&ge.push(239,191,189);continue}else if(we+1===z){(S-=3)>-1&&ge.push(239,191,189);continue}ue=x;continue}if(x<56320){(S-=3)>-1&&ge.push(239,191,189),ue=x;continue}x=(ue-55296<<10|x-56320)+65536}else ue&&(S-=3)>-1&&ge.push(239,191,189);if(ue=null,x<128){if((S-=1)<0)break;ge.push(x)}else if(x<2048){if((S-=2)<0)break;ge.push(x>>6|192,x&63|128)}else if(x<65536){if((S-=3)<0)break;ge.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((S-=4)<0)break;ge.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return ge}function G(M){const S=[];for(let x=0;x<M.length;++x)S.push(M.charCodeAt(x)&255);return S}function Y(M,S){let x,z,ue;const ge=[];for(let we=0;we<M.length&&!((S-=2)<0);++we)x=M.charCodeAt(we),z=x>>8,ue=x%256,ge.push(ue),ge.push(z);return ge}function ee(M){return e.toByteArray(V(M))}function ae(M,S,x,z){let ue;for(ue=0;ue<z&&!(ue+x>=S.length||ue>=M.length);++ue)S[ue+x]=M[ue];return ue}function ve(M,S){return M instanceof S||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===S.name}function me(M){return M!==M}const Ee=function(){const M="0123456789abcdef",S=new Array(256);for(let x=0;x<16;++x){const z=x*16;for(let ue=0;ue<16;++ue)S[z+ue]=M[x]+M[ue]}return S}();function k(M){return typeof BigInt>"u"?W:M}function W(){throw new Error("BigInt not supported")}})(ha);var bn={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array},F9={exports:{}};(function(t){const e=ha,r=Object.getPrototypeOf(async function(){}).constructor,n=globalThis.Blob||e.Blob,a=typeof n<"u"?function(u){return u instanceof n}:function(u){return!1};class s extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let c="";for(let l=0;l<u.length;l++)c+=`    ${u[l].stack}
`;super(c),this.name="AggregateError",this.errors=u}}t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(o){let u=!1;return function(...c){u||(u=!0,o.apply(this,c))}},createDeferredPromise:function(){let o,u;return{promise:new Promise((l,d)=>{o=l,u=d}),resolve:o,reject:u}},promisify(o){return new Promise((u,c)=>{o((l,...d)=>l?c(l):u(...d))})},debuglog(){return function(){}},format(o,...u){return o.replace(/%([sdifj])/g,function(...[c,l]){const d=u.shift();return l==="f"?d.toFixed(6):l==="j"?JSON.stringify(d):l==="s"&&typeof d=="object"?`${d.constructor!==Object?d.constructor.name:""} {}`.trim():d.toString()})},inspect(o){switch(typeof o){case"string":if(o.includes("'"))if(o.includes('"')){if(!o.includes("`")&&!o.includes("${"))return`\`${o}\``}else return`"${o}"`;return`'${o}'`;case"number":return isNaN(o)?"NaN":Object.is(o,-0)?String(o):o;case"bigint":return`${String(o)}n`;case"boolean":case"undefined":return String(o);case"object":return"{}"}},types:{isAsyncFunction(o){return o instanceof r},isArrayBufferView(o){return ArrayBuffer.isView(o)}},isBlob:a},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(F9);var eu=F9.exports,yx={},zg={exports:{}};const{AbortController:L9,AbortSignal:TY}=typeof self<"u"?self:typeof window<"u"?window:void 0;zg.exports=L9;zg.exports.AbortSignal=TY;zg.exports.default=L9;var Wg=zg.exports;const{format:EY,inspect:Mb,AggregateError:OY}=eu,AY=globalThis.AggregateError||OY,xY=Symbol("kIsNodeError"),RY=["string","function","number","object","Function","Object","boolean","bigint","symbol"],IY=/^([A-Z][a-z0-9]*)+$/,PY="__node_internal_",Xg={};function tl(t,e){if(!t)throw new Xg.ERR_INTERNAL_ASSERTION(e)}function rD(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function DY(t,e,r){if(typeof e=="function")return tl(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);const n=(e.match(/%[dfijoOs]/g)||[]).length;return tl(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:EY(e,...r)}function qn(t,e,r){r||(r=Error);class n extends r{constructor(...s){super(DY(t,e,s))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[xY]=!0,Xg[t]=n}function nD(t){const e=PY+t.name;return Object.defineProperty(t,"name",{value:e}),t}function NY(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;const r=new AY([e,t],e.message);return r.code=e.code,r}return t||e}let jY=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Xg.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};qn("ERR_ASSERTION","%s",Error);qn("ERR_INVALID_ARG_TYPE",(t,e,r)=>{tl(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";const a=[],s=[],o=[];for(const c of e)tl(typeof c=="string","All expected entries have to be of type string"),RY.includes(c)?a.push(c.toLowerCase()):IY.test(c)?s.push(c):(tl(c!=="object",'The value "object" should be written as "Object"'),o.push(c));if(s.length>0){const c=a.indexOf("object");c!==-1&&(a.splice(a,c,1),s.push("Object"))}if(a.length>0){switch(a.length){case 1:n+=`of type ${a[0]}`;break;case 2:n+=`one of type ${a[0]} or ${a[1]}`;break;default:{const c=a.pop();n+=`one of type ${a.join(", ")}, or ${c}`}}(s.length>0||o.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const c=s.pop();n+=`an instance of ${s.join(", ")}, or ${c}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const c=o.pop();n+=`one of ${o.join(", ")}, or ${c}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var u;if((u=r.constructor)!==null&&u!==void 0&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{const c=Mb(r,{depth:-1});n+=`. Received ${c}`}}else{let c=Mb(r,{colors:!1});c.length>25&&(c=`${c.slice(0,25)}...`),n+=`. Received type ${typeof r} (${c})`}return n},TypeError);qn("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Mb(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);qn("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;const a=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${a}.`},TypeError);qn("ERR_MISSING_ARGS",(...t)=>{tl(t.length>0,"At least one arg needs to be specified");let e;const r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{const n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);qn("ERR_OUT_OF_RANGE",(t,e,r)=>{tl(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=rD(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=rD(n)),n+="n"):n=Mb(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);qn("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);qn("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);qn("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);qn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);qn("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);qn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);qn("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);qn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);qn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);qn("ERR_STREAM_WRITE_AFTER_END","write after end",Error);qn("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);var Qi={AbortError:jY,aggregateTwoErrors:nD(NY),hideStackFrames:nD,codes:Xg};const{ArrayIsArray:bx,ArrayPrototypeIncludes:B9,ArrayPrototypeJoin:$9,ArrayPrototypeMap:CY,NumberIsInteger:_x,NumberIsNaN:MY,NumberMAX_SAFE_INTEGER:FY,NumberMIN_SAFE_INTEGER:LY,NumberParseInt:BY,ObjectPrototypeHasOwnProperty:$Y,RegExpPrototypeExec:U9,String:UY,StringPrototypeToUpperCase:qY,StringPrototypeTrim:VY}=bn,{hideStackFrames:Ra,codes:{ERR_SOCKET_BAD_PORT:HY,ERR_INVALID_ARG_TYPE:Di,ERR_INVALID_ARG_VALUE:Cf,ERR_OUT_OF_RANGE:cl,ERR_UNKNOWN_SIGNAL:iD}}=Qi,{normalizeEncoding:kY}=eu,{isAsyncFunction:QY,isArrayBufferView:GY}=eu.types,aD={};function zY(t){return t===(t|0)}function WY(t){return t===t>>>0}const XY=/^[0-7]+$/,KY="must be a 32-bit unsigned integer or an octal string";function JY(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(U9(XY,t)===null)throw new Cf(e,t,KY);t=BY(t,8)}return q9(t,e),t}const YY=Ra((t,e,r=LY,n=FY)=>{if(typeof t!="number")throw new Di(e,"number",t);if(!_x(t))throw new cl(e,"an integer",t);if(t<r||t>n)throw new cl(e,`>= ${r} && <= ${n}`,t)}),ZY=Ra((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new Di(e,"number",t);if(!_x(t))throw new cl(e,"an integer",t);if(t<r||t>n)throw new cl(e,`>= ${r} && <= ${n}`,t)}),q9=Ra((t,e,r=!1)=>{if(typeof t!="number")throw new Di(e,"number",t);if(!_x(t))throw new cl(e,"an integer",t);const n=r?1:0,a=4294967295;if(t<n||t>a)throw new cl(e,`>= ${n} && <= ${a}`,t)});function gx(t,e){if(typeof t!="string")throw new Di(e,"string",t)}function eZ(t,e,r=void 0,n){if(typeof t!="number")throw new Di(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&MY(t))throw new cl(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}const tZ=Ra((t,e,r)=>{if(!B9(r,t)){const a="must be one of: "+$9(CY(r,s=>typeof s=="string"?`'${s}'`:UY(s)),", ");throw new Cf(e,t,a)}});function V9(t,e){if(typeof t!="boolean")throw new Di(e,"boolean",t)}function V3(t,e,r){return t==null||!$Y(t,e)?r:t[e]}const rZ=Ra((t,e,r=null)=>{const n=V3(r,"allowArray",!1),a=V3(r,"allowFunction",!1);if(!V3(r,"nullable",!1)&&t===null||!n&&bx(t)||typeof t!="object"&&(!a||typeof t!="function"))throw new Di(e,"Object",t)}),nZ=Ra((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new Di(e,"a dictionary",t)}),mx=Ra((t,e,r=0)=>{if(!bx(t))throw new Di(e,"Array",t);if(t.length<r){const n=`must be longer than ${r}`;throw new Cf(e,t,n)}});function iZ(t,e){mx(t,e);for(let r=0;r<t.length;r++)gx(t[r],`${e}[${r}]`)}function aZ(t,e){mx(t,e);for(let r=0;r<t.length;r++)V9(t[r],`${e}[${r}]`)}function sZ(t,e="signal"){if(gx(t,e),aD[t]===void 0)throw aD[qY(t)]!==void 0?new iD(t+" (signals must use all capital letters)"):new iD(t)}const oZ=Ra((t,e="buffer")=>{if(!GY(t))throw new Di(e,["Buffer","TypedArray","DataView"],t)});function uZ(t,e){const r=kY(e),n=t.length;if(r==="hex"&&n%2!==0)throw new Cf("encoding",e,`is invalid for data of length ${n}`)}function cZ(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&VY(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new HY(e,t,r);return t|0}const lZ=Ra((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new Di(e,"AbortSignal",t)}),dZ=Ra((t,e)=>{if(typeof t!="function")throw new Di(e,"Function",t)}),fZ=Ra((t,e)=>{if(typeof t!="function"||QY(t))throw new Di(e,"Function",t)}),hZ=Ra((t,e)=>{if(t!==void 0)throw new Di(e,"undefined",t)});function pZ(t,e,r){if(!B9(r,t))throw new Di(e,`('${$9(r,"|")}')`,t)}const yZ=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function sD(t,e){if(typeof t>"u"||!U9(yZ,t))throw new Cf(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function bZ(t){if(typeof t=="string")return sD(t,"hints"),t;if(bx(t)){const e=t.length;let r="";if(e===0)return r;for(let n=0;n<e;n++){const a=t[n];sD(a,"hints"),r+=a,n!==e-1&&(r+=", ")}return r}throw new Cf("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}var Kg={isInt32:zY,isUint32:WY,parseFileMode:JY,validateArray:mx,validateStringArray:iZ,validateBooleanArray:aZ,validateBoolean:V9,validateBuffer:oZ,validateDictionary:nZ,validateEncoding:uZ,validateFunction:dZ,validateInt32:ZY,validateInteger:YY,validateNumber:eZ,validateObject:rZ,validateOneOf:tZ,validatePlainFunction:fZ,validatePort:cZ,validateSignalName:sZ,validateString:gx,validateUint32:q9,validateUndefined:hZ,validateUnion:pZ,validateAbortSignal:lZ,validateLinkHeaderValue:bZ},vx={exports:{}};const{Symbol:Jg,SymbolAsyncIterator:oD,SymbolIterator:uD,SymbolFor:H9}=bn,k9=Jg("kDestroyed"),Q9=Jg("kIsErrored"),uO=Jg("kIsReadable"),G9=Jg("kIsDisturbed"),_Z=H9("nodejs.webstream.isClosedPromise"),gZ=H9("nodejs.webstream.controllerErrorFunction");function Yg(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Zg(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function mZ(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function to(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function z9(t){return!!(t&&!to(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function W9(t){return!!(t&&!to(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function X9(t){return!!(t&&!to(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function vZ(t){return z9(t)||W9(t)||X9(t)}function wZ(t,e){return t==null?!1:e===!0?typeof t[oD]=="function":e===!1?typeof t[uD]=="function":typeof t[oD]=="function"||typeof t[uD]=="function"}function em(t){if(!to(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[k9]||n!=null&&n.destroyed)}function K9(t){if(!Zg(t))return null;if(t.writableEnded===!0)return!0;const e=t._writableState;return e!=null&&e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function SZ(t,e){if(!Zg(t))return null;if(t.writableFinished===!0)return!0;const r=t._writableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.finished)!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function TZ(t){if(!Yg(t))return null;if(t.readableEnded===!0)return!0;const e=t._readableState;return!e||e.errored?!1:typeof(e==null?void 0:e.ended)!="boolean"?null:e.ended}function J9(t,e){if(!Yg(t))return null;const r=t._readableState;return r!=null&&r.errored?!1:typeof(r==null?void 0:r.endEmitted)!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Y9(t){return t&&t[uO]!=null?t[uO]:typeof(t==null?void 0:t.readable)!="boolean"?null:em(t)?!1:Yg(t)&&t.readable&&!J9(t)}function Z9(t){return typeof(t==null?void 0:t.writable)!="boolean"?null:em(t)?!1:Zg(t)&&t.writable&&!K9(t)}function EZ(t,e){return to(t)?em(t)?!0:!((e==null?void 0:e.readable)!==!1&&Y9(t)||(e==null?void 0:e.writable)!==!1&&Z9(t)):null}function OZ(t){var e,r;return to(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function AZ(t){var e,r;return to(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function xZ(t){if(!to(t))return null;if(typeof t.closed=="boolean")return t.closed;const e=t._writableState,r=t._readableState;return typeof(e==null?void 0:e.closed)=="boolean"||typeof(r==null?void 0:r.closed)=="boolean"?(e==null?void 0:e.closed)||(r==null?void 0:r.closed):typeof t._closed=="boolean"&&eM(t)?t._closed:null}function eM(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function tM(t){return typeof t._sent100=="boolean"&&eM(t)}function RZ(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function IZ(t){if(!to(t))return null;const e=t._writableState,r=t._readableState,n=e||r;return!n&&tM(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function PZ(t){var e;return!!(t&&((e=t[G9])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function DZ(t){var e,r,n,a,s,o,u,c,l,d;return!!(t&&((e=(r=(n=(a=(s=(o=t[Q9])!==null&&o!==void 0?o:t.readableErrored)!==null&&s!==void 0?s:t.writableErrored)!==null&&a!==void 0?a:(u=t._readableState)===null||u===void 0?void 0:u.errorEmitted)!==null&&n!==void 0?n:(c=t._writableState)===null||c===void 0?void 0:c.errorEmitted)!==null&&r!==void 0?r:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((d=t._writableState)===null||d===void 0)&&d.errored))}var tu={kDestroyed:k9,isDisturbed:PZ,kIsDisturbed:G9,isErrored:DZ,kIsErrored:Q9,isReadable:Y9,kIsReadable:uO,kIsClosedPromise:_Z,kControllerErrorFunction:gZ,isClosed:xZ,isDestroyed:em,isDuplexNodeStream:mZ,isFinished:EZ,isIterable:wZ,isReadableNodeStream:Yg,isReadableStream:z9,isReadableEnded:TZ,isReadableFinished:J9,isReadableErrored:AZ,isNodeStream:to,isWebStream:vZ,isWritable:Z9,isWritableNodeStream:Zg,isWritableStream:W9,isWritableEnded:K9,isWritableFinished:SZ,isWritableErrored:OZ,isServerRequest:RZ,isServerResponse:tM,willEmitClose:IZ,isTransformStream:X9};const Ru=Yo(),{AbortError:rM,codes:NZ}=Qi,{ERR_INVALID_ARG_TYPE:jZ,ERR_STREAM_PREMATURE_CLOSE:cD}=NZ,{kEmptyObject:cO,once:lO}=eu,{validateAbortSignal:CZ,validateFunction:MZ,validateObject:FZ,validateBoolean:LZ}=Kg,{Promise:BZ,PromisePrototypeThen:$Z}=bn,{isClosed:UZ,isReadable:lD,isReadableNodeStream:H3,isReadableStream:qZ,isReadableFinished:dD,isReadableErrored:fD,isWritable:hD,isWritableNodeStream:pD,isWritableStream:VZ,isWritableFinished:yD,isWritableErrored:bD,isNodeStream:HZ,willEmitClose:kZ,kIsClosedPromise:QZ}=tu;function GZ(t){return t.setHeader&&typeof t.abort=="function"}const dO=()=>{};function nM(t,e,r){var n,a;if(arguments.length===2?(r=e,e=cO):e==null?e=cO:FZ(e,"options"),MZ(r,"callback"),CZ(e.signal,"options.signal"),r=lO(r),qZ(t)||VZ(t))return zZ(t,e,r);if(!HZ(t))throw new jZ("stream",["ReadableStream","WritableStream","Stream"],t);const s=(n=e.readable)!==null&&n!==void 0?n:H3(t),o=(a=e.writable)!==null&&a!==void 0?a:pD(t),u=t._writableState,c=t._readableState,l=()=>{t.writable||h()};let d=kZ(t)&&H3(t)===s&&pD(t)===o,f=yD(t,!1);const h=()=>{f=!0,t.destroyed&&(d=!1),!(d&&(!t.readable||s))&&(!s||p)&&r.call(t)};let p=dD(t,!1);const y=()=>{p=!0,t.destroyed&&(d=!1),!(d&&(!t.writable||o))&&(!o||f)&&r.call(t)},_=I=>{r.call(t,I)};let E=UZ(t);const w=()=>{E=!0;const I=bD(t)||fD(t);if(I&&typeof I!="boolean")return r.call(t,I);if(s&&!p&&H3(t,!0)&&!dD(t,!1))return r.call(t,new cD);if(o&&!f&&!yD(t,!1))return r.call(t,new cD);r.call(t)},O=()=>{E=!0;const I=bD(t)||fD(t);if(I&&typeof I!="boolean")return r.call(t,I);r.call(t)},A=()=>{t.req.on("finish",h)};GZ(t)?(t.on("complete",h),d||t.on("abort",w),t.req?A():t.on("request",A)):o&&!u&&(t.on("end",l),t.on("close",l)),!d&&typeof t.aborted=="boolean"&&t.on("aborted",w),t.on("end",y),t.on("finish",h),e.error!==!1&&t.on("error",_),t.on("close",w),E?Ru.nextTick(w):u!=null&&u.errorEmitted||c!=null&&c.errorEmitted?d||Ru.nextTick(O):(!s&&(!d||lD(t))&&(f||hD(t)===!1)||!o&&(!d||hD(t))&&(p||lD(t)===!1)||c&&t.req&&t.aborted)&&Ru.nextTick(O);const T=()=>{r=dO,t.removeListener("aborted",w),t.removeListener("complete",h),t.removeListener("abort",w),t.removeListener("request",A),t.req&&t.req.removeListener("finish",h),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",h),t.removeListener("end",y),t.removeListener("error",_),t.removeListener("close",w)};if(e.signal&&!E){const I=()=>{const D=r;T(),D.call(t,new rM(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)Ru.nextTick(I);else{const D=r;r=lO((...U)=>{e.signal.removeEventListener("abort",I),D.apply(t,U)}),e.signal.addEventListener("abort",I)}}return T}function zZ(t,e,r){let n=!1,a=dO;if(e.signal)if(a=()=>{n=!0,r.call(t,new rM(void 0,{cause:e.signal.reason}))},e.signal.aborted)Ru.nextTick(a);else{const o=r;r=lO((...u)=>{e.signal.removeEventListener("abort",a),o.apply(t,u)}),e.signal.addEventListener("abort",a)}const s=(...o)=>{n||Ru.nextTick(()=>r.apply(t,o))};return $Z(t[QZ].promise,s,s),dO}function WZ(t,e){var r;let n=!1;return e===null&&(e=cO),(r=e)!==null&&r!==void 0&&r.cleanup&&(LZ(e.cleanup,"cleanup"),n=e.cleanup),new BZ((a,s)=>{const o=nM(t,e,u=>{n&&o(),u?s(u):a()})})}vx.exports=nM;vx.exports.finished=WZ;var oc=vx.exports;const qs=Yo(),{aggregateTwoErrors:XZ,codes:{ERR_MULTIPLE_CALLBACK:KZ},AbortError:JZ}=Qi,{Symbol:iM}=bn,{kDestroyed:YZ,isDestroyed:ZZ,isFinished:eee,isServerRequest:tee}=tu,aM=iM("kDestroy"),fO=iM("kConstruct");function sM(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function ree(t,e){const r=this._readableState,n=this._writableState,a=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(sM(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),a.constructed?_D(this,t,e):this.once(aM,function(s){_D(this,XZ(s,t),e)}),this)}function _D(t,e,r){let n=!1;function a(s){if(n)return;n=!0;const o=t._readableState,u=t._writableState;sM(s,u,o),u&&(u.closed=!0),o&&(o.closed=!0),typeof r=="function"&&r(s),s?qs.nextTick(nee,t,s):qs.nextTick(oM,t)}try{t._destroy(e||null,a)}catch(s){a(s)}}function nee(t,e){hO(t,e),oM(t)}function oM(t){const e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function hO(t,e){const r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function iee(){const t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function pO(t,e,r){const n=t._readableState,a=t._writableState;if(a!=null&&a.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||a!=null&&a.autoDestroy?t.destroy(e):e&&(e.stack,a&&!a.errored&&(a.errored=e),n&&!n.errored&&(n.errored=e),r?qs.nextTick(hO,t,e):hO(t,e))}function aee(t,e){if(typeof t._construct!="function")return;const r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(fO,e),!(t.listenerCount(fO)>1)&&qs.nextTick(see,t)}function see(t){let e=!1;function r(n){if(e){pO(t,n??new KZ);return}e=!0;const a=t._readableState,s=t._writableState,o=s||a;a&&(a.constructed=!0),s&&(s.constructed=!0),o.destroyed?t.emit(aM,n):n?pO(t,n,!0):qs.nextTick(oee,t)}try{t._construct(n=>{qs.nextTick(r,n)})}catch(n){qs.nextTick(r,n)}}function oee(t){t.emit(fO)}function gD(t){return(t==null?void 0:t.setHeader)&&typeof t.abort=="function"}function uM(t){t.emit("close")}function uee(t,e){t.emit("error",e),qs.nextTick(uM,t)}function cee(t,e){!t||ZZ(t)||(!e&&!eee(t)&&(e=new JZ),tee(t)?(t.socket=null,t.destroy(e)):gD(t)?t.abort():gD(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?qs.nextTick(uee,t,e):qs.nextTick(uM,t),t.destroyed||(t[YZ]=!0))}var Mf={construct:aee,destroyer:cee,destroy:ree,undestroy:iee,errorOrDestroy:pO};const{ArrayIsArray:lee,ObjectSetPrototypeOf:cM}=bn,{EventEmitter:tm}=Rf;function rm(t){tm.call(this,t)}cM(rm.prototype,tm.prototype);cM(rm,tm);rm.prototype.pipe=function(t,e){const r=this;function n(d){t.writable&&t.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function a(){r.readable&&r.resume&&r.resume()}t.on("drain",a),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",o),r.on("close",u));let s=!1;function o(){s||(s=!0,t.end())}function u(){s||(s=!0,typeof t.destroy=="function"&&t.destroy())}function c(d){l(),tm.listenerCount(this,"error")===0&&this.emit("error",d)}yO(r,"error",c),yO(t,"error",c);function l(){r.removeListener("data",n),t.removeListener("drain",a),r.removeListener("end",o),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t};function yO(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):lee(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}var wx={Stream:rm,prependListener:yO},lM={exports:{}};(function(t){const{AbortError:e,codes:r}=Qi,{isNodeStream:n,isWebStream:a,kControllerErrorFunction:s}=tu,o=oc,{ERR_INVALID_ARG_TYPE:u}=r,c=(l,d)=>{if(typeof l!="object"||!("aborted"in l))throw new u(d,"AbortSignal",l)};t.exports.addAbortSignal=function(d,f){if(c(d,"signal"),!n(f)&&!a(f))throw new u("stream",["ReadableStream","WritableStream","Stream"],f);return t.exports.addAbortSignalNoValidate(d,f)},t.exports.addAbortSignalNoValidate=function(l,d){if(typeof l!="object"||!("aborted"in l))return d;const f=n(d)?()=>{d.destroy(new e(void 0,{cause:l.reason}))}:()=>{d[s](new e(void 0,{cause:l.reason}))};return l.aborted?f():(l.addEventListener("abort",f),o(d,()=>l.removeEventListener("abort",f))),d}})(lM);var nm=lM.exports;const{StringPrototypeSlice:mD,SymbolIterator:dee,TypedArrayPrototypeSet:Wy,Uint8Array:fee}=bn,{Buffer:k3}=ha,{inspect:hee}=eu;var pee=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){const r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;const e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return k3.alloc(0);const r=k3.allocUnsafe(e>>>0);let n=this.head,a=0;for(;n;)Wy(r,n.data,a),a+=n.data.length,n=n.next;return r}consume(e,r){const n=this.head.data;if(e<n.length){const a=n.slice(0,e);return this.head.data=n.slice(e),a}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[dee](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,a=0;do{const s=n.data;if(e>s.length)r+=s,e-=s.length;else{e===s.length?(r+=s,++a,n.next?this.head=n.next:this.head=this.tail=null):(r+=mD(s,0,e),this.head=n,n.data=mD(s,e));break}++a}while((n=n.next)!==null);return this.length-=a,r}_getBuffer(e){const r=k3.allocUnsafe(e),n=e;let a=this.head,s=0;do{const o=a.data;if(e>o.length)Wy(r,o,n-e),e-=o.length;else{e===o.length?(Wy(r,o,n-e),++s,a.next?this.head=a.next:this.head=this.tail=null):(Wy(r,new fee(o.buffer,o.byteOffset,e),n-e),this.head=a,a.data=o.slice(e));break}++s}while((a=a.next)!==null);return this.length-=s,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return hee(this,{...r,depth:0,customInspect:!1})}};const{MathFloor:yee,NumberIsInteger:bee}=bn,{ERR_INVALID_ARG_VALUE:_ee}=Qi.codes;function gee(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function dM(t){return t?16:16*1024}function mee(t,e,r,n){const a=gee(e,n,r);if(a!=null){if(!bee(a)||a<0){const s=n?`options.${r}`:"options.highWaterMark";throw new _ee(s,a)}return yee(a)}return dM(t.objectMode)}var Sx={getHighWaterMark:mee,getDefaultHighWaterMark:dM},Fb={},bO={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=ha,n=r.Buffer;function a(o,u){for(var c in o)u[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=s);function s(o,u,c){return n(o,u,c)}s.prototype=Object.create(n.prototype),a(n,s),s.from=function(o,u,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,u,c)},s.alloc=function(o,u,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return u!==void 0?typeof c=="string"?l.fill(u,c):l.fill(u):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(bO,bO.exports);var vee=bO.exports,Tx=vee.Buffer,vD=Tx.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function wee(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function See(t){var e=wee(t);if(typeof e!="string"&&(Tx.isEncoding===vD||!vD(t)))throw new Error("Unknown encoding: "+t);return e||t}Fb.StringDecoder=O0;function O0(t){this.encoding=See(t);var e;switch(this.encoding){case"utf16le":this.text=Ree,this.end=Iee,e=4;break;case"utf8":this.fillLast=Oee,e=4;break;case"base64":this.text=Pee,this.end=Dee,e=3;break;default:this.write=Nee,this.end=jee;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Tx.allocUnsafe(e)}O0.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};O0.prototype.end=xee;O0.prototype.text=Aee;O0.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Q3(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Tee(t,e,r){var n=e.length-1;if(n<r)return 0;var a=Q3(e[n]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--n<r||a===-2?0:(a=Q3(e[n]),a>=0?(a>0&&(t.lastNeed=a-2),a):--n<r||a===-2?0:(a=Q3(e[n]),a>=0?(a>0&&(a===2?a=0:t.lastNeed=a-3),a):0))}function Eee(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function Oee(t){var e=this.lastTotal-this.lastNeed,r=Eee(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Aee(t,e){var r=Tee(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function xee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function Ree(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Iee(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Pee(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Dee(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Nee(t){return t.toString(this.encoding)}function jee(t){return t&&t.length?this.write(t):""}const wD=Yo(),{PromisePrototypeThen:Cee,SymbolAsyncIterator:SD,SymbolIterator:TD}=bn,{Buffer:Mee}=ha,{ERR_INVALID_ARG_TYPE:Fee,ERR_STREAM_NULL_VALUES:Lee}=Qi.codes;function Bee(t,e,r){let n;if(typeof e=="string"||e instanceof Mee)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let a;if(e&&e[SD])a=!0,n=e[SD]();else if(e&&e[TD])a=!1,n=e[TD]();else throw new Fee("iterable",["Iterable"],e);const s=new t({objectMode:!0,highWaterMark:1,...r});let o=!1;s._read=function(){o||(o=!0,c())},s._destroy=function(l,d){Cee(u(l),()=>wD.nextTick(d,l),f=>wD.nextTick(d,f||l))};async function u(l){const d=l!=null,f=typeof n.throw=="function";if(d&&f){const{value:h,done:p}=await n.throw(l);if(await h,p)return}if(typeof n.return=="function"){const{value:h}=await n.return();await h}}async function c(){for(;;){try{const{value:l,done:d}=a?await n.next():n.next();if(d)s.push(null);else{const f=l&&typeof l.then=="function"?await l:l;if(f===null)throw o=!1,new Lee;if(s.push(f))continue;o=!1}}catch(l){s.destroy(l)}break}}return s}var fM=Bee,G3,ED;function im(){if(ED)return G3;ED=1;const t=Yo(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:a,ObjectDefineProperties:s,ObjectKeys:o,ObjectSetPrototypeOf:u,Promise:c,SafeSet:l,SymbolAsyncIterator:d,Symbol:f}=bn;G3=he,he.ReadableState=be;const{EventEmitter:h}=Rf,{Stream:p,prependListener:y}=wx,{Buffer:_}=ha,{addAbortSignal:E}=nm,w=oc;let O=eu.debuglog("stream",k=>{O=k});const A=pee,T=Mf,{getHighWaterMark:I,getDefaultHighWaterMark:D}=Sx,{aggregateTwoErrors:U,codes:{ERR_INVALID_ARG_TYPE:H,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_OUT_OF_RANGE:R,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:X}}=Qi,{validateObject:ne}=Kg,$=f("kPaused"),{StringDecoder:C}=Fb,Q=fM;u(he.prototype,p.prototype),u(he,p);const se=()=>{},{errorOrDestroy:ie}=T;function be(k,W,M){typeof M!="boolean"&&(M=W instanceof Go()),this.objectMode=!!(k&&k.objectMode),M&&(this.objectMode=this.objectMode||!!(k&&k.readableObjectMode)),this.highWaterMark=k?I(this,k,"readableHighWaterMark",M):D(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[$]=null,this.errorEmitted=!1,this.emitClose=!k||k.emitClose!==!1,this.autoDestroy=!k||k.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=k&&k.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,k&&k.encoding&&(this.decoder=new C(k.encoding),this.encoding=k.encoding)}function he(k){if(!(this instanceof he))return new he(k);const W=this instanceof Go();this._readableState=new be(k,this,W),k&&(typeof k.read=="function"&&(this._read=k.read),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.construct=="function"&&(this._construct=k.construct),k.signal&&!W&&E(k.signal,this)),p.call(this,k),T.construct(this,()=>{this._readableState.needReadable&&pe(this,this._readableState)})}he.prototype.destroy=T.destroy,he.prototype._undestroy=T.undestroy,he.prototype._destroy=function(k,W){W(k)},he.prototype[h.captureRejectionSymbol]=function(k){this.destroy(k)},he.prototype.push=function(k,W){return Te(this,k,W,!1)},he.prototype.unshift=function(k,W){return Te(this,k,W,!0)};function Te(k,W,M,S){O("readableAddChunk",W);const x=k._readableState;let z;if(x.objectMode||(typeof W=="string"?(M=M||x.defaultEncoding,x.encoding!==M&&(S&&x.encoding?W=_.from(W,M).toString(x.encoding):(W=_.from(W,M),M=""))):W instanceof _?M="":p._isUint8Array(W)?(W=p._uint8ArrayToBuffer(W),M=""):W!=null&&(z=new H("chunk",["string","Buffer","Uint8Array"],W))),z)ie(k,z);else if(W===null)x.reading=!1,oe(k,x);else if(x.objectMode||W&&W.length>0)if(S)if(x.endEmitted)ie(k,new X);else{if(x.destroyed||x.errored)return!1;Ne(k,x,W,!0)}else if(x.ended)ie(k,new F);else{if(x.destroyed||x.errored)return!1;x.reading=!1,x.decoder&&!M?(W=x.decoder.write(W),x.objectMode||W.length!==0?Ne(k,x,W,!1):pe(k,x)):Ne(k,x,W,!1)}else S||(x.reading=!1,pe(k,x));return!x.ended&&(x.length<x.highWaterMark||x.length===0)}function Ne(k,W,M,S){W.flowing&&W.length===0&&!W.sync&&k.listenerCount("data")>0?(W.multiAwaitDrain?W.awaitDrainWriters.clear():W.awaitDrainWriters=null,W.dataEmitted=!0,k.emit("data",M)):(W.length+=W.objectMode?1:M.length,S?W.buffer.unshift(M):W.buffer.push(M),W.needReadable&&J(k)),pe(k,W)}he.prototype.isPaused=function(){const k=this._readableState;return k[$]===!0||k.flowing===!1},he.prototype.setEncoding=function(k){const W=new C(k);this._readableState.decoder=W,this._readableState.encoding=this._readableState.decoder.encoding;const M=this._readableState.buffer;let S="";for(const x of M)S+=W.write(x);return M.clear(),S!==""&&M.push(S),this._readableState.length=S.length,this};const ye=1073741824;function ce(k){if(k>ye)throw new R("size","<= 1GiB",k);return k--,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,k|=k>>>16,k++,k}function xe(k,W){return k<=0||W.length===0&&W.ended?0:W.objectMode?1:n(k)?W.flowing&&W.length?W.buffer.first().length:W.length:k<=W.length?k:W.ended?W.length:0}he.prototype.read=function(k){O("read",k),k===void 0?k=NaN:r(k)||(k=a(k,10));const W=this._readableState,M=k;if(k>W.highWaterMark&&(W.highWaterMark=ce(k)),k!==0&&(W.emittedReadable=!1),k===0&&W.needReadable&&((W.highWaterMark!==0?W.length>=W.highWaterMark:W.length>0)||W.ended))return O("read: emitReadable",W.length,W.ended),W.length===0&&W.ended?ee(this):J(this),null;if(k=xe(k,W),k===0&&W.ended)return W.length===0&&ee(this),null;let S=W.needReadable;if(O("need readable",S),(W.length===0||W.length-k<W.highWaterMark)&&(S=!0,O("length less than watermark",S)),W.ended||W.reading||W.destroyed||W.errored||!W.constructed)S=!1,O("reading, ended or constructing",S);else if(S){O("do read"),W.reading=!0,W.sync=!0,W.length===0&&(W.needReadable=!0);try{this._read(W.highWaterMark)}catch(z){ie(this,z)}W.sync=!1,W.reading||(k=xe(M,W))}let x;return k>0?x=Y(k,W):x=null,x===null?(W.needReadable=W.length<=W.highWaterMark,k=0):(W.length-=k,W.multiAwaitDrain?W.awaitDrainWriters.clear():W.awaitDrainWriters=null),W.length===0&&(W.ended||(W.needReadable=!0),M!==k&&W.ended&&ee(this)),x!==null&&!W.errorEmitted&&!W.closeEmitted&&(W.dataEmitted=!0,this.emit("data",x)),x};function oe(k,W){if(O("onEofChunk"),!W.ended){if(W.decoder){const M=W.decoder.end();M&&M.length&&(W.buffer.push(M),W.length+=W.objectMode?1:M.length)}W.ended=!0,W.sync?J(k):(W.needReadable=!1,W.emittedReadable=!0,le(k))}}function J(k){const W=k._readableState;O("emitReadable",W.needReadable,W.emittedReadable),W.needReadable=!1,W.emittedReadable||(O("emitReadable",W.flowing),W.emittedReadable=!0,t.nextTick(le,k))}function le(k){const W=k._readableState;O("emitReadable_",W.destroyed,W.length,W.ended),!W.destroyed&&!W.errored&&(W.length||W.ended)&&(k.emit("readable"),W.emittedReadable=!1),W.needReadable=!W.flowing&&!W.ended&&W.length<=W.highWaterMark,V(k)}function pe(k,W){!W.readingMore&&W.constructed&&(W.readingMore=!0,t.nextTick(L,k,W))}function L(k,W){for(;!W.reading&&!W.ended&&(W.length<W.highWaterMark||W.flowing&&W.length===0);){const M=W.length;if(O("maybeReadMore read 0"),k.read(0),M===W.length)break}W.readingMore=!1}he.prototype._read=function(k){throw new N("_read()")},he.prototype.pipe=function(k,W){const M=this,S=this._readableState;S.pipes.length===1&&(S.multiAwaitDrain||(S.multiAwaitDrain=!0,S.awaitDrainWriters=new l(S.awaitDrainWriters?[S.awaitDrainWriters]:[]))),S.pipes.push(k),O("pipe count=%d opts=%j",S.pipes.length,W);const z=(!W||W.end!==!1)&&k!==t.stdout&&k!==t.stderr?ge:$r;S.endEmitted?t.nextTick(z):M.once("end",z),k.on("unpipe",ue);function ue(zt,mr){O("onunpipe"),zt===M&&mr&&mr.hasUnpiped===!1&&(mr.hasUnpiped=!0,Ue())}function ge(){O("onend"),k.end()}let we,Me=!1;function Ue(){O("cleanup"),k.removeListener("close",Wr),k.removeListener("finish",gr),we&&k.removeListener("drain",we),k.removeListener("error",lt),k.removeListener("unpipe",ue),M.removeListener("end",ge),M.removeListener("end",$r),M.removeListener("data",We),Me=!0,we&&S.awaitDrainWriters&&(!k._writableState||k._writableState.needDrain)&&we()}function Ge(){Me||(S.pipes.length===1&&S.pipes[0]===k?(O("false write response, pause",0),S.awaitDrainWriters=k,S.multiAwaitDrain=!1):S.pipes.length>1&&S.pipes.includes(k)&&(O("false write response, pause",S.awaitDrainWriters.size),S.awaitDrainWriters.add(k)),M.pause()),we||(we=P(M,k),k.on("drain",we))}M.on("data",We);function We(zt){O("ondata");const mr=k.write(zt);O("dest.write",mr),mr===!1&&Ge()}function lt(zt){if(O("onerror",zt),$r(),k.removeListener("error",lt),k.listenerCount("error")===0){const mr=k._writableState||k._readableState;mr&&!mr.errorEmitted?ie(k,zt):k.emit("error",zt)}}y(k,"error",lt);function Wr(){k.removeListener("finish",gr),$r()}k.once("close",Wr);function gr(){O("onfinish"),k.removeListener("close",Wr),$r()}k.once("finish",gr);function $r(){O("unpipe"),M.unpipe(k)}return k.emit("pipe",M),k.writableNeedDrain===!0?S.flowing&&Ge():S.flowing||(O("pipe resume"),M.resume()),k};function P(k,W){return function(){const S=k._readableState;S.awaitDrainWriters===W?(O("pipeOnDrain",1),S.awaitDrainWriters=null):S.multiAwaitDrain&&(O("pipeOnDrain",S.awaitDrainWriters.size),S.awaitDrainWriters.delete(W)),(!S.awaitDrainWriters||S.awaitDrainWriters.size===0)&&k.listenerCount("data")&&k.resume()}}he.prototype.unpipe=function(k){const W=this._readableState,M={hasUnpiped:!1};if(W.pipes.length===0)return this;if(!k){const x=W.pipes;W.pipes=[],this.pause();for(let z=0;z<x.length;z++)x[z].emit("unpipe",this,{hasUnpiped:!1});return this}const S=e(W.pipes,k);return S===-1?this:(W.pipes.splice(S,1),W.pipes.length===0&&this.pause(),k.emit("unpipe",this,M),this)},he.prototype.on=function(k,W){const M=p.prototype.on.call(this,k,W),S=this._readableState;return k==="data"?(S.readableListening=this.listenerCount("readable")>0,S.flowing!==!1&&this.resume()):k==="readable"&&!S.endEmitted&&!S.readableListening&&(S.readableListening=S.needReadable=!0,S.flowing=!1,S.emittedReadable=!1,O("on readable",S.length,S.reading),S.length?J(this):S.reading||t.nextTick(b,this)),M},he.prototype.addListener=he.prototype.on,he.prototype.removeListener=function(k,W){const M=p.prototype.removeListener.call(this,k,W);return k==="readable"&&t.nextTick(m,this),M},he.prototype.off=he.prototype.removeListener,he.prototype.removeAllListeners=function(k){const W=p.prototype.removeAllListeners.apply(this,arguments);return(k==="readable"||k===void 0)&&t.nextTick(m,this),W};function m(k){const W=k._readableState;W.readableListening=k.listenerCount("readable")>0,W.resumeScheduled&&W[$]===!1?W.flowing=!0:k.listenerCount("data")>0?k.resume():W.readableListening||(W.flowing=null)}function b(k){O("readable nexttick read 0"),k.read(0)}he.prototype.resume=function(){const k=this._readableState;return k.flowing||(O("resume"),k.flowing=!k.readableListening,v(this,k)),k[$]=!1,this};function v(k,W){W.resumeScheduled||(W.resumeScheduled=!0,t.nextTick(j,k,W))}function j(k,W){O("resume",W.reading),W.reading||k.read(0),W.resumeScheduled=!1,k.emit("resume"),V(k),W.flowing&&!W.reading&&k.read(0)}he.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[$]=!0,this};function V(k){const W=k._readableState;for(O("flow",W.flowing);W.flowing&&k.read()!==null;);}he.prototype.wrap=function(k){let W=!1;k.on("data",S=>{!this.push(S)&&k.pause&&(W=!0,k.pause())}),k.on("end",()=>{this.push(null)}),k.on("error",S=>{ie(this,S)}),k.on("close",()=>{this.destroy()}),k.on("destroy",()=>{this.destroy()}),this._read=()=>{W&&k.resume&&(W=!1,k.resume())};const M=o(k);for(let S=1;S<M.length;S++){const x=M[S];this[x]===void 0&&typeof k[x]=="function"&&(this[x]=k[x].bind(k))}return this},he.prototype[d]=function(){return q(this)},he.prototype.iterator=function(k){return k!==void 0&&ne(k,"options"),q(this,k)};function q(k,W){typeof k.read!="function"&&(k=he.wrap(k,{objectMode:!0}));const M=G(k,W);return M.stream=k,M}async function*G(k,W){let M=se;function S(ue){this===k?(M(),M=se):M=ue}k.on("readable",S);let x;const z=w(k,{writable:!1},ue=>{x=ue?U(x,ue):null,M(),M=se});try{for(;;){const ue=k.destroyed?null:k.read();if(ue!==null)yield ue;else{if(x)throw x;if(x===null)return;await new c(S)}}}catch(ue){throw x=U(x,ue),x}finally{(x||(W==null?void 0:W.destroyOnReturn)!==!1)&&(x===void 0||k._readableState.autoDestroy)?T.destroyer(k,null):(k.off("readable",S),z())}}s(he.prototype,{readable:{__proto__:null,get(){const k=this._readableState;return!!k&&k.readable!==!1&&!k.destroyed&&!k.errorEmitted&&!k.endEmitted},set(k){this._readableState&&(this._readableState.readable=!!k)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(k){this._readableState&&(this._readableState.destroyed=k)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(be.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[$]!==!1},set(k){this[$]=!!k}}}),he._fromList=Y;function Y(k,W){if(W.length===0)return null;let M;return W.objectMode?M=W.buffer.shift():!k||k>=W.length?(W.decoder?M=W.buffer.join(""):W.buffer.length===1?M=W.buffer.first():M=W.buffer.concat(W.length),W.buffer.clear()):M=W.buffer.consume(k,W.decoder),M}function ee(k){const W=k._readableState;O("endReadable",W.endEmitted),W.endEmitted||(W.ended=!0,t.nextTick(ae,W,k))}function ae(k,W){if(O("endReadableNT",k.endEmitted,k.length),!k.errored&&!k.closeEmitted&&!k.endEmitted&&k.length===0){if(k.endEmitted=!0,W.emit("end"),W.writable&&W.allowHalfOpen===!1)t.nextTick(ve,W);else if(k.autoDestroy){const M=W._writableState;(!M||M.autoDestroy&&(M.finished||M.writable===!1))&&W.destroy()}}}function ve(k){k.writable&&!k.writableEnded&&!k.destroyed&&k.end()}he.from=function(k,W){return Q(he,k,W)};let me;function Ee(){return me===void 0&&(me={}),me}return he.fromWeb=function(k,W){return Ee().newStreamReadableFromReadableStream(k,W)},he.toWeb=function(k,W){return Ee().newReadableStreamFromStreamReadable(k,W)},he.wrap=function(k,W){var M,S;return new he({objectMode:(M=(S=k.readableObjectMode)!==null&&S!==void 0?S:k.objectMode)!==null&&M!==void 0?M:!0,...W,destroy(x,z){T.destroyer(k,x),z(x)}}).wrap(k)},G3}var z3,OD;function hM(){if(OD)return z3;OD=1;const t=Yo(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:a,ObjectDefineProperties:s,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:u,Symbol:c,SymbolHasInstance:l}=bn;z3=C,C.WritableState=ne;const{EventEmitter:d}=Rf,f=wx.Stream,{Buffer:h}=ha,p=Mf,{addAbortSignal:y}=nm,{getHighWaterMark:_,getDefaultHighWaterMark:E}=Sx,{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:T,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:U,ERR_STREAM_WRITE_AFTER_END:H,ERR_UNKNOWN_ENCODING:N}=Qi.codes,{errorOrDestroy:R}=p;o(C.prototype,f.prototype),o(C,f);function F(){}const X=c("kOnFinished");function ne(b,v,j){typeof j!="boolean"&&(j=v instanceof Go()),this.objectMode=!!(b&&b.objectMode),j&&(this.objectMode=this.objectMode||!!(b&&b.writableObjectMode)),this.highWaterMark=b?_(this,b,"writableHighWaterMark",j):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const V=!!(b&&b.decodeStrings===!1);this.decodeStrings=!V,this.defaultEncoding=b&&b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=he.bind(void 0,v),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,$(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!b||b.emitClose!==!1,this.autoDestroy=!b||b.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[X]=[]}function $(b){b.buffered=[],b.bufferedIndex=0,b.allBuffers=!0,b.allNoop=!0}ne.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},a(ne.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function C(b){const v=this instanceof Go();if(!v&&!n(C,this))return new C(b);this._writableState=new ne(b,this,v),b&&(typeof b.write=="function"&&(this._write=b.write),typeof b.writev=="function"&&(this._writev=b.writev),typeof b.destroy=="function"&&(this._destroy=b.destroy),typeof b.final=="function"&&(this._final=b.final),typeof b.construct=="function"&&(this._construct=b.construct),b.signal&&y(b.signal,this)),f.call(this,b),p.construct(this,()=>{const j=this._writableState;j.writing||ce(this,j),le(this,j)})}a(C,l,{__proto__:null,value:function(b){return n(this,b)?!0:this!==C?!1:b&&b._writableState instanceof ne}}),C.prototype.pipe=function(){R(this,new T)};function Q(b,v,j,V){const q=b._writableState;if(typeof j=="function")V=j,j=q.defaultEncoding;else{if(!j)j=q.defaultEncoding;else if(j!=="buffer"&&!h.isEncoding(j))throw new N(j);typeof V!="function"&&(V=F)}if(v===null)throw new U;if(!q.objectMode)if(typeof v=="string")q.decodeStrings!==!1&&(v=h.from(v,j),j="buffer");else if(v instanceof h)j="buffer";else if(f._isUint8Array(v))v=f._uint8ArrayToBuffer(v),j="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],v);let G;return q.ending?G=new H:q.destroyed&&(G=new I("write")),G?(t.nextTick(V,G),R(b,G,!0),G):(q.pendingcb++,se(b,q,v,j,V))}C.prototype.write=function(b,v,j){return Q(this,b,v,j)===!0},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){const b=this._writableState;b.corked&&(b.corked--,b.writing||ce(this,b))},C.prototype.setDefaultEncoding=function(v){if(typeof v=="string"&&(v=u(v)),!h.isEncoding(v))throw new N(v);return this._writableState.defaultEncoding=v,this};function se(b,v,j,V,q){const G=v.objectMode?1:j.length;v.length+=G;const Y=v.length<v.highWaterMark;return Y||(v.needDrain=!0),v.writing||v.corked||v.errored||!v.constructed?(v.buffered.push({chunk:j,encoding:V,callback:q}),v.allBuffers&&V!=="buffer"&&(v.allBuffers=!1),v.allNoop&&q!==F&&(v.allNoop=!1)):(v.writelen=G,v.writecb=q,v.writing=!0,v.sync=!0,b._write(j,V,v.onwrite),v.sync=!1),Y&&!v.errored&&!v.destroyed}function ie(b,v,j,V,q,G,Y){v.writelen=V,v.writecb=Y,v.writing=!0,v.sync=!0,v.destroyed?v.onwrite(new I("write")):j?b._writev(q,v.onwrite):b._write(q,G,v.onwrite),v.sync=!1}function be(b,v,j,V){--v.pendingcb,V(j),ye(v),R(b,j)}function he(b,v){const j=b._writableState,V=j.sync,q=j.writecb;if(typeof q!="function"){R(b,new A);return}j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0,v?(v.stack,j.errored||(j.errored=v),b._readableState&&!b._readableState.errored&&(b._readableState.errored=v),V?t.nextTick(be,b,j,v,q):be(b,j,v,q)):(j.buffered.length>j.bufferedIndex&&ce(b,j),V?j.afterWriteTickInfo!==null&&j.afterWriteTickInfo.cb===q?j.afterWriteTickInfo.count++:(j.afterWriteTickInfo={count:1,cb:q,stream:b,state:j},t.nextTick(Te,j.afterWriteTickInfo)):Ne(b,j,1,q))}function Te({stream:b,state:v,count:j,cb:V}){return v.afterWriteTickInfo=null,Ne(b,v,j,V)}function Ne(b,v,j,V){for(!v.ending&&!b.destroyed&&v.length===0&&v.needDrain&&(v.needDrain=!1,b.emit("drain"));j-- >0;)v.pendingcb--,V();v.destroyed&&ye(v),le(b,v)}function ye(b){if(b.writing)return;for(let q=b.bufferedIndex;q<b.buffered.length;++q){var v;const{chunk:G,callback:Y}=b.buffered[q],ee=b.objectMode?1:G.length;b.length-=ee,Y((v=b.errored)!==null&&v!==void 0?v:new I("write"))}const j=b[X].splice(0);for(let q=0;q<j.length;q++){var V;j[q]((V=b.errored)!==null&&V!==void 0?V:new I("end"))}$(b)}function ce(b,v){if(v.corked||v.bufferProcessing||v.destroyed||!v.constructed)return;const{buffered:j,bufferedIndex:V,objectMode:q}=v,G=j.length-V;if(!G)return;let Y=V;if(v.bufferProcessing=!0,G>1&&b._writev){v.pendingcb-=G-1;const ee=v.allNoop?F:ve=>{for(let me=Y;me<j.length;++me)j[me].callback(ve)},ae=v.allNoop&&Y===0?j:e(j,Y);ae.allBuffers=v.allBuffers,ie(b,v,!0,v.length,ae,"",ee),$(v)}else{do{const{chunk:ee,encoding:ae,callback:ve}=j[Y];j[Y++]=null;const me=q?1:ee.length;ie(b,v,!1,me,ee,ae,ve)}while(Y<j.length&&!v.writing);Y===j.length?$(v):Y>256?(j.splice(0,Y),v.bufferedIndex=0):v.bufferedIndex=Y}v.bufferProcessing=!1}C.prototype._write=function(b,v,j){if(this._writev)this._writev([{chunk:b,encoding:v}],j);else throw new O("_write()")},C.prototype._writev=null,C.prototype.end=function(b,v,j){const V=this._writableState;typeof b=="function"?(j=b,b=null,v=null):typeof v=="function"&&(j=v,v=null);let q;if(b!=null){const G=Q(this,b,v);G instanceof r&&(q=G)}return V.corked&&(V.corked=1,this.uncork()),q||(!V.errored&&!V.ending?(V.ending=!0,le(this,V,!0),V.ended=!0):V.finished?q=new D("end"):V.destroyed&&(q=new I("end"))),typeof j=="function"&&(q||V.finished?t.nextTick(j,q):V[X].push(j)),this};function xe(b){return b.ending&&!b.destroyed&&b.constructed&&b.length===0&&!b.errored&&b.buffered.length===0&&!b.finished&&!b.writing&&!b.errorEmitted&&!b.closeEmitted}function oe(b,v){let j=!1;function V(q){if(j){R(b,q??A());return}if(j=!0,v.pendingcb--,q){const G=v[X].splice(0);for(let Y=0;Y<G.length;Y++)G[Y](q);R(b,q,v.sync)}else xe(v)&&(v.prefinished=!0,b.emit("prefinish"),v.pendingcb++,t.nextTick(pe,b,v))}v.sync=!0,v.pendingcb++;try{b._final(V)}catch(q){V(q)}v.sync=!1}function J(b,v){!v.prefinished&&!v.finalCalled&&(typeof b._final=="function"&&!v.destroyed?(v.finalCalled=!0,oe(b,v)):(v.prefinished=!0,b.emit("prefinish")))}function le(b,v,j){xe(v)&&(J(b,v),v.pendingcb===0&&(j?(v.pendingcb++,t.nextTick((V,q)=>{xe(q)?pe(V,q):q.pendingcb--},b,v)):xe(v)&&(v.pendingcb++,pe(b,v))))}function pe(b,v){v.pendingcb--,v.finished=!0;const j=v[X].splice(0);for(let V=0;V<j.length;V++)j[V]();if(b.emit("finish"),v.autoDestroy){const V=b._readableState;(!V||V.autoDestroy&&(V.endEmitted||V.readable===!1))&&b.destroy()}}s(C.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(b){this._writableState&&(this._writableState.destroyed=b)}},writable:{__proto__:null,get(){const b=this._writableState;return!!b&&b.writable!==!1&&!b.destroyed&&!b.errored&&!b.ending&&!b.ended},set(b){this._writableState&&(this._writableState.writable=!!b)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const b=this._writableState;return b?!b.destroyed&&!b.ending&&b.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const L=p.destroy;C.prototype.destroy=function(b,v){const j=this._writableState;return!j.destroyed&&(j.bufferedIndex<j.buffered.length||j[X].length)&&t.nextTick(ye,j),L.call(this,b,v),this},C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(b,v){v(b)},C.prototype[d.captureRejectionSymbol]=function(b){this.destroy(b)};let P;function m(){return P===void 0&&(P={}),P}return C.fromWeb=function(b,v){return m().newStreamWritableFromWritableStream(b,v)},C.toWeb=function(b){return m().newWritableStreamFromStreamWritable(b)},z3}var W3,AD;function $ee(){if(AD)return W3;AD=1;const t=Yo(),e=ha,{isReadable:r,isWritable:n,isIterable:a,isNodeStream:s,isReadableNodeStream:o,isWritableNodeStream:u,isDuplexNodeStream:c}=tu,l=oc,{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:h}}=Qi,{destroyer:p}=Mf,y=Go(),_=im(),{createDeferredPromise:E}=eu,w=fM,O=globalThis.Blob||e.Blob,A=typeof O<"u"?function(R){return R instanceof O}:function(R){return!1},T=globalThis.AbortController||Wg.AbortController,{FunctionPrototypeCall:I}=bn;class D extends y{constructor(R){super(R),(R==null?void 0:R.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(R==null?void 0:R.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}W3=function N(R,F){if(c(R))return R;if(o(R))return H({readable:R});if(u(R))return H({writable:R});if(s(R))return H({writable:!1,readable:!1});if(typeof R=="function"){const{value:ne,write:$,final:C,destroy:Q}=U(R);if(a(ne))return w(D,ne,{objectMode:!0,write:$,final:C,destroy:Q});const se=ne==null?void 0:ne.then;if(typeof se=="function"){let ie;const be=I(se,ne,he=>{if(he!=null)throw new h("nully","body",he)},he=>{p(ie,he)});return ie=new D({objectMode:!0,readable:!1,write:$,final(he){C(async()=>{try{await be,t.nextTick(he,null)}catch(Te){t.nextTick(he,Te)}})},destroy:Q})}throw new h("Iterable, AsyncIterable or AsyncFunction",F,ne)}if(A(R))return N(R.arrayBuffer());if(a(R))return w(D,R,{objectMode:!0,writable:!1});if(typeof(R==null?void 0:R.writable)=="object"||typeof(R==null?void 0:R.readable)=="object"){const ne=R!=null&&R.readable?o(R==null?void 0:R.readable)?R==null?void 0:R.readable:N(R.readable):void 0,$=R!=null&&R.writable?u(R==null?void 0:R.writable)?R==null?void 0:R.writable:N(R.writable):void 0;return H({readable:ne,writable:$})}const X=R==null?void 0:R.then;if(typeof X=="function"){let ne;return I(X,R,$=>{$!=null&&ne.push($),ne.push(null)},$=>{p(ne,$)}),ne=new D({objectMode:!0,writable:!1,read(){}})}throw new f(F,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],R)};function U(N){let{promise:R,resolve:F}=E();const X=new T,ne=X.signal;return{value:N(async function*(){for(;;){const C=R;R=null;const{chunk:Q,done:se,cb:ie}=await C;if(t.nextTick(ie),se)return;if(ne.aborted)throw new d(void 0,{cause:ne.reason});({promise:R,resolve:F}=E()),yield Q}}(),{signal:ne}),write(C,Q,se){const ie=F;F=null,ie({chunk:C,done:!1,cb:se})},final(C){const Q=F;F=null,Q({done:!0,cb:C})},destroy(C,Q){X.abort(),Q(C)}}}function H(N){const R=N.readable&&typeof N.readable.read!="function"?_.wrap(N.readable):N.readable,F=N.writable;let X=!!r(R),ne=!!n(F),$,C,Q,se,ie;function be(he){const Te=se;se=null,Te?Te(he):he&&ie.destroy(he)}return ie=new D({readableObjectMode:!!(R!=null&&R.readableObjectMode),writableObjectMode:!!(F!=null&&F.writableObjectMode),readable:X,writable:ne}),ne&&(l(F,he=>{ne=!1,he&&p(R,he),be(he)}),ie._write=function(he,Te,Ne){F.write(he,Te)?Ne():$=Ne},ie._final=function(he){F.end(),C=he},F.on("drain",function(){if($){const he=$;$=null,he()}}),F.on("finish",function(){if(C){const he=C;C=null,he()}})),X&&(l(R,he=>{X=!1,he&&p(R,he),be(he)}),R.on("readable",function(){if(Q){const he=Q;Q=null,he()}}),R.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){const he=R.read();if(he===null){Q=ie._read;return}if(!ie.push(he))return}}),ie._destroy=function(he,Te){!he&&se!==null&&(he=new d),Q=null,$=null,C=null,se===null?Te(he):(se=Te,p(F,he),p(R,he))},ie}return W3}var X3,xD;function Go(){if(xD)return X3;xD=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=bn;X3=o;const a=im(),s=hM();n(o.prototype,a.prototype),n(o,a);{const d=r(s.prototype);for(let f=0;f<d.length;f++){const h=d[f];o.prototype[h]||(o.prototype[h]=s.prototype[h])}}function o(d){if(!(this instanceof o))return new o(d);a.call(this,d),s.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(o.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let u;function c(){return u===void 0&&(u={}),u}o.fromWeb=function(d,f){return c().newStreamDuplexFromReadableWritablePair(d,f)},o.toWeb=function(d){return c().newReadableWritablePairFromDuplex(d)};let l;return o.from=function(d){return l||(l=$ee()),l(d,"body")},X3}const{ObjectSetPrototypeOf:pM,Symbol:Uee}=bn;var yM=zo;const{ERR_METHOD_NOT_IMPLEMENTED:qee}=Qi.codes,Ex=Go(),{getHighWaterMark:Vee}=Sx;pM(zo.prototype,Ex.prototype);pM(zo,Ex);const op=Uee("kCallback");function zo(t){if(!(this instanceof zo))return new zo(t);const e=t?Vee(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Ex.call(this,t),this._readableState.sync=!1,this[op]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Hee)}function _O(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Hee(){this._final!==_O&&_O.call(this)}zo.prototype._final=_O;zo.prototype._transform=function(t,e,r){throw new qee("_transform()")};zo.prototype._write=function(t,e,r){const n=this._readableState,a=this._writableState,s=n.length;this._transform(t,e,(o,u)=>{if(o){r(o);return}u!=null&&this.push(u),a.ended||s===n.length||n.length<n.highWaterMark?r():this[op]=r})};zo.prototype._read=function(){if(this[op]){const t=this[op];this[op]=null,t()}};const{ObjectSetPrototypeOf:bM}=bn;var _M=Yd;const Ox=yM;bM(Yd.prototype,Ox.prototype);bM(Yd,Ox);function Yd(t){if(!(this instanceof Yd))return new Yd(t);Ox.call(this,t)}Yd.prototype._transform=function(t,e,r){r(null,t)};const zh=Yo(),{ArrayIsArray:kee,Promise:Qee,SymbolAsyncIterator:Gee}=bn,Lb=oc,{once:zee}=eu,Wee=Mf,RD=Go(),{aggregateTwoErrors:Xee,codes:{ERR_INVALID_ARG_TYPE:gO,ERR_INVALID_RETURN_VALUE:K3,ERR_MISSING_ARGS:Kee,ERR_STREAM_DESTROYED:Jee,ERR_STREAM_PREMATURE_CLOSE:Yee},AbortError:Zee}=Qi,{validateFunction:ete,validateAbortSignal:tte}=Kg,{isIterable:jc,isReadable:J3,isReadableNodeStream:sb,isNodeStream:ID,isTransformStream:ud,isWebStream:rte,isReadableStream:Y3,isReadableEnded:nte}=tu,ite=globalThis.AbortController||Wg.AbortController;let Z3,eT;function PD(t,e,r){let n=!1;t.on("close",()=>{n=!0});const a=Lb(t,{readable:e,writable:r},s=>{n=!s});return{destroy:s=>{n||(n=!0,Wee.destroyer(t,s||new Jee("pipe")))},cleanup:a}}function ate(t){return ete(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function tT(t){if(jc(t))return t;if(sb(t))return ste(t);throw new gO("val",["Readable","Iterable","AsyncIterable"],t)}async function*ste(t){eT||(eT=im()),yield*eT.prototype[Gee].call(t)}async function Xy(t,e,r,{end:n}){let a,s=null;const o=l=>{if(l&&(a=l),s){const d=s;s=null,d()}},u=()=>new Qee((l,d)=>{a?d(a):s=()=>{a?d(a):l()}});e.on("drain",o);const c=Lb(e,{readable:!1},o);try{e.writableNeedDrain&&await u();for await(const l of t)e.write(l)||await u();n&&e.end(),await u(),r()}catch(l){r(a!==l?Xee(a,l):l)}finally{c(),e.off("drain",o)}}async function rT(t,e,r,{end:n}){ud(e)&&(e=e.writable);const a=e.getWriter();try{for await(const s of t)await a.ready,a.write(s).catch(()=>{});await a.ready,n&&await a.close(),r()}catch(s){try{await a.abort(s),r(s)}catch(o){r(o)}}}function ote(...t){return gM(t,zee(ate(t)))}function gM(t,e,r){if(t.length===1&&kee(t[0])&&(t=t[0]),t.length<2)throw new Kee("streams");const n=new ite,a=n.signal,s=r==null?void 0:r.signal,o=[];tte(s,"options.signal");function u(){p(new Zee)}s==null||s.addEventListener("abort",u);let c,l;const d=[];let f=0;function h(O){p(O,--f===0)}function p(O,A){if(O&&(!c||c.code==="ERR_STREAM_PREMATURE_CLOSE")&&(c=O),!(!c&&!A)){for(;d.length;)d.shift()(c);s==null||s.removeEventListener("abort",u),n.abort(),A&&(c||o.forEach(T=>T()),zh.nextTick(e,c,l))}}let y;for(let O=0;O<t.length;O++){const A=t[O],T=O<t.length-1,I=O>0,D=T||(r==null?void 0:r.end)!==!1,U=O===t.length-1;if(ID(A)){let H=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&h(N)};var w=H;if(D){const{destroy:N,cleanup:R}=PD(A,T,I);d.push(N),J3(A)&&U&&o.push(R)}A.on("error",H),J3(A)&&U&&o.push(()=>{A.removeListener("error",H)})}if(O===0)if(typeof A=="function"){if(y=A({signal:a}),!jc(y))throw new K3("Iterable, AsyncIterable or Stream","source",y)}else jc(A)||sb(A)||ud(A)?y=A:y=RD.from(A);else if(typeof A=="function"){if(ud(y)){var _;y=tT((_=y)===null||_===void 0?void 0:_.readable)}else y=tT(y);if(y=A(y,{signal:a}),T){if(!jc(y,!0))throw new K3("AsyncIterable",`transform[${O-1}]`,y)}else{var E;Z3||(Z3=_M);const H=new Z3({objectMode:!0}),N=(E=y)===null||E===void 0?void 0:E.then;if(typeof N=="function")f++,N.call(y,X=>{l=X,X!=null&&H.write(X),D&&H.end(),zh.nextTick(h)},X=>{H.destroy(X),zh.nextTick(h,X)});else if(jc(y,!0))f++,Xy(y,H,h,{end:D});else if(Y3(y)||ud(y)){const X=y.readable||y;f++,Xy(X,H,h,{end:D})}else throw new K3("AsyncIterable or Promise","destination",y);y=H;const{destroy:R,cleanup:F}=PD(y,!1,!0);d.push(R),U&&o.push(F)}}else if(ID(A)){if(sb(y)){f+=2;const H=ute(y,A,h,{end:D});J3(A)&&U&&o.push(H)}else if(ud(y)||Y3(y)){const H=y.readable||y;f++,Xy(H,A,h,{end:D})}else if(jc(y))f++,Xy(y,A,h,{end:D});else throw new gO("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=A}else if(rte(A)){if(sb(y))f++,rT(tT(y),A,h,{end:D});else if(Y3(y)||jc(y))f++,rT(y,A,h,{end:D});else if(ud(y))f++,rT(y.readable,A,h,{end:D});else throw new gO("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],y);y=A}else y=RD.from(A)}return(a!=null&&a.aborted||s!=null&&s.aborted)&&zh.nextTick(u),y}function ute(t,e,r,{end:n}){let a=!1;if(e.on("close",()=>{a||r(new Yee)}),t.pipe(e,{end:!1}),n){let o=function(){a=!0,e.end()};var s=o;nte(t)?zh.nextTick(o):t.once("end",o)}else r();return Lb(t,{readable:!0,writable:!1},o=>{const u=t._readableState;o&&o.code==="ERR_STREAM_PREMATURE_CLOSE"&&u&&u.ended&&!u.errored&&!u.errorEmitted?t.once("end",r).once("error",r):r(o)}),Lb(e,{readable:!1,writable:!0},r)}var Ax={pipelineImpl:gM,pipeline:ote};const{pipeline:cte}=Ax,Ky=Go(),{destroyer:lte}=Mf,{isNodeStream:Jy,isReadable:DD,isWritable:ND,isWebStream:nT,isTransformStream:wc,isWritableStream:jD,isReadableStream:CD}=tu,{AbortError:dte,codes:{ERR_INVALID_ARG_VALUE:MD,ERR_MISSING_ARGS:fte}}=Qi,hte=oc;var mM=function(...e){if(e.length===0)throw new fte("streams");if(e.length===1)return Ky.from(e[0]);const r=[...e];if(typeof e[0]=="function"&&(e[0]=Ky.from(e[0])),typeof e[e.length-1]=="function"){const p=e.length-1;e[p]=Ky.from(e[p])}for(let p=0;p<e.length;++p)if(!(!Jy(e[p])&&!nT(e[p]))){if(p<e.length-1&&!(DD(e[p])||CD(e[p])||wc(e[p])))throw new MD(`streams[${p}]`,r[p],"must be readable");if(p>0&&!(ND(e[p])||jD(e[p])||wc(e[p])))throw new MD(`streams[${p}]`,r[p],"must be writable")}let n,a,s,o,u;function c(p){const y=o;o=null,y?y(p):p?u.destroy(p):!h&&!f&&u.destroy()}const l=e[0],d=cte(e,c),f=!!(ND(l)||jD(l)||wc(l)),h=!!(DD(d)||CD(d)||wc(d));if(u=new Ky({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(d!=null&&d.writableObjectMode),writable:f,readable:h}),f){if(Jy(l))u._write=function(y,_,E){l.write(y,_)?E():n=E},u._final=function(y){l.end(),a=y},l.on("drain",function(){if(n){const y=n;n=null,y()}});else if(nT(l)){const _=(wc(l)?l.writable:l).getWriter();u._write=async function(E,w,O){try{await _.ready,_.write(E).catch(()=>{}),O()}catch(A){O(A)}},u._final=async function(E){try{await _.ready,_.close().catch(()=>{}),a=E}catch(w){E(w)}}}const p=wc(d)?d.readable:d;hte(p,()=>{if(a){const y=a;a=null,y()}})}if(h){if(Jy(d))d.on("readable",function(){if(s){const p=s;s=null,p()}}),d.on("end",function(){u.push(null)}),u._read=function(){for(;;){const p=d.read();if(p===null){s=u._read;return}if(!u.push(p))return}};else if(nT(d)){const y=(wc(d)?d.readable:d).getReader();u._read=async function(){for(;;)try{const{value:_,done:E}=await y.read();if(!u.push(_))return;if(E){u.push(null);return}}catch{return}}}}return u._destroy=function(p,y){!p&&o!==null&&(p=new dte),s=null,n=null,a=null,o===null?y(p):(o=y,Jy(d)&&lte(d,p))},u};const vM=globalThis.AbortController||Wg.AbortController,{codes:{ERR_INVALID_ARG_VALUE:pte,ERR_INVALID_ARG_TYPE:A0,ERR_MISSING_ARGS:yte,ERR_OUT_OF_RANGE:bte},AbortError:Js}=Qi,{validateAbortSignal:Sl,validateInteger:_te,validateObject:Tl}=Kg,gte=bn.Symbol("kWeak"),{finished:mte}=oc,vte=mM,{addAbortSignalNoValidate:wte}=nm,{isWritable:Ste,isNodeStream:Tte}=tu,{ArrayPrototypePush:Ete,MathFloor:Ote,Number:Ate,NumberIsNaN:xte,Promise:FD,PromiseReject:LD,PromisePrototypeThen:Rte,Symbol:wM}=bn,Bb=wM("kEmpty"),BD=wM("kEof");function Ite(t,e){if(e!=null&&Tl(e,"options"),(e==null?void 0:e.signal)!=null&&Sl(e.signal,"options.signal"),Tte(t)&&!Ste(t))throw new pte("stream",t,"must be writable");const r=vte(this,t);return e!=null&&e.signal&&wte(e.signal,r),r}function am(t,e){if(typeof t!="function")throw new A0("fn",["Function","AsyncFunction"],t);e!=null&&Tl(e,"options"),(e==null?void 0:e.signal)!=null&&Sl(e.signal,"options.signal");let r=1;return(e==null?void 0:e.concurrency)!=null&&(r=Ote(e.concurrency)),_te(r,"concurrency",1),(async function*(){var a,s;const o=new vM,u=this,c=[],l=o.signal,d={signal:l},f=()=>o.abort();e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted&&f(),e==null||(s=e.signal)===null||s===void 0||s.addEventListener("abort",f);let h,p,y=!1;function _(){y=!0}async function E(){try{for await(let A of u){var w;if(y)return;if(l.aborted)throw new Js;try{A=t(A,d)}catch(T){A=LD(T)}A!==Bb&&(typeof((w=A)===null||w===void 0?void 0:w.catch)=="function"&&A.catch(_),c.push(A),h&&(h(),h=null),!y&&c.length&&c.length>=r&&await new FD(T=>{p=T}))}c.push(BD)}catch(A){const T=LD(A);Rte(T,void 0,_),c.push(T)}finally{var O;y=!0,h&&(h(),h=null),e==null||(O=e.signal)===null||O===void 0||O.removeEventListener("abort",f)}}E();try{for(;;){for(;c.length>0;){const w=await c[0];if(w===BD)return;if(l.aborted)throw new Js;w!==Bb&&(yield w),c.shift(),p&&(p(),p=null)}await new FD(w=>{h=w})}}finally{o.abort(),y=!0,p&&(p(),p=null)}}).call(this)}function Pte(t=void 0){return t!=null&&Tl(t,"options"),(t==null?void 0:t.signal)!=null&&Sl(t.signal,"options.signal"),(async function*(){let r=0;for await(const a of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Js({cause:t.signal.reason});yield[r++,a]}}).call(this)}async function SM(t,e=void 0){for await(const r of xx.call(this,t,e))return!0;return!1}async function Dte(t,e=void 0){if(typeof t!="function")throw new A0("fn",["Function","AsyncFunction"],t);return!await SM.call(this,async(...r)=>!await t(...r),e)}async function Nte(t,e){for await(const r of xx.call(this,t,e))return r}async function jte(t,e){if(typeof t!="function")throw new A0("fn",["Function","AsyncFunction"],t);async function r(n,a){return await t(n,a),Bb}for await(const n of am.call(this,r,e));}function xx(t,e){if(typeof t!="function")throw new A0("fn",["Function","AsyncFunction"],t);async function r(n,a){return await t(n,a)?n:Bb}return am.call(this,r,e)}class Cte extends yte{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Mte(t,e,r){var n;if(typeof t!="function")throw new A0("reducer",["Function","AsyncFunction"],t);r!=null&&Tl(r,"options"),(r==null?void 0:r.signal)!=null&&Sl(r.signal,"options.signal");let a=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){const l=new Js(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await mte(this.destroy(l)),l}const s=new vM,o=s.signal;if(r!=null&&r.signal){const l={once:!0,[gte]:this};r.signal.addEventListener("abort",()=>s.abort(),l)}let u=!1;try{for await(const l of this){var c;if(u=!0,r!=null&&(c=r.signal)!==null&&c!==void 0&&c.aborted)throw new Js;a?e=await t(e,l,{signal:o}):(e=l,a=!0)}if(!u&&!a)throw new Cte}finally{s.abort()}return e}async function Fte(t){t!=null&&Tl(t,"options"),(t==null?void 0:t.signal)!=null&&Sl(t.signal,"options.signal");const e=[];for await(const n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Js(void 0,{cause:t.signal.reason});Ete(e,n)}return e}function Lte(t,e){const r=am.call(this,t,e);return(async function*(){for await(const a of r)yield*a}).call(this)}function TM(t){if(t=Ate(t),xte(t))return 0;if(t<0)throw new bte("number",">= 0",t);return t}function Bte(t,e=void 0){return e!=null&&Tl(e,"options"),(e==null?void 0:e.signal)!=null&&Sl(e.signal,"options.signal"),t=TM(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Js;for await(const s of this){var a;if(e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted)throw new Js;t--<=0&&(yield s)}}).call(this)}function $te(t,e=void 0){return e!=null&&Tl(e,"options"),(e==null?void 0:e.signal)!=null&&Sl(e.signal,"options.signal"),t=TM(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Js;for await(const s of this){var a;if(e!=null&&(a=e.signal)!==null&&a!==void 0&&a.aborted)throw new Js;if(t-- >0)yield s;else return}}).call(this)}yx.streamReturningOperators={asIndexedPairs:Pte,drop:Bte,filter:xx,flatMap:Lte,map:am,take:$te,compose:Ite};yx.promiseReturningOperators={every:Dte,forEach:jte,reduce:Mte,toArray:Fte,some:SM,find:Nte};var iT,$D;function EM(){if($D)return iT;$D=1;const{ArrayPrototypePop:t,Promise:e}=bn,{isIterable:r,isNodeStream:n,isWebStream:a}=tu,{pipelineImpl:s}=Ax,{finished:o}=oc;OM();function u(...c){return new e((l,d)=>{let f,h;const p=c[c.length-1];if(p&&typeof p=="object"&&!n(p)&&!r(p)&&!a(p)){const y=t(c);f=y.signal,h=y.end}s(c,(y,_)=>{y?d(y):l(_)},{signal:f,end:h})})}return iT={finished:o,pipeline:u},iT}var UD;function OM(){if(UD)return U3.exports;UD=1;const{Buffer:t}=ha,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=bn,{promisify:{custom:a}}=eu,{streamReturningOperators:s,promiseReturningOperators:o}=yx,{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Qi,c=mM,{pipeline:l}=Ax,{destroyer:d}=Mf,f=oc,h=EM(),p=tu,y=U3.exports=wx.Stream;y.isDisturbed=p.isDisturbed,y.isErrored=p.isErrored,y.isReadable=p.isReadable,y.Readable=im();for(const w of r(s)){let A=function(...T){if(new.target)throw u();return y.Readable.from(n(O,this,T))};var E=A;const O=s[w];e(A,"name",{__proto__:null,value:O.name}),e(A,"length",{__proto__:null,value:O.length}),e(y.Readable.prototype,w,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}for(const w of r(o)){let A=function(...I){if(new.target)throw u();return n(O,this,I)};var E=A;const O=o[w];e(A,"name",{__proto__:null,value:O.name}),e(A,"length",{__proto__:null,value:O.length}),e(y.Readable.prototype,w,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}y.Writable=hM(),y.Duplex=Go(),y.Transform=yM,y.PassThrough=_M,y.pipeline=l;const{addAbortSignal:_}=nm;return y.addAbortSignal=_,y.finished=f,y.destroy=d,y.compose=c,e(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return h}}),e(l,a,{__proto__:null,enumerable:!0,get(){return h.pipeline}}),e(f,a,{__proto__:null,enumerable:!0,get(){return h.finished}}),y.Stream=y,y._isUint8Array=function(O){return O instanceof Uint8Array},y._uint8ArrayToBuffer=function(O){return t.from(O.buffer,O.byteOffset,O.byteLength)},U3.exports}(function(t){const e=OM(),r=EM(),n=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=n,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream,t.exports.default=t.exports})(C9);var Jt=C9.exports;Object.defineProperty(Vg,"__esModule",{value:!0});Vg.ActorQueryResultSerializeJson=void 0;const Ute=ds,qD=nr,qte=Jt;class Vte extends Ute.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads","boolean"].includes(e.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}async runHandle(e,r,n){const a=new qte.Readable;a._read=()=>{};let s=!0;if(e.type==="bindings"){const o=e.bindingsStream;a.push("["),o.on("error",u=>a.emit("error",u)),o.on("data",u=>{a.push(s?`
`:`,
`),a.push(JSON.stringify(Object.fromEntries([...u].map(([c,l])=>[c.value,qD.termToString(l)])))),s=!1}),o.on("end",()=>{a.push(s?`]
`:`
]
`),a.push(null)})}else if(e.type==="quads"){const o=e.quadStream;a.push("["),o.on("error",u=>a.emit("error",u)),o.on("data",u=>{a.push(s?`
`:`,
`),a.push(JSON.stringify(qD.quadToStringQuad(u))),s=!1}),o.on("end",()=>{a.push(s?`]
`:`
]
`),a.push(null)})}else try{a.push(`${JSON.stringify(await e.execute())}
`),a.push(null)}catch(o){setTimeout(()=>a.emit("error",o))}return{data:a}}}Vg.ActorQueryResultSerializeJson=Vte;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Vg,t)})(j9);var AM={},sm={};Object.defineProperty(sm,"__esModule",{value:!0});sm.ActorQueryResultSerializeSimple=void 0;const Hte=ds,kte=nr,Qte=Jt;class Vc extends Hte.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads","boolean","void"].includes(e.type))throw new Error("This actor can only handle bindings streams, quad streams, booleans, or updates.");return!0}static termToString(e){return e.termType==="Quad"?(0,kte.termToString)(e):e.value}async runHandle(e,r,n){const a=new Qte.Readable;a._read=()=>{};let s;if(e.type==="bindings")s=e.bindingsStream,s.on("error",o=>a.emit("error",o)),s.on("data",o=>a.push(`${[...o].map(([u,c])=>`?${u.value}: ${Vc.termToString(c)}`).join(`
`)}

`)),s.on("end",()=>a.push(null));else if(e.type==="quads")s=e.quadStream,s.on("error",o=>a.emit("error",o)),s.on("data",o=>a.push(`subject: ${Vc.termToString(o.subject)}
predicate: ${Vc.termToString(o.predicate)}
object: ${Vc.termToString(o.object)}
graph: ${Vc.termToString(o.graph)}

`)),s.on("end",()=>a.push(null));else if(e.type==="boolean")try{a.push(`${JSON.stringify(await e.execute())}
`),a.push(null)}catch(o){setTimeout(()=>a.emit("error",o))}else e.execute().then(()=>{a.push(`ok
`),a.push(null)}).catch(o=>setTimeout(()=>a.emit("error",o)));return{data:a}}}sm.ActorQueryResultSerializeSimple=Vc;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sm,t)})(AM);var xM={},om={};Object.defineProperty(om,"__esModule",{value:!0});om.ActorQueryResultSerializeSparqlCsv=void 0;const Gte=ds,zte=Jt;class bd extends Gte.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToCsvBindings(e){if(!e)return"";let r=e.value;if(e.termType==="Literal")r=`${r}`;else if(e.termType==="BlankNode")r=`_:${r}`;else if(e.termType==="Quad"){let n=bd.bindingToCsvBindings(e.object);e.object.termType==="Literal"&&(n=`"${n.replace(/"/ug,'""')}"`),r=`<< ${bd.bindingToCsvBindings(e.subject)} ${bd.bindingToCsvBindings(e.predicate)} ${n} >>`}else r=`<${r}>`;return/[",\n\r]/u.test(r)&&(r=`"${r.replace(/"/ug,'""')}"`),r}async testHandleChecked(e,r){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r,n){const a=e,s=new zte.Readable;s._read=()=>{};const o=await a.metadata();return s.push(`${o.variables.map(u=>u.value).join(",")}\r
`),a.bindingsStream.on("error",u=>{s.emit("error",u)}),a.bindingsStream.on("data",u=>{s.push(`${o.variables.map(c=>bd.bindingToCsvBindings(u.get(c))).join(",")}\r
`)}),a.bindingsStream.on("end",()=>{s.push(null)}),{data:s}}}om.ActorQueryResultSerializeSparqlCsv=bd;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(om,t)})(xM);var RM={},um={},x0={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.stringQuadToQuad=Jn.quadToStringQuad=Jn.stringToTerm=Jn.getLiteralLanguage=Jn.getLiteralType=Jn.getLiteralValue=Jn.termToString=void 0;const Wte=ft,IM=new Wte.DataFactory;function Fo(t){if(t)switch(t.termType){case"NamedNode":return`<${Jte(t.value)}>`;case"BlankNode":return`_:${t.value}`;case"Literal":{const e=t;return`"${Yte(e.value)}"${e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&e.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${e.datatype.value}>`:""}${e.language?`@${e.language}`:""}`}case"Quad":return`<<${Fo(t.subject)} ${Fo(t.predicate)} ${Fo(t.object)}${t.graph.termType==="DefaultGraph"?"":` ${Fo(t.graph)}`}>>`;case"Variable":return`?${t.value}`;case"DefaultGraph":return t.value}}Jn.termToString=Fo;function PM(t){const e=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(t);if(!e)throw new Error(`${t} is not a literal`);return e[1].replace(/\\"/ug,'"')}Jn.getLiteralValue=PM;function DM(t){const e=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(t);if(!e)throw new Error(`${t} is not a literal`);return e[1]||(e[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Jn.getLiteralType=DM;function NM(t){const e=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(t);if(!e)throw new Error(`${t} is not a literal`);return e[1]?e[1].toLowerCase():""}Jn.getLiteralLanguage=NM;function Lo(t,e){if(e=e||IM,!t||t.length===0)return e.defaultGraph();switch(t[0]){case"_":return e.blankNode(t.slice(2));case"?":if(!e.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return e.variable(t.slice(1));case'"':{const r=NM(t),n=e.namedNode(DM(t));return e.literal(PM(t),r||n)}case"<":default:if(t.startsWith("<<")&&t.endsWith(">>")){const r=t.slice(2,-2),n=[];let a=0,s=0;for(let o=0;o<r.length;o++){const u=r[o];if(u==="<"&&a++,u===">"){if(a===0)throw new Error(`Found closing tag without opening tag in ${t}`);a--}u===" "&&a===0&&(n.push(r.slice(s,o)),s=o+1)}if(a!==0)throw new Error(`Found opening tag without closing tag in ${t}`);if(n.push(r.slice(s,r.length)),n.length!==3&&n.length!==4)throw new Error(`Nested quad syntax error ${t}`);return e.quad(Lo(n[0]),Lo(n[1]),Lo(n[2]),n[3]?Lo(n[3]):void 0)}if(!t.startsWith("<")||!t.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${t}`);return e.namedNode(t.slice(1,-1))}}Jn.stringToTerm=Lo;function Xte(t){return{subject:Fo(t.subject),predicate:Fo(t.predicate),object:Fo(t.object),graph:Fo(t.graph)}}Jn.quadToStringQuad=Xte;function Kte(t,e){return e=e||IM,e.quad(Lo(t.subject,e),Lo(t.predicate,e),Lo(t.object,e),Lo(t.graph,e))}Jn.stringQuadToQuad=Kte;function Jte(t){return t.replace(mO,jM)}function Yte(t){return mO.test(t)&&(t=t.replace(mO,jM)),t}const mO=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zte=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function jM(t){const e=Zte.get(t);if(!e){if(t.length===1){const n=t.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-n.length)}${n}`}const r=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-r.length)}${r}`}return e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=Jn;Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})})(x0);Object.defineProperty(um,"__esModule",{value:!0});um.ActorQueryResultSerializeSparqlTsv=void 0;const ere=ds,tre=x0,rre=Jt;class Rx extends ere.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToTsvBindings(e){return e?(0,tre.termToString)(e).replace(/\t/gu,"\\t").replace(/\n/gu,"\\n").replace(/\r/gu,"\\r"):""}async testHandleChecked(e,r){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r,n){const a=e,s=new rre.Readable;s._read=()=>{};const o=await a.metadata();return s.push(`${o.variables.map(u=>u.value).join("	")}
`),a.bindingsStream.on("error",u=>{s.emit("error",u)}),a.bindingsStream.on("data",u=>{s.push(`${o.variables.map(c=>Rx.bindingToTsvBindings(u.get(c))).join("	")}
`)}),a.bindingsStream.on("end",()=>{s.push(null)}),{data:s}}}um.ActorQueryResultSerializeSparqlTsv=Rx;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(um,t)})(RM);var CM={},cm={},lm={};Object.defineProperty(lm,"__esModule",{value:!0});lm.XmlSerializer=void 0;class nre{constructor(e){this.stack=[],this.push=e,this.push(`<?xml version="1.0" encoding="UTF-8"?>
`)}open(e,r){this.push(`${this.identation()+this.formatTag(e,r,"open")}
`),this.stack.push(e)}close(){const e=this.stack.pop();if(e===void 0)throw new Error("There is no tag left to close");this.push(`${this.identation()+this.formatTag(e,{},"close")}
`)}add(e){this.push(this.serializeNode(e))}serializeNode(e){if(e.children===void 0)return`${this.identation()+this.formatTag(e.name,e.attributes,"self-closing")}
`;if(typeof e.children=="string")return`${this.identation()+this.formatTag(e.name,e.attributes,"open")+this.escape(e.children)+this.formatTag(e.name,{},"close")}
`;const r=[];r.push(`${this.identation()+this.formatTag(e.name,e.attributes,"open")}
`),this.stack.push(e.name);for(const n of e.children)r.push(this.serializeNode(n));return this.stack.pop(),r.push(`${this.identation()+this.formatTag(e.name,{},"close")}
`),r.join("")}identation(){return this.stack.map(e=>"  ").join("")}formatTag(e,r,n){return`<${n==="close"?"/":""}${e}${Object.entries(r||{}).map(a=>` ${a[0]}="${this.escape(a[1])}"`)}${n==="self-closing"?"/":""}>`}escape(e){return e.replace(/["&'<>]/gu,r=>{switch(r){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}}lm.XmlSerializer=nre;Object.defineProperty(cm,"__esModule",{value:!0});cm.ActorQueryResultSerializeSparqlXml=void 0;const ire=ds,are=Jt,sre=lm;class Ix extends ire.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToXmlBindings(e,r){return{name:"binding",attributes:{name:r.value},children:[this.valueToXmlValue(e)]}}static valueToXmlValue(e){let r;switch(e.termType){case"Literal":return e.language?r={"xml:lang":e.language}:e.datatype&&e.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?r={datatype:e.datatype.value}:r={},{name:"literal",attributes:r,children:e.value};case"BlankNode":return{name:"bnode",children:e.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(e.subject)]},{name:"predicate",children:[this.valueToXmlValue(e.predicate)]},{name:"object",children:[this.valueToXmlValue(e.object)]}]};default:return{name:"uri",children:e.value}}}async testHandleChecked(e,r){if(!["bindings","boolean"].includes(e.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(e,r,n){const a=new are.Readable;a._read=()=>{};const s=new sre.XmlSerializer(u=>a.push(u));s.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"});const o=await e.metadata();if(s.add({name:"head",children:o.variables.map(u=>({name:"variable",attributes:{name:u.value}}))}),e.type==="bindings"){s.open("results");const u=e.bindingsStream;u.on("error",c=>{a.emit("error",c)}),u.on("data",c=>{s.add({name:"result",children:[...c].map(([l,d])=>Ix.bindingToXmlBindings(d,l))})}),u.on("end",()=>{s.close(),s.close(),setTimeout(()=>a.push(null))})}else try{const u=await e.execute();s.add({name:"boolean",children:u.toString()}),s.close(),setTimeout(()=>a.push(null))}catch(u){setTimeout(()=>a.emit("error",u))}return{data:a}}}cm.ActorQueryResultSerializeSparqlXml=Ix;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(cm,t)})(CM);var MM={},dm={};Object.defineProperty(dm,"__esModule",{value:!0});dm.ActorQueryResultSerializeTable=void 0;const ore=ds,ure=ft,cre=nr,FM=on,lre=Jt,dre=new ure.DataFactory,fre=FM.QUAD_TERM_NAMES.map(t=>dre.variable(t));class $b extends ore.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e),this.padding=$b.repeat(" ",this.columnWidth)}static repeat(e,r){return e.repeat(r)}async testHandleChecked(e,r){if(!["bindings","quads"].includes(e.type))throw new Error("This actor can only handle bindings or quad streams.");return!0}termToString(e){return e.termType==="Quad"?(0,cre.termToString)(e):e.value}pad(e){return e.length<=this.columnWidth?e+this.padding.slice(e.length):`${e.slice(0,this.columnWidth-1)}`}pushHeader(e,r){const n=r.map(a=>this.pad(a.value)).join(" ");e.push(`${n}
${$b.repeat("-",n.length)}
`)}pushRow(e,r,n){e.push(`${r.map(a=>n.has(a)?this.termToString(n.get(a)):"").map(a=>this.pad(a)).join(" ")}
`)}async runHandle(e,r,n){const a=new lre.Readable;a._read=()=>{};let s;if(e.type==="bindings"){s=e.bindingsStream;const o=(await e.metadata()).variables;this.pushHeader(a,o),s.on("error",u=>a.emit("error",u)),s.on("data",u=>this.pushRow(a,o,u))}else s=e.quadStream,this.pushHeader(a,fre),s.on("error",o=>a.emit("error",o)),s.on("data",o=>a.push(`${(0,FM.getTerms)(o).map(u=>this.pad(this.termToString(u))).join(" ")}
`));return s.on("end",()=>a.push(null)),{data:a}}}dm.ActorQueryResultSerializeTable=$b;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dm,t)})(MM);var LM={},Ip={},BM={},fm={},$M={},vO={},hm={},Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Translator=void 0;class hre{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(e){throw new Error(`Invalid RDF ${e.datatype.value} value: '${e.value}'`)}registerHandler(e,r,n){for(const a of r)this.supportedRdfDatatypes.push(a),this.fromRdfHandlers[a.value]=e;for(const a of n){let s=this.toRdfHandlers[a];s||(this.toRdfHandlers[a]=s=[]),s.push(e)}}fromRdf(e,r){const n=this.fromRdfHandlers[e.datatype.value];return n?n.fromRdf(e,r):e.value}toRdf(e,r){const n=this.toRdfHandlers[typeof e];if(n)for(const a of n){const s=a.toRdf(e,r);if(s)return s}throw new Error(`Invalid JavaScript value: '${e}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}Wo.Translator=hre;Object.defineProperty(hm,"__esModule",{value:!0});hm.TypeHandlerBoolean=void 0;const pre=Wo;class pm{fromRdf(e,r){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return r&&pre.Translator.incorrectRdfDataType(e),!1}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(e?"true":"false",r||n.namedNode(pm.TYPE))}}hm.TypeHandlerBoolean=pm;pm.TYPE="http://www.w3.org/2001/XMLSchema#boolean";var ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.TypeHandlerDate=void 0;const yre=Wo;class Zd{fromRdf(e,r){switch(r&&!e.value.match(Zd.VALIDATORS[e.datatype.value.substr(33,e.datatype.value.length)])&&yre.Translator.incorrectRdfDataType(e),e.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(e.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const n=e.value.split("-");return new Date(0,parseInt(n[0],10)-1,parseInt(n[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(e.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(e.value+"-01");default:return new Date(e.value)}}toRdf(e,{datatype:r,dataFactory:n}){if(r=r||n.namedNode(Zd.TYPES[0]),!(e instanceof Date))return null;const a=e;let s;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":s=String(a.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":s=a.getUTCMonth()+1+"-"+a.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":s=String(a.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":s=a.getUTCFullYear()+"-"+(a.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":s=a.toISOString().replace(/T.*$/,"");break;default:s=a.toISOString()}return n.literal(s,r)}}ym.TypeHandlerDate=Zd;Zd.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"];Zd.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/};var bm={};Object.defineProperty(bm,"__esModule",{value:!0});bm.TypeHandlerNumberDouble=void 0;const bre=Wo;class _m{fromRdf(e,r){const n=parseFloat(e.value);return r&&isNaN(n)&&bre.Translator.incorrectRdfDataType(e),n}toRdf(e,{datatype:r,dataFactory:n}){return r=r||n.namedNode(_m.TYPES[0]),isNaN(e)?n.literal("NaN",r):isFinite(e)?e%1===0?null:n.literal(e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):n.literal(e>0?"INF":"-INF",r)}}bm.TypeHandlerNumberDouble=_m;_m.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"];var gm={};Object.defineProperty(gm,"__esModule",{value:!0});gm.TypeHandlerNumberInteger=void 0;const _re=Wo;class Bo{fromRdf(e,r){const n=parseInt(e.value,10);return r&&(isNaN(n)||e.value.indexOf(".")>=0)&&_re.Translator.incorrectRdfDataType(e),n}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(String(e),r||(e<=Bo.MAX_INT&&e>=Bo.MIN_INT?n.namedNode(Bo.TYPES[0]):n.namedNode(Bo.TYPES[1])))}}gm.TypeHandlerNumberInteger=Bo;Bo.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"];Bo.MAX_INT=2147483647;Bo.MIN_INT=-2147483648;var mm={};Object.defineProperty(mm,"__esModule",{value:!0});mm.TypeHandlerString=void 0;class UM{fromRdf(e){return e.value}toRdf(e,{datatype:r,dataFactory:n}){return n.literal(e,r)}}mm.TypeHandlerString=UM;UM.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"];(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hm,t),r(ym,t),r(bm,t),r(gm,t),r(mm,t)})(vO);var qM={};Object.defineProperty(qM,"__esModule",{value:!0});(function(t){var e=g&&g.__createBinding||(Object.create?function(p,y,_,E){E===void 0&&(E=_),Object.defineProperty(p,E,{enumerable:!0,get:function(){return y[_]}})}:function(p,y,_,E){E===void 0&&(E=_),p[E]=y[_]}),r=g&&g.__exportStar||function(p,y){for(var _ in p)_!=="default"&&!Object.prototype.hasOwnProperty.call(y,_)&&e(y,p,_)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedJavaScriptPrimitives=t.getSupportedRdfDatatypes=t.getTermRaw=t.toRdf=t.fromRdf=void 0;const n=ft,a=vO,s=Wo;r(vO,t),r(qM,t),r(Wo,t);const o=new n.DataFactory,u=new s.Translator;u.registerHandler(new a.TypeHandlerString,a.TypeHandlerString.TYPES.map(p=>o.namedNode(p)),["string"]),u.registerHandler(new a.TypeHandlerBoolean,[a.TypeHandlerBoolean.TYPE].map(p=>o.namedNode(p)),["boolean"]),u.registerHandler(new a.TypeHandlerNumberDouble,a.TypeHandlerNumberDouble.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerNumberInteger,a.TypeHandlerNumberInteger.TYPES.map(p=>o.namedNode(p)),["number"]),u.registerHandler(new a.TypeHandlerDate,a.TypeHandlerDate.TYPES.map(p=>o.namedNode(p)),["object"]);function c(p,y){return u.fromRdf(p,y)}t.fromRdf=c;function l(p,y){return y&&"namedNode"in y&&(y={dataFactory:y}),y=y||{},y&&!y.dataFactory&&(y.dataFactory=o),u.toRdf(p,y)}t.toRdf=l;function d(p,y){return p.termType==="Literal"?c(p,y):p.value}t.getTermRaw=d;function f(){return u.getSupportedRdfDatatypes()}t.getSupportedRdfDatatypes=f;function h(){return u.getSupportedJavaScriptPrimitives()}t.getSupportedJavaScriptPrimitives=h})($M);var Px={},vm={},{Buffer:ju}=ha,Nt={},VM=Nt.LEFT_BRACE=1,ob=Nt.RIGHT_BRACE=2,HM=Nt.LEFT_BRACKET=3,wO=Nt.RIGHT_BRACKET=4,ub=Nt.COLON=5,Ub=Nt.COMMA=6,kM=Nt.TRUE=7,QM=Nt.FALSE=8,GM=Nt.NULL=9,qb=Nt.STRING=10,zM=Nt.NUMBER=11,Cc=Nt.START=17,WM=Nt.STOP=18,VD=Nt.TRUE1=33,HD=Nt.TRUE2=34,kD=Nt.TRUE3=35,QD=Nt.FALSE1=49,GD=Nt.FALSE2=50,zD=Nt.FALSE3=51,WD=Nt.FALSE4=52,XD=Nt.NULL1=65,KD=Nt.NULL2=66,JD=Nt.NULL3=67,YD=Nt.NUMBER1=81,aT=Nt.NUMBER3=83,Ua=Nt.STRING1=97,ZD=Nt.STRING2=98,eN=Nt.STRING3=99,gre=Nt.STRING4=100,mre=Nt.STRING5=101,tN=Nt.STRING6=102,_d=Nt.VALUE=113,sT=Nt.KEY=114,Yy=Nt.OBJECT=129,Zy=Nt.ARRAY=130,vre="\\".charCodeAt(0),wre="/".charCodeAt(0),Sre="\b".charCodeAt(0),Tre="\f".charCodeAt(0),Ere=`
`.charCodeAt(0),Ore="\r".charCodeAt(0),Are="	".charCodeAt(0),Dx=64*1024;function e1(t){return ju.alloc?ju.alloc(t):new ju(t)}function Ju(){this.tState=Cc,this.value=void 0,this.string=void 0,this.stringBuffer=e1(Dx),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=_d,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:e1(2),3:e1(3),4:e1(4)},this.offset=-1}Ju.toknam=function(t){for(var e=Object.keys(Nt),r=0,n=e.length;r<n;r++){var a=e[r];if(Nt[a]===t)return a}return t&&"0x"+t.toString(16)};var pa=Ju.prototype;pa.onError=function(t){throw t};pa.charError=function(t,e){this.tState=WM,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+Ju.toknam(this.tState)))};pa.appendStringChar=function(t){this.stringBufferOffset>=Dx&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t};pa.appendStringBuf=function(t,e,r){var n=t.length;typeof e=="number"&&(typeof r=="number"?r<0?n=t.length-e+r:n=r-e:n=t.length-e),n<0&&(n=0),this.stringBufferOffset+n>Dx&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=n};pa.write=function(t){typeof t=="string"&&(t=new ju(t));for(var e,r=0,n=t.length;r<n;r++)if(this.tState===Cc){if(e=t[r],this.offset++,e===123)this.onToken(VM,"{");else if(e===125)this.onToken(ob,"}");else if(e===91)this.onToken(HM,"[");else if(e===93)this.onToken(wO,"]");else if(e===58)this.onToken(ub,":");else if(e===44)this.onToken(Ub,",");else if(e===116)this.tState=VD;else if(e===102)this.tState=QD;else if(e===110)this.tState=XD;else if(e===34)this.string="",this.stringBufferOffset=0,this.tState=Ua;else if(e===45)this.string="-",this.tState=YD;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=aT;else if(!(e===32||e===9||e===10||e===13))return this.charError(t,r)}else if(this.tState===Ua)if(e=t[r],this.bytes_remaining>0){for(var a=0;a<this.bytes_remaining;a++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+a]=t[a];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+a-1}else if(this.bytes_remaining===0&&e>=128){if(e<=193||e>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+Ju.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var s=0;s<=t.length-1-r;s++)this.temp_buffs[this.bytes_in_sequence][s]=t[r+s];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.appendStringBuf(t,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(e===34)this.tState=Cc,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(qb,this.string),this.offset+=ju.byteLength(this.string,"utf8")+1,this.string=void 0;else if(e===92)this.tState=ZD;else if(e>=32)this.appendStringChar(e);else return this.charError(t,r);else if(this.tState===ZD)if(e=t[r],e===34)this.appendStringChar(e),this.tState=Ua;else if(e===92)this.appendStringChar(vre),this.tState=Ua;else if(e===47)this.appendStringChar(wre),this.tState=Ua;else if(e===98)this.appendStringChar(Sre),this.tState=Ua;else if(e===102)this.appendStringChar(Tre),this.tState=Ua;else if(e===110)this.appendStringChar(Ere),this.tState=Ua;else if(e===114)this.appendStringChar(Ore),this.tState=Ua;else if(e===116)this.appendStringChar(Are),this.tState=Ua;else if(e===117)this.unicode="",this.tState=eN;else return this.charError(t,r);else if(this.tState===eN||this.tState===gre||this.tState===mre||this.tState===tN)if(e=t[r],e>=48&&e<64||e>64&&e<=70||e>96&&e<=102){if(this.unicode+=String.fromCharCode(e),this.tState++===tN){var o=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&o>=56320&&o<57343+1?(this.appendStringBuf(new ju(String.fromCharCode(this.highSurrogate,o))),this.highSurrogate=void 0):this.highSurrogate===void 0&&o>=55296&&o<56319+1?this.highSurrogate=o:(this.highSurrogate!==void 0&&(this.appendStringBuf(new ju(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new ju(String.fromCharCode(o)))),this.tState=Ua}}else return this.charError(t,r);else if(this.tState===YD||this.tState===aT)switch(e=t[r],e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=aT;break;default:this.tState=Cc;var u=this.numberReviver(this.string);if(u)return u;this.offset+=this.string.length-1,this.string=void 0,r--;break}else if(this.tState===VD)if(t[r]===114)this.tState=HD;else return this.charError(t,r);else if(this.tState===HD)if(t[r]===117)this.tState=kD;else return this.charError(t,r);else if(this.tState===kD)if(t[r]===101)this.tState=Cc,this.onToken(kM,!0),this.offset+=3;else return this.charError(t,r);else if(this.tState===QD)if(t[r]===97)this.tState=GD;else return this.charError(t,r);else if(this.tState===GD)if(t[r]===108)this.tState=zD;else return this.charError(t,r);else if(this.tState===zD)if(t[r]===115)this.tState=WD;else return this.charError(t,r);else if(this.tState===WD)if(t[r]===101)this.tState=Cc,this.onToken(QM,!1),this.offset+=4;else return this.charError(t,r);else if(this.tState===XD)if(t[r]===117)this.tState=KD;else return this.charError(t,r);else if(this.tState===KD)if(t[r]===108)this.tState=JD;else return this.charError(t,r);else if(this.tState===JD)if(t[r]===108)this.tState=Cc,this.onToken(GM,null),this.offset+=3;else return this.charError(t,r)};pa.onToken=function(t,e){};pa.parseError=function(t,e){this.tState=WM,this.onError(new Error("Unexpected "+Ju.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+Ju.toknam(this.state)))};pa.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})};pa.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=_d)};pa.emit=function(t){this.mode&&(this.state=Ub),this.onValue(t)};pa.onValue=function(t){};pa.onToken=function(t,e){if(this.state===_d)if(t===qb||t===zM||t===kM||t===QM||t===GM)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===VM)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=sT,this.mode=Yy;else if(t===HM)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=Zy,this.state=_d;else if(t===ob)if(this.mode===Yy)this.pop();else return this.parseError(t,e);else if(t===wO)if(this.mode===Zy)this.pop();else return this.parseError(t,e);else return this.parseError(t,e);else if(this.state===sT)if(t===qb)this.key=e,this.state=ub;else if(t===ob)this.pop();else return this.parseError(t,e);else if(this.state===ub)if(t===ub)this.state=_d;else return this.parseError(t,e);else if(this.state===Ub)if(t===Ub)this.mode===Zy?(this.key++,this.state=_d):this.mode===Yy&&(this.state=sT);else if(t===wO&&this.mode===Zy||t===ob&&this.mode===Yy)this.pop();else return this.parseError(t,e);else return this.parseError(t,e)};pa.numberReviver=function(t){var e=Number(t);if(isNaN(e))return this.charError(buffer,i);t.match(/[0-9]+/)==t&&e.toString()!=t?this.onToken(qb,t):this.onToken(zM,e)};Ju.C=Nt;var XM=Ju;Object.defineProperty(vm,"__esModule",{value:!0});vm.SparqlJsonParser=void 0;const xre=ft,Rre=Jt,rN=XM;class Ire{constructor(e){var r;e=e||{},this.dataFactory=e.dataFactory||new xre.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(r=e.suppressMissingStreamResultsError)!==null&&r!==void 0?r:!0}parseJsonResults(e){return e.results.bindings.map(r=>this.parseJsonBindings(r))}parseJsonResultsStream(e){const r=u=>o.emit("error",u);e.on("error",r);const n=new rN;n.onError=r;let a=!1,s=!1;n.onValue=u=>{if(n.key==="vars"&&n.stack.length===2&&n.stack[1].key==="head")o.emit("variables",u.map(c=>this.dataFactory.variable(c))),a=!0;else if(n.key==="results"&&n.stack.length===1)s=!0;else if(typeof n.key=="number"&&n.stack.length===3&&n.stack[1].key==="results"&&n.stack[2].key==="bindings")try{o.push(this.parseJsonBindings(u))}catch(c){o.emit("error",c)}else n.key==="metadata"&&n.stack.length===1&&o.emit("metadata",u)};const o=e.on("end",u=>{!s&&!this.suppressMissingStreamResultsError?o.emit("error",new Error("No valid SPARQL query results were found.")):a||o.emit("variables",[])}).pipe(new Rre.Transform({objectMode:!0,transform(u,c,l){n.write(u),l()}}));return o}parseJsonBindings(e){const r={};for(const n in e){const a=e[n];r[this.prefixVariableQuestionMark?"?"+n:n]=this.parseJsonValue(a)}return r}parseJsonValue(e){let r;switch(e.type){case"bnode":r=this.dataFactory.blankNode(e.value);break;case"literal":e["xml:lang"]?r=this.dataFactory.literal(e.value,e["xml:lang"]):e.datatype?r=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype)):r=this.dataFactory.literal(e.value);break;case"typed-literal":r=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype));break;case"triple":const n=e.value;if(!n||!n.subject||!n.predicate||!n.object)throw new Error("Invalid quoted triple: "+JSON.stringify(e));r=this.dataFactory.quad(this.parseJsonValue(n.subject),this.parseJsonValue(n.predicate),this.parseJsonValue(n.object));break;default:r=this.dataFactory.namedNode(e.value);break}return r}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((r,n)=>{const a=new rN;a.onError=n,a.onValue=s=>{a.key==="boolean"&&typeof s=="boolean"&&a.stack.length===1&&r(s)},e.on("error",n).on("data",s=>a.write(s)).on("end",()=>n(new Error("No valid ASK response was found.")))})}}vm.SparqlJsonParser=Ire;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vm,t)})(Px);Object.defineProperty(fm,"__esModule",{value:!0});fm.Converter=void 0;const Pre=$M,Dre=Px;class As{constructor(e){e=e||{delimiter:"_"},e.prefixVariableQuestionMark=!1,this.delimiter=e.delimiter||"_",this.parser=new Dre.SparqlJsonParser(e),this.materializeRdfJsTerms=e.materializeRdfJsTerms}static addValueToTree(e,r,n,a,s,o){const u=r[0],c=a?a+o+u:u,l=s.singularizeVariables[c];if(r.length===1)l?e[u]||(e[u]=n):(e[u]||(e[u]=[]),e[u].push(n));else{let d;l?(e[u]||(e[u]={}),d=e[u]):(e[u]||(e[u]=[{}]),d=e[u][0]),As.addValueToTree(d,r.slice(1),n,c,s,o)}}static mergeTrees(e,r){if(typeof e!=typeof r)throw new Error(`Two incompatible tree nodes were found: ${typeof e} and ${typeof r}`);if(Array.isArray(e)!==Array.isArray(r))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(e)} and Array?${Array.isArray(r)}`);if(typeof e=="object"&&typeof r=="object"){if(e.termType&&r.termType)return e.equals(r)?{valid:!0,result:e}:{valid:!1,result:e};if(Array.isArray(e)&&Array.isArray(r)){if(e.length>0){const n=[];let a=!1;for(const s of e){const o=As.mergeTrees(s,r[0]);o.valid?(a=!0,n.push(o.result)):n.push(s)}if(a)return{valid:!0,result:n}}return{valid:!0,result:e.concat(r)}}else{const n={};for(const a in r)n[a]=r[a];for(const a in e)if(n[a]){const s=As.mergeTrees(e[a],n[a]);if(s.valid)n[a]=s.result;else return{valid:!1,result:e}}else n[a]=e[a];return{valid:!0,result:n}}}else throw new Error(`Unmergable tree types: ${typeof e} and ${typeof r}`)}static materializeTree(e){if(e.termType)return(0,Pre.getTermRaw)(e);if(Array.isArray(e))return e.map(As.materializeTree);{const r={};for(const n in e)r[n]=As.materializeTree(e[n]);return r}}sparqlJsonResultsToTree(e,r){return this.bindingsToTree(this.parser.parseJsonResults(e),r||{singularizeVariables:{}})}bindingsToTree(e,r){const n=r&&r.singularizeVariables[""];let a=n?{}:[];for(const s of e){const o=n?{}:[{}];for(const u in s){const c=u.split(this.delimiter),l=s[u];As.addValueToTree(n?o:o[0],c,l,"",r,this.delimiter)}a=As.mergeTrees(a,o).result}return this.materializeRdfJsTerms&&(a=As.materializeTree(a)),a}}fm.Converter=As;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fm,t)})(BM);Object.defineProperty(Ip,"__esModule",{value:!0});Ip.ActorQueryResultSerializeTree=void 0;const Nre=ds,jre=qt,Cre=Je,Mre=Jt,Fre=BM;class Nx extends Nre.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingsStreamToGraphQl(e,r,n){const a=Cre.ActionContext.ensureActionContext(r);return new Promise((s,o)=>{const u=[],c=new Fre.Converter(n),l={singularizeVariables:a.get(jre.KeysInitQuery.graphqlSingularizeVariables)||{}};e.on("error",o),e.on("data",d=>{u.push(Object.fromEntries([...d].map(([f,h])=>[f.value,h])))}),e.on("end",()=>{s(c.bindingsToTree(u,l))})})}async testHandleChecked(e){if(e.type!=="bindings")throw new Error("This actor can only handle bindings streams.");return!0}async runHandle(e,r){const n=new Mre.Readable;n._read=()=>{};const a=e.bindingsStream;return a.on("error",s=>n.emit("error",s)),Nx.bindingsStreamToGraphQl(a,e.context,{materializeRdfJsTerms:!0}).then(s=>{n.push(JSON.stringify(s,null,"  ")),n.push(null)}).catch(s=>n.emit("error",s)),{data:n}}}Ip.ActorQueryResultSerializeTree=Nx;(function(t){var e=g&&g.__createBinding||(Object.create?function(s,o,u,c){c===void 0&&(c=u);var l=Object.getOwnPropertyDescriptor(o,u);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,c,l)}:function(s,o,u,c){c===void 0&&(c=u),s[c]=o[u]}),r=g&&g.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,s,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindingsStreamToGraphQl=void 0;const n=Ip,{bindingsStreamToGraphQl:a}=n.ActorQueryResultSerializeTree;t.bindingsStreamToGraphQl=a,r(Ip,t)})(LM);var KM={},wm={},JM={},Sm={};Object.defineProperty(Sm,"__esModule",{value:!0});Sm.ActorContextPreprocess=void 0;const Lre=Je;class Bre extends Lre.Actor{constructor(e){super(e)}}Sm.ActorContextPreprocess=Bre;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Sm,t)})(JM);Object.defineProperty(wm,"__esModule",{value:!0});wm.ActorContextPreprocessSourceToDestination=void 0;const $re=JM,t1=qt;class Ure extends $re.ActorContextPreprocess{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.context.get(t1.KeysRdfResolveQuadPattern.sources)&&!e.context.get(t1.KeysRdfUpdateQuads.destination)){const r=e.context.get(t1.KeysRdfResolveQuadPattern.sources);if(r.length===1)return{context:e.context.set(t1.KeysRdfUpdateQuads.destination,r[0])}}return e}}wm.ActorContextPreprocessSourceToDestination=Ure;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wm,t)})(KM);var YM={},Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});Tm.MediatorAll=void 0;const qre=Je;class Vre extends qre.Mediator{constructor(e){super(e)}async mediate(e){const r=[];let n;try{n=this.publish(e)}catch{n=[]}for(const s of n)try{await s.reply,r.push(s.actor)}catch{}return(await Promise.all(r.map(s=>s.runObservable(e))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}Tm.MediatorAll=Vre;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Tm,t)})(YM);var R0={},I0={};Object.defineProperty(I0,"__esModule",{value:!0});I0.ActorHttpInvalidate=void 0;const Hre=Je;class kre extends Hre.Actor{constructor(e){super(e)}}I0.ActorHttpInvalidate=kre;var Em={};Object.defineProperty(Em,"__esModule",{value:!0});Em.ActorHttpInvalidateListenable=void 0;const Qre=I0;class Gre extends Qre.ActorHttpInvalidate{constructor(e){super(e),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(e){this.invalidateListeners.push(e)}async test(e){return!0}async run(e){for(const r of this.invalidateListeners)r(e);return{}}}Em.ActorHttpInvalidateListenable=Gre;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(I0,t),r(Em,t)})(R0);var ZM={},Om={},eF={},Am={};Object.defineProperty(Am,"__esModule",{value:!0});Am.ActorHashBindings=void 0;const zre=Je;class Wre extends zre.Actor{constructor(e){super(e)}}Am.ActorHashBindings=Wre;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Am,t)})(eF);var Xre=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((a,s,o)=>`${a}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,a)=>{if(e[a]===void 0||typeof e[a]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${t(a)}:${t(e[a])}`},"")}}`};Object.defineProperty(Om,"__esModule",{value:!0});Om.ActorHashBindingsSha1=void 0;const Kre=eF,Jre=H_,nN=nr,Yre=Xre;class Zre extends Kre.ActorHashBindings{async test(e){if(!e.allowHashCollisions)throw new Error(`Actor ${this.name} can not provide hash functions without hash collisions`);return!0}async run(e){return{hashFunction:r=>(0,Jre.sha1)().update(Yre(Object.fromEntries([...r].map(([n,a])=>[(0,nN.termToString)(n),(0,nN.termToString)(a)])))).digest("hex"),hashCollisions:!0}}}Om.ActorHashBindingsSha1=Zre;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Om,t)})(ZM);var tF={},xm={},Rm={},Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.ActorRdfSerialize=void 0;const ene=wl;class tne extends ene.ActorAbstractMediaTyped{constructor(e){super(e)}}Im.ActorRdfSerialize=tne;var Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});Pm.ActorRdfSerializeFixedMediaTypes=void 0;const rne=wl;class nne extends rne.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}Pm.ActorRdfSerializeFixedMediaTypes=nne;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Im,t),r(Pm,t)})(Rm);const Zf="http://www.w3.org/1999/02/22-rdf-syntax-ns#",eh="http://www.w3.org/2001/XMLSchema#",oT="http://www.w3.org/2000/10/swap/",Xn={xsd:{decimal:`${eh}decimal`,boolean:`${eh}boolean`,double:`${eh}double`,integer:`${eh}integer`,string:`${eh}string`},rdf:{type:`${Zf}type`,nil:`${Zf}nil`,first:`${Zf}first`,rest:`${Zf}rest`,langString:`${Zf}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${oT}reify#forSome`,forAll:`${oT}reify#forAll`},log:{implies:`${oT}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let iN;var ine=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:g):t=>(iN||(iN=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0));const ane=EH(ine),{xsd:r1}=Xn,sne=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,aN={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},one=/[\x00-\x20<>\\"\{\}\|\^\`]/,une={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},cne=/$0^/;class jx{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const r in this)!(r in une)&&this[r]instanceof RegExp&&(this[r]=cne)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,r){let n=this._input,a=n.length;for(;;){let u,c;for(;u=this._newline.exec(n);)this._comments&&(c=this._comment.exec(u[0]))&&s("comment",c[1],"",this._line,u[0].length),n=n.substr(u[0].length,n.length),a=n.length,this._line++;if(!u&&(u=this._whitespace.exec(n))&&(n=n.substr(u[0].length,n.length)),this._endOfFile.test(n))return r&&(this._comments&&(c=this._comment.exec(n))&&s("comment",c[1],"",this._line,n.length),n=null,s("eof","","",this._line,0)),this._input=n;const l=this._line,d=n[0];let f="",h="",p="",y=null,_=0,E=!1;switch(d){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){E=!0;break}}else{this._n3Mode&&(_=1,f="^");break}case"<":if(y=this._unescapedIri.exec(n))f="IRI",h=y[1];else if(y=this._iri.exec(n)){if(h=this._unescape(y[1]),h===null||one.test(h))return o(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",_=2):this._n3Mode&&n.length>1&&n[1]==="="&&(f="inverse",_=2,h=">");break;case">":n.length>1&&n[1]===">"&&(f=">>",_=2);break;case"_":((y=this._blank.exec(n))||r&&(y=this._blank.exec(`${n} `)))&&(f="blank",p="_",h=y[1]);break;case'"':if(y=this._simpleQuotedString.exec(n))h=y[1];else if({value:h,matchLength:_}=this._parseLiteral(n),h===null)return o(this);(y!==null||_!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(y=this._simpleApostropheString.exec(n))h=y[1];else if({value:h,matchLength:_}=this._parseLiteral(n),h===null)return o(this);(y!==null||_!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(y=this._variable.exec(n))&&(f="var",h=y[0]);break;case"@":this._previousMarker==="literal"&&(y=this._langcode.exec(n))?(f="langcode",h=y[1]):(y=this._keyword.exec(n))&&(f=y[0]);break;case".":if(n.length===1?r:n[1]<"0"||n[1]>"9"){f=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(y=this._number.exec(n)||r&&(y=this._number.exec(`${n} `)))&&(f="literal",h=y[0],p=typeof y[1]=="string"?r1.double:typeof y[2]=="string"?r1.decimal:r1.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(y=this._sparqlKeyword.exec(n))?f=y[0].toUpperCase():E=!0;break;case"f":case"t":(y=this._boolean.exec(n))?(f="literal",h=y[0],p=r1.boolean):E=!0;break;case"a":(y=this._shortPredicates.exec(n))?(f="abbreviation",h="a"):E=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(_=1,h="="):(_=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,f=d);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(f="{|",_=2):(f=d,_=1));break;case"|":n.length>=2&&n[1]==="}"&&(f="|}",_=2);break;default:E=!0}if(E&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(y=this._prefix.exec(n))?(f="prefix",h=y[1]||""):((y=this._prefixed.exec(n))||r&&(y=this._prefixed.exec(`${n} `)))&&(f="prefixed",p=y[1]||"",h=this._unescape(y[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return r||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?o(this):this._input=n;const w=_||y[0].length,O=s(f,h,p,l,w);this.previousToken=O,this._previousMarker=f,n=n.substr(w,n.length)}function s(u,c,l,d,f){const h=n?a-n.length:a,p=h+f,y={type:u,value:c,prefix:l,line:d,start:h,end:p};return e(null,y),y}function o(u){e(u._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(e){let r=!1;const n=e.replace(sne,(a,s,o,u)=>{if(typeof s=="string")return String.fromCharCode(Number.parseInt(s,16));if(typeof o=="string"){let c=Number.parseInt(o,16);return c<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(c&1023))}return u in aN?aN[u]:(r=!0,"")});return r?null:n}_parseLiteral(e){if(e.length>=3){const r=e.match(/^(?:"""|"|'''|'|)/)[0],n=r.length;let a=Math.max(this._literalClosingPos,n);for(;(a=e.indexOf(r,a))>0;){let s=0;for(;e[a-s-1]==="\\";)s++;if(s%2===0){const o=e.substring(n,a),u=o.split(/\r\n|\r|\n/).length-1,c=a+n;if(n===1&&u!==0||n===3&&this._lineMode)break;return this._line+=u,{value:this._unescape(o),matchLength:c}}a++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const r=new Error(`Unexpected "${e}" on line ${this._line}.`);return r.context={token:void 0,line:this._line,previousToken:this.previousToken},r}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,r){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof r=="function")ane(()=>this._tokenizeToEnd(r,!0));else{const n=[];let a;if(this._tokenizeToEnd((s,o)=>s?a=s:n.push(o),!0),a)throw a;return n}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=Buffer.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(r,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(r,!0)}),e.on("error",r)}}function lne(t){return!!t&&t.termType==="NamedNode"}function dne(t){return!!t&&t.termType==="BlankNode"}function fne(t){return!!t&&t.termType==="Literal"}function hne(t){return!!t&&t.termType==="Variable"}function ef(t){return!!t&&t.termType==="DefaultGraph"}function pne(t){return ef(t.graph)}function yne(t,e){return rF({"":t.value||t},e)("")}function rF(t,e){const r=Object.create(null);for(const a in t)n(a,t[a]);e=e||Ff;function n(a,s){if(typeof s=="string"){const o=Object.create(null);r[a]=u=>o[u]||(o[u]=e.namedNode(s+u))}else if(!(a in r))throw new Error(`Unknown prefix: ${a}`);return r[a]}return n}const nF=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:pne,isBlankNode:dne,isDefaultGraph:ef,isLiteral:fne,isNamedNode:lne,isVariable:hne,prefix:yne,prefixes:rF},Symbol.toStringTag,{value:"Module"})),{rdf:bne,xsd:Hc}=Xn;let P0,_ne=0;const SO={namedNode:gne,blankNode:mne,variable:wne,literal:vne,defaultGraph:Sne,quad:sN,triple:sN},Ff=SO;let ro=class iF{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof iF?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}};class Dm extends ro{get termType(){return"NamedNode"}}class Hu extends ro{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let r=e.lastIndexOf('"')+1;return r<e.length&&e[r++]==="@"?e.substr(r).toLowerCase():""}get datatype(){return new Dm(this.datatypeString)}get datatypeString(){const e=this.id,r=e.lastIndexOf('"')+1,n=r<e.length?e[r]:"";return n==="^"?e.substr(r+2):n!=="@"?Hc.string:bne.langString}equals(e){return e instanceof Hu?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class Cx extends ro{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}let Mx=class extends ro{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}};class Fx extends ro{constructor(){return super(""),P0||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}P0=new Fx;function Wc(t,e,r){if(e=e||SO,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===SO)return new Hu(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const n=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,n-1),t[n+1]==="@"?t.substr(n+2):e.namedNode(t.substr(n+3)));case"[":t=JSON.parse(t);break;default:if(!r||!Array.isArray(t))return e.namedNode(t)}return e.quad(Wc(t[0],e,!0),Wc(t[1],e,!0),Wc(t[2],e,!0),t[3]&&Wc(t[3],e,!0))}function gi(t,e){if(typeof t=="string")return t;if(t instanceof ro&&t.termType!=="Quad")return t.id;if(!t)return P0.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Hc.string?`^^${t.datatype.value}`:""}`;case"Quad":const r=[gi(t.subject,!0),gi(t.predicate,!0),gi(t.object,!0)];return ef(t.graph)||r.push(gi(t.graph,!0)),e?r:JSON.stringify(r);default:throw new Error(`Unexpected termType: ${t.termType}`)}}class Pp extends ro{constructor(e,r,n,a){super(""),this._subject=e,this._predicate=r,this._object=n,this._graph=a||P0}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function gne(t){return new Dm(t)}function mne(t){return new Cx(t||`n3-${_ne++}`)}function vne(t,e){if(typeof e=="string")return new Hu(`"${t}"@${e.toLowerCase()}`);let r=e?e.value:"";return r===""&&(typeof t=="boolean"?r=Hc.boolean:typeof t=="number"&&(Number.isFinite(t)?r=Number.isInteger(t)?Hc.integer:Hc.double:(r=Hc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),r===""||r===Hc.string?new Hu(`"${t}"`):new Hu(`"${t}"^^${r}`)}function wne(t){return new Mx(t)}function Sne(){return P0}function sN(t,e,r,n){return new Pp(t,e,r,n)}let oN=0;class Nm{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&aF(this,e.factory);const r=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),a=/trig/.test(r),s=/triple/.test(r),o=/quad/.test(r),u=this._n3Mode=/n3/.test(r),c=s||o;(this._supportsNamedGraphs=!(n||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||a||s||u),this._supportsRDFStar=r===""||/star|\*$/.test(r),c&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new jx({lineMode:c,n3:u}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){oN=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const r=e.indexOf("#");r>=0&&(e=e.substr(0,r)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,r,n,a,s){const o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:a,object:s,graph:r,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,r){const n=this._contextStack.pop();if(!n||n.type!==e)return this._error(`Unexpected ${r.type}`,r);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,r){let n;switch(e.type){case"IRI":case"typeIRI":const a=this._resolveIRI(e.value);if(a===null)return this._error("Invalid IRI",e);n=this._namedNode(a);break;case"type":case"prefixed":const s=this._prefixes[e.prefix];if(s===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);n=this._namedNode(s+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!r&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const r=e.type;switch(r){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${r}`,e):(this._subject=null,r==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const r=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:r?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let r=null,n=null,a=this._readListItem;const s=this._subject,o=this._contextStack,u=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=r=this._blankNode()),a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(a=this._readPredicate,this._subject===this.RDF_NIL)return a}else if(a=this._getContextEndReader(),this._object===this.RDF_NIL)return a;n=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,a=this._readListItemDataTypeOrLang):(r=this._literal(e.value,this._namedNode(e.prefix)),a=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((r=this._readEntity(e))===void 0)return}if(n===null&&(this._subject=n=this._blankNode()),s===null?u.predicate===null?u.subject=n:u.object=n:this._emit(s,this.RDF_REST,n,this._graph),r!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,r),this._subject=r,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,r,this._graph)}return a}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let r=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const n=this._readEntity(e);if(n===void 0)return;r=this._literal(this._literalValue,n),e=null;break;case"langcode":r=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:r}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,r){const n=this._completeLiteral(e);if(n)return this._object=n.literal,r&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let r,n=this._graph;const a=this._subject,s=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,r=this._contextStack.length?this._readSubject:this._readInTopContext,s&&(this._inversePredicate=!1);break;case";":r=this._readPredicate;break;case",":r=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const o=this._predicate,u=this._object;this._subject=this._quad(a,o,u,this.DEFAULTGRAPH),r=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,r=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(e))!==void 0){r=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(a!==null){const o=this._predicate,u=this._object;s?this._emit(u,o,a,n):this._emit(a,o,u,n)}return r}_readBlankNodePunctuation(e){let r;switch(e.type){case";":r=this._readPredicate;break;case",":r=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),r}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const r=this._readEntity(e);return this._prefixes[this._prefix]=r.value,this._prefixCallback(this._prefix,r),this._readDeclarationPunctuation}_readBaseIRI(e){const r=e.type==="IRI"&&this._resolveIRI(e.value);return r?(this._setBase(r),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let r;switch(e.type){case"IRI":case"prefixed":if((r=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,r,this.QUANTIFIERS_GRAPH)):this._quantified[r.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const r=this._contextStack,n=r.length&&r[r.length-1];if(n&&n.type==="item"){const a=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,a,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let r,n;const a=this._blankNode();if((n=this._readEntity(e))!==void 0)return this._predicate===null?(r=this._subject,this._subject=a):(r=this._object,this._object=a),this._emit(r,n,a,this._graph),this._readPath}_readBackwardPath(e){const r=this._blankNode();let n,a;if((n=this._readEntity(e))!==void 0)return this._predicate===null?(a=this._subject,this._subject=r):(a=this._object,this._object=r),this._emit(r,n,a,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const r=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=r,this._readPredicate):(this._object=r,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,r,n,a){this._callback(null,this._quad(e,r,n,a||this.DEFAULTGRAPH))}_error(e,r){const n=new Error(`${e} on line ${r.line}.`);n.context={token:r,line:r.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=uT}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const r=e.length;let n="",a=-1,s=-1,o=0,u="/";for(;a<r;){switch(u){case":":if(s<0&&e[++a]==="/"&&e[++a]==="/")for(;(s=a+1)<r&&e[s]!=="/";)a=s;break;case"?":case"#":a=r;break;case"/":if(e[a+1]===".")switch(u=e[++a+1],u){case"/":n+=e.substring(o,a-1),o=a+1;break;case void 0:case"?":case"#":return n+e.substring(o,a)+e.substr(a+1);case".":if(u=e[++a+1],u===void 0||u==="/"||u==="?"||u==="#"){if(n+=e.substring(o,a-2),(o=n.lastIndexOf("/"))>=s&&(n=n.substr(0,o)),u!=="/")return`${n}/${e.substr(a+1)}`;o=a+1}}}u=e[++a]}return n+e.substring(o)}parse(e,r,n){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${oN++}_`,this._prefixCallback=n||uT,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const a=[];let s;if(this._callback=(o,u)=>{o?s=o:u&&a.push(u)},this._lexer.tokenize(e).every(o=>this._readCallback=this._readCallback(o)),s)throw s;return a}this._callback=r,this._lexer.tokenize(e,(a,s)=>{a!==null?(this._callback(a),this._callback=uT):this._readCallback&&(this._readCallback=this._readCallback(s))})}}function uT(){}function aF(t,e){const r=e.namedNode;t._namedNode=r,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=r(Xn.rdf.first),t.RDF_REST=r(Xn.rdf.rest),t.RDF_NIL=r(Xn.rdf.nil),t.N3_FORALL=r(Xn.r.forAll),t.N3_FORSOME=r(Xn.r.forSome),t.ABBREVIATIONS={a:r(Xn.rdf.type),"=":r(Xn.owl.sameAs),">":r(Xn.log.implies)},t.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}aF(Nm.prototype,Ff);const th=Ff.defaultGraph(),{rdf:Tne,xsd:Xl}=Xn,uN=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,cN=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Ene={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class rh extends ro{equals(e){return e===this}}class Lx{constructor(e,r){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(r=e,e=null),r=r||{},this._lists=r.lists,e)this._outputStream=e,this._endStream=r.end===void 0?!0:!!r.end;else{let n="";this._outputStream={write(a,s,o){n+=a,o&&o()},end:a=>{a&&a(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=th,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp(`^${dN(r.baseIRI)}${r.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=r.baseIRI.length))}get _inDefaultGraph(){return th.equals(this._graph)}_write(e,r){this._outputStream.write(e,"utf8",r)}_writeQuad(e,r,n,a,s){try{a.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(th.equals(a)?"":`${this._encodeIriOrBlank(a)} {
`)),this._graph=a,this._subject=null),e.equals(this._subject)?r.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,s):this._write(`;
    ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=r)} ${this._encodeObject(n)}`,s)}catch(o){s&&s(o)}}_writeQuadLine(e,r,n,a,s){delete this._prefixMatch,this._write(this.quadToString(e,r,n,a),s)}quadToString(e,r,n,a){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(r)} ${this._encodeObject(n)}${a&&a.value?` ${this._encodeIriOrBlank(a)} .
`:` .
`}`}quadsToString(e){return e.map(r=>this.quadToString(r.subject,r.predicate,r.object,r.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let r=e.value;this._baseMatcher&&this._baseMatcher.test(r)&&(r=r.substr(this._baseLength)),uN.test(r)&&(r=r.replace(cN,lN));const n=this._prefixRegex.exec(r);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:r:`<${r}>`}_encodeLiteral(e){let r=e.value;if(uN.test(r)&&(r=r.replace(cN,lN)),e.language)return`"${r}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Xl.string)return`"${r}"`}else switch(e.datatype.value){case Xl.string:return`"${r}"`;case Xl.boolean:if(r==="true"||r==="false")return r;break;case Xl.integer:if(/^[+-]?\d+$/.test(r))return r;break;case Xl.decimal:if(/^[+-]?\d*\.\d+$/.test(r))return r;break;case Xl.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(r))return r;break}return`"${r}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===Tne.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:r,object:n,graph:a}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(r)} ${this._encodeObject(n)}${ef(a)?"":` ${this._encodeIriOrBlank(a)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,r,n,a,s){n===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,r):typeof a=="function"?this._writeQuad(e,r,n,th,a):this._writeQuad(e,r,n,a||th,s)}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}addPrefix(e,r,n){const a={};a[e]=r,this.addPrefixes(a,n)}addPrefixes(e,r){if(!this._prefixIRIs)return r&&r();let n=!1;for(let a in e){let s=e[a];typeof s!="string"&&(s=s.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[s]=a+=":",this._write(`@prefix ${a} <${s}>.
`)}if(n){let a="",s="";for(const o in this._prefixIRIs)a+=a?`|${o}`:o,s+=(s?"|":"")+this._prefixIRIs[o];a=dN(a),this._prefixRegex=new RegExp(`^(?:${s})[^/]*$|^(${a})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",r)}blank(e,r){let n=e,a,s;switch(e===void 0?n=[]:e.termType?n=[{predicate:e,object:r}]:"length"in e||(n=[e]),s=n.length){case 0:return new rh("[]");case 1:if(a=n[0],!(a.object instanceof rh))return new rh(`[ ${this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)} ]`);default:let o="[";for(let u=0;u<s;u++)a=n[u],a.predicate.equals(e)?o+=`, ${this._encodeObject(a.object)}`:(o+=`${(u?`;
  `:`
  `)+this._encodePredicate(a.predicate)} ${this._encodeObject(a.object)}`,e=a.predicate);return new rh(`${o}
]`)}}list(e){const r=e&&e.length||0,n=new Array(r);for(let a=0;a<r;a++)n[a]=this._encodeObject(e[a]);return new rh(`(${n.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let r=e&&((n,a)=>{r=null,e(n,a)});if(this._endStream)try{return this._outputStream.end(r)}catch{}r&&r()}}function lN(t){let e=Ene[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function dN(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}class Bx{constructor(e,r){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!r&&e&&!e[0]&&(r=e,e=null),r=r||{},this._factory=r.factory||Ff,e&&this.addQuads(e)}_termFromId(e,r){if(e[0]==="."){const n=this._entities,a=e.split(".");return this._factory.quad(this._termFromId(n[a[1]]),this._termFromId(n[a[2]]),this._termFromId(n[a[3]]),a[4]&&this._termFromId(n[a[4]]))}return Wc(e,r)}_termToNumericId(e){if(e.termType==="Quad"){const r=this._termToNumericId(e.subject),n=this._termToNumericId(e.predicate),a=this._termToNumericId(e.object);let s;return r&&n&&a&&(ef(e.graph)||(s=this._termToNumericId(e.graph)))&&this._ids[s?`.${r}.${n}.${a}.${s}`:`.${r}.${n}.${a}`]}return this._ids[gi(e)]}_termToNewNumericId(e){const r=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${ef(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:gi(e);return this._ids[r]||(this._ids[this._entities[++this._id]=r]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const r=this._graphs;let n,a;for(const s in r)for(const o in n=r[s].subjects)for(const u in a=n[o])e+=Object.keys(a[u]).length;return this._size=e}_addToIndex(e,r,n,a){const s=e[r]||(e[r]={}),o=s[n]||(s[n]={}),u=a in o;return u||(o[a]=null),!u}_removeFromIndex(e,r,n,a){const s=e[r],o=s[n];delete o[a];for(const u in o)return;delete s[n];for(const u in s)return;delete e[r]}*_findInIndex(e,r,n,a,s,o,u,c){let l,d,f;const h=this._entities,p=this._termFromId(c,this._factory),y={subject:null,predicate:null,object:null};r&&((l=e,e={})[r]=l[r]);for(const _ in e)if(d=e[_]){y[s]=this._termFromId(h[_],this._factory),n&&((l=d,d={})[n]=l[n]);for(const E in d)if(f=d[E]){y[o]=this._termFromId(h[E],this._factory);const w=a?a in f?[a]:[]:Object.keys(f);for(let O=0;O<w.length;O++)y[u]=this._termFromId(h[w[O]],this._factory),yield this._factory.quad(y.subject,y.predicate,y.object,p)}}}_loop(e,r){for(const n in e)r(n)}_loopByKey0(e,r,n){let a,s;if(a=e[r])for(s in a)n(s)}_loopByKey1(e,r,n){let a,s;for(a in e)s=e[a],s[r]&&n(a)}_loopBy2Keys(e,r,n,a){let s,o,u;if((s=e[r])&&(o=s[n]))for(u in o)a(u)}_countInIndex(e,r,n,a){let s=0,o,u,c;r&&((o=e,e={})[r]=o[r]);for(const l in e)if(u=e[l]){n&&((o=u,u={})[n]=o[n]);for(const d in u)(c=u[d])&&(a?a in c&&s++:s+=Object.keys(c).length)}return s}_getGraphs(e){if(!One(e))return this._graphs;const r={};return r[e]=this._graphs[e],r}_uniqueEntities(e){const r=Object.create(null);return n=>{n in r||(r[n]=!0,e(this._termFromId(this._entities[n],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),a=gi(a);let s=this._graphs[a];s||(s=this._graphs[a]={subjects:{},predicates:{},objects:{}},Object.freeze(s)),e=this._termToNewNumericId(e),r=this._termToNewNumericId(r),n=this._termToNewNumericId(n);const o=this._addToIndex(s.subjects,e,r,n);return this._addToIndex(s.predicates,r,n,e),this._addToIndex(s.objects,n,e,r),this._size=null,o}addQuads(e){for(let r=0;r<e.length;r++)this.addQuad(e[r])}delete(e){return this.removeQuad(e),this}has(e,r,n,a){return e&&e.subject&&({subject:e,predicate:r,object:n,graph:a}=e),!this.readQuads(e,r,n,a).next().done}import(e){return e.on("data",r=>{this.addQuad(r)}),e}removeQuad(e,r,n,a){r||(a=e.graph,n=e.object,r=e.predicate,e=e.subject),a=gi(a);const s=this._graphs;let o,u,c;if(!(e=e&&this._termToNumericId(e))||!(r=r&&this._termToNumericId(r))||!(n=n&&this._termToNumericId(n))||!(o=s[a])||!(u=o.subjects[e])||!(c=u[r])||!(n in c))return!1;this._removeFromIndex(o.subjects,e,r,n),this._removeFromIndex(o.predicates,r,n,e),this._removeFromIndex(o.objects,n,e,r),this._size!==null&&this._size--;for(e in o.subjects)return!0;return delete s[a],!0}removeQuads(e){for(let r=0;r<e.length;r++)this.removeQuad(e[r])}remove(e){return e.on("data",r=>{this.removeQuad(r)}),e}removeMatches(e,r,n,a){const s=new Jt.Readable({objectMode:!0});return s._read=()=>{for(const o of this.readQuads(e,r,n,a))s.push(o);s.push(null)},this.remove(s)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,r,n,a){return[...this.readQuads(e,r,n,a)]}*readQuads(e,r,n,a){a=a&&gi(a);const s=this._getGraphs(a);let o,u,c,l;if(!(e&&!(u=this._termToNumericId(e))||r&&!(c=this._termToNumericId(r))||n&&!(l=this._termToNumericId(n))))for(const d in s)(o=s[d])&&(u?l?yield*this._findInIndex(o.objects,l,u,c,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,u,c,null,"subject","predicate","object",d):c?yield*this._findInIndex(o.predicates,c,l,null,"predicate","object","subject",d):l?yield*this._findInIndex(o.objects,l,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(e,r,n,a){return new $x(this,e,r,n,a)}countQuads(e,r,n,a){a=a&&gi(a);const s=this._getGraphs(a);let o=0,u,c,l,d;if(e&&!(c=this._termToNumericId(e))||r&&!(l=this._termToNumericId(r))||n&&!(d=this._termToNumericId(n)))return 0;for(const f in s)(u=s[f])&&(e?n?o+=this._countInIndex(u.objects,d,c,l):o+=this._countInIndex(u.subjects,c,l,d):r?o+=this._countInIndex(u.predicates,l,d,c):o+=this._countInIndex(u.objects,d,c,l));return o}forEach(e,r,n,a,s){this.some(o=>(e(o),!1),r,n,a,s)}every(e,r,n,a,s){let o=!1;const u=!this.some(c=>(o=!0,!e(c)),r,n,a,s);return o&&u}some(e,r,n,a,s){for(const o of this.readQuads(r,n,a,s))if(e(o))return!0;return!1}getSubjects(e,r,n){const a=[];return this.forSubjects(s=>{a.push(s)},e,r,n),a}forSubjects(e,r,n,a){a=a&&gi(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.predicates,u,c,e):this._loopByKey1(o.subjects,u,e):c?this._loopByKey0(o.objects,c,e):this._loop(o.subjects,e))}getPredicates(e,r,n){const a=[];return this.forPredicates(s=>{a.push(s)},e,r,n),a}forPredicates(e,r,n,a){a=a&&gi(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.objects,c,u,e):this._loopByKey0(o.subjects,u,e):c?this._loopByKey1(o.predicates,c,e):this._loop(o.predicates,e))}getObjects(e,r,n){const a=[];return this.forObjects(s=>{a.push(s)},e,r,n),a}forObjects(e,r,n,a){a=a&&gi(a);const s=this._getGraphs(a);let o,u,c;if(e=this._uniqueEntities(e),!(r&&!(u=this._termToNumericId(r))||n&&!(c=this._termToNumericId(n))))for(a in s)(o=s[a])&&(u?c?this._loopBy2Keys(o.subjects,u,c,e):this._loopByKey1(o.objects,u,e):c?this._loopByKey0(o.predicates,c,e):this._loop(o.objects,e))}getGraphs(e,r,n){const a=[];return this.forGraphs(s=>{a.push(s)},e,r,n),a}forGraphs(e,r,n,a){for(const s in this._graphs)this.some(o=>(e(o.graph),!0),r,n,a,s)}createBlankNode(e){let r,n;if(e)for(r=e=`_:${e}`,n=1;this._ids[r];)r=e+n++;else do r=`_:b${this._blankNodeIndex++}`;while(this._ids[r]);return this._ids[r]=++this._id,this._entities[this._id]=r,this._factory.blankNode(r.substr(2))}extractLists({remove:e=!1,ignoreErrors:r=!1}={}){const n={},a=r?()=>!0:(u,c)=>{throw new Error(`${u.value} ${c}`)},s=this.getQuads(null,Xn.rdf.rest,Xn.rdf.nil,null),o=e?[...s]:[];return s.forEach(u=>{const c=[];let l=!1,d,f;const h=u.graph;let p=u.subject;for(;p&&!l;){const y=this.getQuads(null,null,p,null),_=this.getQuads(p,null,null,null);let E,w=null,O=null,A=null;for(let T=0;T<_.length&&!l;T++)E=_[T],E.graph.equals(h)?d?l=a(p,"has non-list arcs out"):E.predicate.value===Xn.rdf.first?w?l=a(p,"has multiple rdf:first arcs"):o.push(w=E):E.predicate.value===Xn.rdf.rest?O?l=a(p,"has multiple rdf:rest arcs"):o.push(O=E):y.length?l=a(p,"can't be subject and object"):(d=E,f="subject"):l=a(p,"not confined to single graph");for(let T=0;T<y.length&&!l;++T)E=y[T],d?l=a(p,"can't have coreferences"):E.predicate.value===Xn.rdf.rest?A?l=a(p,"has incoming rdf:rest arcs"):A=E:(d=E,f="object");w?c.unshift(w.object):l=a(p,"has no list head"),p=A&&A.subject}l?e=!1:d&&(n[d[f].value]=c)}),e&&this.removeQuads(o),n}*[Symbol.iterator](){yield*this.readQuads()}}function One(t){return typeof t=="string"||t instanceof String}class $x extends Jt.Readable{constructor(e,r,n,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:r,predicate:n,object:a,graph:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:r,object:n,predicate:a,subject:s}=this,o=this._filtered=new Bx({factory:e._factory});for(const u of e.readQuads(s,a,n,r))o.addQuad(u)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,r,n,a){return new $x(this.filtered,e,r,n,a)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class sF extends Jt.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const r=new Nm(e);let n,a;r.parse({on:(s,o)=>{switch(s){case"data":n=o;break;case"end":a=o;break}}},(s,o)=>{s&&this.emit("error",s)||o&&this.push(o)},(s,o)=>{this.emit("prefix",s,o)}),this._transform=(s,o,u)=>{n(s),u()},this._flush=s=>{a(),s()}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),this}}class oF extends Jt.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const r=this._writer=new Lx({write:(n,a,s)=>{this.push(n),s&&s()},end:n=>{this.push(null),n&&n()}},e);this._transform=(n,a,s)=>{r.addQuad(n,s)},this._flush=n=>{r.end(n)}}import(e){return e.on("data",r=>{this.write(r)}),e.on("end",()=>{this.end()}),e.on("error",r=>{this.emit("error",r)}),e.on("prefix",(r,n)=>{this._writer.addPrefix(r,n)}),this}}const Ane={Lexer:jx,Parser:Nm,Writer:Lx,Store:Bx,StreamParser:sF,StreamWriter:oF,Util:nF,DataFactory:Ff,Term:ro,NamedNode:Dm,Literal:Hu,BlankNode:Cx,Variable:Mx,DefaultGraph:Fx,Quad:Pp,Triple:Pp,termFromId:Wc,termToId:gi},xne=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:Cx,DataFactory:Ff,DefaultGraph:Fx,Lexer:jx,Literal:Hu,NamedNode:Dm,Parser:Nm,Quad:Pp,Store:Bx,StreamParser:sF,StreamWriter:oF,Term:ro,Triple:Pp,Util:nF,Variable:Mx,Writer:Lx,default:Ane,termFromId:Wc,termToId:gi},Symbol.toStringTag,{value:"Module"})),ru=h_(xne);Object.defineProperty(xm,"__esModule",{value:!0});xm.ActorRdfSerializeN3=void 0;const Rne=Rm,Ine=ru;class Pne extends Rne.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new Ine.StreamWriter({format:r});let s;return"pipe"in e.quadStream?(e.quadStream.on("error",o=>a.emit("error",o)),s=e.quadStream.pipe(a)):s=a.import(e.quadStream),{data:s,triples:r==="text/turtle"||r==="application/n-triples"||r==="text/n3"}}}xm.ActorRdfSerializeN3=Pne;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xm,t)})(tF);var uF={},jm={},cF={},Cm={},Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.SeparatorType=void 0;class Zr{constructor(e){this.label=e}}Mm.SeparatorType=Zr;Zr.COMMA=new Zr(",");Zr.OBJECT_START=new Zr("{");Zr.OBJECT_END=new Zr("}");Zr.OBJECT_END_COMMA=new Zr("},");Zr.ARRAY_START=new Zr("[");Zr.ARRAY_END=new Zr("]");Zr.ARRAY_END_COMMA=new Zr("],");Zr.GRAPH_FIELD_NONCOMPACT=new Zr('"@graph": [');Zr.GRAPH_FIELD_COMPACT=new Zr('"@graph":[');Zr.CONTEXT_FIELD=new Zr('"@context":');var D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.Util=void 0;const fN=yn;let Ys=class bu{static termToValue(e,r,n={compactIds:!1,useNativeTypes:!1}){switch(e.termType){case"NamedNode":const a=r.compactIri(e.value,n.vocab);return n.compactIds?a:{"@id":a};case"DefaultGraph":return n.compactIds?e.value:{"@id":e.value};case"BlankNode":const s=`_:${e.value}`;return n.compactIds?s:{"@id":s};case"Literal":if(e.datatype.value===bu.RDF_JSON){let c;try{c=JSON.parse(e.value)}catch(l){throw new fN.ErrorCoded("Invalid JSON literal: "+l.message,fN.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":c,"@type":"@json"}}if(n.rdfDirection==="i18n-datatype"&&e.datatype.value.startsWith(bu.I18N)){const[c,l]=e.datatype.value.substr(bu.I18N.length,e.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":e.value},c?{"@language":c}:{}),l?{"@direction":l}:{})}const o=e.datatype.value===bu.XSD_STRING,u={"@value":!o&&n.useNativeTypes?bu.stringToNativeType(e.value,e.datatype.value):e.value};return e.language?Object.assign(Object.assign({},u),{"@language":e.language}):!o&&typeof u["@value"]=="string"?Object.assign(Object.assign({},u),{"@type":e.datatype.value}):u}}static stringToNativeType(e,r){if(r.startsWith(bu.XSD))switch(r.substr(bu.XSD.length)){case"boolean":if(e==="true")return!0;if(e==="false")return!1;throw new Error(`Invalid xsd:boolean value '${e}'`);case"integer":case"number":case"int":case"byte":case"long":const a=parseInt(e,10);if(isNaN(a))throw new Error(`Invalid xsd:integer value '${e}'`);return a;case"float":case"double":const s=parseFloat(e);if(isNaN(s))throw new Error(`Invalid xsd:float value '${e}'`);return s}return e}};D0.Util=Ys;Ys.XSD="http://www.w3.org/2001/XMLSchema#";Ys.XSD_STRING=Ys.XSD+"string";Ys.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";Ys.RDF_TYPE=Ys.RDF+"type";Ys.RDF_JSON=Ys.RDF+"JSON";Ys.I18N="https://www.w3.org/ns/i18n#";Object.defineProperty(Cm,"__esModule",{value:!0});Cm.JsonLdSerializer=void 0;const hN=yn,Qr=Mm,cT=D0,pN=Jt;class Ux extends pN.Transform{constructor(e={}){super({objectMode:!0}),this.indentation=0,this.options=e,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new hN.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new hN.JsonLdContextNormalized({}))}import(e){const r=new pN.PassThrough({objectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new Ux(this.options));return n}_transform(e,r,n){this.context.then(a=>{this.transformQuad(e,a),n()}).catch(n)}async list(e){const r=await this.context;return{"@list":e.map(n=>cT.Util.termToValue(n,r,this.options))}}_flush(e){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),e(null,null)}transformQuad(e,r){this.opened||this.pushDocumentStart();const n=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(e.subject);if(!n&&(!this.lastGraph||!e.graph.equals(this.lastGraph))){let a=e.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(e.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),a=!1):a?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),e.graph.termType!=="DefaultGraph"&&(a||this.pushId(e.graph,!0,r),this.pushSeparator(this.options.space?Qr.SeparatorType.GRAPH_FIELD_NONCOMPACT:Qr.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=e.graph}(!this.lastSubject||!e.subject.equals(this.lastSubject))&&(n?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(Qr.SeparatorType.ARRAY_END_COMMA),this.lastGraph=e.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(e.subject,!0,r)),this.lastSubject=e.subject),(!this.lastPredicate||!e.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(e.predicate,r)),this.pushObject(e.object,r)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(Qr.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(Qr.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?Qr.SeparatorType.GRAPH_FIELD_NONCOMPACT:Qr.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(Qr.SeparatorType.ARRAY_START),this.indentation++)}pushId(e,r,n){if(e.termType==="Quad")this.pushNestedQuad(e,!0,n);else{const a=e.termType==="BlankNode"?"_:"+e.value:n.compactIri(e.value,!1);r?this.pushSeparator(Qr.SeparatorType.OBJECT_START):(this.push(Qr.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${a}",`:`"@id":"${a}",`)}}pushPredicate(e,r){let n=e.value;!this.options.useRdfType&&n===cT.Util.RDF_TYPE&&(n="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const a=r.compactIri(n,!0);this.pushIndented(this.options.space?`"${a}": [`:`"${a}":[`),this.indentation++,this.lastPredicate=e}pushObject(e,r){if(this.hadObjectForPredicate?this.pushSeparator(Qr.SeparatorType.COMMA):this.hadObjectForPredicate=!0,e.termType==="Quad"){const a=this.lastSubject,s=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(e,!1,r),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=s,this.lastSubject=a;return}let n;try{e["@list"]?n=e:n=cT.Util.termToValue(e,r,this.objectOptions||this.options)}catch(a){return this.emit("error",a)}this.pushIndented(JSON.stringify(n,null,this.options.space))}pushNestedQuad(e,r,n){this.pushSeparator(Qr.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),e.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${e.graph.value}`)),this.pushId(e.subject,!1,n),this.pushPredicate(e.predicate,n),this.pushObject(e.object,n),this.endPredicate(!1),this.endSubject(r)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(Qr.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(Qr.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(Qr.SeparatorType.ARRAY_END))}endPredicate(e){this.indentation--,this.pushSeparator(e?Qr.SeparatorType.ARRAY_END_COMMA:Qr.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(e){this.indentation--,this.pushSeparator(e?Qr.SeparatorType.OBJECT_END_COMMA:Qr.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(e){this.indentation--,this.pushSeparator(Qr.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(e?Qr.SeparatorType.OBJECT_END_COMMA:Qr.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(e){this.pushIndented(e.label)}pushIndented(e,r=!0){const n=this.getIndentPrefix(),a=e.split(`
`).map(s=>n+s).join(`
`);this.push(a),this.options.space&&r&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}}Cm.JsonLdSerializer=Ux;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return a[s]}})}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Cm,t),r(D0,t)})(cF);Object.defineProperty(jm,"__esModule",{value:!0});jm.ActorRdfSerializeJsonLd=void 0;const Dne=Rm,Nne=cF;class jne extends Dne.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new Nne.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let s;return"pipe"in e.quadStream?(e.quadStream.on("error",o=>a.emit("error",o)),s=e.quadStream.pipe(a)):s=a.import(e.quadStream),{data:s}}}jm.ActorRdfSerializeJsonLd=jne;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jm,t)})(uF);var lF={},Fm={},qx={};Object.defineProperty(qx,"__esModule",{value:!0});function Cne(t,e){return new Promise((r,n)=>{t.on("end",()=>r(e)),t.on("error",n)})}function Mne(t){const e=[];return Cne(t.on("data",r=>e.push(r)),e)}qx.default=Mne;var Lm={},Vx={},dF={},Bm={};Object.defineProperty(Bm,"__esModule",{value:!0});Bm.fragment=void 0;function Fne(t){let e=t;(e.endsWith("/")||e.endsWith("#"))&&(e=e.slice(0,e.length-1));const r=[];e.lastIndexOf("/")>0&&r.push(e.lastIndexOf("/")),e.lastIndexOf("#")>0&&r.push(e.lastIndexOf("#"));const n=Math.max(...r);return e.slice(n+1)}function Lne(t){var e;const r=(e=t.split(/[^a-z0-9]+/ig).filter(n=>n!=="").map(n=>n[0].toUpperCase()+n.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||e===void 0?void 0:e[0];return typeof r>"u"?void 0:r[0].toLowerCase()+r.slice(1)}function Bne(t){let e=Fne(t);return e=e?Lne(e):void 0,e||"v"}Bm.fragment=Bne;var TO={},$m={},Yu={},EO={exports:{}};(function(t,e){var r=typeof self<"u"?self:g,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var u={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c($){return $&&DataView.prototype.isPrototypeOf($)}if(u.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function($){return $&&l.indexOf(Object.prototype.toString.call($))>-1};function f($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function h($){return typeof $!="string"&&($=String($)),$}function p($){var C={next:function(){var Q=$.shift();return{done:Q===void 0,value:Q}}};return u.iterable&&(C[Symbol.iterator]=function(){return C}),C}function y($){this.map={},$ instanceof y?$.forEach(function(C,Q){this.append(Q,C)},this):Array.isArray($)?$.forEach(function(C){this.append(C[0],C[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(C){this.append(C,$[C])},this)}y.prototype.append=function($,C){$=f($),C=h(C);var Q=this.map[$];this.map[$]=Q?Q+", "+C:C},y.prototype.delete=function($){delete this.map[f($)]},y.prototype.get=function($){return $=f($),this.has($)?this.map[$]:null},y.prototype.has=function($){return this.map.hasOwnProperty(f($))},y.prototype.set=function($,C){this.map[f($)]=h(C)},y.prototype.forEach=function($,C){for(var Q in this.map)this.map.hasOwnProperty(Q)&&$.call(C,this.map[Q],Q,this)},y.prototype.keys=function(){var $=[];return this.forEach(function(C,Q){$.push(Q)}),p($)},y.prototype.values=function(){var $=[];return this.forEach(function(C){$.push(C)}),p($)},y.prototype.entries=function(){var $=[];return this.forEach(function(C,Q){$.push([Q,C])}),p($)},u.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function _($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function E($){return new Promise(function(C,Q){$.onload=function(){C($.result)},$.onerror=function(){Q($.error)}})}function w($){var C=new FileReader,Q=E(C);return C.readAsArrayBuffer($),Q}function O($){var C=new FileReader,Q=E(C);return C.readAsText($),Q}function A($){for(var C=new Uint8Array($),Q=new Array(C.length),se=0;se<C.length;se++)Q[se]=String.fromCharCode(C[se]);return Q.join("")}function T($){if($.slice)return $.slice(0);var C=new Uint8Array($.byteLength);return C.set(new Uint8Array($)),C.buffer}function I(){return this.bodyUsed=!1,this._initBody=function($){this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:u.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:u.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:u.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():u.arrayBuffer&&u.blob&&c($)?(this._bodyArrayBuffer=T($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||d($))?this._bodyArrayBuffer=T($):this._bodyText=$=Object.prototype.toString.call($):this._bodyText="",this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var $=_(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var $=_(this);if($)return $;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function U($){var C=$.toUpperCase();return D.indexOf(C)>-1?C:$}function H($,C){C=C||{};var Q=C.body;if($ instanceof H){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,C.headers||(this.headers=new y($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!Q&&$._bodyInit!=null&&(Q=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new y(C.headers)),this.method=U(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Q)}H.prototype.clone=function(){return new H(this,{body:this._bodyInit})};function N($){var C=new FormData;return $.trim().split("&").forEach(function(Q){if(Q){var se=Q.split("="),ie=se.shift().replace(/\+/g," "),be=se.join("=").replace(/\+/g," ");C.append(decodeURIComponent(ie),decodeURIComponent(be))}}),C}function R($){var C=new y,Q=$.replace(/\r?\n[\t ]+/g," ");return Q.split(/\r?\n/).forEach(function(se){var ie=se.split(":"),be=ie.shift().trim();if(be){var he=ie.join(":").trim();C.append(be,he)}}),C}I.call(H.prototype);function F($,C){C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in C?C.statusText:"OK",this.headers=new y(C.headers),this.url=C.url||"",this._initBody($)}I.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},F.error=function(){var $=new F(null,{status:0,statusText:""});return $.type="error",$};var X=[301,302,303,307,308];F.redirect=function($,C){if(X.indexOf(C)===-1)throw new RangeError("Invalid status code");return new F(null,{status:C,headers:{location:$}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(C,Q){this.message=C,this.name=Q;var se=Error(C);this.stack=se.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function ne($,C){return new Promise(function(Q,se){var ie=new H($,C);if(ie.signal&&ie.signal.aborted)return se(new o.DOMException("Aborted","AbortError"));var be=new XMLHttpRequest;function he(){be.abort()}be.onload=function(){var Te={status:be.status,statusText:be.statusText,headers:R(be.getAllResponseHeaders()||"")};Te.url="responseURL"in be?be.responseURL:Te.headers.get("X-Request-URL");var Ne="response"in be?be.response:be.responseText;Q(new F(Ne,Te))},be.onerror=function(){se(new TypeError("Network request failed"))},be.ontimeout=function(){se(new TypeError("Network request failed"))},be.onabort=function(){se(new o.DOMException("Aborted","AbortError"))},be.open(ie.method,ie.url,!0),ie.credentials==="include"?be.withCredentials=!0:ie.credentials==="omit"&&(be.withCredentials=!1),"responseType"in be&&u.blob&&(be.responseType="blob"),ie.headers.forEach(function(Te,Ne){be.setRequestHeader(Ne,Te)}),ie.signal&&(ie.signal.addEventListener("abort",he),be.onreadystatechange=function(){be.readyState===4&&ie.signal.removeEventListener("abort",he)}),be.send(typeof ie._bodyInit>"u"?null:ie._bodyInit)})}return ne.polyfill=!0,s.fetch||(s.fetch=ne,s.Headers=y,s.Request=H,s.Response=F),o.Headers=y,o.Request=H,o.Response=F,o.fetch=ne,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=n;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e})(EO,EO.exports);var $ne=EO.exports,fF=g&&g.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):a(d.value).then(u,c)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.fetchContext=Yu.fetchJson=void 0;const Une=$ne;function hF(t,e){var r;return fF(this,void 0,void 0,function*(){return(yield((r=e==null?void 0:e.fetch)!==null&&r!==void 0?r:Une.fetch)(t)).json()})}Yu.fetchJson=hF;function qne(t,e){return fF(this,void 0,void 0,function*(){return(yield hF(t,e))["@context"]})}Yu.fetchContext=qne;var Vne=g&&g.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):a(d.value).then(u,c)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty($m,"__esModule",{value:!0});$m.lookupUri=void 0;const Hne=Yu;function kne(t,e){return Vne(this,void 0,void 0,function*(){const r=(yield(0,Hne.fetchContext)(`https://prefix.cc/${t}.file.jsonld`,e))[t];if(typeof r!="string")throw new Error(`Expected uri to be a string, received: ${r} of type ${typeof r}`);return r})}$m.lookupUri=kne;var Um={},Qne=g&&g.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):a(d.value).then(u,c)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(Um,"__esModule",{value:!0});Um.lookupPrefix=void 0;const Gne=Yu;function zne(t,e){return Qne(this,void 0,void 0,function*(){const r=new URL("https://prefix.cc/reverse");r.searchParams.append("uri",t),r.searchParams.append("format","jsonld");const n=Object.keys(yield(0,Gne.fetchContext)(r,e));if(n.length===0)throw new Error("No prefixes returned");return n[0]})}Um.lookupPrefix=zne;var qm={},Wne=g&&g.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):a(d.value).then(u,c)}l((n=n.apply(t,e||[])).next())})};Object.defineProperty(qm,"__esModule",{value:!0});qm.lookupAllPrefixes=void 0;const Xne=Yu;function Kne(t){return Wne(this,void 0,void 0,function*(){return(0,Xne.fetchContext)("https://prefix.cc/context",t)})}qm.lookupAllPrefixes=Kne;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($m,t),r(Um,t),r(qm,t)})(TO);(function(t){var e=g&&g.__awaiter||function(u,c,l,d){function f(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function y(w){try{E(d.next(w))}catch(O){p(O)}}function _(w){try{E(d.throw(w))}catch(O){p(O)}}function E(w){w.done?h(w.value):f(w.value).then(y,_)}E((d=d.apply(u,c||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.lookupAllPrefixes=t.prefixToUri=t.uriToPrefix=void 0;const r=Bm,n=TO;function a(u,c){return e(this,void 0,void 0,function*(){let l;try{l=yield(0,n.lookupPrefix)(u,c)}catch{c!=null&&c.mintOnUnknown&&(l=(0,r.fragment)(u).slice(0,4))}if(typeof l<"u"&&typeof(c==null?void 0:c.existingPrefixes)=="object"&&l in c.existingPrefixes){let d=0;for(;`${l}${d}`in c.existingPrefixes;)d+=1;l=`${l}${d}`}return l})}t.uriToPrefix=a;function s(u,c){return e(this,void 0,void 0,function*(){try{return yield(0,n.lookupUri)(u,c)}catch{return}})}t.prefixToUri=s;var o=TO;Object.defineProperty(t,"lookupAllPrefixes",{enumerable:!0,get:function(){return o.lookupAllPrefixes}})})(dF);var Vm={};Object.defineProperty(Vm,"__esModule",{value:!0});Vm.getShaclName=void 0;function Jne(t){if(t.termType!=="NamedNode"||!t.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${t.value} is not part of the SHACL namespace`);return t.value.slice(27)}Vm.getShaclName=Jne;var Hx={};Object.defineProperty(Hx,"__esModule",{value:!0});Hx.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0};var kx={};Object.defineProperty(kx,"__esModule",{value:!0});kx.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};var Qx={};Object.defineProperty(Qx,"__esModule",{value:!0});Qx.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0};var Nn=g&&g.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):a(d.value).then(u,c)}l((n=n.apply(t,e||[])).next())})},Gx=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vx,"__esModule",{value:!0});const Xt=ru,Yne=dF,n1=x0,nh=Vm,Zne=Gx(Hx),eie=Gx(kx),yN=Gx(Qx);function lT(t){var e;return(e=/^[^]*[#/]/.exec(t))===null||e===void 0?void 0:e[0]}const dT={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},fT={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class tie{constructor(e,r,n={},a=void 0,s=!0,o=!1,u,c=!1){this.store=e,this.base=a,this.errorOnExtraQuads=s,this.mintUnspecifiedPrefixes=o,this.fetch=u,this.extendedSyntax=c,this.prefixes={},this.prefixRev={};for(const l of Object.keys(n)){const d=n[l],f=typeof d=="string"?d:d.value;!(f in dT)&&!(l in fT)&&(this.prefixRev[f]=l,this.prefixes[l]=f)}this.writer=r}write(){return Nn(this,void 0,void 0,function*(){const e=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(e.length===1&&e[0].subject.termType==="NamedNode"){const n=e[0].subject;this.store.removeQuads(e),n.equals(new Xt.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,n1.termToString)(n)}`),yield this.writeImports(n)}else throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const n=new Set;for(const s of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(s.termType==="NamedNode"){const o=lT(s.value);o&&!(o in this.prefixRev)&&!(o in dT)&&n.add(o)}const a=Object.assign(Object.assign({},this.prefixes),fT);yield Promise.all([...n].map(s=>(0,Yne.uriToPrefix)(s,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:a}).then(o=>{this.prefixes[o]=s,a[o]=s,this.prefixRev[s]=o})))}const r=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(n=>n.termType==="NamedNode").map(n=>lT(n.value)).filter(n=>typeof n=="string"));for(const n in this.prefixRev)r.has(n)||(delete this.prefixes[this.prefixRev[n]],delete this.prefixRev[n]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),fT),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),dT),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const n=this.store.getSubjects(null,null,null);n.length>0&&this.writer.newLine(1);for(const a of n)this.writer.add(yield this.termToString(a,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(a),this.writer.deindent();n.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error("Dataset contains quads that cannot be written in SHACLC");this.writer.end()})}writeImports(e){return Nn(this,void 0,void 0,function*(){const r=this.store.getObjectsOnce(e,new Xt.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(r.length>0)for(const n of r)this.writer.add(`IMPORTS <${n.value}>`,!0)})}writePrefixes(){return Nn(this,void 0,void 0,function*(){const e=Object.keys(this.prefixes).filter(r=>!(r in eie.default)).sort();if(e.length>0)for(const r of e)this.writer.add(`PREFIX ${r}: <${this.prefixes[r]}>`,!0)})}termToString(e,r=!1,n=!1){return Nn(this,void 0,void 0,function*(){try{if(r)throw new Error("Shacl name disabled");return(0,nh.getShaclName)(e)}catch{}if(e.termType==="NamedNode"){const a=lT(e.value);return a&&a in this.prefixRev&&a in this.prefixRev?`${this.prefixRev[a]}:${e.value.slice(a.length)}`:(0,n1.termToString)(e)}if(e.termType==="Literal")return e.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||e.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?e.value:(0,n1.termToString)(e);throw e.termType==="BlankNode"&&n&&(0,n1.termToString)(e),new Error(`Invalid term type for extra statement ${e.value} (${e.termType})`)})}writeShapes(){return Nn(this,void 0,void 0,function*(){for(const e of this.store.getSubjectsOnce(new Xt.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new Xt.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(e,new Xt.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new Xt.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(e)),this.writer.add(" ");const r=this.store.getObjectsOnce(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(r.length>0){this.writer.add("-> ");for(const a of r)a.termType==="NamedNode"?this.writer.add(yield this.termToString(a)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(a,new Xt.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const n=this.store.getPredicates(e,null,null).filter(a=>[new Xt.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new Xt.NamedNode("http://www.w3.org/ns/shacl#property"),new Xt.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(yN.default).map(s=>new Xt.NamedNode("http://www.w3.org/ns/shacl#"+s))].every(s=>!a.equals(s)));n.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(e,n)),n.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(e,!1)}})}getSingleProperty(e,r){let n=[e];try{let a=(0,nh.getShaclName)(e.predicate),s="pred";if(a==="not"){const o=this.store.getQuadsOnce(e.object,null,null,null);if(n=n.concat(o),o.length!==1)throw new Error("Can only handle having one predicate of 'not'");[e]=o,a=(0,nh.getShaclName)(e.predicate),s="not"}if(!(a in r))throw new Error(`${a} is not allowed`);return{name:a,type:s,object:e.object}}catch{this.store.addQuads(n)}}singleLayerPropertiesList(e,r){const n=[];for(const a of this.store.getQuadsOnce(e,null,null,null)){const s=this.getSingleProperty(a,r);s&&n.push(s)}return n}expectOneProperty(e,r){const n=this.store.getQuadsOnce(e,null,null,null);if(n.length===1){const a=this.getSingleProperty(n[0],r);if(a)return a}this.store.addQuads(n)}orProperties(e,r){const n=[];for(const a of this.store.getQuadsOnce(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const s=[];for(const o of this.getList(a.object)){const u=this.expectOneProperty(o,r);if(!u)throw this.store.addQuad(a),new Error("Each entry of the 'or' statement must declare exactly one property");s.push(u)}n.push(s)}return n}getList(e){let r=e;const n=[];for(;!r.equals(new Xt.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)n.push(this.singleObject(r,new Xt.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),r=this.singleObject(r,new Xt.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return n}writeIriLiteralOrArray(e){return Nn(this,void 0,void 0,function*(){if(e.termType==="BlankNode"){this.writer.add("[");let r=!0;for(const n of this.getList(e))r?r=!1:this.writer.add(" "),this.writer.add(yield this.termToString(n));this.writer.add("]")}else this.writer.add(yield this.termToString(e))})}singleObject(e,r,n){var a;return(a=this.singleQuad(e,r,n))===null||a===void 0?void 0:a.object}singleQuad(e,r,n=!1){const a=this.store.getQuadsOnce(e,r,null,null);if(n&&a.length!==1)throw this.store.addQuads(a),new Error(`The subject and predicate ${e==null?void 0:e.value} ${r==null?void 0:r.value} must have exactly one object. Instead has ${a.length}`);if(a.length>1)throw this.store.addQuads(a),new Error(`The subject and predicate ${e==null?void 0:e.value} ${r==null?void 0:r.value} can have at most one object. Instead has ${a.length}`);return a.length===1?a[0]:void 0}writeAssigment({name:e,type:r,object:n}){return Nn(this,void 0,void 0,function*(){r==="not"&&this.writer.add("!"),this.writer.add(e),this.writer.add("="),yield this.writeIriLiteralOrArray(n)})}writeAtom({name:e,type:r,object:n}){return Nn(this,void 0,void 0,function*(){switch(r==="not"&&this.writer.add("!"),e){case"node":{if(n.termType==="NamedNode")this.writer.add(`@${yield this.termToString(n)}`);else if(n.termType==="BlankNode")yield this.writeShapeBody(n);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,nh.getShaclName)(n));return}case"class":{this.writer.add(yield this.termToString(n));return}case"datatype":{this.writer.add(yield this.termToString(n));return}default:this.writer.add(e),this.writer.add("="),yield this.writeIriLiteralOrArray(n)}})}writeAssigments(e,r=" ",n=!0,a){return Nn(this,void 0,void 0,function*(){for(const s of e)n?n=!1:this.writer.add(r),a?yield this.writeAtom(s):yield this.writeAssigment(s)})}writeParams(e,r=!0,n,a=!1,s=!1){return Nn(this,void 0,void 0,function*(){const o=this.orProperties(e,n),u=this.singleLayerPropertiesList(e,n);s&&(o.length>0||u.length>0)&&this.writer.newLine(1);for(const c of o)r?r=!1:this.writer.add(" "),yield this.writeAssigments(c,"|",!0,a);yield this.writeAssigments(u," ",r,a),s&&(o.length>0||u.length>0)&&this.writer.add(" .")})}writeShapeBody(e,r=!0){return Nn(this,void 0,void 0,function*(){this.writer.add("{").indent();const n=this.store.getObjectsOnce(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(e,!0,yN.default,!1,!0);for(const a of n)this.writer.newLine(1),yield this.writeProperty(a);this.writer.deindent().newLine(1),r?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(e){return Nn(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const r=this.singleObject(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#minCount")),n=this.singleObject(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#maxCount")),a=this.singleObject(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),s=this.singleObject(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#class")),o=this.singleObject(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#datatype")),u=this.store.getObjectsOnce(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(a&&(this.writer.add(" "),this.writer.add((0,nh.getShaclName)(a))),s&&(this.writer.add(" "),this.writer.add(yield this.termToString(s))),o&&(this.writer.add(" "),this.writer.add(yield this.termToString(o))),r!==void 0||n!==void 0){if(this.writer.add(" ["),r){if(r.termType!=="Literal"||r.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(r.value)}else this.writer.add("0");if(this.writer.add(".."),n){if(n.termType!=="Literal"||n.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(e,new Xt.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(n.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(e,!1,Zne.default,!0);const c=[];for(const l of u)if(l.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(l)}`);else if(l.termType==="BlankNode")c.push(l);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const l of c)this.writer.add(" "),yield this.writeShapeBody(l);this.extendedSyntax&&this.store.getQuads(e,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(e),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),c.length===0&&this.writer.add(" .")})}writeTurtlePredicates(e){return Nn(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(e,this.store.getPredicates(e,null,null))})}writeGivenTurtlePredicates(e,r){return Nn(this,void 0,void 0,function*(){let n=!1;if(r.some(a=>a.equals(Xt.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const a=this.store.getObjectsOnce(e,Xt.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);a.length>0&&(n=!0,this.writer.add("a "),yield this.writeTurtleObjects(a))}for(const a of r)a.equals(Xt.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(n?(this.writer.add(" ;"),this.writer.newLine(1)):n=!0,this.writer.add(yield this.termToString(a,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(e,a,null)))})}writeTurtleObjects(e){return Nn(this,void 0,void 0,function*(){const r=[],n=[];for(const s of e)s.termType==="BlankNode"&&[...this.store.match(null,null,s),...this.store.match(null,s,null)].length===0?r.push(s):n.push(s);this.writer.add((yield Promise.all(n.map(s=>this.termToString(s,!0,!0)))).join(", "));let a=n.length>0;if(r.length>0)for(const s of r)a?this.writer.add(", "):a=!0,(yield this.writeList(s))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(s),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(e){return Nn(this,void 0,void 0,function*(){let r=e;const n=[],a=[];for(;!r.equals(Xt.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const o=this.store.getQuadsOnce(r,Xt.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),u=this.store.getQuadsOnce(r,Xt.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(a.push(...o,...u),o.length!==1||u.length!==1||this.store.getQuads(r,null,null,null).length!==0)return this.store.addQuads(a),!1;n.push(o[0].object),r=u[0].object}let s=!1;this.writer.add("(");for(const o of n)s?this.writer.add(" "):s=!0,yield this.writeTurtleObjects([o]);return this.writer.add(")"),!0})}writePath(e,r=!1){return Nn(this,void 0,void 0,function*(){if(e.termType==="NamedNode")this.writer.add(yield this.termToString(e));else if(e.termType==="BlankNode"){const n=this.store.getQuadsOnce(e,null,null,null);if(n.length===1){const{predicate:a,object:s}=n[0];switch(a.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(s,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const o=this.getList(s);if(o.length===0)throw new Error("Invalid Alternative Path - no options");if(o.length===1)yield this.writePath(o[0]);else{r&&this.writer.add("(");let u=!0;for(const c of o)u?u=!1:this.writer.add("|"),yield this.writePath(c,!0);r&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(s,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(s,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(s,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${e.value}`)}}else{this.store.addQuads(n);const a=this.getList(e);if(a.length===0)throw new Error("Invalid Path");{r&&this.writer.add("(");let s=!0;for(const o of a)s?s=!1:this.writer.add("/"),yield this.writePath(o,!0);r&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}Vx.default=tie;var zx={};Object.defineProperty(zx,"__esModule",{value:!0});class rie{constructor(e){this.indents=0,this.write=e.write,this.end=e.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(e,r=!1){return this.write(r?`
${"	".repeat(this.indents)}${e}`:e,"utf-8"),this}newLine(e=2){return this.write(`
`.repeat(e)+"	".repeat(this.indents),"utf-8"),this}}zx.default=rie;var Wx={};Object.defineProperty(Wx,"__esModule",{value:!0});const nie=ru;class iie extends nie.Store{getQuadsOnce(e,r,n,a){const s=this.getQuads(e,r,n,a);return this.removeQuads(s),s}getSubjectsOnce(e,r,n){return this.getQuadsOnce(null,e,r,n).map(a=>a.subject)}getObjectsOnce(e,r,n){return this.getQuadsOnce(e,r,null,n).map(a=>a.object)}}Wx.default=iie;var bN=g&&g.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):a(d.value).then(u,c)}l((n=n.apply(t,e||[])).next())})},Xx=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.write=void 0;const aie=ru,sie=Xx(Vx),oie=Xx(zx),uie=Xx(Wx);function cie(t,e){return bN(this,void 0,void 0,function*(){return new Promise((r,n)=>bN(this,void 0,void 0,function*(){try{let a="";const s=new uie.default(t),o=s.getGraphs(null,null,null);if(o.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(o.length===1&&!o[0].equals(aie.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${o[0].value}`);const u=new oie.default({write:l=>{a+=l},end:()=>{let l=s.getQuads(null,null,null,null);l.length===0&&(l=void 0),r({text:a,extraQuads:l})}});yield new sie.default(s,u,e==null?void 0:e.prefixes,void 0,(e==null?void 0:e.errorOnUnused)!==!1,e==null?void 0:e.mintPrefixes,e==null?void 0:e.fetch,e==null?void 0:e.extendedSyntax).write()}catch(a){n(a)}}))})}Lm.write=cie;Object.defineProperty(Fm,"__esModule",{value:!0});Fm.ActorRdfSerializeShaclc=void 0;const lie=Rm,die=qx,fie=Jt,hie=Lm;class pie extends lie.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new fie.Readable;a._read=()=>{};try{const s={};e.quadStream.on("prefix",(u,c)=>{s[u]=c});const{text:o}=await(0,hie.write)(await(0,die.default)(e.quadStream),{errorOnUnused:!0,extendedSyntax:r==="text/shaclc-ext",prefixes:s});a.push(o),a.push(null)}catch(s){a._read=()=>{a.emit("error",s)}}return{data:a,triples:!0}}}Fm.ActorRdfSerializeShaclc=pie;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Fm,t)})(lF);var pF={},Hm={},fs={},km={},N0={},OO={exports:{}},yF=Rf.EventEmitter;const yie={},bie=Object.freeze(Object.defineProperty({__proto__:null,default:yie},Symbol.toStringTag,{value:"Module"})),bF=h_(bie);var hT,_N;function _ie(){if(_N)return hT;_N=1;function t(y,_){var E=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);_&&(w=w.filter(function(O){return Object.getOwnPropertyDescriptor(y,O).enumerable})),E.push.apply(E,w)}return E}function e(y){for(var _=1;_<arguments.length;_++){var E=arguments[_]!=null?arguments[_]:{};_%2?t(Object(E),!0).forEach(function(w){r(y,w,E[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(E)):t(Object(E)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(E,w))})}return y}function r(y,_,E){return _=o(_),_ in y?Object.defineProperty(y,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):y[_]=E,y}function n(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function a(y,_){for(var E=0;E<_.length;E++){var w=_[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,o(w.key),w)}}function s(y,_,E){return _&&a(y.prototype,_),E&&a(y,E),Object.defineProperty(y,"prototype",{writable:!1}),y}function o(y){var _=u(y,"string");return typeof _=="symbol"?_:String(_)}function u(y,_){if(typeof y!="object"||y===null)return y;var E=y[Symbol.toPrimitive];if(E!==void 0){var w=E.call(y,_||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(y)}var c=ha,l=c.Buffer,d=bF,f=d.inspect,h=f&&f.custom||"inspect";function p(y,_,E){l.prototype.copy.call(y,_,E)}return hT=function(){function y(){n(this,y),this.head=null,this.tail=null,this.length=0}return s(y,[{key:"push",value:function(E){var w={data:E,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(E){var w={data:E,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var w=this.head,O=""+w.data;w=w.next;)O+=E+w.data;return O}},{key:"concat",value:function(E){if(this.length===0)return l.alloc(0);for(var w=l.allocUnsafe(E>>>0),O=this.head,A=0;O;)p(O.data,w,A),A+=O.data.length,O=O.next;return w}},{key:"consume",value:function(E,w){var O;return E<this.head.data.length?(O=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?O=this.shift():O=w?this._getString(E):this._getBuffer(E),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var w=this.head,O=1,A=w.data;for(E-=A.length;w=w.next;){var T=w.data,I=E>T.length?T.length:E;if(I===T.length?A+=T:A+=T.slice(0,E),E-=I,E===0){I===T.length?(++O,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=T.slice(I));break}++O}return this.length-=O,A}},{key:"_getBuffer",value:function(E){var w=l.allocUnsafe(E),O=this.head,A=1;for(O.data.copy(w),E-=O.data.length;O=O.next;){var T=O.data,I=E>T.length?T.length:E;if(T.copy(w,w.length-E,0,I),E-=I,E===0){I===T.length?(++A,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=T.slice(I));break}++A}return this.length-=A,w}},{key:h,value:function(E,w){return f(this,e(e({},w),{},{depth:0,customInspect:!1}))}}]),y}(),hT}function gie(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return n||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(AO,this,t)):process.nextTick(AO,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(cb,r):(r._writableState.errorEmitted=!0,process.nextTick(gN,r,s)):process.nextTick(gN,r,s):e?(process.nextTick(cb,r),e(s)):process.nextTick(cb,r)}),this)}function gN(t,e){AO(t,e),cb(t)}function cb(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function mie(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function AO(t,e){t.emit("error",e)}function vie(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var _F={destroy:gie,undestroy:mie,errorOrDestroy:vie},El={};function wie(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var gF={};function Ia(t,e,r){r||(r=Error);function n(s,o,u){return typeof e=="string"?e:e(s,o,u)}var a=function(s){wie(o,s);function o(u,c,l){return s.call(this,n(u,c,l))||this}return o}(r);a.prototype.name=r.name,a.prototype.code=t,gF[t]=a}function mN(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Sie(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Tie(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Eie(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Ia("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Ia("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Sie(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var a;if(Tie(t," argument"))a="The ".concat(t," ").concat(n," ").concat(mN(e,"type"));else{var s=Eie(t,".")?"property":"argument";a='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(mN(e,"type"))}return a+=". Received type ".concat(typeof r),a},TypeError);Ia("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Ia("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Ia("ERR_STREAM_PREMATURE_CLOSE","Premature close");Ia("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Ia("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Ia("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Ia("ERR_STREAM_WRITE_AFTER_END","write after end");Ia("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Ia("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Ia("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");El.codes=gF;var Oie=El.codes.ERR_INVALID_OPT_VALUE;function Aie(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function xie(t,e,r,n){var a=Aie(e,n,r);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var s=n?r:"highWaterMark";throw new Oie(s,a)}return Math.floor(a)}return t.objectMode?16:16*1024}var mF={getHighWaterMark:xie},Rie=Iie;function Iie(t,e){if(pT("noDeprecation"))return t;var r=!1;function n(){if(!r){if(pT("throwDeprecation"))throw new Error(e);pT("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function pT(t){try{if(!g.localStorage)return!1}catch{return!1}var e=g.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var yT,vN;function vF(){if(vN)return yT;vN=1,yT=H;function t(oe){var J=this;this.next=null,this.entry=null,this.finish=function(){xe(J,oe)}}var e;H.WritableState=D;var r={deprecate:Rie},n=yF,a=ha.Buffer,s=(typeof g<"u"?g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(oe){return a.from(oe)}function u(oe){return a.isBuffer(oe)||oe instanceof s}var c=_F,l=mF,d=l.getHighWaterMark,f=El.codes,h=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,_=f.ERR_STREAM_CANNOT_PIPE,E=f.ERR_STREAM_DESTROYED,w=f.ERR_STREAM_NULL_VALUES,O=f.ERR_STREAM_WRITE_AFTER_END,A=f.ERR_UNKNOWN_ENCODING,T=c.errorOrDestroy;Ef(H,n);function I(){}function D(oe,J,le){e=e||tf(),oe=oe||{},typeof le!="boolean"&&(le=J instanceof e),this.objectMode=!!oe.objectMode,le&&(this.objectMode=this.objectMode||!!oe.writableObjectMode),this.highWaterMark=d(this,oe,"writableHighWaterMark",le),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var pe=oe.decodeStrings===!1;this.decodeStrings=!pe,this.defaultEncoding=oe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(L){Q(J,L)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=oe.emitClose!==!1,this.autoDestroy=!!oe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}D.prototype.getBuffer=function(){for(var J=this.bufferedRequest,le=[];J;)le.push(J),J=J.next;return le},function(){try{Object.defineProperty(D.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var U;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(U=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(J){return U.call(this,J)?!0:this!==H?!1:J&&J._writableState instanceof D}})):U=function(J){return J instanceof this};function H(oe){e=e||tf();var J=this instanceof e;if(!J&&!U.call(H,this))return new H(oe);this._writableState=new D(oe,this,J),this.writable=!0,oe&&(typeof oe.write=="function"&&(this._write=oe.write),typeof oe.writev=="function"&&(this._writev=oe.writev),typeof oe.destroy=="function"&&(this._destroy=oe.destroy),typeof oe.final=="function"&&(this._final=oe.final)),n.call(this)}H.prototype.pipe=function(){T(this,new _)};function N(oe,J){var le=new O;T(oe,le),process.nextTick(J,le)}function R(oe,J,le,pe){var L;return le===null?L=new w:typeof le!="string"&&!J.objectMode&&(L=new h("chunk",["string","Buffer"],le)),L?(T(oe,L),process.nextTick(pe,L),!1):!0}H.prototype.write=function(oe,J,le){var pe=this._writableState,L=!1,P=!pe.objectMode&&u(oe);return P&&!a.isBuffer(oe)&&(oe=o(oe)),typeof J=="function"&&(le=J,J=null),P?J="buffer":J||(J=pe.defaultEncoding),typeof le!="function"&&(le=I),pe.ending?N(this,le):(P||R(this,pe,oe,le))&&(pe.pendingcb++,L=X(this,pe,P,oe,J,le)),L},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var oe=this._writableState;oe.corked&&(oe.corked--,!oe.writing&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&be(this,oe))},H.prototype.setDefaultEncoding=function(J){if(typeof J=="string"&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new A(J);return this._writableState.defaultEncoding=J,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function F(oe,J,le){return!oe.objectMode&&oe.decodeStrings!==!1&&typeof J=="string"&&(J=a.from(J,le)),J}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(oe,J,le,pe,L,P){if(!le){var m=F(J,pe,L);pe!==m&&(le=!0,L="buffer",pe=m)}var b=J.objectMode?1:pe.length;J.length+=b;var v=J.length<J.highWaterMark;if(v||(J.needDrain=!0),J.writing||J.corked){var j=J.lastBufferedRequest;J.lastBufferedRequest={chunk:pe,encoding:L,isBuf:le,callback:P,next:null},j?j.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else ne(oe,J,!1,b,pe,L,P);return v}function ne(oe,J,le,pe,L,P,m){J.writelen=pe,J.writecb=m,J.writing=!0,J.sync=!0,J.destroyed?J.onwrite(new E("write")):le?oe._writev(L,J.onwrite):oe._write(L,P,J.onwrite),J.sync=!1}function $(oe,J,le,pe,L){--J.pendingcb,le?(process.nextTick(L,pe),process.nextTick(ye,oe,J),oe._writableState.errorEmitted=!0,T(oe,pe)):(L(pe),oe._writableState.errorEmitted=!0,T(oe,pe),ye(oe,J))}function C(oe){oe.writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0}function Q(oe,J){var le=oe._writableState,pe=le.sync,L=le.writecb;if(typeof L!="function")throw new y;if(C(le),J)$(oe,le,pe,J,L);else{var P=he(le)||oe.destroyed;!P&&!le.corked&&!le.bufferProcessing&&le.bufferedRequest&&be(oe,le),pe?process.nextTick(se,oe,le,P,L):se(oe,le,P,L)}}function se(oe,J,le,pe){le||ie(oe,J),J.pendingcb--,pe(),ye(oe,J)}function ie(oe,J){J.length===0&&J.needDrain&&(J.needDrain=!1,oe.emit("drain"))}function be(oe,J){J.bufferProcessing=!0;var le=J.bufferedRequest;if(oe._writev&&le&&le.next){var pe=J.bufferedRequestCount,L=new Array(pe),P=J.corkedRequestsFree;P.entry=le;for(var m=0,b=!0;le;)L[m]=le,le.isBuf||(b=!1),le=le.next,m+=1;L.allBuffers=b,ne(oe,J,!0,J.length,L,"",P.finish),J.pendingcb++,J.lastBufferedRequest=null,P.next?(J.corkedRequestsFree=P.next,P.next=null):J.corkedRequestsFree=new t(J),J.bufferedRequestCount=0}else{for(;le;){var v=le.chunk,j=le.encoding,V=le.callback,q=J.objectMode?1:v.length;if(ne(oe,J,!1,q,v,j,V),le=le.next,J.bufferedRequestCount--,J.writing)break}le===null&&(J.lastBufferedRequest=null)}J.bufferedRequest=le,J.bufferProcessing=!1}H.prototype._write=function(oe,J,le){le(new p("_write()"))},H.prototype._writev=null,H.prototype.end=function(oe,J,le){var pe=this._writableState;return typeof oe=="function"?(le=oe,oe=null,J=null):typeof J=="function"&&(le=J,J=null),oe!=null&&this.write(oe,J),pe.corked&&(pe.corked=1,this.uncork()),pe.ending||ce(this,pe,le),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function he(oe){return oe.ending&&oe.length===0&&oe.bufferedRequest===null&&!oe.finished&&!oe.writing}function Te(oe,J){oe._final(function(le){J.pendingcb--,le&&T(oe,le),J.prefinished=!0,oe.emit("prefinish"),ye(oe,J)})}function Ne(oe,J){!J.prefinished&&!J.finalCalled&&(typeof oe._final=="function"&&!J.destroyed?(J.pendingcb++,J.finalCalled=!0,process.nextTick(Te,oe,J)):(J.prefinished=!0,oe.emit("prefinish")))}function ye(oe,J){var le=he(J);if(le&&(Ne(oe,J),J.pendingcb===0&&(J.finished=!0,oe.emit("finish"),J.autoDestroy))){var pe=oe._readableState;(!pe||pe.autoDestroy&&pe.endEmitted)&&oe.destroy()}return le}function ce(oe,J,le){J.ending=!0,ye(oe,J),le&&(J.finished?process.nextTick(le):oe.once("finish",le)),J.ended=!0,oe.writable=!1}function xe(oe,J,le){var pe=oe.entry;for(oe.entry=null;pe;){var L=pe.callback;J.pendingcb--,L(le),pe=pe.next}J.corkedRequestsFree.next=oe}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(J){this._writableState&&(this._writableState.destroyed=J)}}),H.prototype.destroy=c.destroy,H.prototype._undestroy=c.undestroy,H.prototype._destroy=function(oe,J){J(oe)},yT}var bT,wN;function tf(){if(wN)return bT;wN=1;var t=Object.keys||function(l){var d=[];for(var f in l)d.push(f);return d};bT=o;var e=SF(),r=vF();Ef(o,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var s=n[a];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),bT}var SN=El.codes.ERR_STREAM_PREMATURE_CLOSE;function Pie(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];t.apply(this,n)}}}function Die(){}function Nie(t){return t.setHeader&&typeof t.abort=="function"}function wF(t,e,r){if(typeof e=="function")return wF(t,null,e);e||(e={}),r=Pie(r||Die);var n=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||u()},o=t._writableState&&t._writableState.finished,u=function(){a=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,c=!0,a||r.call(t)},d=function(y){r.call(t,y)},f=function(){var y;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(y=new SN),r.call(t,y);if(a&&!o)return(!t._writableState||!t._writableState.ended)&&(y=new SN),r.call(t,y)},h=function(){t.req.on("finish",u)};return Nie(t)?(t.on("complete",u),t.on("abort",f),t.req?h():t.on("request",h)):a&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",d),t.on("close",f),function(){t.removeListener("complete",u),t.removeListener("abort",f),t.removeListener("request",h),t.req&&t.req.removeListener("finish",u),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",u),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",f)}}var Kx=wF,_T,TN;function jie(){if(TN)return _T;TN=1;var t;function e(A,T,I){return T=r(T),T in A?Object.defineProperty(A,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):A[T]=I,A}function r(A){var T=n(A,"string");return typeof T=="symbol"?T:String(T)}function n(A,T){if(typeof A!="object"||A===null)return A;var I=A[Symbol.toPrimitive];if(I!==void 0){var D=I.call(A,T||"default");if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(A)}var a=Kx,s=Symbol("lastResolve"),o=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(A,T){return{value:A,done:T}}function p(A){var T=A[s];if(T!==null){var I=A[f].read();I!==null&&(A[l]=null,A[s]=null,A[o]=null,T(h(I,!1)))}}function y(A){process.nextTick(p,A)}function _(A,T){return function(I,D){A.then(function(){if(T[c]){I(h(void 0,!0));return}T[d](I,D)},D)}}var E=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var T=this,I=this[u];if(I!==null)return Promise.reject(I);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise(function(N,R){process.nextTick(function(){T[u]?R(T[u]):N(h(void 0,!0))})});var D=this[l],U;if(D)U=new Promise(_(D,this));else{var H=this[f].read();if(H!==null)return Promise.resolve(h(H,!1));U=new Promise(this[d])}return this[l]=U,U}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var T=this;return new Promise(function(I,D){T[f].destroy(null,function(U){if(U){D(U);return}I(h(void 0,!0))})})}),t),E),O=function(T){var I,D=Object.create(w,(I={},e(I,f,{value:T,writable:!0}),e(I,s,{value:null,writable:!0}),e(I,o,{value:null,writable:!0}),e(I,u,{value:null,writable:!0}),e(I,c,{value:T._readableState.endEmitted,writable:!0}),e(I,d,{value:function(H,N){var R=D[f].read();R?(D[l]=null,D[s]=null,D[o]=null,H(h(R,!1))):(D[s]=H,D[o]=N)},writable:!0}),I));return D[l]=null,a(T,function(U){if(U&&U.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=D[o];H!==null&&(D[l]=null,D[s]=null,D[o]=null,H(U)),D[u]=U;return}var N=D[s];N!==null&&(D[l]=null,D[s]=null,D[o]=null,N(h(void 0,!0))),D[c]=!0}),T.on("readable",y.bind(null,D)),D};return _T=O,_T}var gT,EN;function Cie(){return EN||(EN=1,gT=function(){throw new Error("Readable.from is not available in the browser")}),gT}var mT,ON;function SF(){if(ON)return mT;ON=1,mT=N;var t;N.ReadableState=H,Rf.EventEmitter;var e=function(m,b){return m.listeners(b).length},r=yF,n=ha.Buffer,a=(typeof g<"u"?g:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(P){return n.from(P)}function o(P){return n.isBuffer(P)||P instanceof a}var u=bF,c;u&&u.debuglog?c=u.debuglog("stream"):c=function(){};var l=_ie(),d=_F,f=mF,h=f.getHighWaterMark,p=El.codes,y=p.ERR_INVALID_ARG_TYPE,_=p.ERR_STREAM_PUSH_AFTER_EOF,E=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,A,T;Ef(N,r);var I=d.errorOrDestroy,D=["error","close","destroy","pause","resume"];function U(P,m,b){if(typeof P.prependListener=="function")return P.prependListener(m,b);!P._events||!P._events[m]?P.on(m,b):Array.isArray(P._events[m])?P._events[m].unshift(b):P._events[m]=[b,P._events[m]]}function H(P,m,b){t=t||tf(),P=P||{},typeof b!="boolean"&&(b=m instanceof t),this.objectMode=!!P.objectMode,b&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=h(this,P,"readableHighWaterMark",b),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(O||(O=Fb.StringDecoder),this.decoder=new O(P.encoding),this.encoding=P.encoding)}function N(P){if(t=t||tf(),!(this instanceof N))return new N(P);var m=this instanceof t;this._readableState=new H(P,this,m),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),r.call(this)}Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(m){this._readableState&&(this._readableState.destroyed=m)}}),N.prototype.destroy=d.destroy,N.prototype._undestroy=d.undestroy,N.prototype._destroy=function(P,m){m(P)},N.prototype.push=function(P,m){var b=this._readableState,v;return b.objectMode?v=!0:typeof P=="string"&&(m=m||b.defaultEncoding,m!==b.encoding&&(P=n.from(P,m),m=""),v=!0),R(this,P,m,!1,v)},N.prototype.unshift=function(P){return R(this,P,null,!0,!1)};function R(P,m,b,v,j){c("readableAddChunk",m);var V=P._readableState;if(m===null)V.reading=!1,Q(P,V);else{var q;if(j||(q=X(V,m)),q)I(P,q);else if(V.objectMode||m&&m.length>0)if(typeof m!="string"&&!V.objectMode&&Object.getPrototypeOf(m)!==n.prototype&&(m=s(m)),v)V.endEmitted?I(P,new w):F(P,V,m,!0);else if(V.ended)I(P,new _);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!b?(m=V.decoder.write(m),V.objectMode||m.length!==0?F(P,V,m,!1):be(P,V)):F(P,V,m,!1)}else v||(V.reading=!1,be(P,V))}return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function F(P,m,b,v){m.flowing&&m.length===0&&!m.sync?(m.awaitDrain=0,P.emit("data",b)):(m.length+=m.objectMode?1:b.length,v?m.buffer.unshift(b):m.buffer.push(b),m.needReadable&&se(P)),be(P,m)}function X(P,m){var b;return!o(m)&&typeof m!="string"&&m!==void 0&&!P.objectMode&&(b=new y("chunk",["string","Buffer","Uint8Array"],m)),b}N.prototype.isPaused=function(){return this._readableState.flowing===!1},N.prototype.setEncoding=function(P){O||(O=Fb.StringDecoder);var m=new O(P);this._readableState.decoder=m,this._readableState.encoding=this._readableState.decoder.encoding;for(var b=this._readableState.buffer.head,v="";b!==null;)v+=m.write(b.data),b=b.next;return this._readableState.buffer.clear(),v!==""&&this._readableState.buffer.push(v),this._readableState.length=v.length,this};var ne=1073741824;function $(P){return P>=ne?P=ne:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function C(P,m){return P<=0||m.length===0&&m.ended?0:m.objectMode?1:P!==P?m.flowing&&m.length?m.buffer.head.data.length:m.length:(P>m.highWaterMark&&(m.highWaterMark=$(P)),P<=m.length?P:m.ended?m.length:(m.needReadable=!0,0))}N.prototype.read=function(P){c("read",P),P=parseInt(P,10);var m=this._readableState,b=P;if(P!==0&&(m.emittedReadable=!1),P===0&&m.needReadable&&((m.highWaterMark!==0?m.length>=m.highWaterMark:m.length>0)||m.ended))return c("read: emitReadable",m.length,m.ended),m.length===0&&m.ended?le(this):se(this),null;if(P=C(P,m),P===0&&m.ended)return m.length===0&&le(this),null;var v=m.needReadable;c("need readable",v),(m.length===0||m.length-P<m.highWaterMark)&&(v=!0,c("length less than watermark",v)),m.ended||m.reading?(v=!1,c("reading or ended",v)):v&&(c("do read"),m.reading=!0,m.sync=!0,m.length===0&&(m.needReadable=!0),this._read(m.highWaterMark),m.sync=!1,m.reading||(P=C(b,m)));var j;return P>0?j=J(P,m):j=null,j===null?(m.needReadable=m.length<=m.highWaterMark,P=0):(m.length-=P,m.awaitDrain=0),m.length===0&&(m.ended||(m.needReadable=!0),b!==P&&m.ended&&le(this)),j!==null&&this.emit("data",j),j};function Q(P,m){if(c("onEofChunk"),!m.ended){if(m.decoder){var b=m.decoder.end();b&&b.length&&(m.buffer.push(b),m.length+=m.objectMode?1:b.length)}m.ended=!0,m.sync?se(P):(m.needReadable=!1,m.emittedReadable||(m.emittedReadable=!0,ie(P)))}}function se(P){var m=P._readableState;c("emitReadable",m.needReadable,m.emittedReadable),m.needReadable=!1,m.emittedReadable||(c("emitReadable",m.flowing),m.emittedReadable=!0,process.nextTick(ie,P))}function ie(P){var m=P._readableState;c("emitReadable_",m.destroyed,m.length,m.ended),!m.destroyed&&(m.length||m.ended)&&(P.emit("readable"),m.emittedReadable=!1),m.needReadable=!m.flowing&&!m.ended&&m.length<=m.highWaterMark,oe(P)}function be(P,m){m.readingMore||(m.readingMore=!0,process.nextTick(he,P,m))}function he(P,m){for(;!m.reading&&!m.ended&&(m.length<m.highWaterMark||m.flowing&&m.length===0);){var b=m.length;if(c("maybeReadMore read 0"),P.read(0),b===m.length)break}m.readingMore=!1}N.prototype._read=function(P){I(this,new E("_read()"))},N.prototype.pipe=function(P,m){var b=this,v=this._readableState;switch(v.pipesCount){case 0:v.pipes=P;break;case 1:v.pipes=[v.pipes,P];break;default:v.pipes.push(P);break}v.pipesCount+=1,c("pipe count=%d opts=%j",v.pipesCount,m);var j=(!m||m.end!==!1)&&P!==process.stdout&&P!==process.stderr,V=j?G:W;v.endEmitted?process.nextTick(V):b.once("end",V),P.on("unpipe",q);function q(M,S){c("onunpipe"),M===b&&S&&S.hasUnpiped===!1&&(S.hasUnpiped=!0,ae())}function G(){c("onend"),P.end()}var Y=Te(b);P.on("drain",Y);var ee=!1;function ae(){c("cleanup"),P.removeListener("close",Ee),P.removeListener("finish",k),P.removeListener("drain",Y),P.removeListener("error",me),P.removeListener("unpipe",q),b.removeListener("end",G),b.removeListener("end",W),b.removeListener("data",ve),ee=!0,v.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&Y()}b.on("data",ve);function ve(M){c("ondata");var S=P.write(M);c("dest.write",S),S===!1&&((v.pipesCount===1&&v.pipes===P||v.pipesCount>1&&L(v.pipes,P)!==-1)&&!ee&&(c("false write response, pause",v.awaitDrain),v.awaitDrain++),b.pause())}function me(M){c("onerror",M),W(),P.removeListener("error",me),e(P,"error")===0&&I(P,M)}U(P,"error",me);function Ee(){P.removeListener("finish",k),W()}P.once("close",Ee);function k(){c("onfinish"),P.removeListener("close",Ee),W()}P.once("finish",k);function W(){c("unpipe"),b.unpipe(P)}return P.emit("pipe",b),v.flowing||(c("pipe resume"),b.resume()),P};function Te(P){return function(){var b=P._readableState;c("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,b.awaitDrain===0&&e(P,"data")&&(b.flowing=!0,oe(P))}}N.prototype.unpipe=function(P){var m=this._readableState,b={hasUnpiped:!1};if(m.pipesCount===0)return this;if(m.pipesCount===1)return P&&P!==m.pipes?this:(P||(P=m.pipes),m.pipes=null,m.pipesCount=0,m.flowing=!1,P&&P.emit("unpipe",this,b),this);if(!P){var v=m.pipes,j=m.pipesCount;m.pipes=null,m.pipesCount=0,m.flowing=!1;for(var V=0;V<j;V++)v[V].emit("unpipe",this,{hasUnpiped:!1});return this}var q=L(m.pipes,P);return q===-1?this:(m.pipes.splice(q,1),m.pipesCount-=1,m.pipesCount===1&&(m.pipes=m.pipes[0]),P.emit("unpipe",this,b),this)},N.prototype.on=function(P,m){var b=r.prototype.on.call(this,P,m),v=this._readableState;return P==="data"?(v.readableListening=this.listenerCount("readable")>0,v.flowing!==!1&&this.resume()):P==="readable"&&!v.endEmitted&&!v.readableListening&&(v.readableListening=v.needReadable=!0,v.flowing=!1,v.emittedReadable=!1,c("on readable",v.length,v.reading),v.length?se(this):v.reading||process.nextTick(ye,this)),b},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(P,m){var b=r.prototype.removeListener.call(this,P,m);return P==="readable"&&process.nextTick(Ne,this),b},N.prototype.removeAllListeners=function(P){var m=r.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&process.nextTick(Ne,this),m};function Ne(P){var m=P._readableState;m.readableListening=P.listenerCount("readable")>0,m.resumeScheduled&&!m.paused?m.flowing=!0:P.listenerCount("data")>0&&P.resume()}function ye(P){c("readable nexttick read 0"),P.read(0)}N.prototype.resume=function(){var P=this._readableState;return P.flowing||(c("resume"),P.flowing=!P.readableListening,ce(this,P)),P.paused=!1,this};function ce(P,m){m.resumeScheduled||(m.resumeScheduled=!0,process.nextTick(xe,P,m))}function xe(P,m){c("resume",m.reading),m.reading||P.read(0),m.resumeScheduled=!1,P.emit("resume"),oe(P),m.flowing&&!m.reading&&P.read(0)}N.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function oe(P){var m=P._readableState;for(c("flow",m.flowing);m.flowing&&P.read()!==null;);}N.prototype.wrap=function(P){var m=this,b=this._readableState,v=!1;P.on("end",function(){if(c("wrapped end"),b.decoder&&!b.ended){var q=b.decoder.end();q&&q.length&&m.push(q)}m.push(null)}),P.on("data",function(q){if(c("wrapped data"),b.decoder&&(q=b.decoder.write(q)),!(b.objectMode&&q==null)&&!(!b.objectMode&&(!q||!q.length))){var G=m.push(q);G||(v=!0,P.pause())}});for(var j in P)this[j]===void 0&&typeof P[j]=="function"&&(this[j]=function(G){return function(){return P[G].apply(P,arguments)}}(j));for(var V=0;V<D.length;V++)P.on(D[V],this.emit.bind(this,D[V]));return this._read=function(q){c("wrapped _read",q),v&&(v=!1,P.resume())},this},typeof Symbol=="function"&&(N.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=jie()),A(this)}),Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(N.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(N.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}}),N._fromList=J,Object.defineProperty(N.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function J(P,m){if(m.length===0)return null;var b;return m.objectMode?b=m.buffer.shift():!P||P>=m.length?(m.decoder?b=m.buffer.join(""):m.buffer.length===1?b=m.buffer.first():b=m.buffer.concat(m.length),m.buffer.clear()):b=m.buffer.consume(P,m.decoder),b}function le(P){var m=P._readableState;c("endReadable",m.endEmitted),m.endEmitted||(m.ended=!0,process.nextTick(pe,m,P))}function pe(P,m){if(c("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,m.readable=!1,m.emit("end"),P.autoDestroy)){var b=m._writableState;(!b||b.autoDestroy&&b.finished)&&m.destroy()}}typeof Symbol=="function"&&(N.from=function(P,m){return T===void 0&&(T=Cie()),T(N,P,m)});function L(P,m){for(var b=0,v=P.length;b<v;b++)if(P[b]===m)return b;return-1}return mT}var TF=Xo,Qm=El.codes,Mie=Qm.ERR_METHOD_NOT_IMPLEMENTED,Fie=Qm.ERR_MULTIPLE_CALLBACK,Lie=Qm.ERR_TRANSFORM_ALREADY_TRANSFORMING,Bie=Qm.ERR_TRANSFORM_WITH_LENGTH_0,Gm=tf();Ef(Xo,Gm);function $ie(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Fie);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function Xo(t){if(!(this instanceof Xo))return new Xo(t);Gm.call(this,t),this._transformState={afterTransform:$ie.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Uie)}function Uie(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){AN(t,e,r)}):AN(this,null,null)}Xo.prototype.push=function(t,e){return this._transformState.needTransform=!1,Gm.prototype.push.call(this,t,e)};Xo.prototype._transform=function(t,e,r){r(new Mie("_transform()"))};Xo.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};Xo.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Xo.prototype._destroy=function(t,e){Gm.prototype._destroy.call(this,t,function(r){e(r)})};function AN(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Bie;if(t._transformState.transforming)throw new Lie;return t.push(null)}var qie=Dp,EF=TF;Ef(Dp,EF);function Dp(t){if(!(this instanceof Dp))return new Dp(t);EF.call(this,t)}Dp.prototype._transform=function(t,e,r){r(null,t)};var vT;function Vie(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var OF=El.codes,Hie=OF.ERR_MISSING_ARGS,kie=OF.ERR_STREAM_DESTROYED;function xN(t){if(t)throw t}function Qie(t){return t.setHeader&&typeof t.abort=="function"}function Gie(t,e,r,n){n=Vie(n);var a=!1;t.on("close",function(){a=!0}),vT===void 0&&(vT=Kx),vT(t,{readable:e,writable:r},function(o){if(o)return n(o);a=!0,n()});var s=!1;return function(o){if(!a&&!s){if(s=!0,Qie(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new kie("pipe"))}}}function RN(t){t()}function zie(t,e){return t.pipe(e)}function Wie(t){return!t.length||typeof t[t.length-1]!="function"?xN:t.pop()}function Xie(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Wie(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Hie("streams");var a,s=e.map(function(o,u){var c=u<e.length-1,l=u>0;return Gie(o,c,l,function(d){a||(a=d),d&&s.forEach(RN),!c&&(s.forEach(RN),n(a))})});return e.reduce(zie)}var Kie=Xie;(function(t,e){e=t.exports=SF(),e.Stream=e,e.Readable=e,e.Writable=vF(),e.Duplex=tf(),e.Transform=TF,e.PassThrough=qie,e.finished=Kx,e.pipeline=Kie})(OO,OO.exports);var Jie=OO.exports;Object.defineProperty(N0,"__esModule",{value:!0});N0.ReadableWebToNodeStream=void 0;const Yie=Jie;class Zie extends Yie.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released){this.push(null);return}this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}N0.ReadableWebToNodeStream=Zie;function i1(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wT={exports:{}},IN;function eae(){return IN||(IN=1,function(t,e){(function(r){t.exports=r()})(function(){return function r(n,a,s){function o(l,d){if(!a[l]){if(!n[l]){var f=typeof i1=="function"&&i1;if(!d&&f)return f(l,!0);if(u)return u(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=a[l]={exports:{}};n[l][0].call(p.exports,function(y){var _=n[l][1][y];return o(_||y)},p,p.exports,r,n,a,s)}return a[l].exports}for(var u=typeof i1=="function"&&i1,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(r,n,a){Object.defineProperty(a,"__esModule",{value:!0});var s=r("./spec/reference-implementation/lib/readable-stream"),o=s.ReadableStream,u=r("./spec/reference-implementation/lib/writable-stream"),c=u.WritableStream,l=r("./spec/reference-implementation/lib/byte-length-queuing-strategy"),d=r("./spec/reference-implementation/lib/count-queuing-strategy"),f=r("./spec/reference-implementation/lib/transform-stream"),h=f.TransformStream;a.ByteLengthQueuingStrategy=l,a.CountQueuingStrategy=d,a.ReadableStream=o,a.WritableStream=c,a.TransformStream=h;var p={ReadableStream:o,WritableStream:c,ByteLengthQueuingStrategy:l,CountQueuingStrategy:d,TransformStream:h};a.default=p},{"./spec/reference-implementation/lib/byte-length-queuing-strategy":8,"./spec/reference-implementation/lib/count-queuing-strategy":9,"./spec/reference-implementation/lib/readable-stream":12,"./spec/reference-implementation/lib/transform-stream":13,"./spec/reference-implementation/lib/writable-stream":15}],2:[function(r,n,a){(function(s){function o($,C){if($===C)return 0;for(var Q=$.length,se=C.length,ie=0,be=Math.min(Q,se);ie<be;++ie)if($[ie]!==C[ie]){Q=$[ie],se=C[ie];break}return Q<se?-1:se<Q?1:0}function u($){return s.Buffer&&typeof s.Buffer.isBuffer=="function"?s.Buffer.isBuffer($):!($==null||!$._isBuffer)}function c($){return Object.prototype.toString.call($)}function l($){return!u($)&&typeof s.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView($):!!$&&($ instanceof DataView||!!($.buffer&&$.buffer instanceof ArrayBuffer)))}function d($){if(U.isFunction($)){if(R)return $.name;var C=$.toString().match(X);return C&&C[1]}}function f($,C){return typeof $=="string"?$.length<C?$:$.slice(0,C):$}function h($){if(R||!U.isFunction($))return U.inspect($);var C=d($);return"[Function"+(C?": "+C:"")+"]"}function p($){return f(h($.actual),128)+" "+$.operator+" "+f(h($.expected),128)}function y($,C,Q,se,ie){throw new F.AssertionError({message:Q,actual:$,expected:C,operator:se,stackStartFunction:ie})}function _($,C){$||y($,!0,C,"==",F.ok)}function E($,C,Q,se){if($===C)return!0;if(u($)&&u(C))return o($,C)===0;if(U.isDate($)&&U.isDate(C))return $.getTime()===C.getTime();if(U.isRegExp($)&&U.isRegExp(C))return $.source===C.source&&$.global===C.global&&$.multiline===C.multiline&&$.lastIndex===C.lastIndex&&$.ignoreCase===C.ignoreCase;if($!==null&&typeof $=="object"||C!==null&&typeof C=="object"){if(l($)&&l(C)&&c($)===c(C)&&!($ instanceof Float32Array||$ instanceof Float64Array))return o(new Uint8Array($.buffer),new Uint8Array(C.buffer))===0;if(u($)!==u(C))return!1;var ie=(se=se||{actual:[],expected:[]}).actual.indexOf($);return ie!==-1&&ie===se.expected.indexOf(C)||(se.actual.push($),se.expected.push(C),O($,C,Q,se))}return Q?$===C:$==C}function w($){return Object.prototype.toString.call($)=="[object Arguments]"}function O($,C,Q,se){if($==null||C===null||C===void 0)return!1;if(U.isPrimitive($)||U.isPrimitive(C))return $===C;if(Q&&Object.getPrototypeOf($)!==Object.getPrototypeOf(C))return!1;var ie=w($),be=w(C);if(ie&&!be||!ie&&be)return!1;if(ie)return $=N.call($),C=N.call(C),E($,C,Q);var he,Te,Ne=ne($),ye=ne(C);if(Ne.length!==ye.length)return!1;for(Ne.sort(),ye.sort(),Te=Ne.length-1;Te>=0;Te--)if(Ne[Te]!==ye[Te])return!1;for(Te=Ne.length-1;Te>=0;Te--)if(he=Ne[Te],!E($[he],C[he],Q,se))return!1;return!0}function A($,C,Q){E($,C,!0)&&y($,C,Q,"notDeepStrictEqual",A)}function T($,C){if(!$||!C)return!1;if(Object.prototype.toString.call(C)=="[object RegExp]")return C.test($);try{if($ instanceof C)return!0}catch{}return!Error.isPrototypeOf(C)&&C.call({},$)===!0}function I($){var C;try{$()}catch(Q){C=Q}return C}function D($,C,Q,se){var ie;if(typeof C!="function")throw new TypeError('"block" argument must be a function');typeof Q=="string"&&(se=Q,Q=null),ie=I(C),se=(Q&&Q.name?" ("+Q.name+").":".")+(se?" "+se:"."),$&&!ie&&y(ie,Q,"Missing expected exception"+se);var be=typeof se=="string",he=!$&&U.isError(ie),Te=!$&&ie&&!Q;if((he&&be&&T(ie,Q)||Te)&&y(ie,Q,"Got unwanted exception"+se),$&&ie&&Q&&!T(ie,Q)||!$&&ie)throw ie}var U=r("util/"),H=Object.prototype.hasOwnProperty,N=Array.prototype.slice,R=(function(){}).name==="foo",F=n.exports=_,X=/\s*function\s+([^\(\s]*)\s*/;F.AssertionError=function(C){this.name="AssertionError",this.actual=C.actual,this.expected=C.expected,this.operator=C.operator,C.message?(this.message=C.message,this.generatedMessage=!1):(this.message=p(this),this.generatedMessage=!0);var Q=C.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,Q);else{var se=new Error;if(se.stack){var ie=se.stack,be=d(Q),he=ie.indexOf(`
`+be);if(he>=0){var Te=ie.indexOf(`
`,he+1);ie=ie.substring(Te+1)}this.stack=ie}}},U.inherits(F.AssertionError,Error),F.fail=y,F.ok=_,F.equal=function(C,Q,se){C!=Q&&y(C,Q,se,"==",F.equal)},F.notEqual=function(C,Q,se){C==Q&&y(C,Q,se,"!=",F.notEqual)},F.deepEqual=function(C,Q,se){E(C,Q,!1)||y(C,Q,se,"deepEqual",F.deepEqual)},F.deepStrictEqual=function(C,Q,se){E(C,Q,!0)||y(C,Q,se,"deepStrictEqual",F.deepStrictEqual)},F.notDeepEqual=function(C,Q,se){E(C,Q,!1)&&y(C,Q,se,"notDeepEqual",F.notDeepEqual)},F.notDeepStrictEqual=A,F.strictEqual=function(C,Q,se){C!==Q&&y(C,Q,se,"===",F.strictEqual)},F.notStrictEqual=function(C,Q,se){C===Q&&y(C,Q,se,"!==",F.notStrictEqual)},F.throws=function($,C,Q){D(!0,$,C,Q)},F.doesNotThrow=function($,C,Q){D(!1,$,C,Q)},F.ifError=function($){if($)throw $};var ne=Object.keys||function($){var C=[];for(var Q in $)H.call($,Q)&&C.push(Q);return C}}).call(this,typeof g<"u"?g:typeof self<"u"?self:typeof window<"u"?window:{})},{"util/":7}],3:[function(r,n,a){},{}],4:[function(r,n,a){function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(T){if(p===setTimeout)return setTimeout(T,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout(T,0);try{return p(T,0)}catch{try{return p.call(null,T,0)}catch{return p.call(this,T,0)}}}function c(T){if(y===clearTimeout)return clearTimeout(T);if((y===o||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(T);try{return y(T)}catch{try{return y.call(null,T)}catch{return y.call(this,T)}}}function l(){O&&E&&(O=!1,E.length?w=E.concat(w):A=-1,w.length&&d())}function d(){if(!O){var T=u(l);O=!0;for(var I=w.length;I;){for(E=w,w=[];++A<I;)E&&E[A].run();A=-1,I=w.length}E=null,O=!1,c(T)}}function f(T,I){this.fun=T,this.array=I}function h(){}var p,y,_=n.exports={};(function(){try{p=typeof setTimeout=="function"?setTimeout:s}catch{p=s}try{y=typeof clearTimeout=="function"?clearTimeout:o}catch{y=o}})();var E,w=[],O=!1,A=-1;_.nextTick=function(T){var I=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)I[D-1]=arguments[D];w.push(new f(T,I)),w.length!==1||O||u(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=h,_.addListener=h,_.once=h,_.off=h,_.removeListener=h,_.removeAllListeners=h,_.emit=h,_.prependListener=h,_.prependOnceListener=h,_.listeners=function(T){return[]},_.binding=function(T){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(T){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},{}],5:[function(r,n,a){typeof Object.create=="function"?n.exports=function(o,u){o.super_=u,o.prototype=Object.create(u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(o,u){o.super_=u;var c=function(){};c.prototype=u.prototype,o.prototype=new c,o.prototype.constructor=o}},{}],6:[function(r,n,a){n.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],7:[function(r,n,a){(function(s,o){function u(ye,ce){var xe={seen:[],stylize:l};return arguments.length>=3&&(xe.depth=arguments[2]),arguments.length>=4&&(xe.colors=arguments[3]),O(ce)?xe.showHidden=ce:ce&&a._extend(xe,ce),H(xe.showHidden)&&(xe.showHidden=!1),H(xe.depth)&&(xe.depth=2),H(xe.colors)&&(xe.colors=!1),H(xe.customInspect)&&(xe.customInspect=!0),xe.colors&&(xe.stylize=c),f(xe,ye,xe.depth)}function c(ye,ce){var xe=u.styles[ce];return xe?"\x1B["+u.colors[xe][0]+"m"+ye+"\x1B["+u.colors[xe][1]+"m":ye}function l(ye,ce){return ye}function d(ye){var ce={};return ye.forEach(function(xe,oe){ce[xe]=!0}),ce}function f(ye,ce,xe){if(ye.customInspect&&ce&&ne(ce.inspect)&&ce.inspect!==a.inspect&&(!ce.constructor||ce.constructor.prototype!==ce)){var oe=ce.inspect(xe,ye);return D(oe)||(oe=f(ye,oe,xe)),oe}var J=h(ye,ce);if(J)return J;var le=Object.keys(ce),pe=d(le);if(ye.showHidden&&(le=Object.getOwnPropertyNames(ce)),X(ce)&&(le.indexOf("message")>=0||le.indexOf("description")>=0))return p(ce);if(le.length===0){if(ne(ce)){var L=ce.name?": "+ce.name:"";return ye.stylize("[Function"+L+"]","special")}if(N(ce))return ye.stylize(RegExp.prototype.toString.call(ce),"regexp");if(F(ce))return ye.stylize(Date.prototype.toString.call(ce),"date");if(X(ce))return p(ce)}var P="",m=!1,b=["{","}"];if(w(ce)&&(m=!0,b=["[","]"]),ne(ce)&&(P=" [Function"+(ce.name?": "+ce.name:"")+"]"),N(ce)&&(P=" "+RegExp.prototype.toString.call(ce)),F(ce)&&(P=" "+Date.prototype.toUTCString.call(ce)),X(ce)&&(P=" "+p(ce)),le.length===0&&(!m||ce.length==0))return b[0]+P+b[1];if(xe<0)return N(ce)?ye.stylize(RegExp.prototype.toString.call(ce),"regexp"):ye.stylize("[Object]","special");ye.seen.push(ce);var v;return v=m?y(ye,ce,xe,pe,le):le.map(function(j){return _(ye,ce,xe,pe,j,m)}),ye.seen.pop(),E(v,P,b)}function h(ye,ce){if(H(ce))return ye.stylize("undefined","undefined");if(D(ce)){var xe="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ye.stylize(xe,"string")}return I(ce)?ye.stylize(""+ce,"number"):O(ce)?ye.stylize(""+ce,"boolean"):A(ce)?ye.stylize("null","null"):void 0}function p(ye){return"["+Error.prototype.toString.call(ye)+"]"}function y(ye,ce,xe,oe,J){for(var le=[],pe=0,L=ce.length;pe<L;++pe)ie(ce,String(pe))?le.push(_(ye,ce,xe,oe,String(pe),!0)):le.push("");return J.forEach(function(P){P.match(/^\d+$/)||le.push(_(ye,ce,xe,oe,P,!0))}),le}function _(ye,ce,xe,oe,J,le){var pe,L,P;if((P=Object.getOwnPropertyDescriptor(ce,J)||{value:ce[J]}).get?L=P.set?ye.stylize("[Getter/Setter]","special"):ye.stylize("[Getter]","special"):P.set&&(L=ye.stylize("[Setter]","special")),ie(oe,J)||(pe="["+J+"]"),L||(ye.seen.indexOf(P.value)<0?(L=A(xe)?f(ye,P.value,null):f(ye,P.value,xe-1)).indexOf(`
`)>-1&&(L=le?L.split(`
`).map(function(m){return"  "+m}).join(`
`).substr(2):`
`+L.split(`
`).map(function(m){return"   "+m}).join(`
`)):L=ye.stylize("[Circular]","special")),H(pe)){if(le&&J.match(/^\d+$/))return L;(pe=JSON.stringify(""+J)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(pe=pe.substr(1,pe.length-2),pe=ye.stylize(pe,"name")):(pe=pe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),pe=ye.stylize(pe,"string"))}return pe+": "+L}function E(ye,ce,xe){var oe=0;return ye.reduce(function(J,le){return oe++,le.indexOf(`
`)>=0&&oe++,J+le.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?xe[0]+(ce===""?"":ce+`
 `)+" "+ye.join(`,
  `)+" "+xe[1]:xe[0]+ce+" "+ye.join(", ")+" "+xe[1]}function w(ye){return Array.isArray(ye)}function O(ye){return typeof ye=="boolean"}function A(ye){return ye===null}function T(ye){return ye==null}function I(ye){return typeof ye=="number"}function D(ye){return typeof ye=="string"}function U(ye){return typeof ye=="symbol"}function H(ye){return ye===void 0}function N(ye){return R(ye)&&C(ye)==="[object RegExp]"}function R(ye){return typeof ye=="object"&&ye!==null}function F(ye){return R(ye)&&C(ye)==="[object Date]"}function X(ye){return R(ye)&&(C(ye)==="[object Error]"||ye instanceof Error)}function ne(ye){return typeof ye=="function"}function $(ye){return ye===null||typeof ye=="boolean"||typeof ye=="number"||typeof ye=="string"||typeof ye=="symbol"||ye===void 0}function C(ye){return Object.prototype.toString.call(ye)}function Q(ye){return ye<10?"0"+ye.toString(10):ye.toString(10)}function se(){var ye=new Date,ce=[Q(ye.getHours()),Q(ye.getMinutes()),Q(ye.getSeconds())].join(":");return[ye.getDate(),Ne[ye.getMonth()],ce].join(" ")}function ie(ye,ce){return Object.prototype.hasOwnProperty.call(ye,ce)}var be=/%[sdj%]/g;a.format=function(ye){if(!D(ye)){for(var ce=[],xe=0;xe<arguments.length;xe++)ce.push(u(arguments[xe]));return ce.join(" ")}for(var xe=1,oe=arguments,J=oe.length,le=String(ye).replace(be,function(P){if(P==="%%")return"%";if(xe>=J)return P;switch(P){case"%s":return String(oe[xe++]);case"%d":return Number(oe[xe++]);case"%j":try{return JSON.stringify(oe[xe++])}catch{return"[Circular]"}default:return P}}),pe=oe[xe];xe<J;pe=oe[++xe])A(pe)||!R(pe)?le+=" "+pe:le+=" "+u(pe);return le},a.deprecate=function(ye,ce){if(H(o.process))return function(){return a.deprecate(ye,ce).apply(this,arguments)};if(s.noDeprecation===!0)return ye;var xe=!1;return function(){if(!xe){if(s.throwDeprecation)throw new Error(ce);s.traceDeprecation?console.trace(ce):console.error(ce),xe=!0}return ye.apply(this,arguments)}};var he,Te={};a.debuglog=function(ye){if(H(he)&&(he={}.NODE_DEBUG||""),ye=ye.toUpperCase(),!Te[ye])if(new RegExp("\\b"+ye+"\\b","i").test(he)){var ce=s.pid;Te[ye]=function(){var xe=a.format.apply(a,arguments);console.error("%s %d: %s",ye,ce,xe)}}else Te[ye]=function(){};return Te[ye]},a.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=w,a.isBoolean=O,a.isNull=A,a.isNullOrUndefined=T,a.isNumber=I,a.isString=D,a.isSymbol=U,a.isUndefined=H,a.isRegExp=N,a.isObject=R,a.isDate=F,a.isError=X,a.isFunction=ne,a.isPrimitive=$,a.isBuffer=r("./support/isBuffer");var Ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];a.log=function(){console.log("%s - %s",se(),a.format.apply(a,arguments))},a.inherits=r("inherits"),a._extend=function(ye,ce){if(!ce||!R(ce))return ye;for(var xe=Object.keys(ce),oe=xe.length;oe--;)ye[xe[oe]]=ce[xe[oe]];return ye}}).call(this,r("_process"),typeof g<"u"?g:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":6,_process:4,inherits:5}],8:[function(r,n,a){function s(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&l(d.prototype,f),h&&l(d,h),d}}(),u=r("./helpers.js"),c=u.createDataProperty;n.exports=function(){function l(d){var f=d.highWaterMark;s(this,l),c(this,"highWaterMark",f)}return o(l,[{key:"size",value:function(f){return f.byteLength}}]),l}()},{"./helpers.js":10}],9:[function(r,n,a){function s(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function l(d,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,f,h){return f&&l(d.prototype,f),h&&l(d,h),d}}(),u=r("./helpers.js"),c=u.createDataProperty;n.exports=function(){function l(d){var f=d.highWaterMark;s(this,l),c(this,"highWaterMark",f)}return o(l,[{key:"size",value:function(){return 1}}]),l}()},{"./helpers.js":10}],10:[function(r,n,a){function s(l,d,f){if(typeof l!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(l,d,f)}function o(l,d,f){try{return Promise.resolve(s(l,d,f))}catch(h){return Promise.reject(h)}}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};r("better-assert");var c=Symbol('is "detached" for our purposes');a.typeIsObject=function(l){return(l===void 0?"undefined":u(l))==="object"&&l!==null||typeof l=="function"},a.createDataProperty=function(l,d,f){Object.defineProperty(l,d,{value:f,writable:!0,enumerable:!0,configurable:!0})},a.createArrayFromList=function(l){return l.slice()},a.ArrayBufferCopy=function(l,d,f,h,p){new Uint8Array(l).set(new Uint8Array(f,h,p),d)},a.CreateIterResultObject=function(l,d){var f={};return Object.defineProperty(f,"value",{value:l,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(f,"done",{value:d,enumerable:!0,writable:!0,configurable:!0}),f},a.IsFiniteNonNegativeNumber=function(l){return a.IsNonNegativeNumber(l)!==!1&&l!==1/0},a.IsNonNegativeNumber=function(l){return typeof l=="number"&&!Number.isNaN(l)&&!(l<0)},a.Call=s,a.CreateAlgorithmFromUnderlyingMethod=function(l,d,f,h){var p=l[d];if(p!==void 0){if(typeof p!="function")throw new TypeError(p+" is not a method");switch(f){case 0:return function(){return o(p,l,h)};case 1:return function(y){var _=[y].concat(h);return o(p,l,_)}}}return function(){return Promise.resolve()}},a.InvokeOrNoop=function(l,d,f){var h=l[d];if(h!==void 0)return s(h,l,f)},a.PromiseCall=o,a.TransferArrayBuffer=function(l){var d=l.slice();return Object.defineProperty(l,"byteLength",{get:function(){return 0}}),l[c]=!0,d},a.IsDetachedBuffer=function(l){return c in l},a.ValidateAndNormalizeHighWaterMark=function(l){if(l=Number(l),Number.isNaN(l)||l<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return l},a.MakeSizeAlgorithmFromSizeFunction=function(l){if(l===void 0)return function(){return 1};if(typeof l!="function")throw new TypeError("size property of a queuing strategy must be a function");return function(d){return l(d)}}},{"better-assert":16}],11:[function(r,n,a){r("better-assert");var s=r("./helpers.js"),o=s.IsFiniteNonNegativeNumber;a.DequeueValue=function(u){var c=u._queue.shift();return u._queueTotalSize-=c.size,u._queueTotalSize<0&&(u._queueTotalSize=0),c.value},a.EnqueueValueWithSize=function(u,c,l){if(l=Number(l),!o(l))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");u._queue.push({value:c,size:l}),u._queueTotalSize+=l},a.PeekQueueValue=function(u){return u._queue[0].value},a.ResetQueue=function(u){u._queue=[],u._queueTotalSize=0}},{"./helpers.js":10,"better-assert":16}],12:[function(r,n,a){function s(te,de){if(!(te instanceof de))throw new TypeError("Cannot call a class as a function")}function o(te){return new Vn(te)}function u(te){return new si(te)}function c(te,de,_e){var $e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,He=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},Xe=Object.create(ja.prototype);return d(Xe),J(Xe,Object.create(ou.prototype),te,de,_e,$e,He),Xe}function l(te,de,_e){var $e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,He=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,Xe=Object.create(ja.prototype);return d(Xe),we(Xe,Object.create(Cl.prototype),te,de,_e,$e,He),Xe}function d(te){te._state="readable",te._reader=void 0,te._storedError=void 0,te._disturbed=!1}function f(te){return!!_n(te)&&!!Object.prototype.hasOwnProperty.call(te,"_readableStreamController")}function h(te){return te._disturbed}function p(te){return te._reader!==void 0}function y(te,de){function _e(){return Q(He).then(function(Rn){var ui=Rn.value;if(Rn.done===!0&&Xe===!1&&(wt===!1&&he(Yt._readableStreamController),Bt===!1&&he(Sr._readableStreamController),Xe=!0),Xe!==!0){var Ma=ui,gn=ui;wt===!1&&Te(Yt._readableStreamController,Ma),Bt===!1&&Te(Sr._readableStreamController,gn)}})}function $e(){}var He=u(te),Xe=!1,wt=!1,Bt=!1,ir=void 0,jr=void 0,Yt=void 0,Sr=void 0,oi=void 0,Hn=new Promise(function(Rn){oi=Rn});return Yt=c($e,_e,function(ui){if(wt=!0,ir=ui,Bt===!0){var Ma=ke([ir,jr]),gn=w(te,Ma);oi(gn)}return Hn}),Sr=c($e,_e,function(ui){if(Bt=!0,jr=ui,wt===!0){var Ma=ke([ir,jr]),gn=w(te,Ma);oi(gn)}return Hn}),He._closedPromise.catch(function(Rn){Xe!==!0&&(ye(Yt._readableStreamController,Rn),ye(Sr._readableStreamController,Rn),Xe=!0)}),[Yt,Sr]}function _(te){return new Promise(function(de,_e){var $e={_resolve:de,_reject:_e};te._reader._readIntoRequests.push($e)})}function E(te){return new Promise(function(de,_e){var $e={_resolve:de,_reject:_e};te._reader._readRequests.push($e)})}function w(te,de){return te._disturbed=!0,te._state==="closed"?Promise.resolve(void 0):te._state==="errored"?Promise.reject(te._storedError):(O(te),te._readableStreamController[en](de).then(function(){}))}function O(te){te._state="closed";var de=te._reader;if(de!==void 0){if(F(de)===!0){var _e=!0,$e=!1,He=void 0;try{for(var Xe,wt=de._readRequests[Symbol.iterator]();!(_e=(Xe=wt.next()).done);_e=!0)(0,Xe.value._resolve)(De(void 0,!0))}catch(Bt){$e=!0,He=Bt}finally{try{!_e&&wt.return&&wt.return()}finally{if($e)throw He}}de._readRequests=[]}Nr(de)}}function A(te,de){te._state="errored",te._storedError=de;var _e=te._reader;if(_e!==void 0){if(F(_e)===!0){var $e=!0,He=!1,Xe=void 0;try{for(var wt,Bt=_e._readRequests[Symbol.iterator]();!($e=(wt=Bt.next()).done);$e=!0)wt.value._reject(de)}catch(Hn){He=!0,Xe=Hn}finally{try{!$e&&Bt.return&&Bt.return()}finally{if(He)throw Xe}}_e._readRequests=[]}else{var ir=!0,jr=!1,Yt=void 0;try{for(var Sr,oi=_e._readIntoRequests[Symbol.iterator]();!(ir=(Sr=oi.next()).done);ir=!0)Sr.value._reject(de)}catch(Hn){jr=!0,Yt=Hn}finally{try{!ir&&oi.return&&oi.return()}finally{if(jr)throw Yt}}_e._readIntoRequests=[]}zt(_e,de),_e._closedPromise.catch(function(){})}}function T(te,de,_e){te._reader._readIntoRequests.shift()._resolve(De(de,_e))}function I(te,de,_e){te._reader._readRequests.shift()._resolve(De(de,_e))}function D(te){return te._reader._readIntoRequests.length}function U(te){return te._reader._readRequests.length}function H(te){var de=te._reader;return de!==void 0&&R(de)!==!1}function N(te){var de=te._reader;return de!==void 0&&F(de)!==!1}function R(te){return!!_n(te)&&!!Object.prototype.hasOwnProperty.call(te,"_readIntoRequests")}function F(te){return!!_n(te)&&!!Object.prototype.hasOwnProperty.call(te,"_readRequests")}function X(te,de){te._ownerReadableStream=de,de._reader=te,de._state==="readable"?Wr(te):de._state==="closed"?$r(te):(gr(te,de._storedError),te._closedPromise.catch(function(){}))}function ne(te,de){return w(te._ownerReadableStream,de)}function $(te){te._ownerReadableStream._state==="readable"?zt(te,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):mr(te,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),te._closedPromise.catch(function(){}),te._ownerReadableStream._reader=void 0,te._ownerReadableStream=void 0}function C(te,de){var _e=te._ownerReadableStream;return _e._disturbed=!0,_e._state==="errored"?Promise.reject(_e._storedError):ae(_e._readableStreamController,de)}function Q(te){var de=te._ownerReadableStream;return de._disturbed=!0,de._state==="closed"?Promise.resolve(De(void 0,!0)):de._state==="errored"?Promise.reject(de._storedError):de._readableStreamController[gs]()}function se(te){return!!_n(te)&&!!Object.prototype.hasOwnProperty.call(te,"_controlledReadableStream")}function ie(te){be(te)!==!1&&(te._pulling!==!0?(te._pulling=!0,te._pullAlgorithm().then(function(){if(te._pulling=!1,te._pullAgain===!0)return te._pullAgain=!1,ie(te)},function(de){ye(te,de)}).catch(wr)):te._pullAgain=!0)}function be(te){var de=te._controlledReadableStream;return oe(te)!==!1&&te._started!==!1&&(p(de)===!0&&U(de)>0||ce(te)>0)}function he(te){var de=te._controlledReadableStream;te._closeRequested=!0,te._queue.length===0&&O(de)}function Te(te,de){var _e=te._controlledReadableStream;if(p(_e)===!0&&U(_e)>0)I(_e,de,!1);else{var $e=void 0;try{$e=te._strategySizeAlgorithm(de)}catch(He){throw ye(te,He),He}try{ba(te,de,$e)}catch(He){throw ye(te,He),He}}ie(te)}function Ne(te,de){var _e=te._controlledReadableStream;Gi(te),A(_e,de)}function ye(te,de){te._controlledReadableStream._state==="readable"&&Ne(te,de)}function ce(te){var de=te._controlledReadableStream._state;return de==="errored"?null:de==="closed"?0:te._strategyHWM-te._queueTotalSize}function xe(te){return be(te)!==!0}function oe(te){var de=te._controlledReadableStream._state;return te._closeRequested===!1&&de==="readable"}function J(te,de,_e,$e,He,Xe,wt){de._controlledReadableStream=te,de._queue=void 0,de._queueTotalSize=void 0,Gi(de),de._started=!1,de._closeRequested=!1,de._pullAgain=!1,de._pulling=!1,de._strategySizeAlgorithm=wt,de._strategyHWM=Xe,de._pullAlgorithm=$e,de._cancelAlgorithm=He,te._readableStreamController=de;var Bt=_e();Promise.resolve(Bt).then(function(){de._started=!0,ie(de)},function(ir){ye(de,ir)}).catch(wr)}function le(te,de,_e,$e){var He=Object.create(ou.prototype),Xe=ze(de,"pull",0,[He]),wt=ze(de,"cancel",1,[]);J(te,He,function(){return Ye(de,"start",[He])},Xe,wt,_e,$e)}function pe(te){return!!_n(te)&&!!Object.prototype.hasOwnProperty.call(te,"_controlledReadableByteStream")}function L(te){return!!_n(te)&&!!Object.prototype.hasOwnProperty.call(te,"_associatedReadableByteStreamController")}function P(te){W(te)!==!1&&(te._pulling!==!0?(te._pulling=!0,te._pullAlgorithm().then(function(){te._pulling=!1,te._pullAgain===!0&&(te._pullAgain=!1,P(te))},function(de){te._controlledReadableByteStream._state==="readable"&&x(te,de)}).catch(wr)):te._pullAgain=!0)}function m(te){Y(te),te._pendingPullIntos=[]}function b(te,de){var _e=!1;te._state==="closed"&&(_e=!0);var $e=v(de);de.readerType==="default"?I(te,$e,_e):T(te,$e,_e)}function v(te){var de=te.bytesFilled,_e=te.elementSize;return new te.ctor(te.buffer,te.byteOffset,de/_e)}function j(te,de,_e,$e){te._queue.push({buffer:de,byteOffset:_e,byteLength:$e}),te._queueTotalSize+=$e}function V(te,de){var _e=de.elementSize,$e=de.bytesFilled-de.bytesFilled%_e,He=Math.min(te._queueTotalSize,de.byteLength-de.bytesFilled),Xe=de.bytesFilled+He,wt=Xe-Xe%_e,Bt=He,ir=!1;wt>$e&&(Bt=wt-de.bytesFilled,ir=!0);for(var jr=te._queue;Bt>0;){var Yt=jr[0],Sr=Math.min(Bt,Yt.byteLength),oi=de.byteOffset+de.bytesFilled;Ae(de.buffer,oi,Yt.buffer,Yt.byteOffset,Sr),Yt.byteLength===Sr?jr.shift():(Yt.byteOffset+=Sr,Yt.byteLength-=Sr),te._queueTotalSize-=Sr,q(te,Sr,de),Bt-=Sr}return ir}function q(te,de,_e){Y(te),_e.bytesFilled+=de}function G(te){te._queueTotalSize===0&&te._closeRequested===!0?O(te._controlledReadableByteStream):P(te)}function Y(te){te._byobRequest!==void 0&&(te._byobRequest._associatedReadableByteStreamController=void 0,te._byobRequest._view=void 0,te._byobRequest=void 0)}function ee(te){for(;te._pendingPullIntos.length>0;){if(te._queueTotalSize===0)return;var de=te._pendingPullIntos[0];V(te,de)===!0&&(k(te),b(te._controlledReadableByteStream,de))}}function ae(te,de){var _e=te._controlledReadableByteStream,$e=1;de.constructor!==DataView&&($e=de.constructor.BYTES_PER_ELEMENT);var He=de.constructor,Xe={buffer:at(de.buffer),byteOffset:de.byteOffset,byteLength:de.byteLength,bytesFilled:0,elementSize:$e,ctor:He,readerType:"byob"};if(te._pendingPullIntos.length>0)return te._pendingPullIntos.push(Xe),_(_e);if(_e._state==="closed"){var wt=new de.constructor(Xe.buffer,Xe.byteOffset,0);return Promise.resolve(De(wt,!0))}if(te._queueTotalSize>0){if(V(te,Xe)===!0){var Bt=v(Xe);return G(te),Promise.resolve(De(Bt,!1))}if(te._closeRequested===!0){var ir=new TypeError("Insufficient bytes to fill elements in the given buffer");return x(te,ir),Promise.reject(ir)}}te._pendingPullIntos.push(Xe);var jr=_(_e);return P(te),jr}function ve(te,de){de.buffer=at(de.buffer);var _e=te._controlledReadableByteStream;if(H(_e)===!0)for(;D(_e)>0;)b(_e,k(te))}function me(te,de,_e){if(_e.bytesFilled+de>_e.byteLength)throw new RangeError("bytesWritten out of range");if(q(te,de,_e),!(_e.bytesFilled<_e.elementSize)){k(te);var $e=_e.bytesFilled%_e.elementSize;if($e>0){var He=_e.byteOffset+_e.bytesFilled,Xe=_e.buffer.slice(He-$e,He);j(te,Xe,0,Xe.byteLength)}_e.buffer=at(_e.buffer),_e.bytesFilled-=$e,b(te._controlledReadableByteStream,_e),ee(te)}}function Ee(te,de){var _e=te._pendingPullIntos[0];if(te._controlledReadableByteStream._state==="closed"){if(de!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");ve(te,_e)}else me(te,de,_e)}function k(te){var de=te._pendingPullIntos.shift();return Y(te),de}function W(te){var de=te._controlledReadableByteStream;return de._state==="readable"&&te._closeRequested!==!0&&te._started!==!1&&(N(de)===!0&&U(de)>0||H(de)===!0&&D(de)>0||z(te)>0)}function M(te){var de=te._controlledReadableByteStream;if(te._queueTotalSize>0)te._closeRequested=!0;else{if(te._pendingPullIntos.length>0&&te._pendingPullIntos[0].bytesFilled>0){var _e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw x(te,_e),_e}O(de)}}function S(te,de){var _e=te._controlledReadableByteStream,$e=de.buffer,He=de.byteOffset,Xe=de.byteLength,wt=at($e);N(_e)===!0?U(_e)===0?j(te,wt,He,Xe):I(_e,new Uint8Array(wt,He,Xe),!1):H(_e)===!0?(j(te,wt,He,Xe),ee(te)):j(te,wt,He,Xe)}function x(te,de){var _e=te._controlledReadableByteStream;m(te),Gi(te),A(_e,de)}function z(te){var de=te._controlledReadableByteStream._state;return de==="errored"?null:de==="closed"?0:te._strategyHWM-te._queueTotalSize}function ue(te,de){if(de=Number(de),Be(de)===!1)throw new RangeError("bytesWritten must be a finite");Ee(te,de)}function ge(te,de){var _e=te._pendingPullIntos[0];if(_e.byteOffset+_e.bytesFilled!==de.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(_e.byteLength!==de.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");_e.buffer=de.buffer,Ee(te,de.byteLength)}function we(te,de,_e,$e,He,Xe,wt){de._controlledReadableByteStream=te,de._pullAgain=!1,de._pulling=!1,m(de),de._queue=de._queueTotalSize=void 0,Gi(de),de._closeRequested=!1,de._started=!1,de._strategyHWM=qe(Xe),de._pullAlgorithm=$e,de._cancelAlgorithm=He,de._autoAllocateChunkSize=wt,de._pendingPullIntos=[],te._readableStreamController=de;var Bt=_e();Promise.resolve(Bt).then(function(){de._started=!0,P(de)},function(ir){te._state==="readable"&&x(de,ir)}).catch(wr)}function Me(te,de,_e){var $e=Object.create(Cl.prototype),He=ze(de,"pull",0,[$e]),Xe=ze(de,"cancel",1,[]),wt=de.autoAllocateChunkSize;if(wt!==void 0&&(Number.isInteger(wt)===!1||wt<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");we(te,$e,function(){return Ye(de,"start",[$e])},He,Xe,_e,wt)}function Ue(te,de,_e){te._associatedReadableByteStreamController=de,te._view=_e}function Ge(te){return new TypeError("ReadableStream.prototype."+te+" can only be used on a ReadableStream")}function We(te){return new TypeError("Cannot "+te+" a stream using a released reader")}function lt(te){return new TypeError("ReadableStreamDefaultReader.prototype."+te+" can only be used on a ReadableStreamDefaultReader")}function Wr(te){te._closedPromise=new Promise(function(de,_e){te._closedPromise_resolve=de,te._closedPromise_reject=_e})}function gr(te,de){te._closedPromise=Promise.reject(de),te._closedPromise_resolve=void 0,te._closedPromise_reject=void 0}function $r(te){te._closedPromise=Promise.resolve(void 0),te._closedPromise_resolve=void 0,te._closedPromise_reject=void 0}function zt(te,de){te._closedPromise_reject(de),te._closedPromise_resolve=void 0,te._closedPromise_reject=void 0}function mr(te,de){te._closedPromise=Promise.reject(de)}function Nr(te){te._closedPromise_resolve(void 0),te._closedPromise_resolve=void 0,te._closedPromise_reject=void 0}function kr(te){return new TypeError("ReadableStreamBYOBReader.prototype."+te+" can only be used on a ReadableStreamBYOBReader")}function xn(te){return new TypeError("ReadableStreamDefaultController.prototype."+te+" can only be used on a ReadableStreamDefaultController")}function At(te){return new TypeError("ReadableStreamBYOBRequest.prototype."+te+" can only be used on a ReadableStreamBYOBRequest")}function B(te){return new TypeError("ReadableByteStreamController.prototype."+te+" can only be used on a ReadableByteStreamController")}function re(te){try{Promise.prototype.then.call(te,void 0,function(){})}catch{}}var Se=function(){function te(de,_e){for(var $e=0;$e<_e.length;$e++){var He=_e[$e];He.enumerable=He.enumerable||!1,He.configurable=!0,"value"in He&&(He.writable=!0),Object.defineProperty(de,He.key,He)}}return function(de,_e,$e){return _e&&te(de.prototype,_e),$e&&te(de,$e),de}}();r("better-assert");var Fe=r("./helpers.js"),Ae=Fe.ArrayBufferCopy,ze=Fe.CreateAlgorithmFromUnderlyingMethod,De=Fe.CreateIterResultObject,Be=Fe.IsFiniteNonNegativeNumber,Ye=Fe.InvokeOrNoop,Dt=Fe.IsDetachedBuffer,at=Fe.TransferArrayBuffer,qe=Fe.ValidateAndNormalizeHighWaterMark;Fe.IsNonNegativeNumber;var _s=Fe.MakeSizeAlgorithmFromSizeFunction,ke=Fe.createArrayFromList,_n=Fe.typeIsObject,vr=r("./utils.js"),wr=vr.rethrowAssertionErrorRejection,ji=r("./queue-with-sizes.js"),Tt=ji.DequeueValue,ba=ji.EnqueueValueWithSize,Gi=ji.ResetQueue,or=r("./writable-stream.js"),so=or.AcquireWritableStreamDefaultWriter,su=or.IsWritableStream,Xr=or.IsWritableStreamLocked,Ci=or.WritableStreamAbort,un=or.WritableStreamDefaultWriterCloseWithErrorPropagation,zi=or.WritableStreamDefaultWriterRelease,cn=or.WritableStreamDefaultWriterWrite,Na=or.WritableStreamCloseQueuedOrInFlight,en=Symbol("[[CancelSteps]]"),gs=Symbol("[[PullSteps]]"),ja=function(){function te(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$e=_e.size,He=_e.highWaterMark;s(this,te),d(this);var Xe=de.type;if(String(Xe)==="bytes"){if(He===void 0&&(He=0),He=qe(He),$e!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");Me(this,de,He)}else{if(Xe!==void 0)throw new RangeError("Invalid type is specified");He===void 0&&(He=1),le(this,de,He=qe(He),_s($e))}}return Se(te,[{key:"cancel",value:function(_e){return f(this)===!1?Promise.reject(Ge("cancel")):p(this)===!0?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):w(this,_e)}},{key:"getReader",value:function(){var _e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).mode;if(f(this)===!1)throw Ge("getReader");if(_e===void 0)return u(this);if((_e=String(_e))==="byob")return o(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(_e,$e){var He=_e.writable,Xe=_e.readable;if(He===void 0||Xe===void 0)throw new TypeError("readable and writable arguments must be defined");return re(this.pipeTo(He,$e)),Xe}},{key:"pipeTo",value:function(_e){var $e=this,He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Xe=He.preventClose,wt=He.preventAbort,Bt=He.preventCancel;if(f(this)===!1)return Promise.reject(Ge("pipeTo"));if(su(_e)===!1)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(Xe=!!Xe,wt=!!wt,Bt=!!Bt,p(this)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(Xr(_e)===!0)return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var ir=u(this),jr=so(_e),Yt=!1,Sr=Promise.resolve();return new Promise(function(oi,Hn){function Rn(){return Yt===!0?Promise.resolve():jr._readyPromise.then(function(){return Q(ir).then(function(Wt){var mn=Wt.value;Wt.done!==!0&&(Sr=cn(jr,mn).catch(function(){}))})}).then(Rn)}function ui(){var Wt=Sr;return Sr.then(function(){return Wt!==Sr?ui():void 0})}function Ma(Wt,mn,uo){Wt._state==="errored"?uo(Wt._storedError):mn.catch(uo).catch(wr)}function gn(Wt,mn,uo){function uu(){Wt().then(function(){return fc(mn,uo)},function(gy){return fc(!0,gy)}).catch(wr)}Yt!==!0&&(Yt=!0,_e._state==="writable"&&Na(_e)===!1?ui().then(uu):uu())}function oo(Wt,mn){Yt!==!0&&(Yt=!0,_e._state==="writable"&&Na(_e)===!1?ui().then(function(){return fc(Wt,mn)}).catch(wr):fc(Wt,mn))}function fc(Wt,mn){zi(jr),$(ir),Wt?Hn(mn):oi(void 0)}if(Ma($e,ir._closedPromise,function(Wt){wt===!1?gn(function(){return Ci(_e,Wt)},!0,Wt):oo(!0,Wt)}),Ma(_e,jr._closedPromise,function(Wt){Bt===!1?gn(function(){return w($e,Wt)},!0,Wt):oo(!0,Wt)}),function(mn,uo,uu){mn._state==="closed"?uu():uo.then(uu).catch(wr)}($e,ir._closedPromise,function(){Xe===!1?gn(function(){return un(jr)}):oo()}),Na(_e)===!0||_e._state==="closed"){var hc=new TypeError("the destination writable stream closed before all data could be piped to it");Bt===!1?gn(function(){return w($e,hc)},!0,hc):oo(!0,hc)}Rn().catch(function(Wt){Sr=Promise.resolve(),wr(Wt)})})}},{key:"tee",value:function(){if(f(this)===!1)throw Ge("tee");var _e=y(this);return ke(_e)}},{key:"locked",get:function(){if(f(this)===!1)throw Ge("locked");return p(this)}}]),te}();n.exports={CreateReadableByteStream:l,CreateReadableStream:c,ReadableStream:ja,IsReadableStreamDisturbed:h,ReadableStreamDefaultControllerClose:he,ReadableStreamDefaultControllerEnqueue:Te,ReadableStreamDefaultControllerError:Ne,ReadableStreamDefaultControllerGetDesiredSize:ce,ReadableStreamDefaultControllerHasBackpressure:xe,ReadableStreamDefaultControllerCanCloseOrEnqueue:oe};var si=function(){function te(de){if(s(this,te),f(de)===!1)throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(p(de)===!0)throw new TypeError("This stream has already been locked for exclusive reading by another reader");X(this,de),this._readRequests=[]}return Se(te,[{key:"cancel",value:function(_e){return F(this)===!1?Promise.reject(lt("cancel")):this._ownerReadableStream===void 0?Promise.reject(We("cancel")):ne(this,_e)}},{key:"read",value:function(){return F(this)===!1?Promise.reject(lt("read")):this._ownerReadableStream===void 0?Promise.reject(We("read from")):Q(this)}},{key:"releaseLock",value:function(){if(F(this)===!1)throw lt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");$(this)}}},{key:"closed",get:function(){return F(this)===!1?Promise.reject(lt("closed")):this._closedPromise}}]),te}(),Vn=function(){function te(de){if(s(this,te),!f(de))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(pe(de._readableStreamController)===!1)throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(p(de))throw new TypeError("This stream has already been locked for exclusive reading by another reader");X(this,de),this._readIntoRequests=[]}return Se(te,[{key:"cancel",value:function(_e){return R(this)?this._ownerReadableStream===void 0?Promise.reject(We("cancel")):ne(this,_e):Promise.reject(kr("cancel"))}},{key:"read",value:function(_e){return R(this)?this._ownerReadableStream===void 0?Promise.reject(We("read from")):ArrayBuffer.isView(_e)?Dt(_e.buffer)===!0?Promise.reject(new TypeError("Cannot read into a view onto a detached ArrayBuffer")):_e.byteLength===0?Promise.reject(new TypeError("view must have non-zero byteLength")):C(this,_e):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(kr("read"))}},{key:"releaseLock",value:function(){if(!R(this))throw kr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");$(this)}}},{key:"closed",get:function(){return R(this)?this._closedPromise:Promise.reject(kr("closed"))}}]),te}(),ou=function(){function te(){throw s(this,te),new TypeError}return Se(te,[{key:"close",value:function(){if(se(this)===!1)throw xn("close");if(oe(this)===!1)throw new TypeError("The stream is not in a state that permits close");he(this)}},{key:"enqueue",value:function(_e){if(se(this)===!1)throw xn("enqueue");if(oe(this)===!1)throw new TypeError("The stream is not in a state that permits enqueue");return Te(this,_e)}},{key:"error",value:function(_e){if(se(this)===!1)throw xn("error");var $e=this._controlledReadableStream;if($e._state!=="readable")throw new TypeError("The stream is "+$e._state+" and so cannot be errored");Ne(this,_e)}},{key:en,value:function(_e){return Gi(this),this._cancelAlgorithm(_e)}},{key:gs,value:function(){var _e=this._controlledReadableStream;if(this._queue.length>0){var $e=Tt(this);return this._closeRequested===!0&&this._queue.length===0?O(_e):ie(this),Promise.resolve(De($e,!1))}var He=E(_e);return ie(this),He}},{key:"desiredSize",get:function(){if(se(this)===!1)throw xn("desiredSize");return ce(this)}}]),te}(),Ca=function(){function te(){throw s(this,te),new TypeError("ReadableStreamBYOBRequest cannot be used directly")}return Se(te,[{key:"respond",value:function(_e){if(L(this)===!1)throw At("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(Dt(this._view.buffer)===!0)throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");ue(this._associatedReadableByteStreamController,_e)}},{key:"respondWithNewView",value:function(_e){if(L(this)===!1)throw At("respond");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(_e))throw new TypeError("You can only respond with array buffer views");if(Dt(_e.buffer)===!0)throw new TypeError("The supplied view's buffer has been detached and so cannot be used as a response");ge(this._associatedReadableByteStreamController,_e)}},{key:"view",get:function(){if(L(this)===!1)throw At("view");return this._view}}]),te}(),Cl=function(){function te(){throw s(this,te),new TypeError("ReadableByteStreamController constructor cannot be used directly")}return Se(te,[{key:"close",value:function(){if(pe(this)===!1)throw B("close");if(this._closeRequested===!0)throw new TypeError("The stream has already been closed; do not close it again!");var _e=this._controlledReadableByteStream._state;if(_e!=="readable")throw new TypeError("The stream (in "+_e+" state) is not in the readable state and cannot be closed");M(this)}},{key:"enqueue",value:function(_e){if(pe(this)===!1)throw B("enqueue");if(this._closeRequested===!0)throw new TypeError("stream is closed or draining");var $e=this._controlledReadableByteStream._state;if($e!=="readable")throw new TypeError("The stream (in "+$e+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(_e))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");if(Dt(_e.buffer)===!0)throw new TypeError("Cannot enqueue a view onto a detached ArrayBuffer");S(this,_e)}},{key:"error",value:function(_e){if(pe(this)===!1)throw B("error");var $e=this._controlledReadableByteStream;if($e._state!=="readable")throw new TypeError("The stream is "+$e._state+" and so cannot be errored");x(this,_e)}},{key:en,value:function(_e){return this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0),Gi(this),this._cancelAlgorithm(_e)}},{key:gs,value:function(){var _e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var $e=this._queue.shift();this._queueTotalSize-=$e.byteLength,G(this);var He=void 0;try{He=new Uint8Array($e.buffer,$e.byteOffset,$e.byteLength)}catch(jr){return Promise.reject(jr)}return Promise.resolve(De(He,!1))}var Xe=this._autoAllocateChunkSize;if(Xe!==void 0){var wt=void 0;try{wt=new ArrayBuffer(Xe)}catch(jr){return Promise.reject(jr)}var Bt={buffer:wt,byteOffset:0,byteLength:Xe,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Bt)}var ir=E(_e);return P(this),ir}},{key:"byobRequest",get:function(){if(pe(this)===!1)throw B("byobRequest");if(this._byobRequest===void 0&&this._pendingPullIntos.length>0){var _e=this._pendingPullIntos[0],$e=new Uint8Array(_e.buffer,_e.byteOffset+_e.bytesFilled,_e.byteLength-_e.bytesFilled),He=Object.create(Ca.prototype);Ue(He,this,$e),this._byobRequest=He}return this._byobRequest}},{key:"desiredSize",get:function(){if(pe(this)===!1)throw B("desiredSize");return z(this)}}]),te}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"./writable-stream.js":15,"better-assert":16}],13:[function(r,n,a){function s(L,P){if(!(L instanceof P))throw new TypeError("Cannot call a class as a function")}function o(L,P,m){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){return 1},j=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,V=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){return 1},q=Object.create(le.prototype),G=void 0;u(q,new Promise(function(ee){G=ee}),b,v,j,V),p(q,Object.create(pe.prototype),P,m);var Y=L();return G(Y),q}function u(L,P,m,b,v,j){function V(){return P}L._writable=oe(V,function(G){return O(L,G)},function(){return T(L)},function(){return A(L)},m,b),L._readable=ie(V,function(){return I(L)},function(G){return d(L,G),Promise.resolve()},v,j),L._backpressure=void 0,L._backpressureChangePromise=void 0,L._backpressureChangePromise_resolve=void 0,f(L,!0),L._transformStreamController=void 0}function c(L){return!!$(L)&&!!Object.prototype.hasOwnProperty.call(L,"_transformStreamController")}function l(L,P){N("TransformStreamError()"),L._readable._state==="readable"&&Te(L._readable._readableStreamController,P),d(L,P)}function d(L,P){J(L._writable._writableStreamController,P),L._backpressure===!0&&f(L,!1)}function f(L,P){N("TransformStreamSetBackpressure() [backpressure = "+P+"]"),L._backpressureChangePromise!==void 0&&L._backpressureChangePromise_resolve(),L._backpressureChangePromise=new Promise(function(m){L._backpressureChangePromise_resolve=m}),L._backpressure=P}function h(L){return!!$(L)&&!!Object.prototype.hasOwnProperty.call(L,"_controlledTransformStream")}function p(L,P,m,b){P._controlledTransformStream=L,L._transformStreamController=P,P._transformAlgorithm=m,P._flushAlgorithm=b}function y(L,P){var m=Object.create(pe.prototype),b=function(q){try{return _(m,q),Promise.resolve()}catch(G){return Promise.reject(G)}},v=P.transform;if(v!==void 0){if(typeof v!="function")throw new TypeError("transform is not a method");b=function(q){return ne(v,P,[q,m]).catch(function(G){throw l(L,G),G})}}var j=X(P,"flush",0,[m]);p(L,m,b,j)}function _(L,P){N("TransformStreamDefaultControllerEnqueue()");var m=L._controlledTransformStream,b=m._readable._readableStreamController;if(ce(b)===!1)throw new TypeError("Readable side is not in a state that permits enqueue");try{he(b,P)}catch(v){throw d(m,v),m._readable._storedError}ye(b)!==m._backpressure&&f(m,!0)}function E(L,P){l(L._controlledTransformStream,P)}function w(L){N("TransformStreamDefaultControllerTerminate()");var P=L._controlledTransformStream,m=P._readable._readableStreamController;ce(m)===!0&&be(m),d(P,new TypeError("TransformStream terminated"))}function O(L,P){N("TransformStreamDefaultSinkWriteAlgorithm()");var m=L._transformStreamController;return L._backpressure===!0?L._backpressureChangePromise.then(function(){var b=L._writable;if(b._state==="erroring")throw b._storedError;return m._transformAlgorithm(P)}):m._transformAlgorithm(P)}function A(L){return l(L,new TypeError("Writable side aborted")),Promise.resolve()}function T(L){N("TransformStreamDefaultSinkCloseAlgorithm()");var P=L._readable;return L._transformStreamController._flushAlgorithm().then(function(){if(P._state==="errored")throw P._storedError;var m=P._readableStreamController;ce(m)===!0&&be(m)}).catch(function(m){throw l(L,m),P._storedError})}function I(L){return N("TransformStreamDefaultSourcePullAlgorithm()"),f(L,!1),L._backpressureChangePromise}function D(L){return new TypeError("TransformStreamDefaultController.prototype."+L+" can only be used on a TransformStreamDefaultController")}function U(L){return new TypeError("TransformStream.prototype."+L+" can only be used on a TransformStream")}var H=function(){function L(P,m){for(var b=0;b<m.length;b++){var v=m[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(P,v.key,v)}}return function(P,m,b){return m&&L(P.prototype,m),b&&L(P,b),P}}();r("better-assert");var N=r("debug")("streams:transform-stream:verbose"),R=r("./helpers.js"),F=R.InvokeOrNoop,X=R.CreateAlgorithmFromUnderlyingMethod,ne=R.PromiseCall,$=R.typeIsObject,C=R.ValidateAndNormalizeHighWaterMark;R.IsNonNegativeNumber;var Q=R.MakeSizeAlgorithmFromSizeFunction,se=r("./readable-stream.js"),ie=se.CreateReadableStream,be=se.ReadableStreamDefaultControllerClose,he=se.ReadableStreamDefaultControllerEnqueue,Te=se.ReadableStreamDefaultControllerError,Ne=se.ReadableStreamDefaultControllerGetDesiredSize,ye=se.ReadableStreamDefaultControllerHasBackpressure,ce=se.ReadableStreamDefaultControllerCanCloseOrEnqueue,xe=r("./writable-stream.js"),oe=xe.CreateWritableStream,J=xe.WritableStreamDefaultControllerErrorIfNeeded,le=function(){function L(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(s(this,L),P.readableType!==void 0)throw new RangeError("Invalid readable type specified");if(P.writableType!==void 0)throw new RangeError("Invalid writable type specified");var v=m.size,j=Q(v),V=m.highWaterMark;V===void 0&&(V=1),V=C(V);var q=b.size,G=Q(q),Y=b.highWaterMark;Y===void 0&&(Y=0),Y=C(Y);var ee=void 0;u(this,new Promise(function(ve){ee=ve}),V,j,Y,G),y(this,P);var ae=F(P,"start",[this._transformStreamController]);ee(ae)}return H(L,[{key:"readable",get:function(){if(c(this)===!1)throw U("readable");return this._readable}},{key:"writable",get:function(){if(c(this)===!1)throw U("writable");return this._writable}}]),L}(),pe=function(){function L(){throw s(this,L),new TypeError("TransformStreamDefaultController instances cannot be created directly")}return H(L,[{key:"enqueue",value:function(m){if(h(this)===!1)throw D("enqueue");_(this,m)}},{key:"error",value:function(m){if(h(this)===!1)throw D("error");E(this,m)}},{key:"terminate",value:function(){if(h(this)===!1)throw D("terminate");w(this)}},{key:"desiredSize",get:function(){if(h(this)===!1)throw D("desiredSize");var m=this._controlledTransformStream._readable._readableStreamController;return Ne(m)}}]),L}();n.exports={CreateTransformStream:o,TransformStream:le}},{"./helpers.js":10,"./readable-stream.js":12,"./writable-stream.js":15,"better-assert":16,debug:18}],14:[function(r,n,a){var s=r("better-assert");a.rethrowAssertionErrorRejection=function(o){o&&o.constructor===s.AssertionError&&setTimeout(function(){throw o},0)}},{"better-assert":16}],15:[function(r,n,a){function s(B,re){if(!(B instanceof re))throw new TypeError("Cannot call a class as a function")}function o(B){return new xn(B)}function u(B,re,Se,Fe){var Ae=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,ze=arguments.length>5&&arguments[5]!==void 0?arguments[5]:function(){return 1},De=Object.create(kr.prototype);return c(De),he(De,Object.create(At.prototype),B,re,Se,Fe,Ae,ze),De}function c(B){B._state="writable",B._storedError=void 0,B._writer=void 0,B._writableStreamController=void 0,B._writeRequests=[],B._inFlightWriteRequest=void 0,B._closeRequest=void 0,B._inFlightCloseRequest=void 0,B._pendingAbortRequest=void 0,B._backpressure=!1}function l(B){return!!Ue(B)&&!!Object.prototype.hasOwnProperty.call(B,"_writableStreamController")}function d(B){return B._writer!==void 0}function f(B,re){var Se=B._state;if(Se==="closed")return Promise.resolve(void 0);if(Se==="errored")return Promise.reject(B._storedError);var Fe=new TypeError("Requested to abort");if(B._pendingAbortRequest!==void 0)return Promise.reject(Fe);var Ae=!1;Se==="erroring"&&(Ae=!0,re=void 0);var ze=new Promise(function(De,Be){B._pendingAbortRequest={_resolve:De,_reject:Be,_reason:re,_wasAlreadyErroring:Ae}});return Ae===!1&&y(B,Fe),ze}function h(B){return new Promise(function(re,Se){var Fe={_resolve:re,_reject:Se};B._writeRequests.push(Fe)})}function p(B,re){x("WritableStreamDealWithRejection(stream, %o)",re),B._state!=="writable"?_(B):y(B,re)}function y(B,re){x("WritableStreamStartErroring(stream, %o)",re);var Se=B._writableStreamController;B._state="erroring",B._storedError=re;var Fe=B._writer;Fe!==void 0&&C(Fe,re),I(B)===!1&&Se._started===!0&&_(B)}function _(B){x("WritableStreamFinishErroring()"),B._state="errored",B._writableStreamController[Nr]();var re=B._storedError,Se=!0,Fe=!1,Ae=void 0;try{for(var ze,De=B._writeRequests[Symbol.iterator]();!(Se=(ze=De.next()).done);Se=!0)ze.value._reject(re)}catch(Ye){Fe=!0,Ae=Ye}finally{try{!Se&&De.return&&De.return()}finally{if(Fe)throw Ae}}if(B._writeRequests=[],B._pendingAbortRequest!==void 0){var Be=B._pendingAbortRequest;if(B._pendingAbortRequest=void 0,Be._wasAlreadyErroring===!0)return Be._reject(re),void H(B);B._writableStreamController[mr](Be._reason).then(function(){Be._resolve(),H(B)},function(Ye){Be._reject(Ye),H(B)})}else H(B)}function E(B){B._inFlightWriteRequest._resolve(void 0),B._inFlightWriteRequest=void 0}function w(B,re){B._inFlightWriteRequest._reject(re),B._inFlightWriteRequest=void 0,p(B,re)}function O(B){B._inFlightCloseRequest._resolve(void 0),B._inFlightCloseRequest=void 0,B._state==="erroring"&&(B._storedError=void 0,B._pendingAbortRequest!==void 0&&(B._pendingAbortRequest._resolve(),B._pendingAbortRequest=void 0)),B._state="closed";var re=B._writer;re!==void 0&&ee(re)}function A(B,re){B._inFlightCloseRequest._reject(re),B._inFlightCloseRequest=void 0,B._pendingAbortRequest!==void 0&&(B._pendingAbortRequest._reject(re),B._pendingAbortRequest=void 0),p(B,re)}function T(B){return B._closeRequest!==void 0||B._inFlightCloseRequest!==void 0}function I(B){return B._inFlightWriteRequest===void 0&&B._inFlightCloseRequest===void 0?(x("WritableStreamHasOperationMarkedInFlight() is false"),!1):(x("WritableStreamHasOperationMarkedInFlight() is true"),!0)}function D(B){B._inFlightCloseRequest=B._closeRequest,B._closeRequest=void 0}function U(B){B._inFlightWriteRequest=B._writeRequests.shift()}function H(B){x("WritableStreamRejectCloseAndClosedPromiseIfNeeded()"),B._closeRequest!==void 0&&(B._closeRequest._reject(B._storedError),B._closeRequest=void 0);var re=B._writer;re!==void 0&&(G(re,B._storedError),re._closedPromise.catch(function(){}))}function N(B,re){var Se=B._writer;Se!==void 0&&re!==B._backpressure&&(re===!0?k(Se):M(Se)),B._backpressure=re}function R(B){return!!Ue(B)&&!!Object.prototype.hasOwnProperty.call(B,"_ownerWritableStream")}function F(B,re){return f(B._ownerWritableStream,re)}function X(B){var re=B._ownerWritableStream,Se=re._state;if(Se==="closed"||Se==="errored")return Promise.reject(new TypeError("The stream (in "+Se+" state) is not in the writable state and cannot be closed"));var Fe=new Promise(function(Ae,ze){var De={_resolve:Ae,_reject:ze};re._closeRequest=De});return re._backpressure===!0&&Se==="writable"&&M(B),Ne(re._writableStreamController),Fe}function ne(B){var re=B._ownerWritableStream,Se=re._state;return T(re)===!0||Se==="closed"?Promise.resolve():Se==="errored"?Promise.reject(re._storedError):X(B)}function $(B,re){B._closedPromiseState==="pending"?G(B,re):Y(B,re),B._closedPromise.catch(function(){})}function C(B,re){x("WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, %o)",re),B._readyPromiseState==="pending"?Ee(B,re):W(B,re),B._readyPromise.catch(function(){})}function Q(B){var re=B._ownerWritableStream,Se=re._state;return Se==="errored"||Se==="erroring"?null:Se==="closed"?0:ce(re._writableStreamController)}function se(B){var re=B._ownerWritableStream,Se=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");C(B,Se),$(B,Se),re._writer=void 0,B._ownerWritableStream=void 0}function ie(B,re){var Se=B._ownerWritableStream,Fe=Se._writableStreamController,Ae=ye(Fe,re);if(Se!==B._ownerWritableStream)return Promise.reject(v("write to"));var ze=Se._state;if(ze==="errored")return Promise.reject(Se._storedError);if(T(Se)===!0||ze==="closed")return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if(ze==="erroring")return Promise.reject(Se._storedError);var De=h(Se);return xe(Fe,re,Ae),De}function be(B){return!!Ue(B)&&!!Object.prototype.hasOwnProperty.call(B,"_controlledWritableStream")}function he(B,re,Se,Fe,Ae,ze,De,Be){re._controlledWritableStream=B,B._writableStreamController=re,re._queue=void 0,re._queueTotalSize=void 0,zt(re),re._started=!1,re._strategySizeAlgorithm=Be,re._strategyHWM=De,re._writeAlgorithm=Fe,re._closeAlgorithm=Ae,re._abortAlgorithm=ze;var Ye=L(re);N(B,Ye);var Dt=Se();Promise.resolve(Dt).then(function(){re._started=!0,oe(re)},function(at){re._started=!0,p(B,at)}).catch(We)}function Te(B,re,Se,Fe){var Ae=Object.create(At.prototype),ze=ue(re,"write",1,[Ae]),De=ue(re,"close",0,[]),Be=ue(re,"abort",1,[]);he(B,Ae,function(){return ge(re,"start",[Ae])},ze,De,Be,Se,Fe)}function Ne(B){gr(B,"close",0),oe(B)}function ye(B,re){try{return B._strategySizeAlgorithm(re)}catch(Se){return J(B,Se),1}}function ce(B){return B._strategyHWM-B._queueTotalSize}function xe(B,re,Se){var Fe={chunk:re};try{gr(B,Fe,Se)}catch(ze){return void J(B,ze)}var Ae=B._controlledWritableStream;T(Ae)===!1&&Ae._state==="writable"&&N(Ae,L(B)),oe(B)}function oe(B){x("WritableStreamDefaultControllerAdvanceQueueIfNeeded()");var re=B._controlledWritableStream;if(B._started!==!1&&re._inFlightWriteRequest===void 0){var Se=re._state;if(Se!=="closed"&&Se!=="errored")if(Se!=="erroring"){if(B._queue.length!==0){var Fe=$r(B);Fe==="close"?le(B):pe(B,Fe.chunk)}}else _(re)}}function J(B,re){B._controlledWritableStream._state==="writable"&&P(B,re)}function le(B){var re=B._controlledWritableStream;D(re),Wr(B),B._closeAlgorithm().then(function(){O(re)},function(Se){A(re,Se)}).catch(We)}function pe(B,re){var Se=B._controlledWritableStream;U(Se),B._writeAlgorithm(re).then(function(){E(Se);var Fe=Se._state;if(Wr(B),T(Se)===!1&&Fe==="writable"){var Ae=L(B);N(Se,Ae)}oe(B)},function(Fe){w(Se,Fe)}).catch(We)}function L(B){return ce(B)<=0}function P(B,re){y(B._controlledWritableStream,re)}function m(B){return new TypeError("WritableStream.prototype."+B+" can only be used on a WritableStream")}function b(B){return new TypeError("WritableStreamDefaultWriter.prototype."+B+" can only be used on a WritableStreamDefaultWriter")}function v(B){return new TypeError("Cannot "+B+" a stream using a released writer")}function j(B){B._closedPromise=new Promise(function(re,Se){B._closedPromise_resolve=re,B._closedPromise_reject=Se,B._closedPromiseState="pending"})}function V(B,re){B._closedPromise=Promise.reject(re),B._closedPromise_resolve=void 0,B._closedPromise_reject=void 0,B._closedPromiseState="rejected"}function q(B){B._closedPromise=Promise.resolve(void 0),B._closedPromise_resolve=void 0,B._closedPromise_reject=void 0,B._closedPromiseState="resolved"}function G(B,re){B._closedPromise_reject(re),B._closedPromise_resolve=void 0,B._closedPromise_reject=void 0,B._closedPromiseState="rejected"}function Y(B,re){B._closedPromise=Promise.reject(re),B._closedPromiseState="rejected"}function ee(B){B._closedPromise_resolve(void 0),B._closedPromise_resolve=void 0,B._closedPromise_reject=void 0,B._closedPromiseState="resolved"}function ae(B){x("defaultWriterReadyPromiseInitialize()"),B._readyPromise=new Promise(function(re,Se){B._readyPromise_resolve=re,B._readyPromise_reject=Se}),B._readyPromiseState="pending"}function ve(B,re){x("defaultWriterReadyPromiseInitializeAsRejected(writer, %o)",re),B._readyPromise=Promise.reject(re),B._readyPromise_resolve=void 0,B._readyPromise_reject=void 0,B._readyPromiseState="rejected"}function me(B){x("defaultWriterReadyPromiseInitializeAsResolved()"),B._readyPromise=Promise.resolve(void 0),B._readyPromise_resolve=void 0,B._readyPromise_reject=void 0,B._readyPromiseState="fulfilled"}function Ee(B,re){x("defaultWriterReadyPromiseReject(writer, %o)",re),B._readyPromise_reject(re),B._readyPromise_resolve=void 0,B._readyPromise_reject=void 0,B._readyPromiseState="rejected"}function k(B){x("defaultWriterReadyPromiseReset()"),B._readyPromise=new Promise(function(re,Se){B._readyPromise_resolve=re,B._readyPromise_reject=Se}),B._readyPromiseState="pending"}function W(B,re){x("defaultWriterReadyPromiseResetToRejected(writer, %o)",re),B._readyPromise=Promise.reject(re),B._readyPromiseState="rejected"}function M(B){x("defaultWriterReadyPromiseResolve()"),B._readyPromise_resolve(void 0),B._readyPromise_resolve=void 0,B._readyPromise_reject=void 0,B._readyPromiseState="fulfilled"}var S=function(){function B(re,Se){for(var Fe=0;Fe<Se.length;Fe++){var Ae=Se[Fe];Ae.enumerable=Ae.enumerable||!1,Ae.configurable=!0,"value"in Ae&&(Ae.writable=!0),Object.defineProperty(re,Ae.key,Ae)}}return function(re,Se,Fe){return Se&&B(re.prototype,Se),Fe&&B(re,Fe),re}}();r("better-assert");var x=r("debug")("streams:writable-stream:verbose"),z=r("./helpers.js"),ue=z.CreateAlgorithmFromUnderlyingMethod,ge=z.InvokeOrNoop,we=z.ValidateAndNormalizeHighWaterMark;z.IsNonNegativeNumber;var Me=z.MakeSizeAlgorithmFromSizeFunction,Ue=z.typeIsObject,Ge=r("./utils.js"),We=Ge.rethrowAssertionErrorRejection,lt=r("./queue-with-sizes.js"),Wr=lt.DequeueValue,gr=lt.EnqueueValueWithSize,$r=lt.PeekQueueValue,zt=lt.ResetQueue,mr=Symbol("[[AbortSteps]]"),Nr=Symbol("[[ErrorSteps]]"),kr=function(){function B(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=Se.size,Ae=Se.highWaterMark,ze=Ae===void 0?1:Ae;if(s(this,B),c(this),re.type!==void 0)throw new RangeError("Invalid type is specified");var De=Me(Fe);Te(this,re,ze=we(ze),De)}return S(B,[{key:"abort",value:function(Se){return l(this)===!1?Promise.reject(m("abort")):d(this)===!0?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):f(this,Se)}},{key:"getWriter",value:function(){if(l(this)===!1)throw m("getWriter");return o(this)}},{key:"locked",get:function(){if(l(this)===!1)throw m("locked");return d(this)}}]),B}();n.exports={AcquireWritableStreamDefaultWriter:o,CreateWritableStream:u,IsWritableStream:l,IsWritableStreamLocked:d,WritableStream:kr,WritableStreamAbort:f,WritableStreamDefaultControllerErrorIfNeeded:J,WritableStreamDefaultWriterCloseWithErrorPropagation:ne,WritableStreamDefaultWriterRelease:se,WritableStreamDefaultWriterWrite:ie,WritableStreamCloseQueuedOrInFlight:T};var xn=function(){function B(re){if(s(this,B),l(re)===!1)throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(d(re)===!0)throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=re,re._writer=this;var Se=re._state;if(Se==="writable")T(re)===!1&&re._backpressure===!0?ae(this):me(this),j(this);else if(Se==="erroring")ve(this,re._storedError),this._readyPromise.catch(function(){}),j(this);else if(Se==="closed")me(this),q(this);else{var Fe=re._storedError;ve(this,Fe),this._readyPromise.catch(function(){}),V(this,Fe),this._closedPromise.catch(function(){})}}return S(B,[{key:"abort",value:function(Se){return R(this)===!1?Promise.reject(b("abort")):this._ownerWritableStream===void 0?Promise.reject(v("abort")):F(this,Se)}},{key:"close",value:function(){if(R(this)===!1)return Promise.reject(b("close"));var Se=this._ownerWritableStream;return Se===void 0?Promise.reject(v("close")):T(Se)===!0?Promise.reject(new TypeError("cannot close an already-closing stream")):X(this)}},{key:"releaseLock",value:function(){if(R(this)===!1)throw b("releaseLock");this._ownerWritableStream!==void 0&&se(this)}},{key:"write",value:function(Se){return R(this)===!1?Promise.reject(b("write")):this._ownerWritableStream===void 0?Promise.reject(v("write to")):ie(this,Se)}},{key:"closed",get:function(){return R(this)===!1?Promise.reject(b("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(R(this)===!1)throw b("desiredSize");if(this._ownerWritableStream===void 0)throw v("desiredSize");return Q(this)}},{key:"ready",get:function(){return R(this)===!1?Promise.reject(b("ready")):this._readyPromise}}]),B}(),At=function(){function B(){throw s(this,B),new TypeError("WritableStreamDefaultController cannot be constructed explicitly")}return S(B,[{key:"error",value:function(Se){if(be(this)===!1)throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");this._controlledWritableStream._state==="writable"&&P(this,Se)}},{key:mr,value:function(Se){return this._abortAlgorithm(Se)}},{key:Nr,value:function(){zt(this)}}]),B}()},{"./helpers.js":10,"./queue-with-sizes.js":11,"./utils.js":14,"better-assert":16,debug:18}],16:[function(r,n,a){(function(s){function o(d){if(!d){var f=c(),h=f[1],p=h.getFileName(),y=h.getLineNumber(),_=(_=l.readFileSync(p,"utf8")).split(`
`)[y-1].match(/assert\((.*)\)/)[1];throw new u({message:_,stackStartFunction:f[0].getFunction()})}}var u=r("assert").AssertionError,c=r("callsite"),l=r("fs");n.exports={}.NO_ASSERT?function(){}:o}).call(this,r("_process"))},{_process:4,assert:2,callsite:17,fs:3}],17:[function(r,n,a){n.exports=function(){var s=Error.prepareStackTrace;Error.prepareStackTrace=function(c,l){return l};var o=new Error;Error.captureStackTrace(o,arguments.callee);var u=o.stack;return Error.prepareStackTrace=s,u}},{}],18:[function(r,n,a){(function(s){function o(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(h){var p=this.useColors;if(h[0]=(p?"%c":"")+this.namespace+(p?" %c":" ")+h[0]+(p?"%c ":" ")+"+"+a.humanize(this.diff),p){var y="color: "+this.color;h.splice(1,0,y,"color: inherit");var _=0,E=0;h[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(_++,w==="%c"&&(E=_))}),h.splice(E,0,y)}}function c(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function l(h){try{h==null?a.storage.removeItem("debug"):a.storage.debug=h}catch{}}function d(){var h;try{h=a.storage.debug}catch{}return!h&&typeof s<"u"&&"env"in s&&(h={}.DEBUG),h}function f(){try{return window.localStorage}catch{}}a=n.exports=r("./debug"),a.log=c,a.formatArgs=u,a.save=l,a.load=d,a.useColors=o,a.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:f(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],a.formatters.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}},a.enable(d())}).call(this,r("_process"))},{"./debug":19,_process:4}],19:[function(r,n,a){function s(h){var p,y=0;for(p in h)y=(y<<5)-y+h.charCodeAt(p),y|=0;return a.colors[Math.abs(y)%a.colors.length]}function o(h){function p(){if(p.enabled){var _=p,E=+new Date,w=E-(y||E);_.diff=w,_.prev=y,_.curr=E,y=E;for(var O=new Array(arguments.length),A=0;A<O.length;A++)O[A]=arguments[A];O[0]=a.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");var T=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,function(I,D){if(I==="%%")return I;T++;var U=a.formatters[D];if(typeof U=="function"){var H=O[T];I=U.call(_,H),O.splice(T,1),T--}return I}),a.formatArgs.call(_,O),(p.log||a.log||console.log.bind(console)).apply(_,O)}}var y;return p.namespace=h,p.enabled=a.enabled(h),p.useColors=a.useColors(),p.color=s(h),p.destroy=u,typeof a.init=="function"&&a.init(p),a.instances.push(p),p}function u(){var h=a.instances.indexOf(this);return h!==-1&&(a.instances.splice(h,1),!0)}function c(h){a.save(h),a.names=[],a.skips=[];var p,y=(typeof h=="string"?h:"").split(/[\s,]+/),_=y.length;for(p=0;p<_;p++)y[p]&&((h=y[p].replace(/\*/g,".*?"))[0]==="-"?a.skips.push(new RegExp("^"+h.substr(1)+"$")):a.names.push(new RegExp("^"+h+"$")));for(p=0;p<a.instances.length;p++){var E=a.instances[p];E.enabled=a.enabled(E.namespace)}}function l(){a.enable("")}function d(h){if(h[h.length-1]==="*")return!0;var p,y;for(p=0,y=a.skips.length;p<y;p++)if(a.skips[p].test(h))return!1;for(p=0,y=a.names.length;p<y;p++)if(a.names[p].test(h))return!0;return!1}function f(h){return h instanceof Error?h.stack||h.message:h}a=n.exports=o.debug=o.default=o,a.coerce=f,a.disable=l,a.enable=c,a.enabled=d,a.humanize=r("ms"),a.instances=[],a.names=[],a.skips=[],a.formatters={}},{ms:20}],20:[function(r,n,a){function s(y){if(!((y=String(y)).length>100)){var _=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(y);if(_){var E=parseFloat(_[1]);switch((_[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return E*p;case"days":case"day":case"d":return E*h;case"hours":case"hour":case"hrs":case"hr":case"h":return E*f;case"minutes":case"minute":case"mins":case"min":case"m":return E*d;case"seconds":case"second":case"secs":case"sec":case"s":return E*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return E;default:return}}}}function o(y){return y>=h?Math.round(y/h)+"d":y>=f?Math.round(y/f)+"h":y>=d?Math.round(y/d)+"m":y>=l?Math.round(y/l)+"s":y+"ms"}function u(y){return c(y,h,"day")||c(y,f,"hour")||c(y,d,"minute")||c(y,l,"second")||y+" ms"}function c(y,_,E){if(!(y<_))return y<1.5*_?Math.floor(y/_)+" "+E:Math.ceil(y/_)+" "+E+"s"}var l=1e3,d=60*l,f=60*d,h=24*f,p=365.25*h;n.exports=function(y,_){_=_||{};var E=typeof y;if(E==="string"&&y.length>0)return s(y);if(E==="number"&&isNaN(y)===!1)return _.long?u(y):o(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))}},{}]},{},[1])(1)})}(wT)),wT.exports}const Vs=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Vs.writable=t=>Vs(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Vs.readable=t=>Vs(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Vs.duplex=t=>Vs.writable(t)&&Vs.readable(t);Vs.transform=t=>Vs.duplex(t)&&typeof t._transform=="function";var AF=Vs,xF={exports:{}};(function(t){t.exports=e,t.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function e(r){if(!t.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,a={};function s(c){a.data=d,a.end=d,a.end=f,a.close=f,a.error=f;for(var l in a)r.on(l,a[l]);r.pause();function d(h){n||(c.enqueue(h),r.pause())}function f(h){if(!n){n=!0;for(var p in a)r.removeListener(p,a[p]);h?c.error(h):c.close()}}}function o(){n||r.resume()}function u(){n=!0;for(var c in a)r.removeListener(c,a[c]);r.push(null),r.pause(),r.destroy?r.destroy():r.close&&r.close()}return new ReadableStream({start:s,pull:o,cancel:u})}})(xF);var tae=xF.exports;Object.defineProperty(km,"__esModule",{value:!0});km.ActorHttp=void 0;const rae=Je,nae=N0;globalThis.ReadableStream||(globalThis.ReadableStream=eae().ReadableStream);const iae=AF,aae=tae;class sae extends rae.Actor{constructor(e){super(e)}static toNodeReadable(e){return iae(e)||e===null?e:new nae.ReadableWebToNodeStream(e)}static toWebReadableStream(e){return aae(e)}static headersToHash(e){const r={};return e.forEach((n,a)=>{r[a]=n}),r}}km.ActorHttp=sae;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(km,t)})(fs);(function(t){(function(e){var r=typeof globalThis<"u"&&globalThis||typeof t<"u"&&t||typeof r<"u"&&r,n={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function a(R){return R&&DataView.prototype.isPrototypeOf(R)}if(n.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(R){return R&&s.indexOf(Object.prototype.toString.call(R))>-1};function u(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(R)||R==="")throw new TypeError('Invalid character in header field name: "'+R+'"');return R.toLowerCase()}function c(R){return typeof R!="string"&&(R=String(R)),R}function l(R){var F={next:function(){var X=R.shift();return{done:X===void 0,value:X}}};return n.iterable&&(F[Symbol.iterator]=function(){return F}),F}function d(R){this.map={},R instanceof d?R.forEach(function(F,X){this.append(X,F)},this):Array.isArray(R)?R.forEach(function(F){this.append(F[0],F[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(F){this.append(F,R[F])},this)}d.prototype.append=function(R,F){R=u(R),F=c(F);var X=this.map[R];this.map[R]=X?X+", "+F:F},d.prototype.delete=function(R){delete this.map[u(R)]},d.prototype.get=function(R){return R=u(R),this.has(R)?this.map[R]:null},d.prototype.has=function(R){return this.map.hasOwnProperty(u(R))},d.prototype.set=function(R,F){this.map[u(R)]=c(F)},d.prototype.forEach=function(R,F){for(var X in this.map)this.map.hasOwnProperty(X)&&R.call(F,this.map[X],X,this)},d.prototype.keys=function(){var R=[];return this.forEach(function(F,X){R.push(X)}),l(R)},d.prototype.values=function(){var R=[];return this.forEach(function(F){R.push(F)}),l(R)},d.prototype.entries=function(){var R=[];return this.forEach(function(F,X){R.push([X,F])}),l(R)},n.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function f(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function h(R){return new Promise(function(F,X){R.onload=function(){F(R.result)},R.onerror=function(){X(R.error)}})}function p(R){var F=new FileReader,X=h(F);return F.readAsArrayBuffer(R),X}function y(R){var F=new FileReader,X=h(F);return F.readAsText(R),X}function _(R){for(var F=new Uint8Array(R),X=new Array(F.length),ne=0;ne<F.length;ne++)X[ne]=String.fromCharCode(F[ne]);return X.join("")}function E(R){if(R.slice)return R.slice(0);var F=new Uint8Array(R.byteLength);return F.set(new Uint8Array(R)),F.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(R){this.bodyUsed=this.bodyUsed,this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:n.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:n.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():n.arrayBuffer&&n.blob&&a(R)?(this._bodyArrayBuffer=E(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||o(R))?this._bodyArrayBuffer=E(R):this._bodyText=R=Object.prototype.toString.call(R):this._bodyText="",this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var R=f(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var R=f(this);return R||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(p)}),this.text=function(){var R=f(this);if(R)return R;if(this._bodyBlob)return y(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function A(R){var F=R.toUpperCase();return O.indexOf(F)>-1?F:R}function T(R,F){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');F=F||{};var X=F.body;if(R instanceof T){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,F.headers||(this.headers=new d(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!X&&R._bodyInit!=null&&(X=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=F.credentials||this.credentials||"same-origin",(F.headers||!this.headers)&&(this.headers=new d(F.headers)),this.method=A(F.method||this.method||"GET"),this.mode=F.mode||this.mode||null,this.signal=F.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&X)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(X),(this.method==="GET"||this.method==="HEAD")&&(F.cache==="no-store"||F.cache==="no-cache")){var ne=/([?&])_=[^&]*/;if(ne.test(this.url))this.url=this.url.replace(ne,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function I(R){var F=new FormData;return R.trim().split("&").forEach(function(X){if(X){var ne=X.split("="),$=ne.shift().replace(/\+/g," "),C=ne.join("=").replace(/\+/g," ");F.append(decodeURIComponent($),decodeURIComponent(C))}}),F}function D(R){var F=new d,X=R.replace(/\r?\n[\t ]+/g," ");return X.split("\r").map(function(ne){return ne.indexOf(`
`)===0?ne.substr(1,ne.length):ne}).forEach(function(ne){var $=ne.split(":"),C=$.shift().trim();if(C){var Q=$.join(":").trim();F.append(C,Q)}}),F}w.call(T.prototype);function U(R,F){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');F||(F={}),this.type="default",this.status=F.status===void 0?200:F.status,this.ok=this.status>=200&&this.status<300,this.statusText=F.statusText===void 0?"":""+F.statusText,this.headers=new d(F.headers),this.url=F.url||"",this._initBody(R)}w.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},U.error=function(){var R=new U(null,{status:0,statusText:""});return R.type="error",R};var H=[301,302,303,307,308];U.redirect=function(R,F){if(H.indexOf(F)===-1)throw new RangeError("Invalid status code");return new U(null,{status:F,headers:{location:R}})},e.DOMException=r.DOMException;try{new e.DOMException}catch{e.DOMException=function(F,X){this.message=F,this.name=X;var ne=Error(F);this.stack=ne.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function N(R,F){return new Promise(function(X,ne){var $=new T(R,F);if($.signal&&$.signal.aborted)return ne(new e.DOMException("Aborted","AbortError"));var C=new XMLHttpRequest;function Q(){C.abort()}C.onload=function(){var ie={status:C.status,statusText:C.statusText,headers:D(C.getAllResponseHeaders()||"")};ie.url="responseURL"in C?C.responseURL:ie.headers.get("X-Request-URL");var be="response"in C?C.response:C.responseText;setTimeout(function(){X(new U(be,ie))},0)},C.onerror=function(){setTimeout(function(){ne(new TypeError("Network request failed"))},0)},C.ontimeout=function(){setTimeout(function(){ne(new TypeError("Network request failed"))},0)},C.onabort=function(){setTimeout(function(){ne(new e.DOMException("Aborted","AbortError"))},0)};function se(ie){try{return ie===""&&r.location.href?r.location.href:ie}catch{return ie}}C.open($.method,se($.url),!0),$.credentials==="include"?C.withCredentials=!0:$.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&(n.blob?C.responseType="blob":n.arrayBuffer&&$.headers.get("Content-Type")&&$.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(C.responseType="arraybuffer")),F&&typeof F.headers=="object"&&!(F.headers instanceof d)?Object.getOwnPropertyNames(F.headers).forEach(function(ie){C.setRequestHeader(ie,c(F.headers[ie]))}):$.headers.forEach(function(ie,be){C.setRequestHeader(be,ie)}),$.signal&&($.signal.addEventListener("abort",Q),C.onreadystatechange=function(){C.readyState===4&&$.signal.removeEventListener("abort",Q)}),C.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return N.polyfill=!0,r.fetch||(r.fetch=N,r.Headers=d,r.Request=T,r.Response=U),e.Headers=d,e.Request=T,e.Response=U,e.fetch=N,e})({})})(typeof self<"u"?self:g);var zm={};Object.defineProperty(zm,"__esModule",{value:!0});zm.FetchInitPreprocessor=void 0;const oae=fs;class uae{async handle(e){if(e.headers){const r=new Headers(e.headers);r.has("user-agent")&&r.delete("user-agent"),e.headers=r}if(e!=null&&e.headers&&"append"in e.headers&&(e.headers=oae.ActorHttp.headersToHash(e.headers)),e.body&&typeof e.body!="string"&&"getReader"in e.body){const r=e.body.getReader(),n=[];for(;;){const{done:a,value:s}=await r.read();if(a)break;n.push(s)}e.body=n.join("")}return{keepalive:!e.body,...e}}async createAbortController(){return new AbortController}}zm.FetchInitPreprocessor=uae;Object.defineProperty(Hm,"__esModule",{value:!0});Hm.ActorHttpFetch=void 0;const ST=fs,_o=qt,cae=zm;class Vb extends ST.ActorHttp{constructor(e){super(e),this.userAgent=Vb.createUserAgent(),this.fetchInitPreprocessor=new cae.FetchInitPreprocessor(e.agentOptions)}static createUserAgent(){return`Comunica/actor-http-fetch (${typeof globalThis.navigator>"u"?`Node.js ${process.version}; ${process.platform}`:`Browser-${globalThis.navigator.userAgent}`})`}async test(e){return{time:Number.POSITIVE_INFINITY}}static async getResponse(e,r,n,a,s,o){var l;let u,c=a+1;for(;c-- >0;)try{const d=await e(r,n);if(o&&d.status>=500&&d.status<600)throw new Error(`Server replied with response code ${d.status}: ${d.statusText}`);return d}catch(d){if(u=d,(l=n.signal)!=null&&l.aborted)throw d;c>0&&await new Promise((f,h)=>{var p;setTimeout(f,s),(p=n.signal)==null||p.addEventListener("abort",()=>{h(new Error("Fetch aborted by timeout."))})})}throw a>0?new Error(`Number of fetch retries (${a}) exceeded. Last error: ${String(u)}`):u}async run(e){var c,l,d,f,h,p,y,_;const r=((c=e.init)==null?void 0:c.headers)??{};e.init=e.init??{},e.init.headers=new Headers(r),e.init.headers.has("user-agent")||e.init.headers.append("user-agent",this.userAgent);const n=e.context.get(_o.KeysHttp.auth);n&&e.init.headers.append("Authorization",`Basic ${Buffer.from(n).toString("base64")}`),this.logInfo(e.context,`Requesting ${typeof e.input=="string"?e.input:e.input.url}`,()=>({headers:ST.ActorHttp.headersToHash(new Headers(e.init.headers)),method:e.init.method||"GET"})),(l=e.init)!=null&&l.headers&&"append"in e.init.headers&&e.context.has(_o.KeysHttp.fetch)&&(e.init.headers=ST.ActorHttp.headersToHash(e.init.headers));let a={...e.init};e.context.get(_o.KeysHttp.includeCredentials)&&(a.credentials="include");const s=(d=e.context)==null?void 0:d.get(_o.KeysHttp.httpTimeout);let o,u;if(s!==void 0){const E=await this.fetchInitPreprocessor.createAbortController();a.signal=E.signal,u=()=>E.abort(),o=setTimeout(()=>u(),s)}try{a=await this.fetchInitPreprocessor.handle(a);const E=((f=e.context)==null?void 0:f.get(_o.KeysHttp.httpRetryCount))??0,w=((h=e.context)==null?void 0:h.get(_o.KeysHttp.httpRetryDelay))??0,O=((p=e.context)==null?void 0:p.get(_o.KeysHttp.httpRetryOnServerError))??!1,A=(y=e.context)==null?void 0:y.get(_o.KeysHttp.fetch),T=await Vb.getResponse(A||fetch,e.input,a,E,w,O);return o!==void 0&&((((_=e.context)==null?void 0:_.get(_o.KeysHttp.httpBodyTimeout))||!1)&&T.body?(u=()=>{var D;return(D=T.body)==null?void 0:D.cancel(new Error(`HTTP timeout when reading the body of ${T.url}.
This error can be disabled by modifying the 'httpBodyTimeout' and/or 'httpTimeout' options.`))},T.body.on("close",()=>{clearTimeout(o)})):clearTimeout(o)),T.body&&!T.body.cancel&&(T.body.cancel=async I=>{T.body.destroy(I),o!==void 0&&clearTimeout(o)}),T}catch(E){throw o!==void 0&&clearTimeout(o),E}}}Hm.ActorHttpFetch=Vb;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Hm,t)})(pF);var RF={},Wm={},Xm={},Km={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.ActorDereferenceBase=Hs.isHardError=Hs.emptyReadable=void 0;const lae=qt,dae=Je,fae=Jt;function IF(){const t=new fae.Readable;return t.push(null),t}Hs.emptyReadable=IF;function PF(t){return!t.get(lae.KeysInitQuery.lenient)}Hs.isHardError=PF;class hae extends dae.Actor{constructor(e){super(e)}async dereferenceErrorHandler(e,r,n){if(PF(e.context))throw r;return this.logError(e.context,r.message),{...n,data:IF()}}}Hs.ActorDereferenceBase=hae;Object.defineProperty(Km,"__esModule",{value:!0});Km.ActorDereference=void 0;const pae=Hs;class yae extends pae.ActorDereferenceBase{constructor(e){super(e)}async handleDereferenceErrors(e,r,n,a=0){return this.dereferenceErrorHandler(e,r,{url:e.url,exists:!1,headers:n,requestTime:a})}}Km.ActorDereference=yae;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.ActorDereferenceParse=rf.getMediaTypeFromExtension=void 0;const bae=Jt,PN=Hs;function DF(t,e){const r=t.lastIndexOf(".");return r>=0&&(e==null?void 0:e[t.slice(r+1)])||""}rf.getMediaTypeFromExtension=DF;class _ae extends PN.ActorDereferenceBase{constructor(e){super(e)}async test(e){return!0}handleDereferenceStreamErrors(e,r){return(0,PN.isHardError)(e.context)||(r.on("error",n=>{this.logError(e.context,n.message,()=>({url:e.url})),r.push(null)}),r=r.pipe(new bae.PassThrough({objectMode:!0}))),r}async run(e){var s,o;const{context:r}=e,n=await this.mediatorDereference.mediate({...e,mediaTypes:async()=>{var u,c;return(c=await((u=this.mediatorParseMediatypes)==null?void 0:u.mediate({context:r,mediaTypes:!0})))==null?void 0:c.mediaTypes}});let a;try{a=(await this.mediatorParse.mediate({context:r,handle:{context:r,...n,metadata:await this.getMetadata(n)},handleMediaType:n.mediaType||DF(n.url,this.mediaMappings)||e.mediaType})).handle,a.data=this.handleDereferenceStreamErrors(e,a.data)}catch(u){await((o=(s=n.data).close)==null?void 0:o.call(s)),a=await this.dereferenceErrorHandler(e,u,{})}return{...n,...a}}}rf.ActorDereferenceParse=_ae;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Km,t),r(rf,t),r(Hs,t)})(Xm);Object.defineProperty(Wm,"__esModule",{value:!0});Wm.ActorDereferenceFallback=void 0;const gae=Xm;class mae extends gae.ActorDereference{constructor(e){super(e)}async test(e){return!0}async run(e){return this.handleDereferenceErrors(e,new Error(`Could not dereference '${e.url}'`))}}Wm.ActorDereferenceFallback=mae;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Wm,t)})(RF);var NF={},Jm={},Ol={},Ym={};Object.defineProperty(Ym,"__esModule",{value:!0});Ym.ActorRdfParse=void 0;const vae=wl;class wae extends vae.ActorAbstractMediaTyped{constructor(e){super(e)}}Ym.ActorRdfParse=wae;var Zm={};Object.defineProperty(Zm,"__esModule",{value:!0});Zm.ActorRdfParseFixedMediaTypes=void 0;const Sae=wl;class Tae extends Sae.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e){return!0}}Zm.ActorRdfParseFixedMediaTypes=Tae;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ym,t),r(Zm,t)})(Ol);Object.defineProperty(Jm,"__esModule",{value:!0});Jm.ActorRdfParseN3=void 0;const Eae=Ol,Oae=ru;class Aae extends Eae.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){var s;e.data.on("error",o=>a.emit("error",o));const a=e.data.pipe(new Oae.StreamParser({baseIRI:(s=e.metadata)==null?void 0:s.baseIRI,format:r.endsWith("n3")?r:`${r}*`}));return{data:a,metadata:{triples:r==="text/turtle"||r==="application/n-triples"||r==="text/n3"}}}}Jm.ActorRdfParseN3=Aae;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Jm,t)})(NF);var jF={},ev={},CF={},nf={},ll={},MF={};(function(t){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR=`	
\r ---`,t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z-----------",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9--",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,r=10,n=13,a=32;t.S_LIST=[a,r,n,e];function s(l){return l>=a&&l<=55295||l===r||l===n||l===e||l>=57344&&l<=65533||l>=65536&&l<=1114111}t.isChar=s;function o(l){return l===a||l===r||l===n||l===e}t.isS=o;function u(l){return l>=65&&l<=90||l>=97&&l<=122||l===58||l===95||l===8204||l===8205||l>=192&&l<=214||l>=216&&l<=246||l>=248&&l<=767||l>=880&&l<=893||l>=895&&l<=8191||l>=8304&&l<=8591||l>=11264&&l<=12271||l>=12289&&l<=55295||l>=63744&&l<=64975||l>=65008&&l<=65533||l>=65536&&l<=983039}t.isNameStartChar=u;function c(l){return u(l)||l>=48&&l<=57||l===45||l===46||l===183||l>=768&&l<=879||l>=8255&&l<=8256}t.isNameChar=c})(MF);var FF={};(function(t){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="---",t.RESTRICTED_CHAR="-\b\v\f---",t.S=` 	\r
`,t.NAME_START_CHAR=":A-Z_a-z-----------",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9--",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var e=9,r=10,n=13,a=32;t.S_LIST=[a,r,n,e];function s(f){return f>=1&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}t.isChar=s;function o(f){return f>=1&&f<=8||f===11||f===12||f>=14&&f<=31||f>=127&&f<=132||f>=134&&f<=159}t.isRestrictedChar=o;function u(f){return f===9||f===10||f===13||f>31&&f<127||f===133||f>159&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}t.isCharAndNotRestricted=u;function c(f){return f===a||f===r||f===n||f===e}t.isS=c;function l(f){return f>=65&&f<=90||f>=97&&f<=122||f===58||f===95||f===8204||f===8205||f>=192&&f<=214||f>=216&&f<=246||f>=248&&f<=767||f>=880&&f<=893||f>=895&&f<=8191||f>=8304&&f<=8591||f>=11264&&f<=12271||f>=12289&&f<=55295||f>=63744&&f<=64975||f>=65008&&f<=65533||f>=65536&&f<=983039}t.isNameStartChar=l;function d(f){return l(f)||f>=48&&f<=57||f===45||f===46||f===183||f>=768&&f<=879||f>=8255&&f<=8256}t.isNameChar=d})(FF);var LF={};(function(t){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z------------",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9--",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u");function e(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}t.isNCNameStartChar=e;function r(n){return e(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}t.isNCNameChar=r})(LF);Object.defineProperty(ll,"__esModule",{value:!0});ll.SaxesParser=ll.EVENTS=void 0;const Lf=MF,xae=FF,Jx=LF;var Mi=Lf.isS,Rae=Lf.isChar,ih=Lf.isNameStartChar,DN=Lf.isNameChar,BF=Lf.S_LIST,Iae=Lf.NAME_RE,Pae=xae.isChar,Dae=Jx.isNCNameStartChar,Nae=Jx.isNCNameChar,jae=Jx.NC_NAME_RE;const lb="http://www.w3.org/XML/1998/namespace",gd="http://www.w3.org/2000/xmlns/",Cae={__proto__:null,xml:lb,xmlns:gd},Mae={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Cr=-1,Ts=-2,NN=0,Fae=1,TT=2,Lae=3,Kl=4,Bae=5,$ae=6,Uae=7,ET=8,qae=9,Vae=10,Hae=11,kae=12,di=13,a1=14,OT=15,Qae=16,AT=17,Gae=18,zae=19,xT=20,Wae=21,Xae=22,Kae=23,jN=24,RT=25,s1=26,CN=27,Jae=28,Yae=29,MN=30,Zae=31,ese=32,Sc=33,tse=34,IT=35,ah=36,PT=37,rse=38,FN=39,LN=40,nse=41,BN=42,ise=43,ase=44,DT=9,qa=10,NT=13,$N=32,UN=33,$F=34,Wh=38,UF=39,o1=45,u1=47,sse=59,Iu=60,cd=61,ln=62,Cn=63,qF=91,ld=93,qN=133,VN=8232,c1=t=>t===$F||t===UF,VF=[$F,UF],ose=[...VF,qF,ln],use=[...VF,Iu,ld],cse=[cd,Cn,...BF],lse=[...BF,ln,Wh,Iu];function xO(t,e,r){switch(e){case"xml":r!==lb&&t.fail(`xml prefix must be bound to ${lb}.`);break;case"xmlns":r!==gd&&t.fail(`xmlns prefix must be bound to ${gd}.`);break}switch(r){case gd:t.fail(e===""?`the default namespace may not be set to ${r}.`:`may not assign a prefix (even "xmlns") to the URI ${gd}.`);break;case lb:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${r}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}break}}function dse(t,e){for(const r of Object.keys(e))xO(t,r,e[r])}const fse=t=>jae.test(t),hse=t=>Iae.test(t),Tc=0,HN=1,jT=2;ll.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const kN={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class pse{get closed(){return this._closed}constructor(e){this.opt=e??{},this.fragmentOpt=!!this.opt.fragment;const r=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,r){this.nameStartCheck=Dae,this.nameCheck=Nae,this.isName=fse,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},Cae);const n=this.opt.additionalNamespaces;n!=null&&(dse(this,n),Object.assign(this.ns,n))}else this.nameStartCheck=ih,this.nameCheck=DN,this.isName=hse,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var e;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Tc,this.attribList=[];const{fragmentOpt:r}=this;this.state=r?di:NN,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=r,this.xmlDeclPossible=!r,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:n}=this.opt;if(n===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");n="1.0"}this.setXMLVersion(n),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(Mae),(e=this.readyHandler)===null||e===void 0||e.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(e,r){this[kN[e]]=r}off(e){this[kN[e]]=void 0}makeError(e){var r;let n=(r=this.fileName)!==null&&r!==void 0?r:"";return this.trackPosition&&(n.length>0&&(n+=":"),n+=`${this.line}:${this.column}`),n.length>0&&(n+=": "),new Error(n+e)}fail(e){const r=this.makeError(e),n=this.errorHandler;if(n===void 0)throw r;return n(r),this}write(e){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let r=!1;e===null?(r=!0,e=""):typeof e=="object"&&(e=e.toString()),this.carriedFromPrevious!==void 0&&(e=`${this.carriedFromPrevious}${e}`,this.carriedFromPrevious=void 0);let n=e.length;const a=e.charCodeAt(n-1);!r&&(a===NT||a>=55296&&a<=56319)&&(this.carriedFromPrevious=e[n-1],n--,e=e.slice(0,n));const{stateTable:s}=this;for(this.chunk=e,this.i=0;this.i<n;)s[this.state].call(this);return this.chunkPosition+=n,r?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return Cr;const n=e.charCodeAt(r);if(this.column++,n<55296){if(n>=$N||n===DT)return n;switch(n){case qa:return this.line++,this.column=0,this.positionAtNewLine=this.position,qa;case NT:return e.charCodeAt(r+1)===qa&&(this.i=r+2),this.line++,this.column=0,this.positionAtNewLine=this.position,Ts;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const a=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,a>1114111&&this.fail("disallowed character."),a}getCode11(){const{chunk:e,i:r}=this;if(this.prevI=r,this.i=r+1,r>=e.length)return Cr;const n=e.charCodeAt(r);if(this.column++,n<55296){if(n>31&&n<127||n>159&&n!==VN||n===DT)return n;switch(n){case qa:return this.line++,this.column=0,this.positionAtNewLine=this.position,qa;case NT:{const s=e.charCodeAt(r+1);(s===qa||s===qN)&&(this.i=r+2)}case qN:case VN:return this.line++,this.column=0,this.positionAtNewLine=this.position,Ts;default:return this.fail("disallowed character."),n}}if(n>56319)return n>=57344&&n<=65533||this.fail("disallowed character."),n;const a=65536+(n-55296)*1024+(e.charCodeAt(r+1)-56320);return this.i=r+2,a>1114111&&this.fail("disallowed character."),a}getCodeNorm(){const e=this.getCode();return e===Ts?qa:e}unget(){this.i=this.prevI,this.column--}captureTo(e){let{i:r}=this;const{chunk:n}=this;for(;;){const a=this.getCode(),s=a===Ts,o=s?qa:a;if(o===Cr||e.includes(o))return this.text+=n.slice(r,this.prevI),o;s&&(this.text+=`${n.slice(r,this.prevI)}
`,r=this.i)}}captureToChar(e){let{i:r}=this;const{chunk:n}=this;for(;;){let a=this.getCode();switch(a){case Ts:this.text+=`${n.slice(r,this.prevI)}
`,r=this.i,a=qa;break;case Cr:return this.text+=n.slice(r),!1}if(a===e)return this.text+=n.slice(r,this.prevI),!0}}captureNameChars(){const{chunk:e,i:r}=this;for(;;){const n=this.getCode();if(n===Cr)return this.name+=e.slice(r),Cr;if(!DN(n))return this.name+=e.slice(r,this.prevI),n===Ts?qa:n}}skipSpaces(){for(;;){const e=this.getCodeNorm();if(e===Cr||!Mi(e))return e}}setXMLVersion(e){this.currentXMLVersion=e,e==="1.0"?(this.isChar=Rae,this.getCode=this.getCode10):(this.isChar=Pae,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=Fae}sBeginWhitespace(){const e=this.i,r=this.skipSpaces();switch(this.prevI!==e&&(this.xmlDeclPossible=!1),r){case Iu:if(this.state=OT,this.text.length!==0)throw new Error("no-empty text at start");break;case Cr:break;default:this.unget(),this.state=di,this.xmlDeclPossible=!1}}sDoctype(){var e;const r=this.captureTo(ose);switch(r){case ln:{(e=this.doctypeHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=di,this.doctype=!0;break}case Cr:break;default:this.text+=String.fromCodePoint(r),r===qF?this.state=Kl:c1(r)&&(this.state=Lae,this.q=r)}}sDoctypeQuote(){const e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.q=null,this.state=TT)}sDTD(){const e=this.captureTo(use);e!==Cr&&(this.text+=String.fromCodePoint(e),e===ld?this.state=TT:e===Iu?this.state=$ae:c1(e)&&(this.state=Bae,this.q=e))}sDTDQuoted(){const e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.state=Kl,this.q=null)}sDTDOpenWaka(){const e=this.getCodeNorm();switch(this.text+=String.fromCodePoint(e),e){case UN:this.state=Uae,this.openWakaBang="";break;case Cn:this.state=Hae;break;default:this.state=Kl}}sDTDOpenWakaBang(){const e=String.fromCodePoint(this.getCodeNorm()),r=this.openWakaBang+=e;this.text+=e,r!=="-"&&(this.state=r==="--"?ET:Kl,this.openWakaBang="")}sDTDComment(){this.captureToChar(o1)&&(this.text+="-",this.state=qae)}sDTDCommentEnding(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),this.state=e===o1?Vae:ET}sDTDCommentEnded(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===ln?this.state=Kl:(this.fail("malformed comment."),this.state=ET)}sDTDPI(){this.captureToChar(Cn)&&(this.text+="?",this.state=kae)}sDTDPIEnding(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===ln&&(this.state=Kl)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:e}=this;const{chunk:r}=this;e:for(;;)switch(this.getCode()){case Ts:this.entity+=`${r.slice(e,this.prevI)}
`,e=this.i;break;case sse:{const{entityReturnState:n}=this,a=this.entity+r.slice(e,this.prevI);this.state=n;let s;a===""?(this.fail("empty entity name."),s="&;"):(s=this.parseEntity(a),this.entity=""),(n!==di||this.textHandler!==void 0)&&(this.text+=s);break e}case Cr:this.entity+=r.slice(e);break e}}sOpenWaka(){const e=this.getCode();if(ih(e))this.state=tse,this.unget(),this.xmlDeclPossible=!1;else switch(e){case u1:this.state=ise,this.xmlDeclPossible=!1;break;case UN:this.state=Qae,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Cn:this.state=Kae;break;default:this.fail("disallowed character in tag name"),this.state=di,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=xT,this.openWakaBang="";break;case"--":this.state=AT,this.openWakaBang="";break;case"DOCTYPE":this.state=TT,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(o1)&&(this.state=Gae)}sCommentEnding(){var e;const r=this.getCodeNorm();r===o1?(this.state=zae,(e=this.commentHandler)===null||e===void 0||e.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(r)}`,this.state=AT)}sCommentEnded(){const e=this.getCodeNorm();e!==ln?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(e)}`,this.state=AT):this.state=di}sCData(){this.captureToChar(ld)&&(this.state=Wae)}sCDataEnding(){const e=this.getCodeNorm();e===ld?this.state=Xae:(this.text+=`]${String.fromCodePoint(e)}`,this.state=xT)}sCDataEnding2(){var e;const r=this.getCodeNorm();switch(r){case ln:{(e=this.cdataHandler)===null||e===void 0||e.call(this,this.text),this.text="",this.state=di;break}case ld:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(r)}`,this.state=xT}}sPIFirstChar(){const e=this.getCodeNorm();this.nameStartCheck(e)?(this.piTarget+=String.fromCodePoint(e),this.state=jN):e===Cn||Mi(e)?(this.fail("processing instruction without a target."),this.state=e===Cn?s1:RT):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e),this.state=jN)}sPIRest(){const{chunk:e,i:r}=this;for(;;){const n=this.getCodeNorm();if(n===Cr){this.piTarget+=e.slice(r);return}if(!this.nameCheck(n)){this.piTarget+=e.slice(r,this.prevI);const a=n===Cn;a||Mi(n)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=a?Sc:CN):this.state=a?s1:RT:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(n));break}}}sPIBody(){if(this.text.length===0){const e=this.getCodeNorm();e===Cn?this.state=s1:Mi(e)||(this.text=String.fromCodePoint(e))}else this.captureToChar(Cn)&&(this.state=s1)}sPIEnding(){var e;const r=this.getCodeNorm();if(r===ln){const{piTarget:n}=this;n.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(e=this.piHandler)===null||e===void 0||e.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=di}else r===Cn?this.text+="?":(this.text+=`?${String.fromCodePoint(r)}`,this.state=RT);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const e=this.skipSpaces();if(e===Cn){this.state=Sc;return}e!==Cr&&(this.state=Jae,this.name=String.fromCodePoint(e))}sXMLDeclName(){const e=this.captureTo(cse);if(e===Cn){this.state=Sc,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(Mi(e)||e===cd){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=e===cd?MN:Yae}}sXMLDeclEq(){const e=this.getCodeNorm();if(e===Cn){this.state=Sc,this.fail("XML declaration is incomplete.");return}Mi(e)||(e!==cd&&this.fail("value required."),this.state=MN)}sXMLDeclValueStart(){const e=this.getCodeNorm();if(e===Cn){this.state=Sc,this.fail("XML declaration is incomplete.");return}Mi(e)||(c1(e)?this.q=e:(this.fail("value must be quoted."),this.q=$N),this.state=Zae)}sXMLDeclValue(){const e=this.captureTo([this.q,Cn]);if(e===Cn){this.state=Sc,this.text="",this.fail("XML declaration is incomplete.");return}if(e===Cr)return;const r=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const n=r;this.xmlDecl.version=n,/^1\.[0-9]+$/.test(n)?this.opt.forceXMLVersion||this.setXMLVersion(n):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(r)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=r;break;case"standalone":r!=="yes"&&r!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=r;break}this.name="",this.state=ese}sXMLDeclSeparator(){const e=this.getCodeNorm();if(e===Cn){this.state=Sc;return}Mi(e)||(this.fail("whitespace required."),this.unget()),this.state=CN}sXMLDeclEnding(){var e;this.getCodeNorm()===ln?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(e=this.xmldeclHandler)===null||e===void 0||e.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=di):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var e;const r=this.captureNameChars();if(r===Cr)return;const n=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=n.ns=Object.create(null)),(e=this.openTagStartHandler)===null||e===void 0||e.call(this,n),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),r){case ln:this.openTag();break;case u1:this.state=IT;break;default:Mi(r)||this.fail("disallowed character in tag name."),this.state=ah}}sOpenTagSlash(){this.getCode()===ln?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=ah)}sAttrib(){const e=this.skipSpaces();e!==Cr&&(ih(e)?(this.unget(),this.state=PT):e===ln?this.openTag():e===u1?this.state=IT:this.fail("disallowed character in attribute name."))}sAttribName(){const e=this.captureNameChars();e===cd?this.state=FN:Mi(e)?this.state=rse:e===ln?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):e!==Cr&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const e=this.skipSpaces();switch(e){case Cr:return;case cd:this.state=FN;break;default:this.fail("attribute without value."),this.text="",this.name="",e===ln?this.openTag():ih(e)?(this.unget(),this.state=PT):(this.fail("disallowed character in attribute name."),this.state=ah)}}sAttribValue(){const e=this.getCodeNorm();c1(e)?(this.q=e,this.state=LN):Mi(e)||(this.fail("unquoted attribute value."),this.state=BN,this.unget())}sAttribValueQuoted(){const{q:e,chunk:r}=this;let{i:n}=this;for(;;)switch(this.getCode()){case e:this.pushAttrib(this.name,this.text+r.slice(n,this.prevI)),this.name=this.text="",this.q=null,this.state=nse;return;case Wh:this.text+=r.slice(n,this.prevI),this.state=a1,this.entityReturnState=LN;return;case qa:case Ts:case DT:this.text+=`${r.slice(n,this.prevI)} `,n=this.i;break;case Iu:this.text+=r.slice(n,this.prevI),this.fail("disallowed character.");return;case Cr:this.text+=r.slice(n);return}}sAttribValueClosed(){const e=this.getCodeNorm();Mi(e)?this.state=ah:e===ln?this.openTag():e===u1?this.state=IT:ih(e)?(this.fail("no whitespace between attributes."),this.unget(),this.state=PT):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const e=this.captureTo(lse);switch(e){case Wh:this.state=a1,this.entityReturnState=BN;break;case Iu:this.fail("disallowed character.");break;case Cr:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",e===ln?this.openTag():this.state=ah}}sCloseTag(){const e=this.captureNameChars();e===ln?this.closeTag():Mi(e)?this.state=ase:e!==Cr&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case ln:this.closeTag();break;case Cr:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:e,forbiddenState:r}=this;const{chunk:n,textHandler:a}=this;e:for(;;)switch(this.getCode()){case Iu:{if(this.state=OT,a!==void 0){const{text:s}=this,o=n.slice(e,this.prevI);s.length!==0?(a(s+o),this.text=""):o.length!==0&&a(o)}r=Tc;break e}case Wh:this.state=a1,this.entityReturnState=di,a!==void 0&&(this.text+=n.slice(e,this.prevI)),r=Tc;break e;case ld:switch(r){case Tc:r=HN;break;case HN:r=jT;break;case jT:break;default:throw new Error("impossible state")}break;case ln:r===jT&&this.fail('the string "]]>" is disallowed in char data.'),r=Tc;break;case Ts:a!==void 0&&(this.text+=`${n.slice(e,this.prevI)}
`),e=this.i,r=Tc;break;case Cr:a!==void 0&&(this.text+=n.slice(e));break e;default:r=Tc}this.forbiddenState=r}handleTextOutsideRoot(){let{i:e}=this;const{chunk:r,textHandler:n}=this;let a=!1;e:for(;;){const s=this.getCode();switch(s){case Iu:{if(this.state=OT,n!==void 0){const{text:o}=this,u=r.slice(e,this.prevI);o.length!==0?(n(o+u),this.text=""):u.length!==0&&n(u)}break e}case Wh:this.state=a1,this.entityReturnState=di,n!==void 0&&(this.text+=r.slice(e,this.prevI)),a=!0;break e;case Ts:n!==void 0&&(this.text+=`${r.slice(e,this.prevI)}
`),e=this.i;break;case Cr:n!==void 0&&(this.text+=r.slice(e));break e;default:Mi(s)||(a=!0)}}a&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(e,r){var n;const{prefix:a,local:s}=this.qname(e),o={name:e,prefix:a,local:s,value:r};if(this.attribList.push(o),(n=this.attributeHandler)===null||n===void 0||n.call(this,o),a==="xmlns"){const u=r.trim();this.currentXMLVersion==="1.0"&&u===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[s]=u,xO(this,s,u)}else if(e==="xmlns"){const u=r.trim();this.topNS[""]=u,xO(this,"",u)}}pushAttribPlain(e,r){var n;const a={name:e,value:r};this.attribList.push(a),(n=this.attributeHandler)===null||n===void 0||n.call(this,a)}end(){var e,r;this.sawRoot||this.fail("document must contain a root element.");const{tags:n}=this;for(;n.length>0;){const s=n.pop();this.fail(`unclosed tag: ${s.name}`)}this.state!==NN&&this.state!==di&&this.fail("unexpected end.");const{text:a}=this;return a.length!==0&&((e=this.textHandler)===null||e===void 0||e.call(this,a),this.text=""),this._closed=!0,(r=this.endHandler)===null||r===void 0||r.call(this),this._init(),this}resolve(e){var r,n;let a=this.topNS[e];if(a!==void 0)return a;const{tags:s}=this;for(let o=s.length-1;o>=0;o--)if(a=s[o].ns[e],a!==void 0)return a;return a=this.ns[e],a!==void 0?a:(n=(r=this.opt).resolvePrefix)===null||n===void 0?void 0:n.call(r,e)}qname(e){const r=e.indexOf(":");if(r===-1)return{prefix:"",local:e};const n=e.slice(r+1),a=e.slice(0,r);return(a===""||n===""||n.includes(":"))&&this.fail(`malformed name: ${e}.`),{prefix:a,local:n}}processAttribsNS(){var e;const{attribList:r}=this,n=this.tag;{const{prefix:o,local:u}=this.qname(n.name);n.prefix=o,n.local=u;const c=n.uri=(e=this.resolve(o))!==null&&e!==void 0?e:"";o!==""&&(o==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),c===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(o)}.`),n.uri=o))}if(r.length===0)return;const{attributes:a}=n,s=new Set;for(const o of r){const{name:u,prefix:c,local:l}=o;let d,f;c===""?(d=u==="xmlns"?gd:"",f=u):(d=this.resolve(c),d===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(c)}.`),d=c),f=`{${d}}${l}`),s.has(f)&&this.fail(`duplicate attribute: ${f}.`),s.add(f),o.uri=d,a[u]=o}this.attribList=[]}processAttribsPlain(){const{attribList:e}=this,r=this.tag.attributes;for(const{name:n,value:a}of e)r[n]!==void 0&&this.fail(`duplicate attribute: ${n}.`),r[n]=a;this.attribList=[]}openTag(){var e;this.processAttribs();const{tags:r}=this,n=this.tag;n.isSelfClosing=!1,(e=this.openTagHandler)===null||e===void 0||e.call(this,n),r.push(n),this.state=di,this.name=""}openSelfClosingTag(){var e,r,n;this.processAttribs();const{tags:a}=this,s=this.tag;s.isSelfClosing=!0,(e=this.openTagHandler)===null||e===void 0||e.call(this,s),(r=this.closeTagHandler)===null||r===void 0||r.call(this,s),(this.tag=(n=a[a.length-1])!==null&&n!==void 0?n:null)===null&&(this.closedRoot=!0),this.state=di,this.name=""}closeTag(){const{tags:e,name:r}=this;if(this.state=di,this.name="",r===""){this.fail("weird empty close tag."),this.text+="</>";return}const n=this.closeTagHandler;let a=e.length;for(;a-- >0;){const s=this.tag=e.pop();if(this.topNS=s.ns,n==null||n(s),s.name===r)break;this.fail("unexpected close tag.")}a===0?this.closedRoot=!0:a<0&&(this.fail(`unmatched closing tag: ${r}.`),this.text+=`</${r}>`)}parseEntity(e){if(e[0]!=="#"){const n=this.ENTITIES[e];return n!==void 0?n:(this.fail(this.isName(e)?"undefined entity.":"disallowed character in entity name."),`&${e};`)}let r=NaN;return e[1]==="x"&&/^#x[0-9a-f]+$/i.test(e)?r=parseInt(e.slice(2),16):/^#[0-9]+$/.test(e)&&(r=parseInt(e.slice(1),10)),this.isChar(r)?String.fromCodePoint(r):(this.fail("malformed character entity."),`&${e};`)}}ll.SaxesParser=pse;var tv={};Object.defineProperty(tv,"__esModule",{value:!0});tv.ParseError=void 0;let yse=class extends Error{constructor(e,r){const n=e.saxParser;super(e.trackPosition?`Line ${n.line} column ${n.column+1}: ${r}`:r)}};tv.ParseError=yse;var HF={},kF={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateIri=t.IriValidationStrategy=void 0;function e(){const u="[!$&'()*+,;=]",c="%[a-fA-F0-9]{2}",l="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",d=`${l}\\.${l}\\.${l}\\.${l}`,f="[a-fA-F0-9]{1,4}",h=`(${f}:${f}|${d})`,p=`((${f}:){6}${h}|::(${f}:){5}${h}|(${f})?::(${f}:){4}${h}|((${f}:){0,1}${f})?::(${f}:){3}${h}|((${f}:){0,2}${f})?::(${f}:){2}${h}|((${f}:){0,3}${f})?::${f}:${h}|((${f}:){0,4}${f})?::${h}|((${f}:){0,5}${f})?::${f}|((${f}:){0,6}${f})?::)`,y=`v[a-fA-F0-9]+\\.(${u}|${u}|":)+`,_=`\\[(${p}|${y})\\]`,E="[0-9]*",w="[a-zA-Z][a-zA-Z0-9+\\-.]*",A="[---]",D="[a-zA-Z0-9\\-._~-----------------]",U=`(${D}|${c}|${u}|[:@])*`,H=`(${U}|[\\/?])*`,N=`(${U}|${A}|[\\/?])*`,R=`(${U})+`,F=`(${U})*`,X="",ne=`${R}(\\/${F})*`,$=`\\/(${R}(\\/${F})*)?`,C=`(\\/${F})*`,Q=`(${D}|${c}|${u})*`,se=`(${_}|${d}|${Q})`,he=`(\\/\\/${`(${`(${D}|${c}|${u}|:)*`}@)?${se}(:${E})?`}${C}|${$}|${ne}|${X})`,Te=`^${w}:${he}(\\?${N})?(#${H})?$`;return new RegExp(Te,"u")}const r=e(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var a;(function(o){o.Strict="strict",o.Pragmatic="pragmatic",o.None="none"})(a=t.IriValidationStrategy||(t.IriValidationStrategy={}));function s(o,u=a.Strict){switch(u){case a.Strict:return r.test(o)?void 0:new Error(`Invalid IRI according to RFC 3987: '${o}'`);case a.Pragmatic:return n.test(o)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${o}'`);case a.None:return;default:return new Error(`Not supported validation strategy "${u}"`)}}t.validateIri=s})(kF);(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kF,t)})(HF);Object.defineProperty(nf,"__esModule",{value:!0});nf.ParseType=nf.RdfXmlParser=void 0;const QN=xa,bse=ll,GN=Jt,_se=tv,gse=ft,CT=HF;class er extends GN.Transform{constructor(e){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},e&&(Object.assign(this,e),this.options=e),this.dataFactory||(this.dataFactory=new gse.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?CT.IriValidationStrategy.Pragmatic:CT.IriValidationStrategy.None),this.saxParser=new bse.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(e){const r=new GN.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new er(this.options));return n}_transform(e,r,n){try{this.saxParser.write(e)}catch(a){return n(a)}n()}newParseError(e){return new _se.ParseError(this,e)}valueToUri(e,r){return this.uriToNamedNode((0,QN.resolve)(e,r.baseIRI))}uriToNamedNode(e){const r=(0,CT.validateIri)(e,this.iriValidationStrategy);if(r instanceof Error)throw this.newParseError(r.message);return this.dataFactory.namedNode(e)}validateNcname(e){if(!er.NCNAME_MATCHER.test(e))throw this.newParseError(`Not a valid NCName: ${e}`)}attachSaxListeners(){this.saxParser.on("error",e=>this.emit("error",e)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(e){const r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let n=Eo.RESOURCE;if(r&&(r.hadChildren=!0,n=r.childrenParseType),r&&r.childrenStringTags){const s=e.name;let o="";for(const d in e.attributes)o+=` ${d}="${e.attributes[d].value}"`;const c=`<${`${s}${o}`}>`;r.childrenStringTags.push(c);const l={childrenStringTags:r.childrenStringTags};l.childrenStringEmitClosingTag=`</${s}>`,this.activeTagStack.push(l);return}const a={};r?(a.language=r.language,a.baseIRI=r.baseIRI):a.baseIRI=this.baseIRI,this.activeTagStack.push(a),n===Eo.RESOURCE?this.onTagResource(e,a,r,!r):this.onTagProperty(e,a,r)}onTagResource(e,r,n,a){r.childrenParseType=Eo.PROPERTY;let s=!0;if(e.uri===er.RDF){if(!a&&er.FORBIDDEN_NODE_ELEMENTS.indexOf(e.local)>=0)throw this.newParseError(`Illegal node element name: ${e.local}`);switch(e.local){case"RDF":r.childrenParseType=Eo.RESOURCE;case"Description":s=!1}}const o=[],u=[];let c=null,l=!1,d=!1,f=null;for(const h in e.attributes){const p=e.attributes[h];if(n&&p.uri===er.RDF)switch(p.local){case"about":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${c} where found.`);c=p.value;continue;case"ID":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${c} where found.`);this.validateNcname(p.value),c="#"+p.value,l=!0;continue;case"nodeID":if(c)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${p.value} and ${c} where found.`);this.validateNcname(p.value),c=p.value,d=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":f=p.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(p.uri===er.XML){if(p.local==="lang"){r.language=p.value===""?null:p.value.toLowerCase();continue}else if(p.local==="base"){r.baseIRI=(0,QN.resolve)(p.value,r.baseIRI);continue}}p.prefix!=="xml"&&p.uri&&(o.push(this.uriToNamedNode(p.uri+p.local)),u.push(p.value))}if(c!==null&&(r.subject=d?this.dataFactory.blankNode(c):this.valueToUri(c,r),l&&this.claimNodeId(r.subject)),r.subject||(r.subject=this.dataFactory.blankNode()),s){const h=this.uriToNamedNode(e.uri+e.local);this.emitTriple(r.subject,this.dataFactory.namedNode(er.RDF+"type"),h,n?n.reifiedStatementId:null)}if(n){if(n.predicate)if(n.childrenCollectionSubject){const h=this.dataFactory.blankNode();this.emitTriple(n.childrenCollectionSubject,n.childrenCollectionPredicate,h,n.reifiedStatementId),this.emitTriple(h,this.dataFactory.namedNode(er.RDF+"first"),r.subject,r.reifiedStatementId),n.childrenCollectionSubject=h,n.childrenCollectionPredicate=this.dataFactory.namedNode(er.RDF+"rest")}else{this.emitTriple(n.subject,n.predicate,r.subject,n.reifiedStatementId);for(let h=0;h<n.predicateSubPredicates.length;h++)this.emitTriple(r.subject,n.predicateSubPredicates[h],n.predicateSubObjects[h],null);n.predicateSubPredicates=[],n.predicateSubObjects=[],n.predicateEmitted=!0}for(let h=0;h<o.length;h++){const p=this.dataFactory.literal(u[h],r.datatype||r.language);this.emitTriple(r.subject,o[h],p,n.reifiedStatementId)}f&&this.emitTriple(r.subject,this.dataFactory.namedNode(er.RDF+"type"),this.uriToNamedNode(f),null)}}onTagProperty(e,r,n){if(r.childrenParseType=Eo.RESOURCE,r.subject=n.subject,e.uri===er.RDF&&e.local==="li"?(n.listItemCounter||(n.listItemCounter=1),r.predicate=this.uriToNamedNode(e.uri+"_"+n.listItemCounter++)):r.predicate=this.uriToNamedNode(e.uri+e.local),e.uri===er.RDF&&er.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(e.local)>=0)throw this.newParseError(`Illegal property element name: ${e.local}`);r.predicateSubPredicates=[],r.predicateSubObjects=[];let a=!1,s=!1,o=null,u=!0;const c=[],l=[];for(const d in e.attributes){const f=e.attributes[d];if(f.uri===er.RDF)switch(f.local){case"resource":if(o)throw this.newParseError(`Found both rdf:resource (${f.value}) and rdf:nodeID (${o}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${f.value})`);r.hadChildren=!0,o=f.value,u=!1;continue;case"datatype":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${f.value}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${f.value})`);r.datatype=this.valueToUri(f.value,r);continue;case"nodeID":if(s)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${f.value}).`);if(r.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${f.value}).`);if(a)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${f.value})`);this.validateNcname(f.value),r.hadChildren=!0,o=f.value,u=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(s)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(r.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${r.datatype.value})`);if(o)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${o})`);if(f.value==="Resource"){a=!0,r.childrenParseType=Eo.PROPERTY;const h=this.dataFactory.blankNode();this.emitTriple(r.subject,r.predicate,h,r.reifiedStatementId),r.subject=h,r.predicate=null}else f.value==="Collection"?(a=!0,r.hadChildren=!0,r.childrenCollectionSubject=r.subject,r.childrenCollectionPredicate=r.predicate,u=!1):f.value==="Literal"&&(a=!0,r.childrenTagsToString=!0,r.childrenStringTags=[]);continue;case"ID":this.validateNcname(f.value),r.reifiedStatementId=this.valueToUri("#"+f.value,r),this.claimNodeId(r.reifiedStatementId);continue}else if(f.uri===er.XML&&f.local==="lang"){r.language=f.value===""?null:f.value.toLowerCase();continue}if(f.prefix!=="xml"&&f.prefix!=="xmlns"&&(f.prefix!==""||f.local!=="xmlns")&&f.uri){if(a||r.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${f.value}`);r.hadChildren=!0,s=!0,c.push(this.uriToNamedNode(f.uri+f.local)),l.push(this.dataFactory.literal(f.value,r.datatype||r.language))}}if(o!==null){const d=r.subject;r.subject=u?this.dataFactory.blankNode(o):this.valueToUri(o,r),this.emitTriple(d,r.predicate,r.subject,r.reifiedStatementId);for(let f=0;f<c.length;f++)this.emitTriple(r.subject,c[f],l[f],null);r.predicateEmitted=!0}else u&&(r.predicateSubPredicates=c,r.predicateSubObjects=l,r.predicateEmitted=!1)}emitTriple(e,r,n,a){this.push(this.dataFactory.quad(e,r,n,this.defaultGraph)),a&&(this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(er.RDF+"type"),this.dataFactory.namedNode(er.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(er.RDF+"subject"),e,this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(er.RDF+"predicate"),r,this.defaultGraph)),this.push(this.dataFactory.quad(a,this.dataFactory.namedNode(er.RDF+"object"),n,this.defaultGraph)))}claimNodeId(e){if(!this.allowDuplicateRdfIds){if(this.nodeIds[e.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${e.value}'.`);this.nodeIds[e.value]=!0}}onText(e){const r=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;r&&(r.childrenStringTags?r.childrenStringTags.push(e):r.predicate&&(r.text=e))}onCloseTag(){const e=this.activeTagStack.pop();if(e.childrenStringEmitClosingTag&&e.childrenStringTags.push(e.childrenStringEmitClosingTag),e.childrenTagsToString&&(e.datatype=this.dataFactory.namedNode(er.RDF+"XMLLiteral"),e.text=e.childrenStringTags.join(""),e.hadChildren=!1),e.childrenCollectionSubject)this.emitTriple(e.childrenCollectionSubject,e.childrenCollectionPredicate,this.dataFactory.namedNode(er.RDF+"nil"),e.reifiedStatementId);else if(e.predicate){if(!e.hadChildren&&e.childrenParseType!==Eo.PROPERTY)this.emitTriple(e.subject,e.predicate,this.dataFactory.literal(e.text||"",e.datatype||e.language),e.reifiedStatementId);else if(!e.predicateEmitted){const r=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,r,e.reifiedStatementId);for(let n=0;n<e.predicateSubPredicates.length;n++)this.emitTriple(r,e.predicateSubPredicates[n],e.predicateSubObjects[n],null)}}}onDoctype(e){e.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(r,n,a)=>(this.saxParser.ENTITIES[n]=a,""))}}nf.RdfXmlParser=er;er.MIME_TYPE="application/rdf+xml";er.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";er.XML="http://www.w3.org/XML/1998/namespace";er.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"];er.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"];er.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var Eo;(function(t){t[t.RESOURCE=0]="RESOURCE",t[t.PROPERTY=1]="PROPERTY"})(Eo||(nf.ParseType=Eo={}));(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nf,t)})(CF);Object.defineProperty(ev,"__esModule",{value:!0});ev.ActorRdfParseRdfXml=void 0;const mse=Ol,vse=CF;class wse extends mse.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){var s;e.data.on("error",o=>a.emit("error",o));const a=e.data.pipe(new vse.RdfXmlParser({baseIRI:(s=e.metadata)==null?void 0:s.baseIRI}));return{data:a,metadata:{triples:!0}}}}ev.ActorRdfParseRdfXml=wse;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ev,t)})(jF);var QF={},rv={},Yx={},GF={};Object.defineProperty(GF,"__esModule",{value:!0});var zF={};Object.defineProperty(zF,"__esModule",{value:!0});var WF={};Object.defineProperty(WF,"__esModule",{value:!0});var nv={},XF={},Np={},Zx={},Ko={},eR={};Object.defineProperty(eR,"__esModule",{value:!0});eR.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}));var tR={};Object.defineProperty(tR,"__esModule",{value:!0});tR.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}));var RO={};(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var r=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function n(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=r.get(s))!==null&&o!==void 0?o:s}t.replaceCodePoint=n;function a(s){return(0,t.fromCodePoint)(n(s))}t.default=a})(RO);(function(t){var e=g&&g.__createBinding||(Object.create?function(F,X,ne,$){$===void 0&&($=ne);var C=Object.getOwnPropertyDescriptor(X,ne);(!C||("get"in C?!X.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return X[ne]}}),Object.defineProperty(F,$,C)}:function(F,X,ne,$){$===void 0&&($=ne),F[$]=X[ne]}),r=g&&g.__setModuleDefault||(Object.create?function(F,X){Object.defineProperty(F,"default",{enumerable:!0,value:X})}:function(F,X){F.default=X}),n=g&&g.__importStar||function(F){if(F&&F.__esModule)return F;var X={};if(F!=null)for(var ne in F)ne!=="default"&&Object.prototype.hasOwnProperty.call(F,ne)&&e(X,F,ne);return r(X,F),X},a=g&&g.__importDefault||function(F){return F&&F.__esModule?F:{default:F}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var s=a(eR);t.htmlDecodeTree=s.default;var o=a(tR);t.xmlDecodeTree=o.default;var u=n(RO);t.decodeCodePoint=u.default;var c=RO;Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return c.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return c.fromCodePoint}});var l;(function(F){F[F.NUM=35]="NUM",F[F.SEMI=59]="SEMI",F[F.EQUALS=61]="EQUALS",F[F.ZERO=48]="ZERO",F[F.NINE=57]="NINE",F[F.LOWER_A=97]="LOWER_A",F[F.LOWER_F=102]="LOWER_F",F[F.LOWER_X=120]="LOWER_X",F[F.LOWER_Z=122]="LOWER_Z",F[F.UPPER_A=65]="UPPER_A",F[F.UPPER_F=70]="UPPER_F",F[F.UPPER_Z=90]="UPPER_Z"})(l||(l={}));var d=32,f;(function(F){F[F.VALUE_LENGTH=49152]="VALUE_LENGTH",F[F.BRANCH_LENGTH=16256]="BRANCH_LENGTH",F[F.JUMP_TABLE=127]="JUMP_TABLE"})(f=t.BinTrieFlags||(t.BinTrieFlags={}));function h(F){return F>=l.ZERO&&F<=l.NINE}function p(F){return F>=l.UPPER_A&&F<=l.UPPER_F||F>=l.LOWER_A&&F<=l.LOWER_F}function y(F){return F>=l.UPPER_A&&F<=l.UPPER_Z||F>=l.LOWER_A&&F<=l.LOWER_Z||h(F)}function _(F){return F===l.EQUALS||y(F)}var E;(function(F){F[F.EntityStart=0]="EntityStart",F[F.NumericStart=1]="NumericStart",F[F.NumericDecimal=2]="NumericDecimal",F[F.NumericHex=3]="NumericHex",F[F.NamedEntity=4]="NamedEntity"})(E||(E={}));var w;(function(F){F[F.Legacy=0]="Legacy",F[F.Strict=1]="Strict",F[F.Attribute=2]="Attribute"})(w=t.DecodingMode||(t.DecodingMode={}));var O=function(){function F(X,ne,$){this.decodeTree=X,this.emitCodePoint=ne,this.errors=$,this.state=E.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=w.Strict}return F.prototype.startEntity=function(X){this.decodeMode=X,this.state=E.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},F.prototype.write=function(X,ne){switch(this.state){case E.EntityStart:return X.charCodeAt(ne)===l.NUM?(this.state=E.NumericStart,this.consumed+=1,this.stateNumericStart(X,ne+1)):(this.state=E.NamedEntity,this.stateNamedEntity(X,ne));case E.NumericStart:return this.stateNumericStart(X,ne);case E.NumericDecimal:return this.stateNumericDecimal(X,ne);case E.NumericHex:return this.stateNumericHex(X,ne);case E.NamedEntity:return this.stateNamedEntity(X,ne)}},F.prototype.stateNumericStart=function(X,ne){return ne>=X.length?-1:(X.charCodeAt(ne)|d)===l.LOWER_X?(this.state=E.NumericHex,this.consumed+=1,this.stateNumericHex(X,ne+1)):(this.state=E.NumericDecimal,this.stateNumericDecimal(X,ne))},F.prototype.addToNumericResult=function(X,ne,$,C){if(ne!==$){var Q=$-ne;this.result=this.result*Math.pow(C,Q)+parseInt(X.substr(ne,Q),C),this.consumed+=Q}},F.prototype.stateNumericHex=function(X,ne){for(var $=ne;ne<X.length;){var C=X.charCodeAt(ne);if(h(C)||p(C))ne+=1;else return this.addToNumericResult(X,$,ne,16),this.emitNumericEntity(C,3)}return this.addToNumericResult(X,$,ne,16),-1},F.prototype.stateNumericDecimal=function(X,ne){for(var $=ne;ne<X.length;){var C=X.charCodeAt(ne);if(h(C))ne+=1;else return this.addToNumericResult(X,$,ne,10),this.emitNumericEntity(C,2)}return this.addToNumericResult(X,$,ne,10),-1},F.prototype.emitNumericEntity=function(X,ne){var $;if(this.consumed<=ne)return($=this.errors)===null||$===void 0||$.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(X===l.SEMI)this.consumed+=1;else if(this.decodeMode===w.Strict)return 0;return this.emitCodePoint((0,u.replaceCodePoint)(this.result),this.consumed),this.errors&&(X!==l.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},F.prototype.stateNamedEntity=function(X,ne){for(var $=this.decodeTree,C=$[this.treeIndex],Q=(C&f.VALUE_LENGTH)>>14;ne<X.length;ne++,this.excess++){var se=X.charCodeAt(ne);if(this.treeIndex=T($,C,this.treeIndex+Math.max(1,Q),se),this.treeIndex<0)return this.result===0||this.decodeMode===w.Attribute&&(Q===0||_(se))?0:this.emitNotTerminatedNamedEntity();if(C=$[this.treeIndex],Q=(C&f.VALUE_LENGTH)>>14,Q!==0){if(se===l.SEMI)return this.emitNamedEntityData(this.treeIndex,Q,this.consumed+this.excess);this.decodeMode!==w.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},F.prototype.emitNotTerminatedNamedEntity=function(){var X,ne=this,$=ne.result,C=ne.decodeTree,Q=(C[$]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData($,Q,this.consumed),(X=this.errors)===null||X===void 0||X.missingSemicolonAfterCharacterReference(),this.consumed},F.prototype.emitNamedEntityData=function(X,ne,$){var C=this.decodeTree;return this.emitCodePoint(ne===1?C[X]&~f.VALUE_LENGTH:C[X+1],$),ne===3&&this.emitCodePoint(C[X+2],$),$},F.prototype.end=function(){var X;switch(this.state){case E.NamedEntity:return this.result!==0&&(this.decodeMode!==w.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case E.NumericDecimal:return this.emitNumericEntity(0,2);case E.NumericHex:return this.emitNumericEntity(0,3);case E.NumericStart:return(X=this.errors)===null||X===void 0||X.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case E.EntityStart:return 0}},F}();t.EntityDecoder=O;function A(F){var X="",ne=new O(F,function($){return X+=(0,u.fromCodePoint)($)});return function(C,Q){for(var se=0,ie=0;(ie=C.indexOf("&",ie))>=0;){X+=C.slice(se,ie),ne.startEntity(Q);var be=ne.write(C,ie+1);if(be<0){se=ie+ne.end();break}se=ie+be,ie=be===0?se+1:se}var he=X+C.slice(se);return X="",he}}function T(F,X,ne,$){var C=(X&f.BRANCH_LENGTH)>>7,Q=X&f.JUMP_TABLE;if(C===0)return Q!==0&&$===Q?ne:-1;if(Q){var se=$-Q;return se<0||se>=C?-1:F[ne+se]-1}for(var ie=ne,be=ie+C-1;ie<=be;){var he=ie+be>>>1,Te=F[he];if(Te<$)ie=he+1;else if(Te>$)be=he-1;else return F[he+C]}return-1}t.determineBranch=T;var I=A(s.default),D=A(o.default);function U(F,X){return X===void 0&&(X=w.Legacy),I(F,X)}t.decodeHTML=U;function H(F){return I(F,w.Attribute)}t.decodeHTMLAttribute=H;function N(F){return I(F,w.Strict)}t.decodeHTMLStrict=N;function R(F){return D(F,w.Strict)}t.decodeXML=R})(Ko);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Ko,r;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(h){return h===r.Space||h===r.NewLine||h===r.Tab||h===r.FormFeed||h===r.CarriageReturn}function s(h){return h===r.Slash||h===r.Gt||a(h)}function o(h){return h>=r.Zero&&h<=r.Nine}function u(h){return h>=r.LowerA&&h<=r.LowerZ||h>=r.UpperA&&h<=r.UpperZ}function c(h){return h>=r.UpperA&&h<=r.UpperF||h>=r.LowerA&&h<=r.LowerF}var l;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(l=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function h(p,y){var _=p.xmlMode,E=_===void 0?!1:_,w=p.decodeEntities,O=w===void 0?!0:w;this.cbs=y,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=E,this.decodeEntities=O,this.entityTrie=E?e.xmlDecodeTree:e.htmlDecodeTree}return h.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(p){var y=this.sequenceIndex===this.currentSequence.length,_=y?s(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!_)this.isSpecial=!1;else if(!y){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},h.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||a(p)){var y=this.index-this.currentSequence.length;if(this.sectionStart<y){var _=this.index;this.index=y,this.cbs.ontext(this.sectionStart,y),this.index=_}this.isSpecial=!1,this.sectionStart=y+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},h.prototype.stateCDATASequence=function(p){p===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},h.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(p){return this.xmlMode?!s(p):u(p)},h.prototype.startSpecial=function(p,y){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=y,this.state=n.SpecialStartSequence},h.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var y=p|32;this.sectionStart=this.index,!this.xmlMode&&y===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&y===d.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},h.prototype.stateInTagName=function(p){s(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(p){(p===r.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},h.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:a(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateInAttributeName=function(p){(p===r.Eq||s(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},h.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(l.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},h.prototype.handleInAttributeValue=function(p,y){p===y||!this.decodeEntities&&this.fastForwardTo(y)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(y===r.DoubleQuote?l.Double:l.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},h.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},h.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(p){var y=p|32;y===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):y===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},h.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},h.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var y=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(y){var _=(y>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=_;else{var E=this.index-this.entityExcess+1;E>this.sectionStart&&this.emitPartial(this.sectionStart,E),this.entityResult=this.trieIndex,this.trieIndex+=_,this.entityExcess=0,this.sectionStart=this.index+1,_===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},h.prototype.emitNumericEntity=function(p){var y=this.index-this.entityExcess-1,_=y+2+ +(this.state===n.InHexEntity);_!==this.index&&(y>this.sectionStart&&this.emitPartial(this.sectionStart,y),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):c(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},h.prototype.emitPartial=function(p,y){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,y):this.cbs.ontext(p,y)},h.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},h}();t.default=f})(Zx);var Sse=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tse=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ese=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sse(e,t,r);return Tse(e,t),e};Object.defineProperty(Np,"__esModule",{value:!0});Np.Parser=void 0;var l1=Ese(Zx),zN=Ko,Jl=new Set(["input","option","optgroup","select","button","datalist","textarea"]),ur=new Set(["p"]),WN=new Set(["thead","tbody"]),XN=new Set(["dd","dt"]),KN=new Set(["rt","rp"]),Ose=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",ur],["h1",ur],["h2",ur],["h3",ur],["h4",ur],["h5",ur],["h6",ur],["select",Jl],["input",Jl],["output",Jl],["button",Jl],["datalist",Jl],["textarea",Jl],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",XN],["dt",XN],["address",ur],["article",ur],["aside",ur],["blockquote",ur],["details",ur],["div",ur],["dl",ur],["fieldset",ur],["figcaption",ur],["figure",ur],["footer",ur],["form",ur],["header",ur],["hr",ur],["main",ur],["nav",ur],["ol",ur],["pre",ur],["section",ur],["table",ur],["ul",ur],["rt",KN],["rp",KN],["tbody",WN],["tfoot",WN]]),Ase=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),JN=new Set(["math","svg"]),YN=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),xse=/\s|\//,Rse=function(){function t(e,r){r===void 0&&(r={});var n,a,s,o,u;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:!r.xmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:l1.default)(this.options,this),(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}return t.prototype.ontext=function(e,r){var n,a,s=this.getSlice(e,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=r},t.prototype.ontextentity=function(e){var r,n,a=this.tokenizer.getSectionStart();this.endIndex=a-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,(0,zN.fromCodePoint)(e)),this.startIndex=a},t.prototype.isVoidElement=function(e){return!this.options.xmlMode&&Ase.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&Ose.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var u=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,u,!0)}this.isVoidElement(e)||(this.stack.push(e),JN.has(e)?this.foreignContext.push(!0):YN.has(e)&&this.foreignContext.push(!1)),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,a,s,o,u,c;this.endIndex=r;var l=this.getSlice(e,r);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(JN.has(l)||YN.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))!this.options.xmlMode&&l==="br"&&((a=(n=this.cbs).onopentagname)===null||a===void 0||a.call(n,"br"),(o=(s=this.cbs).onopentag)===null||o===void 0||o.call(s,"br",{},!0),(c=(u=this.cbs).onclosetag)===null||c===void 0||c.call(u,"br",!1));else{var d=this.stack.lastIndexOf(l);if(d!==-1)if(this.cbs.onclosetag)for(var f=this.stack.length-d;f--;)this.cbs.onclosetag(this.stack.pop(),f!==0);else this.stack.length=d;else!this.options.xmlMode&&l==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,a=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!e),this.stack.pop())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,zN.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===l1.QuoteType.Double?'"':e===l1.QuoteType.Single?"'":e===l1.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(xse),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var a,s,o,u;this.endIndex=r,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,r-n)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var a,s,o,u,c,l,d,f,h,p;this.endIndex=r;var y=this.getSlice(e,r-n);this.options.xmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,y),(l=(c=this.cbs).oncdataend)===null||l===void 0||l.call(c)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,"[CDATA[".concat(y,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,a;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();Np.Parser=Rse;var sa={},uc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(uc);var jt={},cc=g&&g.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),up=g&&g.__assign||function(){return up=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},up.apply(this,arguments)};Object.defineProperty(jt,"__esModule",{value:!0});jt.cloneNode=jt.hasChildren=jt.isDocument=jt.isDirective=jt.isComment=jt.isText=jt.isCDATA=jt.isTag=jt.Element=jt.Document=jt.CDATA=jt.NodeWithChildren=jt.ProcessingInstruction=jt.Comment=jt.Text=jt.DataNode=jt.Node=void 0;var Vi=uc,rR=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),nR(this,e)},t}();jt.Node=rR;var iv=function(t){cc(e,t);function e(r){var n=t.call(this)||this;return n.data=r,n}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),e}(rR);jt.DataNode=iv;var KF=function(t){cc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Vi.ElementType.Text,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(iv);jt.Text=KF;var JF=function(t){cc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Vi.ElementType.Comment,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(iv);jt.Comment=JF;var YF=function(t){cc(e,t);function e(r,n){var a=t.call(this,n)||this;return a.name=r,a.type=Vi.ElementType.Directive,a}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(iv);jt.ProcessingInstruction=YF;var av=function(t){cc(e,t);function e(r){var n=t.call(this)||this;return n.children=r,n}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),e}(rR);jt.NodeWithChildren=av;var ZF=function(t){cc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Vi.ElementType.CDATA,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(av);jt.CDATA=ZF;var eL=function(t){cc(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=Vi.ElementType.Root,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(av);jt.Document=eL;var tL=function(t){cc(e,t);function e(r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=r==="script"?Vi.ElementType.Script:r==="style"?Vi.ElementType.Style:Vi.ElementType.Tag);var o=t.call(this,a)||this;return o.name=r,o.attribs=n,o.type=s,o}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var a,s;return{name:n,value:r.attribs[n],namespace:(a=r["x-attribsNamespace"])===null||a===void 0?void 0:a[n],prefix:(s=r["x-attribsPrefix"])===null||s===void 0?void 0:s[n]}})},enumerable:!1,configurable:!0}),e}(av);jt.Element=tL;function rL(t){return(0,Vi.isTag)(t)}jt.isTag=rL;function nL(t){return t.type===Vi.ElementType.CDATA}jt.isCDATA=nL;function iL(t){return t.type===Vi.ElementType.Text}jt.isText=iL;function aL(t){return t.type===Vi.ElementType.Comment}jt.isComment=aL;function sL(t){return t.type===Vi.ElementType.Directive}jt.isDirective=sL;function oL(t){return t.type===Vi.ElementType.Root}jt.isDocument=oL;function Ise(t){return Object.prototype.hasOwnProperty.call(t,"children")}jt.hasChildren=Ise;function nR(t,e){e===void 0&&(e=!1);var r;if(iL(t))r=new KF(t.data);else if(aL(t))r=new JF(t.data);else if(rL(t)){var n=e?MT(t.children):[],a=new tL(t.name,up({},t.attribs),n);n.forEach(function(c){return c.parent=a}),t.namespace!=null&&(a.namespace=t.namespace),t["x-attribsNamespace"]&&(a["x-attribsNamespace"]=up({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(a["x-attribsPrefix"]=up({},t["x-attribsPrefix"])),r=a}else if(nL(t)){var n=e?MT(t.children):[],s=new ZF(n);n.forEach(function(l){return l.parent=s}),r=s}else if(oL(t)){var n=e?MT(t.children):[],o=new eL(n);n.forEach(function(l){return l.parent=o}),t["x-mode"]&&(o["x-mode"]=t["x-mode"]),r=o}else if(sL(t)){var u=new YF(t.name,t.data);t["x-name"]!=null&&(u["x-name"]=t["x-name"],u["x-publicId"]=t["x-publicId"],u["x-systemId"]=t["x-systemId"]),r=u}else throw new Error("Not implemented yet: ".concat(t.type));return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}jt.cloneNode=nR;function MT(t){for(var e=t.map(function(n){return nR(n,!0)}),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}(function(t){var e=g&&g.__createBinding||(Object.create?function(u,c,l,d){d===void 0&&(d=l);var f=Object.getOwnPropertyDescriptor(c,l);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(u,d,f)}:function(u,c,l,d){d===void 0&&(d=l),u[d]=c[l]}),r=g&&g.__exportStar||function(u,c){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&e(c,u,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var n=uc,a=jt;r(jt,t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function u(c,l,d){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof l=="function"&&(d=l,l=s),typeof c=="object"&&(l=c,c=void 0),this.callback=c??null,this.options=l??s,this.elementCB=d??null}return u.prototype.onparserinit=function(c){this.parser=c},u.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},u.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},u.prototype.onerror=function(c){this.handleCallback(c)},u.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},u.prototype.onopentag=function(c,l){var d=this.options.xmlMode?n.ElementType.Tag:void 0,f=new a.Element(c,l,void 0,d);this.addNode(f),this.tagStack.push(f)},u.prototype.ontext=function(c){var l=this.lastNode;if(l&&l.type===n.ElementType.Text)l.data+=c,this.options.withEndIndices&&(l.endIndex=this.parser.endIndex);else{var d=new a.Text(c);this.addNode(d),this.lastNode=d}},u.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=c;return}var l=new a.Comment(c);this.addNode(l),this.lastNode=l},u.prototype.oncommentend=function(){this.lastNode=null},u.prototype.oncdatastart=function(){var c=new a.Text(""),l=new a.CDATA([c]);this.addNode(l),c.parent=l,this.lastNode=c},u.prototype.oncdataend=function(){this.lastNode=null},u.prototype.onprocessinginstruction=function(c,l){var d=new a.ProcessingInstruction(c,l);this.addNode(d)},u.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},u.prototype.addNode=function(c){var l=this.tagStack[this.tagStack.length-1],d=l.children[l.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),l.children.push(c),d&&(c.prev=d,d.next=c),c.parent=l,this.lastNode=null},u}();t.DomHandler=o,t.default=o})(sa);var ks={},ra={},j0={},uL={},dl={},iR={};Object.defineProperty(iR,"__esModule",{value:!0});function d1(t){for(var e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}iR.default=new Map(d1([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(d1([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(d1([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(d1([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));var Hb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(a,s){return a.codePointAt(s)}:function(a,s){return(a.charCodeAt(s)&64512)===55296?(a.charCodeAt(s)-55296)*1024+a.charCodeAt(s+1)-56320+65536:a.charCodeAt(s)};function r(a){for(var s="",o=0,u;(u=t.xmlReplacer.exec(a))!==null;){var c=u.index,l=a.charCodeAt(c),d=e.get(l);d!==void 0?(s+=a.substring(o,c)+d,o=c+1):(s+="".concat(a.substring(o,c),"&#x").concat((0,t.getCodePoint)(a,c).toString(16),";"),o=t.xmlReplacer.lastIndex+=+((l&64512)===55296))}return s+a.substr(o)}t.encodeXML=r,t.escape=r;function n(a,s){return function(u){for(var c,l=0,d="";c=a.exec(u);)l!==c.index&&(d+=u.substring(l,c.index)),d+=s.get(c[0].charCodeAt(0)),l=c.index+1;return d+u.substring(l)}}t.escapeUTF8=n(/[&<>'"]/g,e),t.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(Hb);var Pse=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dl,"__esModule",{value:!0});dl.encodeNonAsciiHTML=dl.encodeHTML=void 0;var Dse=Pse(iR),cL=Hb,Nse=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function jse(t){return lL(Nse,t)}dl.encodeHTML=jse;function Cse(t){return lL(cL.xmlReplacer,t)}dl.encodeNonAsciiHTML=Cse;function lL(t,e){for(var r="",n=0,a;(a=t.exec(e))!==null;){var s=a.index;r+=e.substring(n,s);var o=e.charCodeAt(s),u=Dse.default.get(o);if(typeof u=="object"){if(s+1<e.length){var c=e.charCodeAt(s+1),l=typeof u.n=="number"?u.n===c?u.o:void 0:u.n.get(c);if(l!==void 0){r+=l,n=t.lastIndex+=1;continue}}u=u.v}if(u!==void 0)r+=u,n=s+1;else{var d=(0,cL.getCodePoint)(e,s);r+="&#x".concat(d.toString(16),";"),n=t.lastIndex+=+(d!==o)}}return r+e.substr(n)}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=Ko,r=dl,n=Hb,a;(function(h){h[h.XML=0]="XML",h[h.HTML=1]="HTML"})(a=t.EntityLevel||(t.EntityLevel={}));var s;(function(h){h[h.UTF8=0]="UTF8",h[h.ASCII=1]="ASCII",h[h.Extensive=2]="Extensive",h[h.Attribute=3]="Attribute",h[h.Text=4]="Text"})(s=t.EncodingMode||(t.EncodingMode={}));function o(h,p){p===void 0&&(p=a.XML);var y=typeof p=="number"?p:p.level;if(y===a.HTML){var _=typeof p=="object"?p.mode:void 0;return(0,e.decodeHTML)(h,_)}return(0,e.decodeXML)(h)}t.decode=o;function u(h,p){var y;p===void 0&&(p=a.XML);var _=typeof p=="number"?{level:p}:p;return(y=_.mode)!==null&&y!==void 0||(_.mode=e.DecodingMode.Strict),o(h,_)}t.decodeStrict=u;function c(h,p){p===void 0&&(p=a.XML);var y=typeof p=="number"?{level:p}:p;return y.mode===s.UTF8?(0,n.escapeUTF8)(h):y.mode===s.Attribute?(0,n.escapeAttribute)(h):y.mode===s.Text?(0,n.escapeText)(h):y.level===a.HTML?y.mode===s.ASCII?(0,r.encodeNonAsciiHTML)(h):(0,r.encodeHTML)(h):(0,n.encodeXML)(h)}t.encode=c;var l=Hb;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return l.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return l.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return l.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return l.escapeText}});var d=dl;Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var f=Ko;Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})})(uL);var af={};Object.defineProperty(af,"__esModule",{value:!0});af.attributeNames=af.elementNames=void 0;af.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]}));af.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}));var md=g&&g.__assign||function(){return md=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},md.apply(this,arguments)},Mse=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fse=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lse=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Mse(e,t,r);return Fse(e,t),e};Object.defineProperty(j0,"__esModule",{value:!0});j0.render=void 0;var go=Lse(uc),kb=uL,dL=af,Bse=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function $se(t){return t.replace(/"/g,"&quot;")}function Use(t,e){var r;if(t){var n=((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)===!1?$se:e.xmlMode||e.encodeEntities!=="utf8"?kb.encodeXML:kb.escapeAttribute;return Object.keys(t).map(function(a){var s,o,u=(s=t[a])!==null&&s!==void 0?s:"";return e.xmlMode==="foreign"&&(a=(o=dL.attributeNames.get(a))!==null&&o!==void 0?o:a),!e.emptyAttrs&&!e.xmlMode&&u===""?a:"".concat(a,'="').concat(n(u),'"')}).join(" ")}}var ZN=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function sv(t,e){e===void 0&&(e={});for(var r=("length"in t)?t:[t],n="",a=0;a<r.length;a++)n+=qse(r[a],e);return n}j0.render=sv;j0.default=sv;function qse(t,e){switch(t.type){case go.Root:return sv(t.children,e);case go.Doctype:case go.Directive:return Qse(t);case go.Comment:return Wse(t);case go.CDATA:return zse(t);case go.Script:case go.Style:case go.Tag:return kse(t,e);case go.Text:return Gse(t,e)}}var Vse=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),Hse=new Set(["svg","math"]);function kse(t,e){var r;e.xmlMode==="foreign"&&(t.name=(r=dL.elementNames.get(t.name))!==null&&r!==void 0?r:t.name,t.parent&&Vse.has(t.parent.name)&&(e=md(md({},e),{xmlMode:!1}))),!e.xmlMode&&Hse.has(t.name)&&(e=md(md({},e),{xmlMode:"foreign"}));var n="<".concat(t.name),a=Use(t.attribs,e);return a&&(n+=" ".concat(a)),t.children.length===0&&(e.xmlMode?e.selfClosingTags!==!1:e.selfClosingTags&&ZN.has(t.name))?(e.xmlMode||(n+=" "),n+="/>"):(n+=">",t.children.length>0&&(n+=sv(t.children,e)),(e.xmlMode||!ZN.has(t.name))&&(n+="</".concat(t.name,">"))),n}function Qse(t){return"<".concat(t.data,">")}function Gse(t,e){var r,n=t.data||"";return((r=e.encodeEntities)!==null&&r!==void 0?r:e.decodeEntities)!==!1&&!(!e.xmlMode&&t.parent&&Bse.has(t.parent.name))&&(n=e.xmlMode||e.encodeEntities!=="utf8"?(0,kb.encodeXML)(n):(0,kb.escapeText)(n)),n}function zse(t){return"<![CDATA[".concat(t.children[0].data,"]]>")}function Wse(t){return"<!--".concat(t.data,"-->")}var Xse=g&&g.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});ra.innerText=ra.textContent=ra.getText=ra.getInnerHTML=ra.getOuterHTML=void 0;var Qs=sa,Kse=Xse(j0),Jse=uc;function fL(t,e){return(0,Kse.default)(t,e)}ra.getOuterHTML=fL;function Yse(t,e){return(0,Qs.hasChildren)(t)?t.children.map(function(r){return fL(r,e)}).join(""):""}ra.getInnerHTML=Yse;function db(t){return Array.isArray(t)?t.map(db).join(""):(0,Qs.isTag)(t)?t.name==="br"?`
`:db(t.children):(0,Qs.isCDATA)(t)?db(t.children):(0,Qs.isText)(t)?t.data:""}ra.getText=db;function IO(t){return Array.isArray(t)?t.map(IO).join(""):(0,Qs.hasChildren)(t)&&!(0,Qs.isComment)(t)?IO(t.children):(0,Qs.isText)(t)?t.data:""}ra.textContent=IO;function PO(t){return Array.isArray(t)?t.map(PO).join(""):(0,Qs.hasChildren)(t)&&(t.type===Jse.ElementType.Tag||(0,Qs.isCDATA)(t))?PO(t.children):(0,Qs.isText)(t)?t.data:""}ra.innerText=PO;var En={};Object.defineProperty(En,"__esModule",{value:!0});En.prevElementSibling=En.nextElementSibling=En.getName=En.hasAttrib=En.getAttributeValue=En.getSiblings=En.getParent=En.getChildren=void 0;var aR=sa;function hL(t){return(0,aR.hasChildren)(t)?t.children:[]}En.getChildren=hL;function pL(t){return t.parent||null}En.getParent=pL;function Zse(t){var e,r,n=pL(t);if(n!=null)return hL(n);for(var a=[t],s=t.prev,o=t.next;s!=null;)a.unshift(s),e=s,s=e.prev;for(;o!=null;)a.push(o),r=o,o=r.next;return a}En.getSiblings=Zse;function eoe(t,e){var r;return(r=t.attribs)===null||r===void 0?void 0:r[e]}En.getAttributeValue=eoe;function toe(t,e){return t.attribs!=null&&Object.prototype.hasOwnProperty.call(t.attribs,e)&&t.attribs[e]!=null}En.hasAttrib=toe;function roe(t){return t.name}En.getName=roe;function noe(t){for(var e,r=t.next;r!==null&&!(0,aR.isTag)(r);)e=r,r=e.next;return r}En.nextElementSibling=noe;function ioe(t){for(var e,r=t.prev;r!==null&&!(0,aR.isTag)(r);)e=r,r=e.prev;return r}En.prevElementSibling=ioe;var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.prepend=$i.prependChild=$i.append=$i.appendChild=$i.replaceElement=$i.removeElement=void 0;function C0(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children,r=e.lastIndexOf(t);r>=0&&e.splice(r,1)}t.next=null,t.prev=null,t.parent=null}$i.removeElement=C0;function aoe(t,e){var r=e.prev=t.prev;r&&(r.next=e);var n=e.next=t.next;n&&(n.prev=e);var a=e.parent=t.parent;if(a){var s=a.children;s[s.lastIndexOf(t)]=e,t.parent=null}}$i.replaceElement=aoe;function soe(t,e){if(C0(e),e.next=null,e.parent=t,t.children.push(e)>1){var r=t.children[t.children.length-2];r.next=e,e.prev=r}else e.prev=null}$i.appendChild=soe;function ooe(t,e){C0(e);var r=t.parent,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){var a=r.children;a.splice(a.lastIndexOf(n),0,e)}}else r&&r.children.push(e)}$i.append=ooe;function uoe(t,e){if(C0(e),e.parent=t,e.prev=null,t.children.unshift(e)!==1){var r=t.children[1];r.prev=e,e.next=r}else e.next=null}$i.prependChild=uoe;function coe(t,e){C0(e);var r=t.parent;if(r){var n=r.children;n.splice(n.indexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}$i.prepend=coe;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.findAll=wi.existsOne=wi.findOne=wi.findOneChild=wi.find=wi.filter=void 0;var ov=sa;function loe(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),yL(t,Array.isArray(e)?e:[e],r,n)}wi.filter=loe;function yL(t,e,r,n){for(var a=[],s=[e],o=[0];;){if(o[0]>=s[0].length){if(o.length===1)return a;s.shift(),o.shift();continue}var u=s[0][o[0]++];if(t(u)&&(a.push(u),--n<=0))return a;r&&(0,ov.hasChildren)(u)&&u.children.length>0&&(o.unshift(0),s.unshift(u.children))}}wi.find=yL;function doe(t,e){return e.find(t)}wi.findOneChild=doe;function bL(t,e,r){r===void 0&&(r=!0);for(var n=null,a=0;a<e.length&&!n;a++){var s=e[a];if((0,ov.isTag)(s))t(s)?n=s:r&&s.children.length>0&&(n=bL(t,s.children,!0));else continue}return n}wi.findOne=bL;function _L(t,e){return e.some(function(r){return(0,ov.isTag)(r)&&(t(r)||_L(t,r.children))})}wi.existsOne=_L;function foe(t,e){for(var r=[],n=[e],a=[0];;){if(a[0]>=n[0].length){if(n.length===1)return r;n.shift(),a.shift();continue}var s=n[0][a[0]++];(0,ov.isTag)(s)&&(t(s)&&r.push(s),s.children.length>0&&(a.unshift(0),n.unshift(s.children)))}}wi.findAll=foe;var na={};Object.defineProperty(na,"__esModule",{value:!0});na.getElementsByTagType=na.getElementsByTagName=na.getElementById=na.getElements=na.testElement=void 0;var kc=sa,uv=wi,Qb={tag_name:function(t){return typeof t=="function"?function(e){return(0,kc.isTag)(e)&&t(e.name)}:t==="*"?kc.isTag:function(e){return(0,kc.isTag)(e)&&e.name===t}},tag_type:function(t){return typeof t=="function"?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return typeof t=="function"?function(e){return(0,kc.isText)(e)&&t(e.data)}:function(e){return(0,kc.isText)(e)&&e.data===t}}};function gL(t,e){return typeof e=="function"?function(r){return(0,kc.isTag)(r)&&e(r.attribs[t])}:function(r){return(0,kc.isTag)(r)&&r.attribs[t]===e}}function hoe(t,e){return function(r){return t(r)||e(r)}}function mL(t){var e=Object.keys(t).map(function(r){var n=t[r];return Object.prototype.hasOwnProperty.call(Qb,r)?Qb[r](n):gL(r,n)});return e.length===0?null:e.reduce(hoe)}function poe(t,e){var r=mL(t);return r?r(e):!0}na.testElement=poe;function yoe(t,e,r,n){n===void 0&&(n=1/0);var a=mL(t);return a?(0,uv.filter)(a,e,r,n):[]}na.getElements=yoe;function boe(t,e,r){return r===void 0&&(r=!0),Array.isArray(e)||(e=[e]),(0,uv.findOne)(gL("id",t),e,r)}na.getElementById=boe;function _oe(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,uv.filter)(Qb.tag_name(t),e,r,n)}na.getElementsByTagName=_oe;function goe(t,e,r,n){return r===void 0&&(r=!0),n===void 0&&(n=1/0),(0,uv.filter)(Qb.tag_type(t),e,r,n)}na.getElementsByTagType=goe;var vL={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.DocumentPosition=t.removeSubsets=void 0;var e=sa;function r(o){for(var u=o.length;--u>=0;){var c=o[u];if(u>0&&o.lastIndexOf(c,u-1)>=0){o.splice(u,1);continue}for(var l=c.parent;l;l=l.parent)if(o.includes(l)){o.splice(u,1);break}}return o}t.removeSubsets=r;var n;(function(o){o[o.DISCONNECTED=1]="DISCONNECTED",o[o.PRECEDING=2]="PRECEDING",o[o.FOLLOWING=4]="FOLLOWING",o[o.CONTAINS=8]="CONTAINS",o[o.CONTAINED_BY=16]="CONTAINED_BY"})(n=t.DocumentPosition||(t.DocumentPosition={}));function a(o,u){var c=[],l=[];if(o===u)return 0;for(var d=(0,e.hasChildren)(o)?o:o.parent;d;)c.unshift(d),d=d.parent;for(d=(0,e.hasChildren)(u)?u:u.parent;d;)l.unshift(d),d=d.parent;for(var f=Math.min(c.length,l.length),h=0;h<f&&c[h]===l[h];)h++;if(h===0)return n.DISCONNECTED;var p=c[h-1],y=p.children,_=c[h],E=l[h];return y.indexOf(_)>y.indexOf(E)?p===u?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:p===o?n.PRECEDING|n.CONTAINS:n.PRECEDING}t.compareDocumentPosition=a;function s(o){return o=o.filter(function(u,c,l){return!l.includes(u,c+1)}),o.sort(function(u,c){var l=a(u,c);return l&n.PRECEDING?-1:l&n.FOLLOWING?1:0}),o}t.uniqueSort=s})(vL);var cv={};Object.defineProperty(cv,"__esModule",{value:!0});cv.getFeed=void 0;var moe=ra,M0=na;function voe(t){var e=Gb(Ooe,t);return e?e.name==="feed"?woe(e):Soe(e):null}cv.getFeed=voe;function woe(t){var e,r=t.children,n={type:"atom",items:(0,M0.getElementsByTagName)("entry",r).map(function(o){var u,c=o.children,l={media:wL(c)};Bi(l,"id","id",c),Bi(l,"title","title",c);var d=(u=Gb("link",c))===null||u===void 0?void 0:u.attribs.href;d&&(l.link=d);var f=Fu("summary",c)||Fu("content",c);f&&(l.description=f);var h=Fu("updated",c);return h&&(l.pubDate=new Date(h)),l})};Bi(n,"id","id",r),Bi(n,"title","title",r);var a=(e=Gb("link",r))===null||e===void 0?void 0:e.attribs.href;a&&(n.link=a),Bi(n,"description","subtitle",r);var s=Fu("updated",r);return s&&(n.updated=new Date(s)),Bi(n,"author","email",r,!0),n}function Soe(t){var e,r,n=(r=(e=Gb("channel",t.children))===null||e===void 0?void 0:e.children)!==null&&r!==void 0?r:[],a={type:t.name.substr(0,3),id:"",items:(0,M0.getElementsByTagName)("item",t.children).map(function(o){var u=o.children,c={media:wL(u)};Bi(c,"id","guid",u),Bi(c,"title","title",u),Bi(c,"link","link",u),Bi(c,"description","description",u);var l=Fu("pubDate",u)||Fu("dc:date",u);return l&&(c.pubDate=new Date(l)),c})};Bi(a,"title","title",n),Bi(a,"link","link",n),Bi(a,"description","description",n);var s=Fu("lastBuildDate",n);return s&&(a.updated=new Date(s)),Bi(a,"author","managingEditor",n,!0),a}var Toe=["url","type","lang"],Eoe=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function wL(t){return(0,M0.getElementsByTagName)("media:content",t).map(function(e){for(var r=e.attribs,n={medium:r.medium,isDefault:!!r.isDefault},a=0,s=Toe;a<s.length;a++){var o=s[a];r[o]&&(n[o]=r[o])}for(var u=0,c=Eoe;u<c.length;u++){var o=c[u];r[o]&&(n[o]=parseInt(r[o],10))}return r.expression&&(n.expression=r.expression),n})}function Gb(t,e){return(0,M0.getElementsByTagName)(t,e,!0,1)[0]}function Fu(t,e,r){return r===void 0&&(r=!1),(0,moe.textContent)((0,M0.getElementsByTagName)(t,e,r,1)).trim()}function Bi(t,e,r,n,a){a===void 0&&(a=!1);var s=Fu(r,n,a);s&&(t[e]=s)}function Ooe(t){return t==="rss"||t==="feed"||t==="rdf:RDF"}(function(t){var e=g&&g.__createBinding||(Object.create?function(a,s,o,u){u===void 0&&(u=o);var c=Object.getOwnPropertyDescriptor(s,o);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(a,u,c)}:function(a,s,o,u){u===void 0&&(u=o),a[u]=s[o]}),r=g&&g.__exportStar||function(a,s){for(var o in a)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,a,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,r(ra,t),r(En,t),r($i,t),r(wi,t),r(na,t),r(vL,t),r(cv,t);var n=sa;Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})})(ks);(function(t){var e=g&&g.__createBinding||(Object.create?function(w,O,A,T){T===void 0&&(T=A);var I=Object.getOwnPropertyDescriptor(O,A);(!I||("get"in I?!O.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return O[A]}}),Object.defineProperty(w,T,I)}:function(w,O,A,T){T===void 0&&(T=A),w[T]=O[A]}),r=g&&g.__setModuleDefault||(Object.create?function(w,O){Object.defineProperty(w,"default",{enumerable:!0,value:O})}:function(w,O){w.default=O}),n=g&&g.__importStar||function(w){if(w&&w.__esModule)return w;var O={};if(w!=null)for(var A in w)A!=="default"&&Object.prototype.hasOwnProperty.call(w,A)&&e(O,w,A);return r(O,w),O},a=g&&g.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=Np,o=Np;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=sa,c=sa;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function l(w,O){var A=new u.DomHandler(void 0,O);return new s.Parser(A,O).end(w),A.root}t.parseDocument=l;function d(w,O){return l(w,O).children}t.parseDOM=d;function f(w,O,A){var T=new u.DomHandler(w,O,A);return new s.Parser(T,O)}t.createDomStream=f;var h=Zx;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}}),t.ElementType=n(uc);var p=ks,y=ks;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return y.getFeed}});var _={xmlMode:!0};function E(w,O){return O===void 0&&(O=_),(0,p.getFeed)(d(w,O))}t.parseFeed=E,t.DomUtils=n(ks)})(XF);const Aoe={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},xoe={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}};var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.RDFA_CONTENTTYPES=Zu.RDFA_FEATURES=void 0;Zu.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}};Zu.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"};var F0={};Object.defineProperty(F0,"__esModule",{value:!0});F0.Util=void 0;const f1=xa,Roe=Zu,Ioe=ft;let Al=class _u{constructor(e,r){this.dataFactory=e||new Ioe.DataFactory,this.baseIRI=this.dataFactory.namedNode(r||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(e,r,n){const a={};if(n)for(const s in e)s.startsWith("xmlns")&&(a[s.substr(6)]=e[s]);if(e.prefix||Object.keys(a).length>0){const s=Object.assign(Object.assign({},r),a);if(e.prefix){let o;for(;o=_u.PREFIX_REGEX.exec(e.prefix);)s[o[1]]=o[2]}return s}else return r}static expandPrefixedTerm(e,r){const n=e.indexOf(":");let a,s;if(n>=0&&(a=e.substr(0,n),s=e.substr(n+1)),a==="")return"http://www.w3.org/1999/xhtml/vocab#"+s;if(a){const o=r.prefixesAll[a];if(o)return o+s}if(e){const o=r.prefixesAll[e.toLocaleLowerCase()];if(o)return o}return e}static isValidIri(e){return _u.IRI_REGEX.test(e)}static contentTypeToProfile(e){return Roe.RDFA_CONTENTTYPES[e]||""}getBaseIRI(e){let r=e;const n=r.indexOf("#");return n>=0&&(r=r.substr(0,n)),this.dataFactory.namedNode((0,f1.resolve)(r,this.baseIRI.value))}getResourceOrBaseIri(e,r){return e===!0?this.getBaseIriTerm(r):e}getBaseIriTerm(e){return e.localBaseIRI||this.baseIRI}createVocabIris(e,r,n,a){return e.split(/\s+/).filter(s=>s&&(n||s.indexOf(":")>=0)).map(s=>this.createIri(s,r,!0,!0,a)).filter(s=>s!=null)}createLiteral(e,r){if(r.interpretObjectAsTime&&!r.datatype){for(const n of _u.TIME_REGEXES)if(e.match(n.regex)){r.datatype=this.dataFactory.namedNode(_u.XSD+n.type);break}}return this.dataFactory.literal(e,r.datatype||r.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(e,r,n,a,s){if(e=e||"",!a)return n||(e=(0,f1.resolve)(e,this.getBaseIriTerm(r).value)),_u.isValidIri(e)?this.dataFactory.namedNode(e):null;if(e.length>0&&e[0]==="["&&e[e.length-1]==="]"&&(e=e.substr(1,e.length-2),e.indexOf(":")<0))return null;if(e.startsWith("_:"))return s?this.dataFactory.blankNode(e.substr(2)||"b_identity"):null;if(n&&r.vocab&&e.indexOf(":")<0)return this.dataFactory.namedNode(r.vocab+e);let o=_u.expandPrefixedTerm(e,r);return n?e!==o&&(o=(0,f1.resolve)(o,this.baseIRIDocument.value)):o=(0,f1.resolve)(o,this.getBaseIriTerm(r).value),_u.isValidIri(o)?this.dataFactory.namedNode(o):null}};F0.Util=Al;Al.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";Al.XSD="http://www.w3.org/2001/XMLSchema#";Al.RDFA="http://www.w3.org/ns/rdfa#";Al.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g;Al.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}];Al.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/;Object.defineProperty(nv,"__esModule",{value:!0});nv.RdfaParser=void 0;const Poe=XF,e4=Jt,Doe=Aoe,Noe=xoe,joe=Zu,Fi=F0;class sR extends e4.Transform{constructor(e){super({readableObjectMode:!0}),this.activeTagStack=[],e=e||{},this.options=e,this.util=new Fi.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph();const r=e.contentType?Fi.Util.contentTypeToProfile(e.contentType):e.profile||"";this.features=e.features||joe.RDFA_FEATURES[r],this.htmlParseListener=e.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(r==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:e.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},Noe["@context"]),this.features.xhtmlInitialContext?Doe["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:e.vocab})}import(e){const r=new e4.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new sR(this.options));return n}_transform(e,r,n){this.parser.write(e.toString()),n()}_flush(e){this.parser.end(),e()}onTagOpen(e,r){let n=this.activeTagStack.length-1;for(;n>0&&this.activeTagStack[n].skipElement;)n--;let a=this.activeTagStack[n];n!==this.activeTagStack.length-1&&(a=Object.assign(Object.assign({},a),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const s={collectChildTags:a.collectChildTags,incompleteTriples:[],inlist:"inlist"in r,listMapping:[],listMappingLocal:a.listMapping,localBaseIRI:a.localBaseIRI,name:e,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(s),s.collectChildTags){for(const y of Object.keys(a.prefixesCustom).sort()){const _=a.prefixesCustom[y],E=y===""?"xmlns":"xmlns:"+y;E in r||(r[E]=_)}const p=Object.keys(r).map(y=>`${y}="${r[y]}"`).join(" ");if(s.text=[`<${e}${p?" "+p:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let o=!0,u=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in r&&"rel"in r&&(o=!1,r.rel.indexOf(":")<0&&delete r.rel),"property"in r&&"rev"in r&&(u=!1,r.rev.indexOf(":")<0&&delete r.rev)),this.features.copyRdfaPatterns){if(a.collectedPatternTag){const p={attributes:r,children:[],name:e,referenced:!1,rootPattern:!1,text:[]};a.collectedPatternTag.children.push(p),s.collectedPatternTag=p;return}if(r.typeof==="rdfa:Pattern"){s.collectedPatternTag={attributes:r,children:[],name:e,parentTag:a,referenced:!1,rootPattern:!0,text:[]};return}if(r.property==="rdfa:copy"){const p=r.resource||r.href||r.src;this.rdfaPatterns[p]?this.emitPatternCopy(a,this.rdfaPatterns[p],p):(this.pendingRdfaPatternCopies[p]||(this.pendingRdfaPatternCopies[p]=[]),this.pendingRdfaPatternCopies[p].push(a));return}}this.features.baseTag&&e==="base"&&r.href&&(this.util.baseIRI=this.util.getBaseIRI(r.href)),this.features.xmlBase&&r["xml:base"]&&(s.localBaseIRI=this.util.getBaseIRI(r["xml:base"])),this.features.timeTag&&e==="time"&&!r.datatype&&(s.interpretObjectAsTime=!0);let c,l,d;if("vocab"in r?r.vocab?(s.vocab=r.vocab,this.emitTriple(this.util.getBaseIriTerm(s),this.util.dataFactory.namedNode(Fi.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(s.vocab))):s.vocab=this.activeTagStack[0].vocab:s.vocab=a.vocab,s.prefixesCustom=Fi.Util.parsePrefixes(r,a.prefixesCustom,this.features.xmlnsPrefixMappings),s.prefixesAll=Object.keys(s.prefixesCustom).length>0?Object.assign(Object.assign({},a.prefixesAll),s.prefixesCustom):a.prefixesAll,this.features.roleAttribute&&r.role){const p=r.id?this.util.createIri("#"+r.id,s,!1,!1,!1):this.util.createBlankNode(),y=s.vocab;s.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const _ of this.util.createVocabIris(r.role,s,!0,!1))this.emitTriple(p,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),_);s.vocab=y}"xml:lang"in r||this.features.langAttribute&&"lang"in r?s.language=r["xml:lang"]||r.lang:s.language=a.language;const f=this.activeTagStack.length===2;if(!("rel"in r)&&!("rev"in r)?"property"in r&&!("content"in r)&&!("datatype"in r)?("about"in r?(c=this.util.createIri(r.about,s,!1,!0,!0),s.explicitNewSubject=!!c):f?c=!0:a.object&&(c=a.object),"typeof"in r&&("about"in r&&(d=this.util.createIri(r.about,s,!1,!0,!0)),!d&&f&&(d=!0),!d&&"resource"in r&&(d=this.util.createIri(r.resource,s,!1,!0,!0)),!d&&("href"in r||"src"in r)&&(d=this.util.createIri(r.href||r.src,s,!1,!1,!0)),!d&&this.isInheritSubjectInHeadBody(e)&&(d=c),d||(d=this.util.createBlankNode()),l=d)):(("about"in r||"resource"in r)&&(c=this.util.createIri(r.about||r.resource,s,!1,!0,!0),s.explicitNewSubject=!!c),!c&&("href"in r||"src"in r)&&(c=this.util.createIri(r.href||r.src,s,!1,!1,!0),s.explicitNewSubject=!!c),c||(f?c=!0:this.isInheritSubjectInHeadBody(e)?c=a.object:"typeof"in r?(c=this.util.createBlankNode(),s.explicitNewSubject=!0):a.object&&(c=a.object,"property"in r||(s.skipElement=!0))),"typeof"in r&&(d=c)):("about"in r?(c=this.util.createIri(r.about,s,!1,!0,!0),s.explicitNewSubject=!!c,"typeof"in r&&(d=c)):f?c=!0:a.object&&(c=a.object),"resource"in r&&(l=this.util.createIri(r.resource,s,!1,!0,!0)),l||("href"in r||"src"in r?l=this.util.createIri(r.href||r.src,s,!1,!1,!0):"typeof"in r&&!("about"in r)&&!this.isInheritSubjectInHeadBody(e)&&(l=this.util.createBlankNode())),"typeof"in r&&!("about"in r)&&(this.isInheritSubjectInHeadBody(e)?d=c:d=l)),d)for(const p of this.util.createVocabIris(r.typeof,s,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(d,s),this.util.dataFactory.namedNode(Fi.Util.RDF+"type"),p);if(c&&(s.listMapping={}),l){if("rel"in r&&"inlist"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.addListMapping(s,c,p,l);if(!("rel"in r&&"inlist"in r)){if("rel"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.emitTriple(this.util.getResourceOrBaseIri(c,s),p,this.util.getResourceOrBaseIri(l,s));if("rev"in r)for(const p of this.util.createVocabIris(r.rev,s,u,!1))this.emitTriple(this.util.getResourceOrBaseIri(l,s),p,this.util.getResourceOrBaseIri(c,s))}}if(!l){if("rel"in r)if("inlist"in r)for(const p of this.util.createVocabIris(r.rel,s,o,!1))this.addListMapping(s,c,p,null),s.incompleteTriples.push({predicate:p,reverse:!1,list:!0});else for(const p of this.util.createVocabIris(r.rel,s,o,!1))s.incompleteTriples.push({predicate:p,reverse:!1});if("rev"in r)for(const p of this.util.createVocabIris(r.rev,s,u,!1))s.incompleteTriples.push({predicate:p,reverse:!0});s.incompleteTriples.length>0&&(l=this.util.createBlankNode())}if("property"in r){s.predicates=this.util.createVocabIris(r.property,s,!0,!1);let p;if("datatype"in r?(s.datatype=this.util.createIri(r.datatype,s,!0,!0,!1),s.datatype&&(s.datatype.value===Fi.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&s.datatype.value===Fi.Util.RDF+"HTML")&&(s.collectChildTags=!0)):(!("rev"in r)&&!("rel"in r)&&!("content"in r)&&("resource"in r&&(p=this.util.createIri(r.resource,s,!1,!0,!0)),!p&&"href"in r&&(p=this.util.createIri(r.href,s,!1,!1,!0)),!p&&"src"in r&&(p=this.util.createIri(r.src,s,!1,!1,!0))),"typeof"in r&&!("about"in r)&&(p=d)),"content"in r){const y=this.util.createLiteral(r.content,s);if("inlist"in r)for(const _ of s.predicates)this.addListMapping(s,c,_,y);else{const _=this.util.getResourceOrBaseIri(c,s);for(const E of s.predicates)this.emitTriple(_,E,y)}s.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in r){s.interpretObjectAsTime=!0;const y=this.util.createLiteral(r.datetime,s);if("inlist"in r)for(const _ of s.predicates)this.addListMapping(s,c,_,y);else{const _=this.util.getResourceOrBaseIri(c,s);for(const E of s.predicates)this.emitTriple(_,E,y)}s.predicates=null}else if(p){const y=this.util.getResourceOrBaseIri(p,s);if("inlist"in r)for(const _ of s.predicates)this.addListMapping(s,c,_,y);else{const _=this.util.getResourceOrBaseIri(c,s);for(const E of s.predicates)this.emitTriple(_,E,y)}s.predicates=null}}let h=!1;if(!s.skipElement&&c&&a.incompleteTriples.length>0){h=!0;const p=this.util.getResourceOrBaseIri(a.subject,s),y=this.util.getResourceOrBaseIri(c,s);for(const _ of a.incompleteTriples)if(_.reverse)this.emitTriple(y,_.predicate,p);else if(_.list){let E=null;for(let w=this.activeTagStack.length-1;w>=0;w--)if(this.activeTagStack[w].inlist){E=this.activeTagStack[w];break}this.addListMapping(E,c,_.predicate,y)}else this.emitTriple(p,_.predicate,y)}!h&&a.incompleteTriples.length>0&&(s.incompleteTriples=s.incompleteTriples.concat(a.incompleteTriples)),s.subject=c||a.subject,s.object=l||c}onText(e){const r=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&r.collectedPatternTag){r.collectedPatternTag.text.push(e);return}r.text||(r.text=[]),r.text.push(e)}onTagClose(){const e=this.activeTagStack[this.activeTagStack.length-1],r=this.activeTagStack[this.activeTagStack.length-2];if(!(e.collectChildTags&&r.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&e.collectedPatternTag&&e.collectedPatternTag.rootPattern){const n=e.collectedPatternTag.attributes.resource;if(delete e.collectedPatternTag.attributes.resource,delete e.collectedPatternTag.attributes.typeof,this.rdfaPatterns[n]=e.collectedPatternTag,this.pendingRdfaPatternCopies[n]){for(const a of this.pendingRdfaPatternCopies[n])this.emitPatternCopy(a,e.collectedPatternTag,n);delete this.pendingRdfaPatternCopies[n]}this.activeTagStack.pop();return}if(e.predicates){const n=this.util.getResourceOrBaseIri(e.subject,e);let a=e.text||[];e.collectChildTags&&r.collectChildTags&&(a=a.slice(1));const s=this.util.createLiteral(a.join(""),e);if(e.inlist)for(const o of e.predicates)this.addListMapping(e,n,o,s);else for(const o of e.predicates)this.emitTriple(n,o,s);r.predicates||(e.text=null)}if(e.object&&Object.keys(e.listMapping).length>0){const n=this.util.getResourceOrBaseIri(e.object,e);for(const a in e.listMapping){const s=this.util.dataFactory.namedNode(a),o=e.listMapping[a];if(o.length>0){const u=o.map(()=>this.util.createBlankNode());for(let c=0;c<o.length;c++){const l=this.util.getResourceOrBaseIri(o[c],e);this.emitTriple(u[c],this.util.dataFactory.namedNode(Fi.Util.RDF+"first"),l),this.emitTriple(u[c],this.util.dataFactory.namedNode(Fi.Util.RDF+"rest"),c<o.length-1?u[c+1]:this.util.dataFactory.namedNode(Fi.Util.RDF+"nil"))}this.emitTriple(n,s,u[0])}else this.emitTriple(n,s,this.util.dataFactory.namedNode(Fi.Util.RDF+"nil"))}}}this.activeTagStack.pop(),e.collectChildTags&&e.text&&e.text.push(`</${e.name}>`),e.text&&r&&(r.text?r.text=r.text.concat(e.text):r.text=e.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const e in this.rdfaPatterns){const r=this.rdfaPatterns[e];r.referenced||(r.attributes.typeof="rdfa:Pattern",r.attributes.resource=e,this.emitPatternCopy(r.parentTag,r,e),r.referenced=!1,delete r.attributes.typeof,delete r.attributes.resource)}for(const e in this.pendingRdfaPatternCopies)for(const r of this.pendingRdfaPatternCopies[e])this.activeTagStack.push(r),this.onTagOpen("link",{property:"rdfa:copy",href:e}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(e){return this.features.inheritSubjectInHeadBody&&(e==="head"||e==="body")}addListMapping(e,r,n,a){if(e.explicitNewSubject){const s=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(r,e),n,s),this.emitTriple(s,this.util.dataFactory.namedNode(Fi.Util.RDF+"first"),this.util.getResourceOrBaseIri(a,e)),this.emitTriple(s,this.util.dataFactory.namedNode(Fi.Util.RDF+"rest"),this.util.dataFactory.namedNode(Fi.Util.RDF+"nil"))}else{let s=e.listMappingLocal[n.value];s||(e.listMappingLocal[n.value]=s=[]),a&&s.push(a)}}emitTriple(e,r,n){e.termType==="NamedNode"&&e.value.indexOf(":")<0||r.termType==="NamedNode"&&r.value.indexOf(":")<0||n.termType==="NamedNode"&&n.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(e,r,n,this.defaultGraph))}emitPatternCopy(e,r,n){if(this.activeTagStack.push(e),r.referenced=!0,!r.constructedBlankNodes)r.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const a=this.util.dataFactory.blankNode();return r.constructedBlankNodes.push(a),a};else{let a=0;this.util.blankNodeFactory=()=>r.constructedBlankNodes[a++]}this.emitPatternCopyAbsolute(r,!0,n),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(e,r,n){if(!(!r&&e.attributes.property==="rdfa:copy"&&e.attributes.href===n)){this.onTagOpen(e.name,e.attributes);for(const a of e.text)this.onText(a);for(const a of e.children)this.emitPatternCopyAbsolute(a,!1,n);this.onTagClose()}}initializeParser(e){return new Poe.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(r){this.emit("error",r)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(r){this.emit("error",r)}},onopentag:(r,n)=>{try{this.onTagOpen(r,n),this.htmlParseListener&&this.htmlParseListener.onTagOpen(r,n)}catch(a){this.emit("error",a)}},ontext:r=>{try{this.onText(r),this.htmlParseListener&&this.htmlParseListener.onText(r)}catch(n){this.emit("error",n)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}}nv.RdfaParser=sR;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(GF,t),r(zF,t),r(WF,t),r(nv,t),r(Zu,t),r(F0,t)})(Yx);Object.defineProperty(rv,"__esModule",{value:!0});rv.ActorRdfParseXmlRdfa=void 0;const Coe=Ol,Moe=Yx;class Foe extends Coe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){var o;const a=(e.headers&&e.headers.get("content-language"))??void 0;e.data.on("error",u=>s.emit("error",u));const s=e.data.pipe(new Moe.RdfaParser({baseIRI:(o=e.metadata)==null?void 0:o.baseIRI,profile:"xml",language:a}));return{data:s,metadata:{triples:!0}}}}rv.ActorRdfParseXmlRdfa=Foe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rv,t)})(QF);var SL={},lv={},oR={},Loe=function(){var t=function(ze,De,Be,Ye){for(Be=Be||{},Ye=ze.length;Ye--;Be[ze[Ye]]=De);return Be},e=[7,12,13,14,15,16,20,25,115,130],r=[7,13,16,20,25,115,130],n=[7,13,16,115,130],a=[1,25],s=[1,29],o=[1,27],u=[1,28],c=[13,16,115,130],l=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],d=[28,56],f=[1,42],h=[46,48,53,56],p=[1,54],y=[1,60],_=[1,56],E=[1,57],w=[1,58],O=[1,63],A=[1,64],T=[1,65],I=[1,66],D=[1,67],U=[1,68],H=[1,75],N=[28,46,48,53,56],R=[28,42,46,48,53,56],F=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],X=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],ne=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],$=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],C=[13,16,28,56,115,130],Q=[13,16,38,58,87,96,109,115,126,130],se=[1,116],ie=[1,112],be=[1,108],he=[1,114],Te=[1,111],Ne=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],ye=[48,53],ce=[48,53,87,96,126],xe=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],oe=[1,126],J=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],le=[1,129],pe=[48,53,67,87,96,126],L=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],P=[1,133],m=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],b=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],v=[1,151],j=[1,153],V=[1,156],q=[1,157],G=[1,158],Y=[1,167],ee=[1,175],ae=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],ve=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],me=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Ee={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(De,Be,Ye,Dt,at,qe,_s){var ke=qe.length-1;switch(at){case 1:this.$=At(Ae.factory.namedNode(gr("")),Ae.factory.namedNode(W),Ae.factory.namedNode(Ge+"Ontology"));break;case 5:Ae.base=Ae.factory.namedNode(qe[ke].slice(1,-1)),Ae.n3Parser._setBase(Ae.base.value);break;case 6:this.$=At(Ae.base,Ae.factory.namedNode(Ge+"imports"),Ae.factory.namedNode(qe[ke].slice(1,-1)));break;case 7:this.$=Ae.prefixes[qe[ke-1].substr(0,qe[ke-1].length-1)]=gr(qe[ke]);break;case 8:Ae.nodeShapeStack=!1,At(Ae.currentNodeShape=qe[ke],Ae.factory.namedNode(W),Ae.factory.namedNode(Ue+"NodeShape"));break;case 10:this.$=At(Ae.currentNodeShape,Ae.factory.namedNode(W),Ae.factory.namedNode(We+"Class"));break;case 11:this.$=Se();break;case 13:this.$=qe[ke].forEach(wr=>At(Ae.currentNodeShape,qe[ke-1],wr));break;case 14:this.$=[qe[ke-1],...qe[ke]];break;case 18:this.$=Wr(qe[ke-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=qe[ke];break;case 20:Ae.tempCurrentNodeShape=Ae.currentNodeShape,this.$=Ae.currentNodeShape=Nr();break;case 21:Ae.currentNodeShape=Ae.tempCurrentNodeShape;break;case 22:case 31:this.$=qe[ke-2];break;case 23:Ae.tempCurrentNodeShape=Ae.currentNodeShape,Ae.currentNodeShape=Ae.currentPropertyNode;break;case 24:Ae.currentNodeShape=Ae.tempCurrentNodeShape;break;case 26:Ae.currentNodeShape=qe[ke];break;case 29:Ae.nodeShapeStack?(Ae.nodeShapeStack.push(Ae.currentNodeShape),At(Ae.currentPropertyNode,Ae.factory.namedNode(Ue+"node"),Ae.currentNodeShape=Nr())):Ae.nodeShapeStack=[],this.$=Ae.currentNodeShape;break;case 30:Ae.nodeShapeStack.length>0&&(Ae.currentNodeShape=Ae.nodeShapeStack.pop());break;case 32:this.$=qe[ke].forEach(wr=>{At(Ae.currentNodeShape,Ae.factory.namedNode(Ue+"targetClass"),wr)});break;case 35:this.$=At(Ae.currentNodeShape,Ae.factory.namedNode(Ue+qe[ke][0]),qe[ke][1]);break;case 36:break;case 37:const _n=Wr([qe[ke-1],...qe[ke]].map(wr=>{const ji=Nr();return At(ji,Ae.factory.namedNode(Ue+wr[0]),wr[1]),ji}));this.$=["or",_n];break;case 39:case 46:this.$=re("not",...qe[ke]);break;case 40:case 50:this.$=[qe[ke-2],qe[ke]];break;case 43:this.$=qe[ke]&&B(...qe[ke]);break;case 44:this.$=B("or",Wr([qe[ke-1],...qe[ke]].map(wr=>{const ji=Nr();return At(ji,Ae.factory.namedNode(Ue+wr[0]),wr[1]),ji})));break;case 47:this.$=[lt[qe[ke].value]?"datatype":"class",qe[ke]];break;case 48:this.$=["nodeKind",Ae.factory.namedNode(Ue+qe[ke])];break;case 49:this.$=["node",Ae.factory.namedNode(qe[ke])];break;case 51:this.$=void 0;break;case 53:this.$=qe[ke]>0&&B("minCount",zt(qe[ke],ue));break;case 54:this.$=B("maxCount",zt(qe[ke],ue));break;case 56:this.$=$r(qe[ke].slice(1));break;case 57:this.$=gr(qe[ke]);break;case 59:At(Ae.currentNodeShape,Ae.factory.namedNode(Ue+"property"),Ae.currentPropertyNode=Nr()),B("path",qe[ke]);break;case 62:const vr=Nr();At(vr,Ae.factory.namedNode(Ue+"alternativePath"),Wr([qe[ke-1],...qe[ke]])),this.$=vr;break;case 65:this.$=Wr([qe[ke-1],...qe[ke]]);break;case 67:At(this.$=Nr(),Ae.factory.namedNode(Ue+qe[ke]),qe[ke-1]);break;case 69:At(this.$=Nr(),Ae.factory.namedNode(Ue+"inversePath"),qe[ke]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=qe[ke-1];break;case 77:this.$=Wr(qe[ke-1]);break;case 80:this.$=Ae.factory.namedNode(gr(qe[ke]));break;case 81:this.$=Ae.factory.namedNode($r(qe[ke]));break;case 82:this.$=Se(Ae.factory.namedNode(W));break;case 83:this.$=zt(qe[ke]);break;case 84:this.$=mr(qe[ke-1],lowercase(qe[ke].substr(1)));break;case 85:this.$=zt(qe[ke-2],qe[ke]);break;case 86:this.$=zt(qe[ke],ue);break;case 87:this.$=zt(qe[ke],ge);break;case 88:this.$=zt(qe[ke].toLowerCase(),we);break;case 89:this.$=zt(qe[ke].toLowerCase(),Me);break;case 90:this.$=xn(qe[ke],1);break;case 91:this.$=xn(qe[ke],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:qe[ke-1].push(qe[ke]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[qe[ke]];break}},table:[t(e,[2,92],{3:1,4:2}),{1:[3]},t(r,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(n,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(e,[2,93]),t(e,[2,2]),t(e,[2,3]),t(e,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(r,[2,97]),{7:[2,28],13:a,16:s,18:24,51:23,52:22,114:26,115:o,130:u},t(r,[2,94]),t(r,[2,95]),{13:a,16:s,17:30,18:31,114:26,115:o,130:u},{13:a,16:s,17:32,18:31,114:26,115:o,130:u},t(e,[2,5]),t(e,[2,6]),{13:[1,33]},{1:[2,1]},t(n,[2,111]),{13:a,16:s,18:36,29:34,30:35,114:26,115:o,130:u},t(c,[2,26]),t(l,[2,80]),t(l,[2,81]),t(l,[2,82]),t(l,[2,140]),t(l,[2,141]),t(d,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:f,56:[2,102]},t(e,[2,7]),{53:[1,43]},t(h,[2,104],{31:44,27:45,28:f}),{13:a,16:s,18:51,32:46,33:47,35:48,36:49,37:50,38:p,43:53,44:y,92:_,113:52,114:26,115:o,116:55,119:E,120:w,121:59,122:61,123:62,130:u,131:O,132:A,133:T,134:I,135:D,136:U},{22:69,27:70,28:f,56:[2,100]},t(d,[2,99]),{13:a,16:s,18:72,62:71,114:26,115:o,130:u},{23:73,55:74,56:H},{56:[2,103]},{13:a,16:s,18:36,29:76,30:35,114:26,115:o,130:u},t(n,[2,27]),t(h,[2,12]),t(h,[2,105]),t(N,[2,13]),t(R,[2,106],{34:77}),t(F,[2,15]),t(F,[2,16]),t(F,[2,17]),t(X,[2,78]),t(X,[2,79]),{13:a,16:s,18:36,29:78,30:35,114:26,115:o,130:u},t(ne,[2,108],{39:79}),t(X,[2,83],{117:[1,80],118:[1,81]}),t(X,[2,86]),t(X,[2,87]),t(X,[2,88]),t(X,[2,89]),t(c,[2,20]),t($,[2,90]),t($,[2,91]),t(X,[2,142]),t(X,[2,143]),t($,[2,144]),t($,[2,145]),t($,[2,146]),t($,[2,147]),{23:82,55:74,56:H},{56:[2,101]},t(d,[2,32],{114:26,18:83,13:a,16:s,115:o,130:u}),t(C,[2,114]),t(r,[2,10]),t(Q,[2,112],{59:84}),t(Q,[2,29]),t(h,[2,11]),t(N,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:a,16:s,18:51,33:90,35:48,36:49,37:50,38:p,40:[1,89],43:53,44:y,92:_,113:52,114:26,115:o,116:55,119:E,120:w,121:59,122:61,123:62,130:u,131:O,132:A,133:T,134:I,135:D,136:U},t(X,[2,84]),{13:a,16:s,18:91,114:26,115:o,130:u},t(r,[2,9]),t(C,[2,115]),{13:a,16:s,18:115,38:se,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ie,96:be,97:101,99:103,103:106,105:109,106:113,108:110,109:he,114:26,115:o,125:96,126:Te,130:u},t(R,[2,107]),{13:a,16:s,18:51,33:117,35:48,36:49,37:50,38:p,43:53,44:y,92:_,113:52,114:26,115:o,116:55,119:E,120:w,121:59,122:61,123:62,130:u,131:O,132:A,133:T,134:I,135:D,136:U},t(F,[2,22]),t(F,[2,21]),t(F,[2,18]),t(ne,[2,109]),t(X,[2,85]),t(Ne,[2,31]),t(Q,[2,113]),t(Ne,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(ye,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ie,96:be,126:Te}),t(ye,[2,119]),t(ce,[2,116]),t(xe,[2,128],{79:123}),t(ce,[2,35]),t(xe,[2,59]),t(ce,[2,36],{71:124,66:125,67:oe}),t(J,[2,61],{100:127,98:128,67:le}),t(pe,[2,38]),{72:130,74:107,87:ie,126:Te},t(L,[2,64],{104:131,101:132,102:P}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(m,[2,68]),{13:a,16:s,18:115,38:se,105:135,106:113,114:26,115:o,130:u},{75:[2,124]},{75:[2,125]},t(m,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(b,[2,74]),{13:a,16:s,18:115,38:se,97:140,99:103,103:106,105:109,106:113,108:110,109:he,114:26,115:o,130:u},t(R,[2,19]),{53:[1,141]},{53:[2,121]},{13:a,16:s,18:36,29:142,30:35,114:26,115:o,130:u},t(c,[2,23]),t(ce,[2,117]),t(ye,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:a,16:s,44:[1,146],56:H,85:v,87:j,95:V,96:be,115:o,128:q,129:G,130:u}),t(ce,[2,37],{66:159,67:oe}),t(pe,[2,122]),{68:160,72:104,73:105,74:107,87:ie,96:be,126:Te},t(J,[2,62],{98:161,67:le}),t(L,[2,134]),{13:a,16:s,18:115,38:se,99:162,103:106,105:109,106:113,108:110,109:he,114:26,115:o,130:u},t(pe,[2,39]),t(L,[2,65],{101:163,102:P}),t(m,[2,136]),{13:a,16:s,18:115,38:se,103:164,105:109,106:113,108:110,109:he,114:26,115:o,130:u},{13:a,16:s,18:51,35:166,44:Y,76:165,92:_,113:52,114:26,115:o,116:55,119:E,120:w,121:59,122:61,123:62,130:u,131:O,132:A,133:T,134:I,135:D,136:U},t(m,[2,69]),t(m,[2,67]),t(m,[2,71]),t(m,[2,72]),t(m,[2,73]),{40:[1,168]},t(Q,[2,33]),{48:[1,170],49:169},t(xe,[2,129]),t(xe,[2,126]),t(xe,[2,127]),{89:171,92:[1,172]},t(xe,[2,43],{83:173,80:174,67:ee}),t(ae,[2,45]),{13:a,16:s,18:150,23:154,55:74,56:H,84:176,85:v,86:152,87:j,94:155,95:V,114:26,115:o,128:q,129:G,130:u},t(ae,[2,47]),t(ae,[2,48]),t(ae,[2,49]),{75:[1,177]},t(ae,[2,51]),t(ae,[2,56]),{13:[1,178]},t(ae,[2,132]),t(ae,[2,133]),t(pe,[2,123]),t(pe,[2,34]),t(L,[2,135]),t(L,[2,60]),t(m,[2,137]),t(m,[2,63]),t(pe,[2,40]),t(ve,[2,76]),t(me,[2,138],{112:179}),t(b,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(xe,[2,44],{80:181,67:ee}),t(ae,[2,130]),{13:a,16:s,18:150,23:154,55:74,56:H,73:149,81:182,84:148,85:v,86:152,87:j,94:155,95:V,96:be,114:26,115:o,128:q,129:G,130:u},t(ae,[2,46]),{13:a,16:s,18:51,35:166,44:Y,76:183,92:_,113:52,114:26,115:o,116:55,119:E,120:w,121:59,122:61,123:62,130:u,131:O,132:A,133:T,134:I,135:D,136:U},t(ae,[2,57]),{13:a,16:s,18:51,35:185,46:[1,184],92:_,113:52,114:26,115:o,116:55,119:E,120:w,121:59,122:61,123:62,130:u,131:O,132:A,133:T,134:I,135:D,136:U},{91:186,92:[1,187],93:[1,188]},t(ae,[2,131]),t(ae,[2,42]),t(ae,[2,50]),t(ve,[2,77]),t(me,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(xe,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(De,Be){if(Be.recoverable)this.trace(De);else{var Ye=new Error(De);throw Ye.hash=Be,Ye}},parse:function(De){var Be=this,Ye=[0],Dt=[null],at=[],qe=this.table,_s="",ke=0,_n=0,vr=2,wr=1,ji=at.slice.call(arguments,1),Tt=Object.create(this.lexer),ba={yy:{}};for(var Gi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Gi)&&(ba.yy[Gi]=this.yy[Gi]);Tt.setInput(De,ba.yy),ba.yy.lexer=Tt,ba.yy.parser=this,typeof Tt.yylloc>"u"&&(Tt.yylloc={});var or=Tt.yylloc;at.push(or);var so=Tt.options&&Tt.options.ranges;typeof ba.yy.parseError=="function"?this.parseError=ba.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var su=function(){var Vn;return Vn=Tt.lex()||wr,typeof Vn!="number"&&(Vn=Be.symbols_[Vn]||Vn),Vn},Xr,Ci,un,zi,cn={},Na,en,gs,ja;;){if(Ci=Ye[Ye.length-1],this.defaultActions[Ci]?un=this.defaultActions[Ci]:((Xr===null||typeof Xr>"u")&&(Xr=su()),un=qe[Ci]&&qe[Ci][Xr]),typeof un>"u"||!un.length||!un[0]){var si="";ja=[];for(Na in qe[Ci])this.terminals_[Na]&&Na>vr&&ja.push("'"+this.terminals_[Na]+"'");Tt.showPosition?si="Parse error on line "+(ke+1)+`:
`+Tt.showPosition()+`
Expecting `+ja.join(", ")+", got '"+(this.terminals_[Xr]||Xr)+"'":si="Parse error on line "+(ke+1)+": Unexpected "+(Xr==wr?"end of input":"'"+(this.terminals_[Xr]||Xr)+"'"),this.parseError(si,{text:Tt.match,token:this.terminals_[Xr]||Xr,line:Tt.yylineno,loc:or,expected:ja})}if(un[0]instanceof Array&&un.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ci+", token: "+Xr);switch(un[0]){case 1:Ye.push(Xr),Dt.push(Tt.yytext),at.push(Tt.yylloc),Ye.push(un[1]),Xr=null,_n=Tt.yyleng,_s=Tt.yytext,ke=Tt.yylineno,or=Tt.yylloc;break;case 2:if(en=this.productions_[un[1]][1],cn.$=Dt[Dt.length-en],cn._$={first_line:at[at.length-(en||1)].first_line,last_line:at[at.length-1].last_line,first_column:at[at.length-(en||1)].first_column,last_column:at[at.length-1].last_column},so&&(cn._$.range=[at[at.length-(en||1)].range[0],at[at.length-1].range[1]]),zi=this.performAction.apply(cn,[_s,_n,ke,ba.yy,un[1],Dt,at].concat(ji)),typeof zi<"u")return zi;en&&(Ye=Ye.slice(0,-1*en*2),Dt=Dt.slice(0,-1*en),at=at.slice(0,-1*en)),Ye.push(this.productions_[un[1]][0]),Dt.push(cn.$),at.push(cn._$),gs=qe[Ye[Ye.length-2]][Ye[Ye.length-1]],Ye.push(gs);break;case 3:return!0}}return!0}};const k="http://www.w3.org/1999/02/22-rdf-syntax-ns#",W=k+"type",M=k+"first",S=k+"rest",x=k+"nil",z="http://www.w3.org/2001/XMLSchema#",ue=z+"integer",ge=z+"decimal",we=z+"double",Me=z+"boolean",Ue="http://www.w3.org/ns/shacl#",Ge="http://www.w3.org/2002/07/owl#",We="http://www.w3.org/2000/01/rdf-schema#",lt={[ue]:!0,[ge]:!0,[z+"float"]:!0,[we]:!0,[z+"string"]:!0,[Me]:!0,[z+"dateTime"]:!0,[z+"nonPositiveInteger"]:!0,[z+"negativeInteger"]:!0,[z+"long"]:!0,[z+"int"]:!0,[z+"short"]:!0,[z+"byte"]:!0,[z+"nonNegativeInteger"]:!0,[z+"unsignedLong"]:!0,[z+"unsignedShort"]:!0,[z+"unsignedByte"]:!0,[z+"positiveInteger"]:!0,[k+"langString"]:!0};function Wr(ze,De=!1){let Be=0,Ye=ze.length;if(De&&Ye===0)return Ae.factory.namedNode(x);const Dt=head=Nr();return Ye===0&&At(head,Ae.factory.namedNode(S),Ae.factory.namedNode(x)),ze.forEach(at=>{if(at===void 0)throw new Error("b");At(head,Ae.factory.namedNode(M),at),At(head,Ae.factory.namedNode(S),head=++Be<Ye?Nr():Ae.factory.namedNode(x))}),Dt}function gr(ze){return Ae.n3Parser._resolveIRI(ze[0]==="<"?ze.substring(1,ze.length-1):ze)}function $r(ze){const De=ze.indexOf(":"),Be=ze.substr(0,De),Ye=Ae.prefixes[Be];if(!Ye)throw new Error("Unknown prefix: "+Be);return gr(Ye+ze.substr(De+1))}function zt(ze,De){return De&&De.termType!=="NamedNode"&&(De=Ae.factory.namedNode(De)),Ae.factory.literal(ze,De)}function mr(ze,De){return Ae.factory.literal(ze,De)}function Nr(ze){return typeof ze=="string"?ze.startsWith("e_")?Ae.factory.blankNode(ze):Ae.factory.blankNode("e_"+ze):Ae.factory.blankNode("g_"+kr++)}var kr=0;Ae._resetBlanks=function(){kr=0};function xn(ze,De){return Ae.n3Parser._lexer._unescape(ze.substring(De,ze.length-De))}function At(ze,De,Be){if(!ze.termType||!De.termType||De.value.includes(",")||!Be.termType)throw new Error(`boo ${ze.value} ${De.value} ${Be.value}`);Ae.onQuad(Ae.factory.quad(ze,De,Be))}function B(ze,De){At(Ae.currentPropertyNode,Ae.factory.namedNode(Ue+ze),De)}function re(ze,De,Be){const Ye=Nr();return At(Ye,Ae.factory.namedNode(Ue+De),Be),[ze,Ye]}function Se(ze){if(!Ae.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return ze}var Fe=function(){var ze={EOF:1,parseError:function(Be,Ye){if(this.yy.parser)this.yy.parser.parseError(Be,Ye);else throw new Error(Be)},setInput:function(De,Be){return this.yy=Be||this.yy||{},this._input=De,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var De=this._input[0];this.yytext+=De,this.yyleng++,this.offset++,this.match+=De,this.matched+=De;var Be=De.match(/(?:\r\n?|\n).*/g);return Be?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),De},unput:function(De){var Be=De.length,Ye=De.split(/(?:\r\n?|\n)/g);this._input=De+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Be),this.offset-=Be;var Dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ye.length-1&&(this.yylineno-=Ye.length-1);var at=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ye?(Ye.length===Dt.length?this.yylloc.first_column:0)+Dt[Dt.length-Ye.length].length-Ye[0].length:this.yylloc.first_column-Be},this.options.ranges&&(this.yylloc.range=[at[0],at[0]+this.yyleng-Be]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(De){this.unput(this.match.slice(De))},pastInput:function(){var De=this.matched.substr(0,this.matched.length-this.match.length);return(De.length>20?"...":"")+De.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var De=this.match;return De.length<20&&(De+=this._input.substr(0,20-De.length)),(De.substr(0,20)+(De.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var De=this.pastInput(),Be=new Array(De.length+1).join("-");return De+this.upcomingInput()+`
`+Be+"^"},test_match:function(De,Be){var Ye,Dt,at;if(this.options.backtrack_lexer&&(at={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(at.yylloc.range=this.yylloc.range.slice(0))),Dt=De[0].match(/(?:\r\n?|\n).*/g),Dt&&(this.yylineno+=Dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Dt?Dt[Dt.length-1].length-Dt[Dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+De[0].length},this.yytext+=De[0],this.match+=De[0],this.matches=De,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(De[0].length),this.matched+=De[0],Ye=this.performAction.call(this,this.yy,this,Be,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ye)return Ye;if(this._backtrack){for(var qe in at)this[qe]=at[qe];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var De,Be,Ye,Dt;this._more||(this.yytext="",this.match="");for(var at=this._currentRules(),qe=0;qe<at.length;qe++)if(Ye=this._input.match(this.rules[at[qe]]),Ye&&(!Be||Ye[0].length>Be[0].length)){if(Be=Ye,Dt=qe,this.options.backtrack_lexer){if(De=this.test_match(Ye,at[qe]),De!==!1)return De;if(this._backtrack){Be=!1;continue}else return!1}else if(!this.options.flex)break}return Be?(De=this.test_match(Be,at[Dt]),De!==!1?De:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Be=this.next();return Be||this.lex()},begin:function(Be){this.conditionStack.push(Be)},popState:function(){var Be=this.conditionStack.length-1;return Be>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Be){return Be=this.conditionStack.length-1-Math.abs(Be||0),Be>=0?this.conditionStack[Be]:"INITIAL"},pushState:function(Be){this.begin(Be)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Be,Ye,Dt,at){switch(Dt){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Ye.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return ze}();Ee.lexer=Fe;function Ae(){this.yy={}}return Ae.prototype=Ee,Ee.Parser=Ae,new Ae}(),Boe=Loe;const $oe=Boe.Parser,FT=ru;let TL=class{constructor(){}parse(e,{extendedSyntax:r,baseIRI:n}={}){this._parser=new $oe,this._parser.Parser.factory=FT.DataFactory,this._parser.Parser.base=FT.DataFactory.namedNode(n||"urn:x-base:default"),this._parser.Parser.extended=r===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new FT.Parser({baseIRI:n||"urn:x-base:default"});const a=[];return this._parser.Parser.onQuad=s=>{a.push(s)},this._parser.parse(e),a.prefixes=this._parser.Parser.prefixes,a}};oR.Parser=TL;oR.parse=function(e,r){return new TL().parse(e,r)};var EL={exports:{}};(function(t){(function(){var e;typeof window=="object"&&window?e=window:e=g,t.exports?t.exports=e.Promise?e.Promise:s:e.Promise||(e.Promise=s);var r=e.setImmediate||function(h){setTimeout(h,1)};function n(h,p){return function(){h.apply(p,arguments)}}var a=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function s(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof h!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(h,n(u,this),n(c,this))}function o(h){var p=this;if(this._state===null){this._deferreds.push(h);return}r(function(){var y=p._state?h.onFulfilled:h.onRejected;if(y===null){(p._state?h.resolve:h.reject)(p._value);return}var _;try{_=y(p._value)}catch(E){h.reject(E);return}h.resolve(_)})}function u(h){try{if(h===this)throw new TypeError("A promise cannot be resolved with itself.");if(h&&(typeof h=="object"||typeof h=="function")){var p=h.then;if(typeof p=="function"){f(n(p,h),n(u,this),n(c,this));return}}this._state=!0,this._value=h,l.call(this)}catch(y){c.call(this,y)}}function c(h){this._state=!1,this._value=h,l.call(this)}function l(){for(var h=0,p=this._deferreds.length;h<p;h++)o.call(this,this._deferreds[h]);this._deferreds=null}function d(h,p,y,_){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof p=="function"?p:null,this.resolve=y,this.reject=_}function f(h,p,y){var _=!1;try{h(function(E){_||(_=!0,p(E))},function(E){_||(_=!0,y(E))})}catch(E){if(_)return;_=!0,y(E)}}s.prototype.catch=function(h){return this.then(null,h)},s.prototype.then=function(h,p){var y=this;return new s(function(_,E){o.call(y,new d(h,p,_,E))})},s.all=function(){var h=Array.prototype.slice.call(arguments.length===1&&a(arguments[0])?arguments[0]:arguments);return new s(function(p,y){if(h.length===0)return p([]);var _=h.length;function E(O,A){try{if(A&&(typeof A=="object"||typeof A=="function")){var T=A.then;if(typeof T=="function"){T.call(A,function(I){E(O,I)},y);return}}h[O]=A,--_===0&&p(h)}catch(I){y(I)}}for(var w=0;w<h.length;w++)E(w,h[w])})},s.resolve=function(h){return h&&typeof h=="object"&&h.constructor===s?h:new s(function(p){p(h)})},s.reject=function(h){return new s(function(p,y){y(h)})},s.race=function(h){return new s(function(p,y){for(var _=0,E=h.length;_<E;_++)h[_].then(p,y)})}})()})(EL);var Uoe=EL.exports,qoe=Uoe,xl=function(t,e,r){typeof e=="function"&&(r=e,e=null);var n="",a=new qoe(function(s,o){t.on("data",function(u){n+=typeof e=="string"?u.toString(e):u.toString()}),t.on("end",function(){s(n)}),t.on("error",o)});return r&&a.then(function(s){r(null,s)},r),a},dv={};Object.defineProperty(dv,"__esModule",{value:!0});dv.PrefixWrappingIterator=void 0;const Voe=kt;class Hoe extends Voe.WrappingIterator{constructor(e){super(e==null?void 0:e.then(r=>(this.prefixes=r.prefixes,r)))}read(){if(this.prefixes){for(const e of Object.entries(this.prefixes))this.emit("prefix",...e);delete this.prefixes}return super.read()}}dv.PrefixWrappingIterator=Hoe;Object.defineProperty(lv,"__esModule",{value:!0});lv.ActorRdfParseShaclc=void 0;const koe=Ol,Qoe=Jt,Goe=oR,zoe=xl,Woe=dv;class Xoe extends koe.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new Woe.PrefixWrappingIterator(zoe(e.data).then(o=>{var u;return(0,Goe.parse)(o,{extendedSyntax:r==="text/shaclc-ext",baseIRI:(u=e.metadata)==null?void 0:u.baseIRI})})),s=new Qoe.Readable({objectMode:!0});return a.on("prefix",(...o)=>s.emit("prefix",...o)),{data:s.wrap(a),metadata:{triples:!0}}}}lv.ActorRdfParseShaclc=Xoe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lv,t)})(SL);var OL={},fv={},AL={},hv={};Object.defineProperty(hv,"__esModule",{value:!0});hv.ActorRdfJoinEntriesSort=void 0;const Koe=Je;class Joe extends Koe.Actor{constructor(e){super(e)}}hv.ActorRdfJoinEntriesSort=Joe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hv,t)})(AL);var Rl={},L0={};Object.defineProperty(L0,"__esModule",{value:!0});L0.ActorRdfResolveQuadPattern=void 0;const Yoe=Je;class Zoe extends Yoe.Actor{constructor(e){super(e)}}L0.ActorRdfResolveQuadPattern=Zoe;var pv={};Object.defineProperty(pv,"__esModule",{value:!0});pv.ActorRdfResolveQuadPatternSource=void 0;const eue=L0;class tue extends eue.ActorRdfResolveQuadPattern{constructor(e){super(e)}async test(e){return!0}async run(e){const r=await this.getSource(e.context,e.pattern);return await this.getOutput(r,e.pattern,e.context)}async getOutput(e,r,n){return{data:e.match(r.subject,r.predicate,r.object,r.graph,n)}}}pv.ActorRdfResolveQuadPatternSource=tue;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.hasContextSingleSourceOfType=Gr.hasContextSingleSource=Gr.getContextSourceUrl=Gr.getContextSourceFirst=Gr.getContextSource=Gr.getContextSources=Gr.getDataSourceContext=Gr.getDataSourceValue=Gr.getDataSourceType=Gr.isDataSourceRawType=void 0;const cp=qt,rue=Je;function yv(t){return typeof t=="string"||"match"in t}Gr.isDataSourceRawType=yv;function xL(t){return typeof t=="string"?"":"match"in t?"rdfjsSource":t.type}Gr.getDataSourceType=xL;function uR(t){return yv(t)?t:t.value}Gr.getDataSourceValue=uR;function nue(t,e){return yv(t)||!t.context?e:e.merge(rue.ActionContext.ensureActionContext(t.context))}Gr.getDataSourceContext=nue;function iue(t){return t.get(cp.KeysRdfResolveQuadPattern.sources)}Gr.getContextSources=iue;function cR(t){return t.get(cp.KeysRdfResolveQuadPattern.source)}Gr.getContextSource=cR;function aue(t){if(t.has(cp.KeysRdfResolveQuadPattern.source))return t.get(cp.KeysRdfResolveQuadPattern.source);const e=t.get(cp.KeysRdfResolveQuadPattern.sources);if((e==null?void 0:e.length)===1)return e[0]}Gr.getContextSourceFirst=aue;function sue(t){if(t){let e=uR(t);if(typeof e=="string"){const r=e.indexOf("#");return r>=0&&(e=e.slice(0,r)),e}}}Gr.getContextSourceUrl=sue;function oue(t){const e=cR(t);return!!(e&&(yv(e)||e.value))}Gr.hasContextSingleSource=oue;function uue(t,e){const r=cR(e);return!!(r&&xL(r)===t&&uR(r))}Gr.hasContextSingleSourceOfType=uue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(L0,t),r(pv,t),r(Gr,t)})(Rl);Object.defineProperty(fv,"__esModule",{value:!0});fv.ActorRdfJoinEntriesSortTraversalZeroKnowledge=void 0;const cue=AL,lue=Rl,due=qt,h1=on,Yl=vt;class Oo extends cue.ActorRdfJoinEntriesSort{constructor(e){super(e)}static getPatternNonVocabUris(e){let r;const n=[];return e.type==="pattern"?n.push(e.predicate):Yl.Util.recurseOperation(e,{link(a){return n.push(a.iri),!1},nps(a){for(const s of a.iris)n.push(s);return!1}}),n.some(a=>a.termType==="NamedNode"&&a.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#type")?r=[e.subject,e.graph]:r=[e.subject,e.object,e.graph],(0,h1.getNamedNodes)(r)}static getSourceUri(e){const r=e.value,n=r.indexOf("#");return n>0?r.slice(0,n):r}static getScoreSeedNonVocab(e,r){return Oo.getPatternNonVocabUris(e).map(n=>Oo.getSourceUri(n)).filter(n=>r.includes(n)).length}static getScoreSelectivity(e){const r=e.type==="pattern"?(0,h1.getTerms)(e):[e.subject,e.object,e.graph];return h1.QUAD_TERM_NAMES.length-(0,h1.getVariables)(r).length}static sortJoinEntries(e,r){return[...e].sort((n,a)=>{if((n.operation.type===Yl.Algebra.types.PATTERN||n.operation.type===Yl.Algebra.types.PATH)&&(a.operation.type===Yl.Algebra.types.PATTERN||a.operation.type===Yl.Algebra.types.PATH)){const s=Oo.getScoreSeedNonVocab(a.operation,r)-Oo.getScoreSeedNonVocab(n.operation,r);return s===0?Oo.getScoreSelectivity(a.operation)-Oo.getScoreSelectivity(n.operation):s}return n.operation.type===Yl.Algebra.types.PATTERN?-1:1})}async test(e){return!0}async run(e){const r=[],n=e.context.get(due.KeysRdfResolveQuadPattern.sources);if(n)for(const a of n){const s=(0,lue.getDataSourceValue)(a);typeof s=="string"&&r.push(s)}return{entries:Oo.sortJoinEntries(e.entries,r)}}}fv.ActorRdfJoinEntriesSortTraversalZeroKnowledge=Oo;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fv,t)})(OL);var RL={},sf={},IL={},bv={};Object.defineProperty(bv,"__esModule",{value:!0});bv.ActorRdfJoinSelectivity=void 0;const fue=Je;class hue extends fue.Actor{constructor(e){super(e)}}bv.ActorRdfJoinSelectivity=hue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bv,t)})(IL);Object.defineProperty(sf,"__esModule",{value:!0});sf.JoinTypes=sf.ActorRdfJoinSelectivityVariableCounting=void 0;const pue=IL,p1=vt;class xo extends pue.ActorRdfJoinSelectivity{constructor(e){super(e)}async test(e){return{accuracy:.5}}static getPatternCost(e){let r=1;return e.subject.termType==="Variable"&&(r+=4),(e.predicate.termType==="Variable"||e.type===p1.Algebra.types.PATH)&&(r+=1),e.object.termType==="Variable"&&(r+=2),e.graph.termType==="Variable"&&(r+=1),r/9}static getJoinTypes(e,r){const n=[];return e.subject.termType==="Variable"?(e.subject.equals(r.subject)&&n.push(Ze.unboundSS),r.type==="pattern"&&e.subject.equals(r.predicate)&&n.push(Ze.unboundSP),e.subject.equals(r.object)&&n.push(Ze.unboundSO),e.subject.equals(r.graph)&&n.push(Ze.unboundSG)):(e.subject.equals(r.subject)&&n.push(Ze.boundSS),r.type==="pattern"&&e.subject.equals(r.predicate)&&n.push(Ze.boundSP),e.subject.equals(r.object)&&n.push(Ze.boundSO),e.subject.equals(r.graph)&&n.push(Ze.boundSG)),e.type==="pattern"&&(e.predicate.termType==="Variable"?(e.predicate.equals(r.subject)&&n.push(Ze.unboundPS),r.type==="pattern"&&e.predicate.equals(r.predicate)&&n.push(Ze.unboundPP),e.predicate.equals(r.object)&&n.push(Ze.unboundPO),e.predicate.equals(r.graph)&&n.push(Ze.unboundPG)):(e.predicate.equals(r.subject)&&n.push(Ze.boundPS),r.type==="pattern"&&e.predicate.equals(r.predicate)&&n.push(Ze.boundPP),e.predicate.equals(r.object)&&n.push(Ze.boundPO),e.predicate.equals(r.graph)&&n.push(Ze.boundPG))),e.object.termType==="Variable"?(e.object.equals(r.subject)&&n.push(Ze.unboundOS),r.type==="pattern"&&e.object.equals(r.predicate)&&n.push(Ze.unboundOP),e.object.equals(r.object)&&n.push(Ze.unboundOO),e.object.equals(r.graph)&&n.push(Ze.unboundOG)):(e.object.equals(r.subject)&&n.push(Ze.boundOS),r.type==="pattern"&&e.object.equals(r.predicate)&&n.push(Ze.boundOP),e.object.equals(r.object)&&n.push(Ze.boundOO),e.object.equals(r.graph)&&n.push(Ze.boundOG)),e.graph.termType==="Variable"?(e.graph.equals(r.subject)&&n.push(Ze.unboundGS),r.type==="pattern"&&e.graph.equals(r.predicate)&&n.push(Ze.unboundGP),e.graph.equals(r.object)&&n.push(Ze.unboundGO),e.graph.equals(r.graph)&&n.push(Ze.unboundGG)):(e.graph.equals(r.subject)&&n.push(Ze.boundGS),r.type==="pattern"&&e.graph.equals(r.predicate)&&n.push(Ze.boundGP),e.graph.equals(r.object)&&n.push(Ze.boundGO),e.graph.equals(r.graph)&&n.push(Ze.boundGG)),n}static getOperationsPairwiseJoinCost(e,r){let n=xo.MAX_PAIRWISE_COST;for(const a of xo.getJoinTypes(e,r))switch(a){case Ze.boundSS:n-=2*2;break;case Ze.boundSP:n-=3*2;break;case Ze.boundSO:n-=1*2;break;case Ze.boundSG:n-=3*2;break;case Ze.boundPS:n-=3*2;break;case Ze.boundPP:return 1;case Ze.boundPO:n-=3*2;break;case Ze.boundPG:n-=3*2;break;case Ze.boundOS:n-=1*2;break;case Ze.boundOP:n-=3*2;break;case Ze.boundOO:n-=1*2;break;case Ze.boundOG:n-=3*2;break;case Ze.boundGS:n-=3*2;break;case Ze.boundGP:n-=3*2;break;case Ze.boundGO:n-=3*2;break;case Ze.boundGG:n-=3*2;break;case Ze.unboundSS:n-=2;break;case Ze.unboundSP:n-=3;break;case Ze.unboundSO:n-=1;break;case Ze.unboundSG:n-=3;break;case Ze.unboundPS:n-=3;break;case Ze.unboundPP:n-=3;break;case Ze.unboundPO:n-=3;break;case Ze.unboundPG:n-=3;break;case Ze.unboundOS:n-=1;break;case Ze.unboundOP:n-=3;break;case Ze.unboundOO:n-=1;break;case Ze.unboundOG:n-=3;break;case Ze.unboundGS:n-=3;break;case Ze.unboundGP:n-=3;break;case Ze.unboundGO:n-=3;break;case Ze.unboundGG:n-=3;break}return n/xo.MAX_PAIRWISE_COST}static getOperationsJoinCost(e){const r=[];for(const s of e)p1.Util.recurseOperation(s,{[p1.Algebra.types.PATTERN](o){return r.push(o),!1},[p1.Algebra.types.PATH](o){return r.push(o),!1}});let n=0,a=0;for(const s of r)for(const o of r)s!==o&&(n+=xo.getOperationsPairwiseJoinCost(s,o),a++);return a===0?1:n/a*r.reduce((s,o)=>s*xo.getPatternCost(o),1)}async run(e){return e.entries.length<=1?{selectivity:1}:{selectivity:xo.getOperationsJoinCost(e.entries.map(r=>r.operation))}}}sf.ActorRdfJoinSelectivityVariableCounting=xo;xo.MAX_PAIRWISE_COST=41*2;var Ze;(function(t){t[t.boundSS=0]="boundSS",t[t.boundSP=1]="boundSP",t[t.boundSO=2]="boundSO",t[t.boundSG=3]="boundSG",t[t.boundPS=4]="boundPS",t[t.boundPP=5]="boundPP",t[t.boundPO=6]="boundPO",t[t.boundPG=7]="boundPG",t[t.boundOS=8]="boundOS",t[t.boundOP=9]="boundOP",t[t.boundOO=10]="boundOO",t[t.boundOG=11]="boundOG",t[t.boundGS=12]="boundGS",t[t.boundGP=13]="boundGP",t[t.boundGO=14]="boundGO",t[t.boundGG=15]="boundGG",t[t.unboundSS=16]="unboundSS",t[t.unboundSP=17]="unboundSP",t[t.unboundSO=18]="unboundSO",t[t.unboundSG=19]="unboundSG",t[t.unboundPS=20]="unboundPS",t[t.unboundPP=21]="unboundPP",t[t.unboundPO=22]="unboundPO",t[t.unboundPG=23]="unboundPG",t[t.unboundOS=24]="unboundOS",t[t.unboundOP=25]="unboundOP",t[t.unboundOO=26]="unboundOO",t[t.unboundOG=27]="unboundOG",t[t.unboundGS=28]="unboundGS",t[t.unboundGP=29]="unboundGP",t[t.unboundGO=30]="unboundGO",t[t.unboundGG=31]="unboundGG"})(Ze||(sf.JoinTypes=Ze={}));(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sf,t)})(RL);var PL={},_v={},lR={},gv={};Object.defineProperty(gv,"__esModule",{value:!0});gv.ActorRdfMetadata=void 0;const yue=Je;class bue extends yue.Actor{constructor(e){super(e)}}gv.ActorRdfMetadata=bue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gv,t)})(lR);Object.defineProperty(_v,"__esModule",{value:!0});_v.ActorRdfMetadataPrimaryTopic=void 0;const _ue=lR,t4=Jt;class gue extends _ue.ActorRdfMetadata{constructor(e){super(e)}async test(e){if(e.triples)throw new Error("This actor only supports non-triple quad streams.");return!0}async run(e){const r=new t4.Readable({objectMode:!0}),n=new t4.Readable({objectMode:!0}),a=()=>{r._read=n._read=()=>{},e.quads.on("error",c=>{r.emit("error",c),n.emit("error",c)});const s={};let o;const u={};e.quads.on("data",c=>{c.predicate.value==="http://rdfs.org/ns/void#subset"&&c.object.value===e.url?o=c.subject.value:c.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(u[c.object.value]=c.subject.value);let l=s[c.graph.value];l||(l=s[c.graph.value]=[]),l.push(c)}),e.quads.on("end",()=>{const c=o?u[o]:void 0;for(const l in s)if(l===c){for(const d of s[l])n.push(d);if(this.metadataToData)for(const d of s[l])r.push(d)}else{for(const d of s[l])r.push(d);if(!c&&this.dataToMetadataOnInvalidMetadataGraph)for(const d of s[l])n.push(d)}r.push(null),n.push(null)})};return r._read=n._read=()=>{a()},{data:r,metadata:n}}}_v.ActorRdfMetadataPrimaryTopic=gue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_v,t)})(PL);var DL={},mv={};Object.defineProperty(mv,"__esModule",{value:!0});mv.ActorRdfMetadataAll=void 0;const mue=lR,r4=Jt;class vue extends mue.ActorRdfMetadata{constructor(e){super(e)}async test(e){return!0}async run(e){const r=new r4.Readable({objectMode:!0}),n=new r4.Readable({objectMode:!0});e.quads.on("error",s=>{r.emit("error",s),n.emit("error",s)});const a=()=>{r._read=n._read=()=>{},e.quads.on("data",s=>{r.push(s),n.push(s)}),e.quads.on("end",()=>{r.push(null),n.push(null)})};return r._read=n._read=()=>{a()},{data:r,metadata:n}}}mv.ActorRdfMetadataAll=vue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mv,t)})(DL);var NL={},vv={},B0={},wv={};Object.defineProperty(wv,"__esModule",{value:!0});wv.ActorRdfMetadataAccumulate=void 0;const wue=Je;class Sue extends wue.Actor{constructor(e){super(e)}}wv.ActorRdfMetadataAccumulate=Sue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wv,t)})(B0);Object.defineProperty(vv,"__esModule",{value:!0});vv.ActorRdfMetadataAccumulateCanContainUndefs=void 0;const Tue=B0;class Eue extends Tue.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.mode==="initialize")return{metadata:{canContainUndefs:!1}};let r=e.accumulatedMetadata.canContainUndefs;return e.appendingMetadata.canContainUndefs&&(r=!0),{metadata:{canContainUndefs:r}}}}vv.ActorRdfMetadataAccumulateCanContainUndefs=Eue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vv,t)})(NL);var jL={},Sv={};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.ActorRdfMetadataAccumulateCardinality=void 0;const Oue=B0;class Aue extends Oue.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return!0}async run(e){if(e.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const r={...e.accumulatedMetadata.cardinality};if(r.dataset)if(e.appendingMetadata.cardinality.dataset){if(r.dataset!==e.appendingMetadata.cardinality.dataset&&e.appendingMetadata.subsetOf===r.dataset)return{metadata:{cardinality:e.appendingMetadata.cardinality}};if(r.dataset!==e.appendingMetadata.cardinality.dataset)delete r.dataset;else return{metadata:{cardinality:r}}}else return{metadata:{cardinality:r}};return!e.appendingMetadata.cardinality||!Number.isFinite(e.appendingMetadata.cardinality.value)?(r.type="estimate",r.value=Number.POSITIVE_INFINITY):(e.appendingMetadata.cardinality.type==="estimate"&&(r.type="estimate"),r.value+=e.appendingMetadata.cardinality.value),{metadata:{cardinality:r}}}}Sv.ActorRdfMetadataAccumulateCardinality=Aue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Sv,t)})(jL);var CL={},Tv={};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.ActorRdfMetadataAccumulatePageSize=void 0;const xue=B0;class Rue extends xue.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return!0}async run(e){return e.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in e.accumulatedMetadata||"pageSize"in e.appendingMetadata?{pageSize:(e.accumulatedMetadata.pageSize||0)+(e.appendingMetadata.pageSize||0)}:{}}}}}Tv.ActorRdfMetadataAccumulatePageSize=Rue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Tv,t)})(CL);var ML={},Ev={};Object.defineProperty(Ev,"__esModule",{value:!0});Ev.ActorRdfMetadataAccumulateRequestTime=void 0;const Iue=B0;class Pue extends Iue.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return!0}async run(e){return e.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in e.accumulatedMetadata||"requestTime"in e.appendingMetadata?{requestTime:(e.accumulatedMetadata.requestTime||0)+(e.appendingMetadata.requestTime||0)}:{}}}}}Ev.ActorRdfMetadataAccumulateRequestTime=Pue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ev,t)})(ML);var FL={},Ov={},no={},Av={};Object.defineProperty(Av,"__esModule",{value:!0});Av.ActorRdfMetadataExtract=void 0;const Due=Je;class Nue extends Due.Actor{constructor(e){super(e)}}Av.ActorRdfMetadataExtract=Nue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Av,t)})(no);var LL={exports:{}};(function(t){(function(e){var r=function(){function y(_){this.options=_}return y.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},y}(),n=function(){function y(U){return Object.prototype.toString.apply(U)==="[object Array]"}function _(U){return Object.prototype.toString.apply(U)==="[object String]"}function E(U){return Object.prototype.toString.apply(U)==="[object Number]"}function w(U){return Object.prototype.toString.apply(U)==="[object Boolean]"}function O(U,H){var N="",R=!0,F;for(F=0;F<U.length;F+=1)R?R=!1:N+=H,N+=U[F];return N}function A(U,H){for(var N=[],R=0;R<U.length;R+=1)N.push(H(U[R]));return N}function T(U,H){for(var N=[],R=0;R<U.length;R+=1)H(U[R])&&N.push(U[R]);return N}function I(U){if(typeof U!="object"||U===null)return U;Object.freeze(U);var H,N;for(N in U)U.hasOwnProperty(N)&&(H=U[N],typeof H=="object"&&D(H));return U}function D(U){return typeof Object.freeze=="function"?I(U):U}return{isArray:y,isString:_,isNumber:E,isBoolean:w,join:O,map:A,filter:T,deepFreeze:D}}(),a=function(){function y(w){return w>="a"&&w<="z"||w>="A"&&w<="Z"}function _(w){return w>="0"&&w<="9"}function E(w){return _(w)||w>="a"&&w<="f"||w>="A"&&w<="F"}return{isAlpha:y,isDigit:_,isHexDigit:E}}(),s=function(){var y={encode:function(T){return unescape(encodeURIComponent(T))},numBytes:function(T){return T<=127?1:194<=T&&T<=223?2:224<=T&&T<=239?3:240<=T&&T<=244?4:0},isValidFollowingCharCode:function(T){return 128<=T&&T<=191}};function _(T){var I="",D=y.encode(T),U,H;for(H=0;H<D.length;H+=1)U=D.charCodeAt(H),I+="%"+(U<16?"0":"")+U.toString(16).toUpperCase();return I}function E(T,I){return T.charAt(I)==="%"&&a.isHexDigit(T.charAt(I+1))&&a.isHexDigit(T.charAt(I+2))}function w(T,I){return parseInt(T.substr(I,2),16)}function O(T){if(!E(T,0))return!1;var I=w(T,1),D=y.numBytes(I);if(D===0)return!1;for(var U=1;U<D;U+=1)if(!E(T,3*U)||!y.isValidFollowingCharCode(w(T,3*U+1)))return!1;return!0}function A(T,I){var D=T.charAt(I);if(!E(T,I))return D;var U=w(T,I+1),H=y.numBytes(U);if(H===0)return D;for(var N=1;N<H;N+=1)if(!E(T,I+3*N)||!y.isValidFollowingCharCode(w(T,I+3*N+1)))return D;return T.substr(I,3*H)}return{encodeCharacter:_,isPctEncoded:O,pctCharAt:A}}(),o=function(){function y(w){return a.isAlpha(w)||a.isDigit(w)||w==="_"||s.isPctEncoded(w)}function _(w){return a.isAlpha(w)||a.isDigit(w)||w==="-"||w==="."||w==="_"||w==="~"}function E(w){return w===":"||w==="/"||w==="?"||w==="#"||w==="["||w==="]"||w==="@"||w==="!"||w==="$"||w==="&"||w==="("||w===")"||w==="*"||w==="+"||w===","||w===";"||w==="="||w==="'"}return{isVarchar:y,isUnreserved:_,isReserved:E}}(),u=function(){function y(O,A){var T="",I,D="";for((typeof O=="number"||typeof O=="boolean")&&(O=O.toString()),I=0;I<O.length;I+=D.length)D=O.charAt(I),T+=o.isUnreserved(D)||A&&o.isReserved(D)?D:s.encodeCharacter(D);return T}function _(O){return y(O,!0)}function E(O,A){var T=s.pctCharAt(O,A);return T.length>1||o.isReserved(T)||o.isUnreserved(T)?T:s.encodeCharacter(T)}function w(O){var A="",T,I="";for(T=0;T<O.length;T+=I.length)I=s.pctCharAt(O,T),I.length>1?A+=I:A+=o.isReserved(I)||o.isUnreserved(I)?I:s.encodeCharacter(I);return A}return{encode:y,encodePassReserved:_,encodeLiteral:w,encodeLiteralCharacter:E}}(),c=function(){var y={};function _(E){y[E]={symbol:E,separator:E==="?"?"&":E===""||E==="+"||E==="#"?",":E,named:E===";"||E==="&"||E==="?",ifEmpty:E==="&"||E==="?"?"=":"",first:E==="+"?"":E,encode:E==="+"||E==="#"?u.encodePassReserved:u.encode,toString:function(){return this.symbol}}}return _(""),_("+"),_("#"),_("."),_("/"),_(";"),_("?"),_("&"),{valueOf:function(E){return y[E]?y[E]:"=,!@|".indexOf(E)>=0?null:y[""]}}}();function l(y){var _;if(y==null)return!1;if(n.isArray(y))return y.length>0;if(typeof y=="string"||typeof y=="number"||typeof y=="boolean")return!0;for(_ in y)if(y.hasOwnProperty(_)&&l(y[_]))return!0;return!1}var d=function(){function y(_){this.literal=u.encodeLiteral(_)}return y.prototype.expand=function(){return this.literal},y.prototype.toString=y.prototype.expand,y}(),f=function(){function y(E){var w,O=[],A=null,T=null,I=null,D,U="";function H(){var R=E.substring(T,D);if(R.length===0)throw new r({expressionText:E,message:"a varname must be specified",position:D});A={varname:R,exploded:!1,maxLength:null},T=null}function N(){if(I===D)throw new r({expressionText:E,message:"after a ':' you have to specify the length",position:D});A.maxLength=parseInt(E.substring(I,D),10),I=null}for(w=function(R){var F=c.valueOf(R);if(F===null)throw new r({expressionText:E,message:"illegal use of reserved operator",position:D,operator:R});return F}(E.charAt(0)),D=w.symbol.length,T=D;D<E.length;D+=U.length){if(U=s.pctCharAt(E,D),T!==null){if(U==="."){if(T===D)throw new r({expressionText:E,message:"a varname MUST NOT start with a dot",position:D});continue}if(o.isVarchar(U))continue;H()}if(I!==null){if(D===I&&U==="0")throw new r({expressionText:E,message:"A :prefix must not start with digit 0",position:D});if(a.isDigit(U)){if(D-I>=4)throw new r({expressionText:E,message:"A :prefix must have max 4 digits",position:D});continue}N()}if(U===":"){if(A.maxLength!==null)throw new r({expressionText:E,message:"only one :maxLength is allowed per varspec",position:D});if(A.exploded)throw new r({expressionText:E,message:"an exploeded varspec MUST NOT be varspeced",position:D});I=D+1;continue}if(U==="*"){if(A===null)throw new r({expressionText:E,message:"exploded without varspec",position:D});if(A.exploded)throw new r({expressionText:E,message:"exploded twice",position:D});if(A.maxLength)throw new r({expressionText:E,message:"an explode (*) MUST NOT follow to a prefix",position:D});A.exploded=!0;continue}if(U===","){O.push(A),A=null,T=D+1;continue}throw new r({expressionText:E,message:"illegal character",character:U,position:D})}return T!==null&&H(),I!==null&&N(),O.push(A),new h(E,w,O)}function _(E){var w,O,A=[],T=null,I=0;for(w=0;w<E.length;w+=1){if(O=E.charAt(w),I!==null){if(O==="}")throw new r({templateText:E,message:"unopened brace closed",position:w});O==="{"&&(I<w&&A.push(new d(E.substring(I,w))),I=null,T=w);continue}if(T!==null){if(O==="{")throw new r({templateText:E,message:"brace already opened",position:w});if(O==="}"){if(T+1===w)throw new r({templateText:E,message:"empty braces",position:T});try{A.push(y(E.substring(T+1,w)))}catch(D){throw D.prototype===r.prototype?new r({templateText:E,message:D.options.message,position:T+D.options.position,details:D.options}):D}T=null,I=w+1}continue}throw new Error("reached unreachable code")}if(T!==null)throw new r({templateText:E,message:"unclosed brace",position:T});return I<E.length&&A.push(new d(E.substr(I))),new p(E,A)}return _}(),h=function(){function y(U){return JSON&&JSON.stringify?JSON.stringify(U):U}function _(U){if(!l(U))return!0;if(n.isString(U))return U==="";if(n.isNumber(U)||n.isBoolean(U))return!1;if(n.isArray(U))return U.length===0;for(var H in U)if(U.hasOwnProperty(H))return!1;return!0}function E(U){var H=[],N;for(N in U)U.hasOwnProperty(N)&&H.push({name:N,value:U[N]});return H}function w(U,H,N){this.templateText=U,this.operator=H,this.varspecs=N}w.prototype.toString=function(){return this.templateText};function O(U,H,N){var R="";if(N=N.toString(),H.named){if(R+=u.encodeLiteral(U.varname),N==="")return R+=H.ifEmpty,R;R+="="}return U.maxLength!==null&&(N=N.substr(0,U.maxLength)),R+=H.encode(N),R}function A(U){return l(U.value)}function T(U,H,N){var R=[],F="";if(H.named){if(F+=u.encodeLiteral(U.varname),_(N))return F+=H.ifEmpty,F;F+="="}return n.isArray(N)?(R=N,R=n.filter(R,l),R=n.map(R,H.encode),F+=n.join(R,",")):(R=E(N),R=n.filter(R,A),R=n.map(R,function(X){return H.encode(X.name)+","+H.encode(X.value)}),F+=n.join(R,",")),F}function I(U,H,N){var R=n.isArray(N),F=[];return R?(F=N,F=n.filter(F,l),F=n.map(F,function(X){var ne=u.encodeLiteral(U.varname);return _(X)?ne+=H.ifEmpty:ne+="="+H.encode(X),ne})):(F=E(N),F=n.filter(F,A),F=n.map(F,function(X){var ne=u.encodeLiteral(X.name);return _(X.value)?ne+=H.ifEmpty:ne+="="+H.encode(X.value),ne})),n.join(F,H.separator)}function D(U,H){var N=[],R="";return n.isArray(H)?(N=H,N=n.filter(N,l),N=n.map(N,U.encode),R+=n.join(N,U.separator)):(N=E(H),N=n.filter(N,function(F){return l(F.value)}),N=n.map(N,function(F){return U.encode(F.name)+"="+U.encode(F.value)}),R+=n.join(N,U.separator)),R}return w.prototype.expand=function(U){var H=[],N,R,F,X=this.operator;for(N=0;N<this.varspecs.length;N+=1)if(R=this.varspecs[N],F=U[R.varname],F!=null)if(R.exploded,n.isArray(F),typeof F=="string"||typeof F=="number"||typeof F=="boolean")H.push(O(R,X,F));else{if(R.maxLength&&l(F))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+y(F));R.exploded?l(F)&&(X.named?H.push(I(R,X,F)):H.push(D(X,F))):(X.named||!_(F))&&H.push(T(R,X,F))}return H.length===0?"":X.first+n.join(H,X.separator)},w}(),p=function(){function y(_,E){this.templateText=_,this.expressions=E,n.deepFreeze(this)}return y.prototype.toString=function(){return this.templateText},y.prototype.expand=function(_){var E,w="";for(E=0;E<this.expressions.length;E+=1)w+=this.expressions[E].expand(_);return w},y.parse=f,y.UriTemplateError=r,y}();e(p)})(function(e){t.exports=e})})(LL);var jue=LL.exports;Object.defineProperty(Ov,"__esModule",{value:!0});Ov.ActorRdfMetadataExtractHydraControls=void 0;const Cue=no,Mue=jue;class rl extends Cue.ActorRdfMetadataExtract{constructor(e){super(e),this.parsedUriTemplateCache={}}async test(e){return!0}getLinks(e,r){return Object.fromEntries(rl.LINK_TYPES.map(n=>{const a=r[n]||r[`${n}Page`],s=a&&a[e];return[n,s&&s.length>0?s[0]:null]}))}parseUriTemplateCached(e){const r=this.parsedUriTemplateCache[e];return r||(this.parsedUriTemplateCache[e]=(0,Mue.parse)(e))}getSearchForms(e){const r=e.search,n=[];if(r)for(const a in r)for(const s of r[a]){const o=(e.template||{})[s]||[];if(o.length!==1)throw new Error(`Expected 1 hydra:template for ${s}`);const u=o[0],c=this.parseUriTemplateCached(u),l=Object.fromEntries(((e.mapping||{})[s]||[]).map(f=>{const h=((e.variable||{})[f]||[])[0],p=((e.property||{})[f]||[])[0];if(!h)throw new Error(`Expected a hydra:variable for ${f}`);if(!p)throw new Error(`Expected a hydra:property for ${f}`);return[p,h]})),d=f=>c.expand(Object.fromEntries(Object.keys(f).map(h=>[l[h],f[h]])));n.push({dataset:a,template:u,mappings:l,getUri:d})}return{values:n}}getHydraProperties(e){return new Promise((r,n)=>{e.on("error",n);const a={};e.on("data",s=>{if(s.predicate.value.startsWith(rl.HYDRA)){const o=s.predicate.value.slice(rl.HYDRA.length),u=a[o]||(a[o]={});(u[s.subject.value]||(u[s.subject.value]=[])).push(s.object.value)}}),e.on("end",()=>r(a))})}async run(e){const r={},n=await this.getHydraProperties(e.metadata);return Object.assign(r,this.getLinks(e.url,n)),r.searchForms=this.getSearchForms(n),{metadata:r}}}Ov.ActorRdfMetadataExtractHydraControls=rl;rl.HYDRA="http://www.w3.org/ns/hydra/core#";rl.LINK_TYPES=["first","next","previous","last"];(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ov,t)})(FL);var BL={},xv={};Object.defineProperty(xv,"__esModule",{value:!0});xv.ActorRdfMetadataExtractHydraCount=void 0;const Fue=no;class Lue extends Fue.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}run(e){return new Promise((r,n)=>{e.metadata.on("error",n),e.metadata.on("data",a=>{this.predicates.includes(a.predicate.value)&&r({metadata:{cardinality:{type:"estimate",value:Number.parseInt(a.object.value,10),dataset:a.subject.value}}})}),e.metadata.on("end",()=>{r({metadata:{cardinality:{type:"estimate",value:0}}})})})}}xv.ActorRdfMetadataExtractHydraCount=Lue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xv,t)})(BL);var $L={},Rv={};Object.defineProperty(Rv,"__esModule",{value:!0});Rv.ActorRdfMetadataExtractHydraPagesize=void 0;const Bue=no;class $ue extends Bue.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return new Promise((r,n)=>{e.metadata.on("error",n),e.metadata.on("data",a=>{this.predicates.includes(a.predicate.value)&&r({metadata:{pageSize:Number.parseInt(a.object.value,10)}})}),e.metadata.on("end",()=>{r({metadata:{}})})})}}Rv.ActorRdfMetadataExtractHydraPagesize=$ue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Rv,t)})($L);var UL={},Iv={};Object.defineProperty(Iv,"__esModule",{value:!0});Iv.ActorRdfMetadataExtractRequestTime=void 0;const Uue=no;class que extends Uue.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return{metadata:{requestTime:e.requestTime}}}}Iv.ActorRdfMetadataExtractRequestTime=que;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Iv,t)})(UL);var qL={},Pv={};Object.defineProperty(Pv,"__esModule",{value:!0});Pv.ActorRdfMetadataExtractAllowHttpMethods=void 0;const Vue=no;class Hue extends Vue.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){var n,a;const r={};return(n=e.headers)!=null&&n.get("allow")&&(r.allowHttpMethods=(a=e.headers.get("allow"))==null?void 0:a.split(/, */u)),{metadata:r}}}Pv.ActorRdfMetadataExtractAllowHttpMethods=Hue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Pv,t)})(qL);var VL={},Dv={};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.ActorRdfMetadataExtractPutAccepted=void 0;const kue=no;class Que extends kue.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){var n,a;const r={};return(n=e.headers)!=null&&n.get("accept-put")&&(r.putAccepted=(a=e.headers.get("accept-put"))==null?void 0:a.split(/, */u)),{metadata:r}}}Dv.ActorRdfMetadataExtractPutAccepted=Que;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Dv,t)})(VL);var HL={},Nv={};Object.defineProperty(Nv,"__esModule",{value:!0});Nv.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const Gue=no;class zue extends Gue.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){var n,a,s,o;const r={};return((a=(n=e.headers)==null?void 0:n.get("accept-patch"))!=null&&a.includes("application/sparql-update")||(o=(s=e.headers)==null?void 0:s.get("ms-author-via"))!=null&&o.includes("SPARQL"))&&(r.patchSparqlUpdate=!0),{metadata:r}}}Nv.ActorRdfMetadataExtractPatchSparqlUpdate=zue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Nv,t)})(HL);var kL={},jv={};Object.defineProperty(jv,"__esModule",{value:!0});jv.ActorRdfMetadataExtractSparqlService=void 0;const Wue=no,Xue=xa;class Kue extends Wue.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){return new Promise((r,n)=>{e.metadata.on("error",n);const a={};e.metadata.on("data",s=>{s.predicate.value==="http://www.w3.org/ns/sparql-service-description#endpoint"&&(s.subject.termType==="BlankNode"||s.subject.value===e.url)?(a.sparqlService=s.object.termType==="Literal"?(0,Xue.resolve)(s.object.value,e.url):s.object.value,this.inferHttpsEndpoint&&e.url.startsWith("https")&&!a.sparqlService.startsWith("https")&&(a.sparqlService=a.sparqlService.replace("http:","https:"))):s.predicate.value==="http://www.w3.org/ns/sparql-service-description#defaultGraph"&&(a.defaultGraph=s.object.value)}),e.metadata.on("end",()=>{r({metadata:a})})})}}jv.ActorRdfMetadataExtractSparqlService=Kue;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jv,t)})(kL);var QL={},Cv={},GL={},jp={},dR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Ko,r;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.InEntity=25]="InEntity"})(n||(n={}));function a(d){return d===r.Space||d===r.NewLine||d===r.Tab||d===r.FormFeed||d===r.CarriageReturn}function s(d){return d===r.Slash||d===r.Gt||a(d)}function o(d){return d>=r.LowerA&&d<=r.LowerZ||d>=r.UpperA&&d<=r.UpperZ}var u;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(u=t.QuoteType||(t.QuoteType={}));var c={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},l=function(){function d(f,h){var p=f.xmlMode,y=p===void 0?!1:p,_=f.decodeEntities,E=_===void 0?!0:_,w=this;this.cbs=h,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=y,this.decodeEntities=E,this.entityDecoder=new e.EntityDecoder(y?e.xmlDecodeTree:e.htmlDecodeTree,function(O,A){return w.emitCodePoint(O,A)})}return d.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(f){this.offset+=this.buffer.length,this.buffer=f,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.stateText=function(f){f===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&f===r.Amp&&this.startEntity()},d.prototype.stateSpecialStartSequence=function(f){var h=this.sequenceIndex===this.currentSequence.length,p=h?s(f):(f|32)===this.currentSequence[this.sequenceIndex];if(!p)this.isSpecial=!1;else if(!h){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(f)},d.prototype.stateInSpecialTag=function(f){if(this.sequenceIndex===this.currentSequence.length){if(f===r.Gt||a(f)){var h=this.index-this.currentSequence.length;if(this.sectionStart<h){var p=this.index;this.index=h,this.cbs.ontext(this.sectionStart,h),this.index=p}this.isSpecial=!1,this.sectionStart=h+2,this.stateInClosingTagName(f);return}this.sequenceIndex=0}(f|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===c.TitleEnd?this.decodeEntities&&f===r.Amp&&this.startEntity():this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(f===r.Lt)},d.prototype.stateCDATASequence=function(f){f===c.Cdata[this.sequenceIndex]?++this.sequenceIndex===c.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=c.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(f))},d.prototype.fastForwardTo=function(f){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===f)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(f){f===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):f!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(f){return this.xmlMode?!s(f):o(f)},d.prototype.startSpecial=function(f,h){this.isSpecial=!0,this.currentSequence=f,this.sequenceIndex=h,this.state=n.SpecialStartSequence},d.prototype.stateBeforeTagName=function(f){if(f===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(f===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(f)){var h=f|32;this.sectionStart=this.index,!this.xmlMode&&h===c.TitleEnd[2]?this.startSpecial(c.TitleEnd,3):this.state=!this.xmlMode&&h===c.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else f===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(f))},d.prototype.stateInTagName=function(f){s(f)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(f))},d.prototype.stateBeforeClosingTagName=function(f){a(f)||(f===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(f)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(f){(f===r.Gt||a(f))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(f))},d.prototype.stateAfterClosingTagName=function(f){(f===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(f){f===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.sectionStart=this.index+1):f===r.Slash?this.state=n.InSelfClosingTag:a(f)||(this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(f){f===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(f)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(f))},d.prototype.stateInAttributeName=function(f){(f===r.Eq||s(f))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(f))},d.prototype.stateAfterAttributeName=function(f){f===r.Eq?this.state=n.BeforeAttributeValue:f===r.Slash||f===r.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(f)):a(f)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(f){f===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):f===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(f)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(f))},d.prototype.handleInAttributeValue=function(f,h){f===h||!this.decodeEntities&&this.fastForwardTo(h)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(h===r.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&f===r.Amp&&this.startEntity()},d.prototype.stateInAttributeValueDoubleQuotes=function(f){this.handleInAttributeValue(f,r.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(f){this.handleInAttributeValue(f,r.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(f){a(f)||f===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(f)):this.decodeEntities&&f===r.Amp&&this.startEntity()},d.prototype.stateBeforeDeclaration=function(f){f===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=f===r.Dash?n.BeforeComment:n.InDeclaration},d.prototype.stateInDeclaration=function(f){(f===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(f){(f===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(f){f===r.Dash?(this.state=n.InCommentLike,this.currentSequence=c.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},d.prototype.stateInSpecialComment=function(f){(f===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(f){var h=f|32;h===c.ScriptEnd[3]?this.startSpecial(c.ScriptEnd,4):h===c.StyleEnd[3]?this.startSpecial(c.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(f))},d.prototype.startEntity=function(){this.baseState=this.state,this.state=n.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?e.DecodingMode.Strict:this.baseState===n.Text||this.baseState===n.InSpecialTag?e.DecodingMode.Legacy:e.DecodingMode.Attribute)},d.prototype.stateInEntity=function(){var f=this.entityDecoder.write(this.buffer,this.index-this.offset);f>=0?(this.state=this.baseState,f===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var f=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(f);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(f);break}case n.InSpecialTag:{this.stateInSpecialTag(f);break}case n.CDATASequence:{this.stateCDATASequence(f);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(f);break}case n.InAttributeName:{this.stateInAttributeName(f);break}case n.InCommentLike:{this.stateInCommentLike(f);break}case n.InSpecialComment:{this.stateInSpecialComment(f);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(f);break}case n.InTagName:{this.stateInTagName(f);break}case n.InClosingTagName:{this.stateInClosingTagName(f);break}case n.BeforeTagName:{this.stateBeforeTagName(f);break}case n.AfterAttributeName:{this.stateAfterAttributeName(f);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(f);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(f);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(f);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(f);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(f);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(f);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(f);break}case n.InDeclaration:{this.stateInDeclaration(f);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(f);break}case n.BeforeComment:{this.stateBeforeComment(f);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(f);break}case n.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===n.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var f=this.buffer.length+this.offset;this.sectionStart>=f||(this.state===n.InCommentLike?this.currentSequence===c.CdataEnd?this.cbs.oncdata(this.sectionStart,f,0):this.cbs.oncomment(this.sectionStart,f,0):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,f))},d.prototype.emitCodePoint=function(f,h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+h,this.index=this.sectionStart-1,this.cbs.onattribentity(f)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+h,this.index=this.sectionStart-1,this.cbs.ontextentity(f,this.sectionStart))},d}();t.default=l})(dR);var Jue=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Yue=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Zue=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jue(e,t,r);return Yue(e,t),e};Object.defineProperty(jp,"__esModule",{value:!0});jp.Parser=void 0;var y1=Zue(dR),n4=Ko,Zl=new Set(["input","option","optgroup","select","button","datalist","textarea"]),cr=new Set(["p"]),i4=new Set(["thead","tbody"]),a4=new Set(["dd","dt"]),s4=new Set(["rt","rp"]),ece=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",cr],["h1",cr],["h2",cr],["h3",cr],["h4",cr],["h5",cr],["h6",cr],["select",Zl],["input",Zl],["output",Zl],["button",Zl],["datalist",Zl],["textarea",Zl],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",a4],["dt",a4],["address",cr],["article",cr],["aside",cr],["blockquote",cr],["details",cr],["div",cr],["dl",cr],["fieldset",cr],["figcaption",cr],["figure",cr],["footer",cr],["form",cr],["header",cr],["hr",cr],["main",cr],["nav",cr],["ol",cr],["pre",cr],["section",cr],["table",cr],["ul",cr],["rt",s4],["rp",s4],["tbody",i4],["tfoot",i4]]),tce=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),o4=new Set(["math","svg"]),u4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),rce=/\s|\//,nce=function(){function t(e,r){r===void 0&&(r={});var n,a,s,o,u;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:this.htmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:y1.default)(this.options,this),this.foreignContext=[!this.htmlMode],(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}return t.prototype.ontext=function(e,r){var n,a,s=this.getSlice(e,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=r},t.prototype.ontextentity=function(e,r){var n,a;this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,(0,n4.fromCodePoint)(e)),this.startIndex=r},t.prototype.isVoidElement=function(e){return this.htmlMode&&tce.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;var o=this.htmlMode&&ece.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[0]);){var u=this.stack.shift();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,u,!0)}this.isVoidElement(e)||(this.stack.unshift(e),this.htmlMode&&(o4.has(e)?this.foreignContext.unshift(!0):u4.has(e)&&this.foreignContext.unshift(!1))),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,a,s,o,u,c,l,d;this.endIndex=r;var f=this.getSlice(e,r);if(this.lowerCaseTagNames&&(f=f.toLowerCase()),this.htmlMode&&(o4.has(f)||u4.has(f))&&this.foreignContext.shift(),this.isVoidElement(f))this.htmlMode&&f==="br"&&((o=(s=this.cbs).onopentagname)===null||o===void 0||o.call(s,"br"),(c=(u=this.cbs).onopentag)===null||c===void 0||c.call(u,"br",{},!0),(d=(l=this.cbs).onclosetag)===null||d===void 0||d.call(l,"br",!1));else{var h=this.stack.indexOf(f);if(h!==-1)for(var p=0;p<=h;p++){var y=this.stack.shift();(a=(n=this.cbs).onclosetag)===null||a===void 0||a.call(n,y,p!==h)}else this.htmlMode&&f==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,a=this.tagname;this.endOpenTag(e),this.stack[0]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!e),this.stack.shift())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,n4.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===y1.QuoteType.Double?'"':e===y1.QuoteType.Single?"'":e===y1.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(rce),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var a,s,o,u;this.endIndex=r,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,r-n)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var a,s,o,u,c,l,d,f,h,p;this.endIndex=r;var y=this.getSlice(e,r-n);!this.htmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,y),(l=(c=this.cbs).oncdataend)===null||l===void 0||l.call(c)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,"[CDATA[".concat(y,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=0;n<this.stack.length;n++)this.cbs.onclosetag(this.stack[n],!0)}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,a;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();jp.Parser=nce;(function(t){var e=g&&g.__createBinding||(Object.create?function(O,A,T,I){I===void 0&&(I=T);var D=Object.getOwnPropertyDescriptor(A,T);(!D||("get"in D?!A.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return A[T]}}),Object.defineProperty(O,I,D)}:function(O,A,T,I){I===void 0&&(I=T),O[I]=A[T]}),r=g&&g.__setModuleDefault||(Object.create?function(O,A){Object.defineProperty(O,"default",{enumerable:!0,value:A})}:function(O,A){O.default=A}),n=g&&g.__importStar||function(O){if(O&&O.__esModule)return O;var A={};if(O!=null)for(var T in O)T!=="default"&&Object.prototype.hasOwnProperty.call(O,T)&&e(A,O,T);return r(A,O),A},a=g&&g.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.createDocumentStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=jp,o=jp;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=sa,c=sa;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function l(O,A){var T=new u.DomHandler(void 0,A);return new s.Parser(T,A).end(O),T.root}t.parseDocument=l;function d(O,A){return l(O,A).children}t.parseDOM=d;function f(O,A,T){var I=new u.DomHandler(function(D){return O(D,I.root)},A,T);return new s.Parser(I,A)}t.createDocumentStream=f;function h(O,A,T){var I=new u.DomHandler(O,A,T);return new s.Parser(I,A)}t.createDomStream=h;var p=dR;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(p).default}}),t.ElementType=n(uc);var y=ks,_=ks;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});var E={xmlMode:!0};function w(O,A){return A===void 0&&(A=E),(0,y.getFeed)(d(O,A))}t.parseFeed=w,t.DomUtils=n(ks)})(GL);Object.defineProperty(Cv,"__esModule",{value:!0});Cv.ActorRdfParseHtml=void 0;const ice=Ol,ace=GL,sce=Jt;let oce=class extends ice.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,r,n){const a=new sce.Readable({objectMode:!0});return a._read=async()=>{var d;a._read=()=>{};let s=1;function o(f){a.emit("data",f)}function u(f){a.emit("error",f)}function c(){--s===0&&a.push(null)}const l={baseIRI:((d=e.metadata)==null?void 0:d.baseIRI)??"",context:n,emit:o,end:c,error:u,headers:e.headers};Promise.all(this.busRdfParseHtml.publish(l)).then(async f=>{s+=f.length;const h=[];for(const y of f){const{htmlParseListener:_}=await y.actor.run(l);h.push(_)}const p=new ace.Parser({onclosetag(){try{for(const y of h)y.onTagClose()}catch(y){u(y)}},onend(){try{for(const y of h)y.onEnd()}catch(y){u(y)}c()},onopentag(y,_){try{for(const E of h)E.onTagOpen(y,_)}catch(E){u(E)}},ontext(y){try{for(const _ of h)_.onText(y)}catch(_){u(_)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1});e.data.on("error",u).on("data",y=>p.write(y.toString())).on("end",()=>p.end())}).catch(u)},{data:a}}};Cv.ActorRdfParseHtml=oce;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Cv,t)})(QL);var zL={},Mv={},Fv={},Lv={};Object.defineProperty(Lv,"__esModule",{value:!0});Lv.ActorRdfParseHtml=void 0;const uce=Je;class cce extends uce.Actor{constructor(e){super(e)}}Lv.ActorRdfParseHtml=cce;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Lv,t)})(Fv);var WL={},XL={};Object.defineProperty(XL,"__esModule",{value:!0});var $0={};Object.defineProperty($0,"__esModule",{value:!0});$0.ItemPropertyHandlerContent=void 0;class lce{canHandle(e,r){return"content"in r}getObject(e,r,n){return r.createLiteral(e.content,n)}}$0.ItemPropertyHandlerContent=lce;var U0={},Il={};Object.defineProperty(Il,"__esModule",{value:!0});Il.Util=void 0;const dce=ft,c4=xa;let q0=class Xh{constructor(e,r){this.dataFactory=e||new dce.DataFactory,this.baseIRI=r||""}static isValidIri(e){return Xh.IRI_REGEX.test(e)}createVocabIris(e,r,n){return e.split(/\s+/u).filter(a=>!!a).map(a=>{if(!Xh.isValidIri(a)){if(!n)return;a=`${r.vocab||`${this.baseIRI}#`}${a}`}return this.dataFactory.namedNode(a)}).filter(a=>!!a)}getVocabularyExpansionType(e,r,n){const a=e.split(/\s+/u);if(a.includes("subPropertyOf")||a.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${Xh.RDF}type`)];if(r.vocab&&r.vocab in n&&n[r.vocab].properties){let s=[];for(const[o,u]of Object.entries(n[r.vocab].properties))a.includes(o)&&(s=[...Object.values(u).map(c=>this.dataFactory.namedNode(c))]);return s}return[]}createSubject(e){if(!Xh.isValidIri(e))try{e=(0,c4.resolve)(e,this.baseIRI)}catch{return}return this.dataFactory.namedNode(e)}createLiteral(e,r){return this.dataFactory.literal(e,r.language)}deriveVocab(e,r){let n;for(const a in r)if(e.startsWith(a)){n=a,n.endsWith("/")||(n+="#");break}if(!n){const a=e.indexOf("#");a>0?n=e.slice(0,a+1):n=(0,c4.resolve)(".",e)}return n}};Il.Util=q0;q0.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";q0.XSD="http://www.w3.org/2001/XMLSchema#";q0.RDFA="http://www.w3.org/ns/rdfa#";q0.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u;Object.defineProperty(U0,"__esModule",{value:!0});U0.ItemPropertyHandlerNumber=void 0;const l4=Il;class fce{constructor(e,r){this.tagName=e,this.attributeName=r}canHandle(e,r){return this.tagName===e&&this.attributeName in r}getObject(e,r,n){const a=e[this.attributeName];let s;return!Number.isNaN(Number.parseInt(a,10))&&!a.includes(".")?s=`${l4.Util.XSD}integer`:Number.isNaN(Number.parseFloat(a))||(s=`${l4.Util.XSD}double`),r.dataFactory.literal(a,s&&r.dataFactory.namedNode(s))}}U0.ItemPropertyHandlerNumber=fce;var V0={};Object.defineProperty(V0,"__esModule",{value:!0});V0.ItemPropertyHandlerTime=void 0;const hce=Il;class Bv{canHandle(e,r){return e==="time"&&"datetime"in r}getObject(e,r,n){const a=e.datetime;let s;for(const o of Bv.TIME_REGEXES)if(o.regex.test(a)){s=r.dataFactory.namedNode(hce.Util.XSD+o.type);break}return r.dataFactory.literal(a,s)}}V0.ItemPropertyHandlerTime=Bv;Bv.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}];var H0={};Object.defineProperty(H0,"__esModule",{value:!0});H0.ItemPropertyHandlerUrl=void 0;const pce=xa;class yce{constructor(e,r){this.tagName=e,this.attributeName=r}canHandle(e,r){return this.tagName===e&&this.attributeName in r}getObject(e,r,n){return r.dataFactory.namedNode((0,pce.resolve)(e[this.attributeName],r.baseIRI))}}H0.ItemPropertyHandlerUrl=yce;var KL={};Object.defineProperty(KL,"__esModule",{value:!0});var JL={};Object.defineProperty(JL,"__esModule",{value:!0});var YL={};Object.defineProperty(YL,"__esModule",{value:!0});var $v={},ZL={},Cp={},fR={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Ko,r;(function(h){h[h.Tab=9]="Tab",h[h.NewLine=10]="NewLine",h[h.FormFeed=12]="FormFeed",h[h.CarriageReturn=13]="CarriageReturn",h[h.Space=32]="Space",h[h.ExclamationMark=33]="ExclamationMark",h[h.Number=35]="Number",h[h.Amp=38]="Amp",h[h.SingleQuote=39]="SingleQuote",h[h.DoubleQuote=34]="DoubleQuote",h[h.Dash=45]="Dash",h[h.Slash=47]="Slash",h[h.Zero=48]="Zero",h[h.Nine=57]="Nine",h[h.Semi=59]="Semi",h[h.Lt=60]="Lt",h[h.Eq=61]="Eq",h[h.Gt=62]="Gt",h[h.Questionmark=63]="Questionmark",h[h.UpperA=65]="UpperA",h[h.LowerA=97]="LowerA",h[h.UpperF=70]="UpperF",h[h.LowerF=102]="LowerF",h[h.UpperZ=90]="UpperZ",h[h.LowerZ=122]="LowerZ",h[h.LowerX=120]="LowerX",h[h.OpeningSquareBracket=91]="OpeningSquareBracket"})(r||(r={}));var n;(function(h){h[h.Text=1]="Text",h[h.BeforeTagName=2]="BeforeTagName",h[h.InTagName=3]="InTagName",h[h.InSelfClosingTag=4]="InSelfClosingTag",h[h.BeforeClosingTagName=5]="BeforeClosingTagName",h[h.InClosingTagName=6]="InClosingTagName",h[h.AfterClosingTagName=7]="AfterClosingTagName",h[h.BeforeAttributeName=8]="BeforeAttributeName",h[h.InAttributeName=9]="InAttributeName",h[h.AfterAttributeName=10]="AfterAttributeName",h[h.BeforeAttributeValue=11]="BeforeAttributeValue",h[h.InAttributeValueDq=12]="InAttributeValueDq",h[h.InAttributeValueSq=13]="InAttributeValueSq",h[h.InAttributeValueNq=14]="InAttributeValueNq",h[h.BeforeDeclaration=15]="BeforeDeclaration",h[h.InDeclaration=16]="InDeclaration",h[h.InProcessingInstruction=17]="InProcessingInstruction",h[h.BeforeComment=18]="BeforeComment",h[h.CDATASequence=19]="CDATASequence",h[h.InSpecialComment=20]="InSpecialComment",h[h.InCommentLike=21]="InCommentLike",h[h.BeforeSpecialS=22]="BeforeSpecialS",h[h.SpecialStartSequence=23]="SpecialStartSequence",h[h.InSpecialTag=24]="InSpecialTag",h[h.BeforeEntity=25]="BeforeEntity",h[h.BeforeNumericEntity=26]="BeforeNumericEntity",h[h.InNamedEntity=27]="InNamedEntity",h[h.InNumericEntity=28]="InNumericEntity",h[h.InHexEntity=29]="InHexEntity"})(n||(n={}));function a(h){return h===r.Space||h===r.NewLine||h===r.Tab||h===r.FormFeed||h===r.CarriageReturn}function s(h){return h===r.Slash||h===r.Gt||a(h)}function o(h){return h>=r.Zero&&h<=r.Nine}function u(h){return h>=r.LowerA&&h<=r.LowerZ||h>=r.UpperA&&h<=r.UpperZ}function c(h){return h>=r.UpperA&&h<=r.UpperF||h>=r.LowerA&&h<=r.LowerF}var l;(function(h){h[h.NoValue=0]="NoValue",h[h.Unquoted=1]="Unquoted",h[h.Single=2]="Single",h[h.Double=3]="Double"})(l=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function h(p,y){var _=p.xmlMode,E=_===void 0?!1:_,w=p.decodeEntities,O=w===void 0?!0:w;this.cbs=y,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=E,this.decodeEntities=O,this.entityTrie=E?e.xmlDecodeTree:e.htmlDecodeTree}return h.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},h.prototype.write=function(p){this.offset+=this.buffer.length,this.buffer=p,this.parse()},h.prototype.end=function(){this.running&&this.finish()},h.prototype.pause=function(){this.running=!1},h.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},h.prototype.getIndex=function(){return this.index},h.prototype.getSectionStart=function(){return this.sectionStart},h.prototype.stateText=function(p){p===r.Lt||!this.decodeEntities&&this.fastForwardTo(r.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity)},h.prototype.stateSpecialStartSequence=function(p){var y=this.sequenceIndex===this.currentSequence.length,_=y?s(p):(p|32)===this.currentSequence[this.sequenceIndex];if(!_)this.isSpecial=!1;else if(!y){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(p)},h.prototype.stateInSpecialTag=function(p){if(this.sequenceIndex===this.currentSequence.length){if(p===r.Gt||a(p)){var y=this.index-this.currentSequence.length;if(this.sectionStart<y){var _=this.index;this.index=y,this.cbs.ontext(this.sectionStart,y),this.index=_}this.isSpecial=!1,this.sectionStart=y+2,this.stateInClosingTagName(p);return}this.sequenceIndex=0}(p|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&p===r.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(r.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(p===r.Lt)},h.prototype.stateCDATASequence=function(p){p===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(p))},h.prototype.fastForwardTo=function(p){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===p)return!0;return this.index=this.buffer.length+this.offset-1,!1},h.prototype.stateInCommentLike=function(p){p===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):p!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},h.prototype.isTagStartChar=function(p){return this.xmlMode?!s(p):u(p)},h.prototype.startSpecial=function(p,y){this.isSpecial=!0,this.currentSequence=p,this.sequenceIndex=y,this.state=n.SpecialStartSequence},h.prototype.stateBeforeTagName=function(p){if(p===r.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(p===r.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(p)){var y=p|32;this.sectionStart=this.index,!this.xmlMode&&y===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&y===d.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else p===r.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(p))},h.prototype.stateInTagName=function(p){s(p)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateBeforeClosingTagName=function(p){a(p)||(p===r.Gt?this.state=n.Text:(this.state=this.isTagStartChar(p)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},h.prototype.stateInClosingTagName=function(p){(p===r.Gt||a(p))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(p))},h.prototype.stateAfterClosingTagName=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeAttributeName=function(p){p===r.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):p===r.Slash?this.state=n.InSelfClosingTag:a(p)||(this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateInSelfClosingTag=function(p){p===r.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):a(p)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p))},h.prototype.stateInAttributeName=function(p){(p===r.Eq||s(p))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(p))},h.prototype.stateAfterAttributeName=function(p){p===r.Eq?this.state=n.BeforeAttributeValue:p===r.Slash||p===r.Gt?(this.cbs.onattribend(l.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):a(p)||(this.cbs.onattribend(l.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},h.prototype.stateBeforeAttributeValue=function(p){p===r.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):p===r.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):a(p)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(p))},h.prototype.handleInAttributeValue=function(p,y){p===y||!this.decodeEntities&&this.fastForwardTo(y)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(y===r.DoubleQuote?l.Double:l.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateInAttributeValueDoubleQuotes=function(p){this.handleInAttributeValue(p,r.DoubleQuote)},h.prototype.stateInAttributeValueSingleQuotes=function(p){this.handleInAttributeValue(p,r.SingleQuote)},h.prototype.stateInAttributeValueNoQuotes=function(p){a(p)||p===r.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(l.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(p)):this.decodeEntities&&p===r.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},h.prototype.stateBeforeDeclaration=function(p){p===r.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=p===r.Dash?n.BeforeComment:n.InDeclaration},h.prototype.stateInDeclaration=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateInProcessingInstruction=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeComment=function(p){p===r.Dash?(this.state=n.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},h.prototype.stateInSpecialComment=function(p){(p===r.Gt||this.fastForwardTo(r.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},h.prototype.stateBeforeSpecialS=function(p){var y=p|32;y===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):y===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(p))},h.prototype.stateBeforeEntity=function(p){this.entityExcess=1,this.entityResult=0,p===r.Number?this.state=n.BeforeNumericEntity:p===r.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(p))},h.prototype.stateInNamedEntity=function(p){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,p),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var y=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(y){var _=(y>>14)-1;if(!this.allowLegacyEntity()&&p!==r.Semi)this.trieIndex+=_;else{var E=this.index-this.entityExcess+1;E>this.sectionStart&&this.emitPartial(this.sectionStart,E),this.entityResult=this.trieIndex,this.trieIndex+=_,this.entityExcess=0,this.sectionStart=this.index+1,_===0&&this.emitNamedEntity()}}},h.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var p=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(p){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},h.prototype.stateBeforeNumericEntity=function(p){(p|32)===r.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(p))},h.prototype.emitNumericEntity=function(p){var y=this.index-this.entityExcess-1,_=y+2+ +(this.state===n.InHexEntity);_!==this.index&&(y>this.sectionStart&&this.emitPartial(this.sectionStart,y),this.sectionStart=this.index+Number(p),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},h.prototype.stateInNumericEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*10+(p-r.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.stateInHexEntity=function(p){p===r.Semi?this.emitNumericEntity(!0):o(p)?(this.entityResult=this.entityResult*16+(p-r.Zero),this.entityExcess++):c(p)?(this.entityResult=this.entityResult*16+((p|32)-r.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},h.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},h.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},h.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},h.prototype.parse=function(){for(;this.shouldContinue();){var p=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(p);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(p);break}case n.InSpecialTag:{this.stateInSpecialTag(p);break}case n.CDATASequence:{this.stateCDATASequence(p);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(p);break}case n.InAttributeName:{this.stateInAttributeName(p);break}case n.InCommentLike:{this.stateInCommentLike(p);break}case n.InSpecialComment:{this.stateInSpecialComment(p);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(p);break}case n.InTagName:{this.stateInTagName(p);break}case n.InClosingTagName:{this.stateInClosingTagName(p);break}case n.BeforeTagName:{this.stateBeforeTagName(p);break}case n.AfterAttributeName:{this.stateAfterAttributeName(p);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(p);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(p);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(p);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(p);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(p);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(p);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(p);break}case n.InDeclaration:{this.stateInDeclaration(p);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(p);break}case n.BeforeComment:{this.stateBeforeComment(p);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(p);break}case n.InNamedEntity:{this.stateInNamedEntity(p);break}case n.BeforeEntity:{this.stateBeforeEntity(p);break}case n.InHexEntity:{this.stateInHexEntity(p);break}case n.InNumericEntity:{this.stateInNumericEntity(p);break}default:this.stateBeforeNumericEntity(p)}this.index++}this.cleanup()},h.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},h.prototype.handleTrailingData=function(){var p=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,p,0):this.cbs.oncomment(this.sectionStart,p,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,p)},h.prototype.emitPartial=function(p,y){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(p,y):this.cbs.ontext(p,y)},h.prototype.emitCodePoint=function(p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(p):this.cbs.ontextentity(p)},h}();t.default=f})(fR);var bce=g&&g.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_ce=g&&g.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gce=g&&g.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bce(e,t,r);return _ce(e,t),e};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.Parser=void 0;var b1=gce(fR),d4=Ko,ed=new Set(["input","option","optgroup","select","button","datalist","textarea"]),lr=new Set(["p"]),f4=new Set(["thead","tbody"]),h4=new Set(["dd","dt"]),p4=new Set(["rt","rp"]),mce=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",lr],["h1",lr],["h2",lr],["h3",lr],["h4",lr],["h5",lr],["h6",lr],["select",ed],["input",ed],["output",ed],["button",ed],["datalist",ed],["textarea",ed],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",h4],["dt",h4],["address",lr],["article",lr],["aside",lr],["blockquote",lr],["details",lr],["div",lr],["dl",lr],["fieldset",lr],["figcaption",lr],["figure",lr],["footer",lr],["form",lr],["header",lr],["hr",lr],["main",lr],["nav",lr],["ol",lr],["pre",lr],["section",lr],["table",lr],["ul",lr],["rt",p4],["rp",p4],["tbody",f4],["tfoot",f4]]),vce=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),y4=new Set(["math","svg"]),b4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),wce=/\s|\//,Sce=function(){function t(e,r){r===void 0&&(r={});var n,a,s,o,u;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=e??{},this.lowerCaseTagNames=(n=r.lowerCaseTags)!==null&&n!==void 0?n:!r.xmlMode,this.lowerCaseAttributeNames=(a=r.lowerCaseAttributeNames)!==null&&a!==void 0?a:!r.xmlMode,this.tokenizer=new((s=r.Tokenizer)!==null&&s!==void 0?s:b1.default)(this.options,this),(u=(o=this.cbs).onparserinit)===null||u===void 0||u.call(o,this)}return t.prototype.ontext=function(e,r){var n,a,s=this.getSlice(e,r);this.endIndex=r-1,(a=(n=this.cbs).ontext)===null||a===void 0||a.call(n,s),this.startIndex=r},t.prototype.ontextentity=function(e){var r,n,a=this.tokenizer.getSectionStart();this.endIndex=a-1,(n=(r=this.cbs).ontext)===null||n===void 0||n.call(r,(0,d4.fromCodePoint)(e)),this.startIndex=a},t.prototype.isVoidElement=function(e){return!this.options.xmlMode&&vce.has(e)},t.prototype.onopentagname=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);this.lowerCaseTagNames&&(n=n.toLowerCase()),this.emitOpenTag(n)},t.prototype.emitOpenTag=function(e){var r,n,a,s;this.openTagStart=this.startIndex,this.tagname=e;var o=!this.options.xmlMode&&mce.get(e);if(o)for(;this.stack.length>0&&o.has(this.stack[this.stack.length-1]);){var u=this.stack.pop();(n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,u,!0)}this.isVoidElement(e)||(this.stack.push(e),y4.has(e)?this.foreignContext.push(!0):b4.has(e)&&this.foreignContext.push(!1)),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,e),this.cbs.onopentag&&(this.attribs={})},t.prototype.endOpenTag=function(e){var r,n;this.startIndex=this.openTagStart,this.attribs&&((n=(r=this.cbs).onopentag)===null||n===void 0||n.call(r,this.tagname,this.attribs,e),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},t.prototype.onopentagend=function(e){this.endIndex=e,this.endOpenTag(!1),this.startIndex=e+1},t.prototype.onclosetag=function(e,r){var n,a,s,o,u,c;this.endIndex=r;var l=this.getSlice(e,r);if(this.lowerCaseTagNames&&(l=l.toLowerCase()),(y4.has(l)||b4.has(l))&&this.foreignContext.pop(),this.isVoidElement(l))!this.options.xmlMode&&l==="br"&&((a=(n=this.cbs).onopentagname)===null||a===void 0||a.call(n,"br"),(o=(s=this.cbs).onopentag)===null||o===void 0||o.call(s,"br",{},!0),(c=(u=this.cbs).onclosetag)===null||c===void 0||c.call(u,"br",!1));else{var d=this.stack.lastIndexOf(l);if(d!==-1)if(this.cbs.onclosetag)for(var f=this.stack.length-d;f--;)this.cbs.onclosetag(this.stack.pop(),f!==0);else this.stack.length=d;else!this.options.xmlMode&&l==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1},t.prototype.onselfclosingtag=function(e){this.endIndex=e,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=e+1):this.onopentagend(e)},t.prototype.closeCurrentTag=function(e){var r,n,a=this.tagname;this.endOpenTag(e),this.stack[this.stack.length-1]===a&&((n=(r=this.cbs).onclosetag)===null||n===void 0||n.call(r,a,!e),this.stack.pop())},t.prototype.onattribname=function(e,r){this.startIndex=e;var n=this.getSlice(e,r);this.attribname=this.lowerCaseAttributeNames?n.toLowerCase():n},t.prototype.onattribdata=function(e,r){this.attribvalue+=this.getSlice(e,r)},t.prototype.onattribentity=function(e){this.attribvalue+=(0,d4.fromCodePoint)(e)},t.prototype.onattribend=function(e,r){var n,a;this.endIndex=r,(a=(n=this.cbs).onattribute)===null||a===void 0||a.call(n,this.attribname,this.attribvalue,e===b1.QuoteType.Double?'"':e===b1.QuoteType.Single?"'":e===b1.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},t.prototype.getInstructionName=function(e){var r=e.search(wce),n=r<0?e:e.substr(0,r);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("!".concat(a),"!".concat(n))}this.startIndex=r+1},t.prototype.onprocessinginstruction=function(e,r){this.endIndex=r;var n=this.getSlice(e,r);if(this.cbs.onprocessinginstruction){var a=this.getInstructionName(n);this.cbs.onprocessinginstruction("?".concat(a),"?".concat(n))}this.startIndex=r+1},t.prototype.oncomment=function(e,r,n){var a,s,o,u;this.endIndex=r,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(e,r-n)),(u=(o=this.cbs).oncommentend)===null||u===void 0||u.call(o),this.startIndex=r+1},t.prototype.oncdata=function(e,r,n){var a,s,o,u,c,l,d,f,h,p;this.endIndex=r;var y=this.getSlice(e,r-n);this.options.xmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(u=(o=this.cbs).ontext)===null||u===void 0||u.call(o,y),(l=(c=this.cbs).oncdataend)===null||l===void 0||l.call(c)):((f=(d=this.cbs).oncomment)===null||f===void 0||f.call(d,"[CDATA[".concat(y,"]]")),(p=(h=this.cbs).oncommentend)===null||p===void 0||p.call(h)),this.startIndex=r+1},t.prototype.onend=function(){var e,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n],!0));}(r=(e=this.cbs).onend)===null||r===void 0||r.call(e)},t.prototype.reset=function(){var e,r,n,a;(r=(e=this.cbs).onreset)===null||r===void 0||r.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(n=this.cbs).onparserinit)===null||a===void 0||a.call(n,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.getSlice=function(e,r){for(;e-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var n=this.buffers[0].slice(e-this.bufferOffset,r-this.bufferOffset);r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),n+=this.buffers[0].slice(0,r-this.bufferOffset);return n},t.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},t.prototype.write=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".write() after done!"));return}this.buffers.push(e),this.tokenizer.running&&(this.tokenizer.write(e),this.writeIndex++)},t.prototype.end=function(e){var r,n;if(this.ended){(n=(r=this.cbs).onerror)===null||n===void 0||n.call(r,new Error(".end() after done!"));return}e&&this.write(e),this.ended=!0,this.tokenizer.end()},t.prototype.pause=function(){this.tokenizer.pause()},t.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},t.prototype.parseChunk=function(e){this.write(e)},t.prototype.done=function(e){this.end(e)},t}();Cp.Parser=Sce;(function(t){var e=g&&g.__createBinding||(Object.create?function(w,O,A,T){T===void 0&&(T=A);var I=Object.getOwnPropertyDescriptor(O,A);(!I||("get"in I?!O.__esModule:I.writable||I.configurable))&&(I={enumerable:!0,get:function(){return O[A]}}),Object.defineProperty(w,T,I)}:function(w,O,A,T){T===void 0&&(T=A),w[T]=O[A]}),r=g&&g.__setModuleDefault||(Object.create?function(w,O){Object.defineProperty(w,"default",{enumerable:!0,value:O})}:function(w,O){w.default=O}),n=g&&g.__importStar||function(w){if(w&&w.__esModule)return w;var O={};if(w!=null)for(var A in w)A!=="default"&&Object.prototype.hasOwnProperty.call(w,A)&&e(O,w,A);return r(O,w),O},a=g&&g.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=Cp,o=Cp;Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var u=sa,c=sa;Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function l(w,O){var A=new u.DomHandler(void 0,O);return new s.Parser(A,O).end(w),A.root}t.parseDocument=l;function d(w,O){return l(w,O).children}t.parseDOM=d;function f(w,O,A){var T=new u.DomHandler(w,O,A);return new s.Parser(T,O)}t.createDomStream=f;var h=fR;Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return a(h).default}}),t.ElementType=n(uc);var p=ks,y=ks;Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return y.getFeed}});var _={xmlMode:!0};function E(w,O){return O===void 0&&(O=_),(0,p.getFeed)(d(w,O))}t.parseFeed=E,t.DomUtils=n(ks)})(ZL);const Tce={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}};Object.defineProperty($v,"__esModule",{value:!0});$v.MicrodataRdfParser=void 0;const Ece=ZL,_4=Jt,Oce=$0,g4=U0,Ace=V0,Va=H0,m4=Il,xce=Tce;class Mp extends _4.Transform{constructor(e){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},e=e||{},this.options=e,this.util=new m4.Util(e.dataFactory,e.baseIRI),this.defaultGraph=e.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=e.htmlParseListener,this.vocabRegistry=e.vocabRegistry||xce,this.parser=this.initializeParser(!!e.xmlMode)}import(e){const r=new _4.PassThrough({readableObjectMode:!0});e.on("error",a=>n.emit("error",a)),e.on("data",a=>r.push(a)),e.on("end",()=>r.push(null));const n=r.pipe(new Mp(this.options));return n}_transform(e,r,n){this.parser.write(e.toString()),n()}_flush(e){this.parser.end(),e()}getItemScope(e){let r=this.itemScopeStack.length-(e?2:1);for(;r>0&&!this.itemScopeStack[r];)r--;return this.itemScopeStack[r]}getDepth(){return this.itemScopeStack.length}onTagOpen(e,r){if(!this.isEmittingReferences){if("id"in r){const a=r.id;this.pendingItemRefsRangeCollecting[a]={events:[],counter:0,ids:[]}}for(const a of Object.values(this.pendingItemRefsRangeCollecting))a.counter++,a.events.push({type:"open",name:e,attributes:r})}this.textBufferStack.push(void 0);let n;if("itemscope"in r){let a;if(this.emittingReferencesItemScopeIdGenerator)a=this.emittingReferencesItemScopeIdGenerator();else{a="itemid"in r&&this.util.createSubject(r.itemid)||this.util.dataFactory.blankNode();for(const o of Object.values(this.pendingItemRefsRangeCollecting))o.ids.push(a)}n={subject:a},this.isEmittingReferences&&(n.blockEmission=!0);const s=this.getItemScope();s&&s.vocab&&(n.vocab=s.vocab),this.itemScopeStack.push(n)}else n=this.getItemScope(),this.itemScopeStack.push(void 0);if(n){if("itemtype"in r)for(const a of this.util.createVocabIris(r.itemtype,n,!1))n.vocab||(n.vocab=this.util.deriveVocab(a.value,this.vocabRegistry)),n.blockEmission||this.emitTriple(n.subject,this.util.dataFactory.namedNode(`${m4.Util.RDF}type`),a);if("lang"in r&&(n.language=r.lang),"xml:lang"in r&&(n.language=r["xml:lang"]),"itemscope"in r&&!this.isEmittingReferences&&"itemref"in r)for(const a of r.itemref.split(/\s+/u))a in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[a]=[]),this.pendingItemRefsDomain[a].push(n),this.tryToEmitReferences(a,n)}"itemprop"in r&&this.handleItemProperties(r.itemprop,!1,n,e,r),"itemprop-reverse"in r&&this.handleItemProperties(r["itemprop-reverse"],!0,n,e,r)}onText(e){if(!this.isEmittingReferences)for(const r of Object.values(this.pendingItemRefsRangeCollecting))r.events.push({type:"text",data:e});for(const r of this.textBufferStack)r&&r.push(e)}onTagClose(){if(!this.isEmittingReferences)for(const[r,n]of Object.entries(this.pendingItemRefsRangeCollecting))n.counter--,n.events.push({type:"close"}),n.counter===0&&(this.pendingItemRefsRangeFinalized[r]=n,delete this.pendingItemRefsRangeCollecting[r],this.tryToEmitReferences(r));const e=this.getItemScope(!0);if(e){const r=this.getDepth();if(e.predicates&&r in e.predicates)for(const[n,a]of Object.entries(e.predicates[r])){const s=this.util.createLiteral(this.textBufferStack[r].join(""),e);this.emitPredicateTriples(e,a,s,n==="reverse"),delete e.predicates[r][n]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(e){return new Ece.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(r){this.emit("error",r)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(r){this.emit("error",r)}},onopentag:(r,n)=>{try{this.onTagOpen(r,n),this.htmlParseListener&&this.htmlParseListener.onTagOpen(r,n)}catch(a){this.emit("error",a)}},ontext:r=>{try{this.onText(r),this.htmlParseListener&&this.htmlParseListener.onText(r)}catch(n){this.emit("error",n)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:e})}handleItemProperties(e,r,n,a,s){const o=this.getItemScope(!0);if(o){const u=this.getDepth(),c=this.util.createVocabIris(e,o,!0);o.predicates||(o.predicates={}),o.predicates[u]||(o.predicates[u]={});const l=r?"reverse":"forward";o.predicates[u][l]=c;for(const d of this.util.getVocabularyExpansionType(e,o,this.vocabRegistry))c.push(d);if(n&&"itemscope"in s)this.emitPredicateTriples(o,c,n.subject,r),delete o.predicates[u][l];else for(const d of Mp.ITEM_PROPERTY_HANDLERS)if(d.canHandle(a,s)){const f=d.getObject(s,this.util,o);this.emitPredicateTriples(o,c,f,r),delete o.predicates[u][l]}o.predicates[u][l]&&(this.textBufferStack[u]=[])}}emitPredicateTriples(e,r,n,a){if(!e.blockEmission)for(const s of r)a?n.termType!=="Literal"&&this.emitTriple(n,s,e.subject):this.emitTriple(e.subject,s,n)}emitTriple(e,r,n){this.push(this.util.dataFactory.quad(e,r,n,this.defaultGraph))}tryToEmitReferences(e,r){const n=this.pendingItemRefsRangeFinalized[e];if(n){let a;if(r){a=[r];const s=this.pendingItemRefsDomain[e].indexOf(r);this.pendingItemRefsDomain[e].splice(s,1)}else a=this.pendingItemRefsDomain[e],delete this.pendingItemRefsDomain[e];if(a){const s=this.itemScopeStack,o=this.textBufferStack;this.isEmittingReferences=!0;for(const u of a){this.itemScopeStack=[u],this.textBufferStack=[void 0];const c=[...n.ids];this.emittingReferencesItemScopeIdGenerator=()=>c.shift();for(const l of n.events)switch(l.type){case"open":this.onTagOpen(l.name,l.attributes);break;case"text":this.onText(l.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=s,this.textBufferStack=o,this.isEmittingReferences=!1}}}}$v.MicrodataRdfParser=Mp;Mp.ITEM_PROPERTY_HANDLERS=[new Oce.ItemPropertyHandlerContent,new Va.ItemPropertyHandlerUrl("a","href"),new Va.ItemPropertyHandlerUrl("area","href"),new Va.ItemPropertyHandlerUrl("audio","src"),new Va.ItemPropertyHandlerUrl("embed","src"),new Va.ItemPropertyHandlerUrl("iframe","src"),new Va.ItemPropertyHandlerUrl("img","src"),new Va.ItemPropertyHandlerUrl("link","href"),new Va.ItemPropertyHandlerUrl("object","data"),new Va.ItemPropertyHandlerUrl("source","src"),new Va.ItemPropertyHandlerUrl("track","src"),new Va.ItemPropertyHandlerUrl("video","src"),new g4.ItemPropertyHandlerNumber("data","value"),new g4.ItemPropertyHandlerNumber("meter","value"),new Ace.ItemPropertyHandlerTime];(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(XL,t),r($0,t),r(U0,t),r(V0,t),r(H0,t),r(KL,t),r(JL,t),r(YL,t),r($v,t),r(Il,t)})(WL);Object.defineProperty(Mv,"__esModule",{value:!0});Mv.ActorRdfParseHtmlMicrodata=void 0;const Rce=Fv,Ice=WL;class Pce extends Rce.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const r=e.headers?e.headers.get("content-type"):null,n=r==null?void 0:r.includes("xml"),a=new Ice.MicrodataRdfParser({baseIRI:e.baseIRI,xmlMode:n});a.on("error",e.error),a.on("data",e.emit);const s=a.onEnd;return a.onEnd=()=>{s.call(a),e.end()},{htmlParseListener:a}}}Mv.ActorRdfParseHtmlMicrodata=Pce;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Mv,t)})(zL);var e7={},Uv={};Object.defineProperty(Uv,"__esModule",{value:!0});Uv.ActorRdfParseHtmlRdfa=void 0;const Dce=Fv,Nce=Yx;class jce extends Dce.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const r=e.headers?e.headers.get("content-type"):null,n=(e.headers&&e.headers.get("content-language"))??void 0,a=r&&r.includes("xml")?"xhtml":"html",s=new Nce.RdfaParser({baseIRI:e.baseIRI,profile:a,language:n});s.on("error",e.error),s.on("data",e.emit);const o=s.onEnd;return s.onEnd=()=>{o.call(s),e.end()},{htmlParseListener:s}}}Uv.ActorRdfParseHtmlRdfa=jce;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Uv,t)})(e7);var t7={},qv={},hR={},Vv={},k0={};Object.defineProperty(k0,"__esModule",{value:!0});k0.RdfJsQuadSource=void 0;const Cce=la,Mce=kt,Fce=ft,td=on,v4=new Fce.DataFactory;class pi{constructor(e){this.source=e}static nullifyVariables(e,r){return!e||e.termType==="Variable"||!r&&e.termType==="Quad"&&(0,td.someTermsNested)(e,n=>n.termType==="Variable")?void 0:e}static hasDuplicateVariables(e){const r=(0,td.filterTermsNested)(e,n=>n.termType==="Variable");return r.length>1&&(0,td.uniqTerms)(r).length<r.length}match(e,r,n,a){var l;const s=!!((l=this.source.features)!=null&&l.quotedTripleFiltering),o=this.source.match(pi.nullifyVariables(e,s),pi.nullifyVariables(r,s),pi.nullifyVariables(n,s),pi.nullifyVariables(a,s));let u=(0,Mce.wrap)(o,{autoStart:!1});const c=v4.quad(e,r,n,a);return!s&&(0,td.someTerms)(c,d=>d.termType==="Quad")&&(u=u.filter(d=>(0,td.matchPatternComplete)(d,c))),this.setMetadata(u,e,r,n,a).catch(d=>u.destroy(d)),u}async setMetadata(e,r,n,a,s){var d;const o=!!((d=this.source.features)!=null&&d.quotedTripleFiltering);let u;if(this.source.countQuads)u=await this.source.countQuads(pi.nullifyVariables(r,o),pi.nullifyVariables(n,o),pi.nullifyVariables(a,o),pi.nullifyVariables(s,o));else{let f=0;u=await new Promise((h,p)=>{const y=this.source.match(pi.nullifyVariables(r,o),pi.nullifyVariables(n,o),pi.nullifyVariables(a,o),pi.nullifyVariables(s,o));y.on("error",p),y.on("end",()=>h(f)),y.on("data",()=>f++)})}const c=v4.quad(r,n,a,s),l=!o&&(0,td.someTerms)(c,f=>f.termType==="Quad")||pi.hasDuplicateVariables(c);e.setProperty("metadata",{state:new Cce.MetadataValidationState,cardinality:{type:l?"estimate":"exact",value:u},canContainUndefs:!1})}}k0.RdfJsQuadSource=pi;Object.defineProperty(Vv,"__esModule",{value:!0});Vv.ActorRdfResolveQuadPatternRdfJsSource=void 0;const _1=Rl,Lce=k0;class Bce extends _1.ActorRdfResolveQuadPatternSource{constructor(e){super(e)}async test(e){if(!(0,_1.hasContextSingleSourceOfType)("rdfjsSource",e.context))throw new Error(`${this.name} requires a single source with an rdfjsSource to be present in the context.`);const r=(0,_1.getContextSource)(e.context);if(!r||typeof r=="string"||!("match"in r)&&!r.value.match)throw new Error(`${this.name} received an invalid rdfjsSource.`);return!0}async getSource(e){const r=(0,_1.getContextSource)(e);return new Lce.RdfJsQuadSource("match"in r?r:r.value)}}Vv.ActorRdfResolveQuadPatternRdfJsSource=Bce;var r7={};Object.defineProperty(r7,"__esModule",{value:!0});(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Vv,t),r(r7,t),r(k0,t)})(hR);var Hv={},kv={};Object.defineProperty(kv,"__esModule",{value:!0});kv.ActorRdfResolveHypermedia=void 0;const $ce=Je;class Uce extends $ce.Actor{constructor(e,r){super(e),this.sourceType=r}async test(e){if(e.forceSourceType&&this.sourceType!==e.forceSourceType)throw new Error(`Actor ${this.name} is not able to handle source type ${e.forceSourceType}.`);return this.testMetadata(e)}}kv.ActorRdfResolveHypermedia=Uce;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kv,t)})(Hv);var Qv={},n7={},sh={},oh={},Q0={};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.TermDictionaryNumberRecordFullTerms=void 0;const qce=ft,w4=nr;class Vce{constructor(e=new qce.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=e}encode(e){const r=(0,w4.termToString)(e);let n=this.dictionary[r];return n===void 0&&(n=this.lastId++,this.dictionary[r]=n,this.reverseDictionary[n]=e),n}encodeOptional(e){const r=(0,w4.termToString)(e);return this.dictionary[r]}decode(e){const r=this.reverseDictionary[e];if(r===void 0)throw new Error(`The value ${e} is not present in this dictionary`);return r}*encodings(){for(const e of Object.keys(this.reverseDictionary))yield Number.parseInt(e,10)}findQuotedTriples(e){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(e){throw new Error("findQuotedTriplesEncoded is not supported")}}Q0.TermDictionaryNumberRecordFullTerms=Vce;var G0={},Bf={},hs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.arePatternsQuoted=t.quadHasVariables=t.quadToPattern=t.encodeOptionalTerms=t.orderQuadComponents=t.getComponentOrderScore=t.getBestIndex=t.QUAD_TERM_NAMES_INVERSE=void 0;const e=on;t.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(e.QUAD_TERM_NAMES.map((l,d)=>[l,d]));function r(l,d){if(l.length===1||d.every(p=>p!==void 0))return 0;const f=[];for(let p=0;p<e.QUAD_TERM_NAMES.length;p++)d[p]&&f.push(e.QUAD_TERM_NAMES[p]);return l.map((p,y)=>({score:n(p,f),index:y})).sort((p,y)=>y.score-p.score)[0].index}t.getBestIndex=r;function n(l,d){return l.map((f,h)=>d.includes(f)?l.length-h:0).reduce((f,h)=>f+h,0)}t.getComponentOrderScore=n;function a(l,d){return l.map(f=>{const h=t.QUAD_TERM_NAMES_INVERSE[f];return d[h]})}t.orderQuadComponents=a;function s(l,d){const f=l.map(h=>{if(h){if(h.termType==="Quad"&&u(h))return;const p=d.encodeOptional(h);return p===void 0?"none":p}return h});if(!f.includes("none"))return f}t.encodeOptionalTerms=s;function o(l,d,f,h,p){let y=!1;return[[l||void 0,d||void 0,f||void 0,h||void 0].map(E=>{if(E){if(E.termType==="Variable")return;if(E.termType==="Quad"){if(p)return E;y=!0;return}}return E}),y]}t.quadToPattern=o;function u(l){for(const d of e.QUAD_TERM_NAMES){const f=l[d];if(f.termType==="Variable"||f.termType==="Quad"&&u(f))return!0}return!1}t.quadHasVariables=u;function c(l){return l.map(d=>(d==null?void 0:d.termType)==="Quad"&&u(d))}t.arePatternsQuoted=c})(hs);Object.defineProperty(Bf,"__esModule",{value:!0});Bf.RdfStoreIndexNestedMap=void 0;const LT=hs;class Hce{constructor(e){this.features={quotedTripleFiltering:!1},this.dictionary=e.dictionary,this.nestedMap=new Map}set(e,r){const n=this.nestedMap;let a=n.get(e[0]);a||(a=new Map,n.set(e[0],a));let s=a.get(e[1]);s||(s=new Map,a.set(e[1],s));let o=s.get(e[2]);o||(o=new Map,s.set(e[2],o));const u=o.has(e[3]);return u||o.set(e[3],r),!u}remove(e){const r=this.nestedMap,n=r.get(e[0]);if(!n)return!1;const a=n.get(e[1]);if(!a)return!1;const s=a.get(e[2]);if(!s)return!1;const o=s.delete(e[3]);return o&&s.size===0&&(a.delete(e[2]),a.size===0&&(n.delete(e[1]),n.size===0&&r.delete(e[0]))),o}get(e){const r=(0,LT.encodeOptionalTerms)(e,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(e){const r=this.nestedMap.get(e[0]);if(!r)return;const n=r.get(e[1]);if(!n)return;const a=n.get(e[2]);if(a)return a.get(e[3])}*find(e){const r=(0,LT.encodeOptionalTerms)(e,this.dictionary);if(!r)return;const[n,a,s,o]=r,[u,c,l,d]=e;let f,h,p,y,_,E,w;const O=this.nestedMap,A=n!==void 0?O.has(n)?[n]:[]:O.keys();for(const T of A){_=O.get(T),f=u||this.dictionary.decode(T);const I=a!==void 0?_.has(a)?[a]:[]:_.keys();for(const D of I){E=_.get(D),h=c||this.dictionary.decode(D);const U=s!==void 0?E.has(s)?[s]:[]:E.keys();for(const H of U){w=E.get(H),p=l||this.dictionary.decode(H);const N=o!==void 0?w.has(o)?[o]:[]:w.keys();for(const R of N)y=d||this.dictionary.decode(R),yield[f,h,p,y]}}}}*findEncoded(e,r){const[n,a,s,o]=e;let u,c,l;const d=this.nestedMap,f=n!==void 0?d.has(n)?[n]:[]:d.keys();for(const h of f){u=d.get(h);const p=a!==void 0?u.has(a)?[a]:[]:u.keys();for(const y of p){c=u.get(y);const _=s!==void 0?c.has(s)?[s]:[]:c.keys();for(const E of _){l=c.get(E);const w=o!==void 0?l.has(o)?[o]:[]:l.keys();for(const O of w)yield[h,y,E,O]}}}}count(e){let r=0;const n=(0,LT.encodeOptionalTerms)(e,this.dictionary);if(!n)return 0;const a=n[0],s=n[1],o=n[2],u=n[3];let c,l,d;const f=this.nestedMap,h=a!==void 0?f.has(a)?[a]:[]:f.keys();for(const p of h){c=f.get(p);const y=s!==void 0?c.has(s)?[s]:[]:c.keys();for(const _ of y){l=c.get(_);const E=o!==void 0?l.has(o)?[o]:[]:l.keys();for(const w of E)d=l.get(w),u!==void 0?d.has(u)&&r++:r+=d.size}}return r}}Bf.RdfStoreIndexNestedMap=Hce;Object.defineProperty(G0,"__esModule",{value:!0});G0.TermDictionaryQuotedIndexed=void 0;const kce=ft,BT=Bf,S4=hs;class ka{constructor(e,r=new kce.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=e;const n={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:r};this.quotedTriplesReverseDictionaries=[new BT.RdfStoreIndexNestedMap(n),new BT.RdfStoreIndexNestedMap(n),new BT.RdfStoreIndexNestedMap(n)],this.dataFactory=r}encode(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!1):this.plainTermDictionary.encode(e)}encodeQuotedTriple(e,r){if(e.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const n=(0,S4.encodeOptionalTerms)([e.subject,e.predicate,e.object,e.graph],this),a=n&&n.every(c=>c!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(n):void 0;if(a!==void 0||r)return a===void 0?void 0:ka.BITMASK|a;const s=[this.encode(e.subject),this.encode(e.predicate),this.encode(e.object)],o=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(s);const u=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([s[0],s[1],s[2],u],o),this.quotedTriplesReverseDictionaries[1].set([s[1],s[2],s[0],u],o),this.quotedTriplesReverseDictionaries[2].set([s[2],s[0],s[1],u],o),ka.BITMASK|o}encodeOptional(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!0):this.plainTermDictionary.encodeOptional(e)}decode(e){if(ka.BITMASK&e){const r=(~ka.BITMASK&e)-1;if(r>=this.quotedTriplesDictionary.length)throw new Error(`The value ${e} is not present in the quoted triples range of the dictionary`);const n=this.quotedTriplesDictionary[r];return this.dataFactory.quad(this.decode(n[0]),this.decode(n[1]),this.decode(n[2]))}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.keys())yield ka.BITMASK|1+e}*findQuotedTriples(e){for(const r of this.findQuotedTriplesEncoded(e))yield this.decode(r)}*findQuotedTriplesEncoded(e){const[r,n]=(0,S4.quadToPattern)(e.subject,e.predicate,e.object,e.graph,!0);for(const a of this.patternToIterable(r[0]))for(const s of this.patternToIterable(r[1]))for(const o of this.patternToIterable(r[2]))for(const u of this.patternToIterable(r[3]))if(a&&s||!s&&!o){const c=[a,s,o,u];for(const l of this.quotedTriplesReverseDictionaries[0].findEncoded(c,r))yield ka.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(l)}else if(!a&&s){const c=[s,o,a,u];for(const l of this.quotedTriplesReverseDictionaries[1].findEncoded(c,r))yield ka.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(l)}else{const c=[o,a,s,u];for(const l of this.quotedTriplesReverseDictionaries[2].findEncoded(c,r))yield ka.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(l)}}*patternToIterable(e){if((e==null?void 0:e.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(e);return}if(e===void 0){yield void 0;return}const r=this.encodeOptional(e);r!==void 0&&(yield r)}}ka.BITMASK=1<<31;G0.TermDictionaryQuotedIndexed=ka;var z0={};Object.defineProperty(z0,"__esModule",{value:!0});z0.RdfStoreIndexNestedMapQuoted=void 0;const uh=hs,Qce=Bf;class Gce extends Qce.RdfStoreIndexNestedMap{constructor(e){super(e),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(e,r){for(const n of this.dictionary.findQuotedTriplesEncoded(r))e.has(n)&&(yield n)}*find(e){const r=(0,uh.encodeOptionalTerms)(e,this.dictionary);if(!r)return;const[n,a,s,o]=r,[u,c,l,d]=e,[f,h,p,y]=(0,uh.arePatternsQuoted)(e);let _,E,w,O,A,T,I;const D=this.nestedMap,U=u!==void 0?f?this.getQuotedPatternKeys(D,u):D.has(n)?[n]:[]:D.keys();for(const H of U){A=D.get(H),_=!f&&u?u:this.dictionary.decode(H);const N=c!==void 0?h?this.getQuotedPatternKeys(A,c):A.has(a)?[a]:[]:A.keys();for(const R of N){T=A.get(R),E=!h&&c?c:this.dictionary.decode(R);const F=l!==void 0?p?this.getQuotedPatternKeys(T,l):T.has(s)?[s]:[]:T.keys();for(const X of F){I=T.get(X),w=!p&&l?l:this.dictionary.decode(X);const ne=d!==void 0?y?this.getQuotedPatternKeys(I,d):I.has(o)?[o]:[]:I.keys();for(const $ of ne)O=!y&&d?d:this.dictionary.decode($),yield[_,E,w,O]}}}}*findEncoded(e,r){const[n,a,s,o]=e,[u,c,l,d]=r,[f,h,p,y]=(0,uh.arePatternsQuoted)(r);let _,E,w;const O=this.nestedMap,A=u!==void 0?f?this.getQuotedPatternKeys(O,u):O.has(n)?[n]:[]:O.keys();for(const T of A){_=O.get(T);const I=c!==void 0?h?this.getQuotedPatternKeys(_,c):_.has(a)?[a]:[]:_.keys();for(const D of I){E=_.get(D);const U=l!==void 0?p?this.getQuotedPatternKeys(E,l):E.has(s)?[s]:[]:E.keys();for(const H of U){w=E.get(H);const N=d!==void 0?y?this.getQuotedPatternKeys(w,d):w.has(o)?[o]:[]:w.keys();for(const R of N)yield[Number.parseInt(T,10),Number.parseInt(D,10),Number.parseInt(H,10),Number.parseInt(R,10)]}}}}count(e){let r=0;const n=(0,uh.encodeOptionalTerms)(e,this.dictionary);if(!n)return 0;const[a,s,o,u]=n,[c,l,d,f]=e,[h,p,y,_]=(0,uh.arePatternsQuoted)(e);let E,w,O;const A=this.nestedMap,T=c!==void 0?h?this.getQuotedPatternKeys(A,c):A.has(a)?[a]:[]:A.keys();for(const I of T){E=A.get(I);const D=l!==void 0?p?this.getQuotedPatternKeys(E,l):E.has(s)?[s]:[]:E.keys();for(const U of D){w=E.get(U);const H=d!==void 0?y?this.getQuotedPatternKeys(w,d):w.has(o)?[o]:[]:w.keys();for(const N of H)O=w.get(N),f!==void 0?_?r+=[...this.getQuotedPatternKeys(O,f)].length:O.has(u)&&r++:r+=O.size}}return r}}z0.RdfStoreIndexNestedMapQuoted=Gce;var T4;function i7(){if(T4)return oh;T4=1,Object.defineProperty(oh,"__esModule",{value:!0}),oh.RdfStore=void 0;const t=kt,e=ft,r=on,n=s7(),a=Q0,s=G0,o=z0,u=hs;let c=class Kh{constructor(d){this.features={quotedTripleFiltering:!0},this._size=0,this.options=d,this.dataFactory=d.dataFactory,this.dictionary=d.dictionary,this.indexesWrapped=Kh.constructIndexesWrapped(d),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new Kh({indexCombinations:Kh.DEFAULT_INDEX_COMBINATIONS,indexConstructor:d=>new o.RdfStoreIndexNestedMapQuoted(d),dictionary:new s.TermDictionaryQuotedIndexed(new a.TermDictionaryNumberRecordFullTerms),dataFactory:new e.DataFactory})}static constructIndexesWrapped(d){const f=[];if(d.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const h of d.indexCombinations){if(!Kh.isCombinationValid(h))throw new Error(`Invalid index combination: ${h}`);f.push({index:d.indexConstructor(d),componentOrder:h,componentOrderInverse:Object.fromEntries(h.map((p,y)=>[p,y]))})}return f}static isCombinationValid(d){for(const f of r.QUAD_TERM_NAMES)if(!d.includes(f))return!1;return d.length===4}get size(){return this._size}addQuad(d){const f=[this.dictionary.encode(d.subject),this.dictionary.encode(d.predicate),this.dictionary.encode(d.object),this.dictionary.encode(d.graph)];let h=!1;for(const p of this.indexesWrapped)h=p.index.set((0,u.orderQuadComponents)(p.componentOrder,f),!0);return h?(this._size++,!0):!1}removeQuad(d){const f=[this.dictionary.encodeOptional(d.subject),this.dictionary.encodeOptional(d.predicate),this.dictionary.encodeOptional(d.object),this.dictionary.encodeOptional(d.graph)];if(f.includes(void 0))return!1;let h=!1;for(const p of this.indexesWrapped)if(h=p.index.remove((0,u.orderQuadComponents)(p.componentOrder,f)),!h)break;return h?(this._size--,!0):!1}remove(d){return d.on("data",f=>this.removeQuad(f)),d}removeMatches(d,f,h,p){return this.remove(this.match(d,f,h,p))}deleteGraph(d){return typeof d=="string"&&(d=this.dataFactory.namedNode(d)),this.removeMatches(void 0,void 0,void 0,d)}import(d){return d.on("data",f=>this.addQuad(f)),d}*readQuads(d,f,h,p){const y=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(A=>A.index.features.quotedTripleFiltering),[_,E]=(0,u.quadToPattern)(d,f,h,p,y),w=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,_)],O=(0,u.orderQuadComponents)(w.componentOrder,_);for(const A of w.index.find(O)){const T=this.dataFactory.quad(A[w.componentOrderInverse.subject],A[w.componentOrderInverse.predicate],A[w.componentOrderInverse.object],A[w.componentOrderInverse.graph]);E?(0,r.matchPattern)(T,d,f,h,p)&&(yield T):yield T}}getQuads(d,f,h,p){return[...this.readQuads(d,f,h,p)]}match(d,f,h,p){return(0,t.wrap)(this.readQuads(d,f,h,p))}countQuads(d,f,h,p){const y=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(O=>O.index.features.quotedTripleFiltering),[_]=(0,u.quadToPattern)(d,f,h,p,y);if(_.every(O=>O===void 0))return this.size;const E=this.indexesWrapped[(0,u.getBestIndex)(this.indexesWrappedComponentOrders,_)],w=(0,u.orderQuadComponents)(E.componentOrder,_);return E.index.count(w)}asDataset(){return new n.DatasetCoreWrapper(this)}};return c.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],oh.RdfStore=c,oh}var E4;function s7(){if(E4)return sh;E4=1,Object.defineProperty(sh,"__esModule",{value:!0}),sh.DatasetCoreWrapper=void 0;const t=i7();let e=class a7{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const a of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,a,s,o){const u=new t.RdfStore(this.store.options);for(const c of this.store.readQuads(n,a,s,o))u.addQuad(c);return new a7(u)}[Symbol.iterator](){return this.store.readQuads()}};return sh.DatasetCoreWrapper=e,sh}var o7={};Object.defineProperty(o7,"__esModule",{value:!0});var Gv={};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.TermDictionaryNumberMap=void 0;const zce=ft,$T=nr;class Wce{constructor(e=new zce.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=e}encode(e){const r=(0,$T.termToString)(e);let n=this.dictionary.get(r);return n===void 0&&(n=this.lastId++,this.dictionary.set(r,n),this.reverseDictionary.set(n,r)),n}encodeOptional(e){const r=(0,$T.termToString)(e);return this.dictionary.get(r)}decode(e){const r=this.reverseDictionary.get(e);if(r===void 0)throw new Error(`The value ${e} is not present in this dictionary`);return(0,$T.stringToTerm)(r,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(e){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(e){throw new Error("findQuotedTriplesEncoded is not supported")}}Gv.TermDictionaryNumberMap=Wce;var zv={};Object.defineProperty(zv,"__esModule",{value:!0});zv.TermDictionaryNumberRecord=void 0;const Xce=ft,UT=nr;class Kce{constructor(e=new Xce.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=e}encode(e){const r=(0,UT.termToString)(e);let n=this.dictionary[r];return n===void 0&&(n=this.lastId++,this.dictionary[r]=n,this.reverseDictionary[n]=r),n}encodeOptional(e){const r=(0,UT.termToString)(e);return this.dictionary[r]}decode(e){const r=this.reverseDictionary[e];if(r===void 0)throw new Error(`The value ${e} is not present in this dictionary`);return(0,UT.stringToTerm)(r,this.dataFactory)}*encodings(){for(const e of Object.keys(this.reverseDictionary))yield Number.parseInt(e,10)}findQuotedTriples(e){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(e){throw new Error("findQuotedTriplesEncoded is not supported")}}zv.TermDictionaryNumberRecord=Kce;var Wv={};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.TermDictionaryQuoted=void 0;const Jce=ft,Yce=on;class Ro{constructor(e,r,n=new Jce.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=e,this.quotedTriplesDictionary=r,this.dataFactory=n}encode(e){return e.termType==="Quad"?Ro.BITMASK|1+this.quotedTriplesDictionary.encode(e):this.plainTermDictionary.encode(e)}encodeOptional(e){if(e.termType==="Quad"){const r=this.quotedTriplesDictionary.encodeOptional(e);return r===void 0?r:Ro.BITMASK|1+r}return this.plainTermDictionary.encodeOptional(e)}decode(e){if(Ro.BITMASK&e){const r=(~Ro.BITMASK&e)-1;return this.quotedTriplesDictionary.decode(r)}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.encodings())yield Ro.BITMASK|1+e}*findQuotedTriples(e){for(const r of this.findQuotedTriplesEncoded(e))yield this.decode(r)}*findQuotedTriplesEncoded(e){for(let r of this.quotedTriplesDictionary.encodings()){r=Ro.BITMASK|1+r;const n=this.decode(r);(0,Yce.matchPattern)(n,e.subject,e.predicate,e.object,e.graph)&&(yield r)}}}Ro.BITMASK=1<<31;Wv.TermDictionaryQuoted=Ro;var Xv={};Object.defineProperty(Xv,"__esModule",{value:!0});Xv.TermDictionaryQuotedReferential=void 0;const Zce=ft,ele=on,tle=hs;class ga{constructor(e,r=new Zce.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=e,this.dataFactory=r}encode(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!1):this.plainTermDictionary.encode(e)}encodeQuotedTriple(e,r){var n;if(e.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const a=(n=(0,tle.encodeOptionalTerms)([e.subject,e.predicate,e.object,void 0],this))===null||n===void 0?void 0:n.slice(0,3),s=a&&a.every(c=>c!==void 0)?this.quotedTriplesReverseDictionary[a.join(ga.SEPARATOR)]:void 0;if(s!==void 0||r)return s===void 0?void 0:ga.BITMASK|s;const o=[this.encode(e.subject),this.encode(e.predicate),this.encode(e.object)],u=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(o),this.quotedTriplesReverseDictionary[o.join(ga.SEPARATOR)]=u,ga.BITMASK|u}encodeOptional(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!0):this.plainTermDictionary.encodeOptional(e)}decode(e){if(ga.BITMASK&e){const r=(~ga.BITMASK&e)-1;if(r>=this.quotedTriplesDictionary.length)throw new Error(`The value ${e} is not present in the quoted triples range of the dictionary`);const n=this.quotedTriplesDictionary[r];return this.dataFactory.quad(this.decode(n[0]),this.decode(n[1]),this.decode(n[2]))}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.keys())yield ga.BITMASK|1+e}*findQuotedTriples(e){for(const r of this.findQuotedTriplesEncoded(e))yield this.decode(r)}*findQuotedTriplesEncoded(e){for(let r of this.quotedTriplesDictionary.keys()){r=ga.BITMASK|1+r;const n=this.decode(r);(0,ele.matchPattern)(n,e.subject,e.predicate,e.object,e.graph)&&(yield r)}}}ga.BITMASK=1<<31;ga.SEPARATOR="_";Xv.TermDictionaryQuotedReferential=ga;var Kv={};Object.defineProperty(Kv,"__esModule",{value:!0});Kv.TermDictionarySymbol=void 0;const rle=ft,O4=nr;class nle{constructor(e=new rle.DataFactory){this.features={quotedTriples:!1},this.dataFactory=e}encode(e){return Symbol.for(`rdf::${(0,O4.termToString)(e)}`)}encodeOptional(e){return this.encode(e)}decode(e){const r=Symbol.keyFor(e);if(r===void 0)throw new Error(`The value ${String(e)} is not present in this dictionary`);return(0,O4.stringToTerm)(r.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(e){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(e){throw new Error("findQuotedTriplesEncoded is not supported")}}Kv.TermDictionarySymbol=nle;var u7={};Object.defineProperty(u7,"__esModule",{value:!0});var W0={};Object.defineProperty(W0,"__esModule",{value:!0});W0.RdfStoreIndexNestedMapRecursive=void 0;const A4=hs;class ile{constructor(e){this.features={quotedTripleFiltering:!1},this.dictionary=e.dictionary,this.nestedMap=new Map}set(e,r){let n=this.nestedMap,a=!1;for(const[s,o]of e.entries()){const u=n;let c=u.get(o);c?s===e.length-1&&(a=!0):(c=s===e.length-1?r:new Map,u.set(o,c)),n=c}return!a}remove(e){const r=this.nestedMap,n=r.get(e[0]);if(!n)return!1;const a=n.get(e[1]);if(!a)return!1;const s=a.get(e[2]);if(!s)return!1;const o=s.delete(e[3]);return o&&s.size===0&&(a.delete(e[2]),a.size===0&&(n.delete(e[1]),n.size===0&&r.delete(e[0]))),o}get(e){const r=(0,A4.encodeOptionalTerms)(e,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(e){const r=this.nestedMap.get(e[0]);if(!r)return;const n=r.get(e[1]);if(!n)return;const a=n.get(e[2]);if(a)return a.get(e[3])}*find(e){const r=(0,A4.encodeOptionalTerms)(e,this.dictionary);if(r)for(const n of this.findEncoded(r,e))yield[r[0]!==void 0?e[0]:this.dictionary.decode(n[0]),r[1]!==void 0?e[1]:this.dictionary.decode(n[1]),r[2]!==void 0?e[2]:this.dictionary.decode(n[2]),r[3]!==void 0?e[3]:this.dictionary.decode(n[3])]}*findEncoded(e,r){return yield*this.findEncodedInner(0,e,r,this.nestedMap,[])}*findEncodedInner(e,r,n,a,s){if(e===r.length)yield[...s];else{const o=r[e];if(n[e]){const c=o;if(c!==void 0){const l=a.get(c);l&&(s[e]=o,yield*this.findEncodedInner(e+1,r,n,l,s))}}else for(const[c,l]of a.entries())s[e]=c,yield*this.findEncodedInner(e+1,r,n,l,s)}}count(e){return this.countInner(0,e,this.nestedMap)}countInner(e,r,n){const a=r[e];let s=0;if(a){const o=this.dictionary.encodeOptional(a);if(o!==void 0){if(e===r.length-1)return n.has(o)?1:0;const u=n.get(o);u&&(s+=this.countInner(e+1,r,u))}}else{if(e===r.length-1)return n.size;for(const o of n.values())s+=this.countInner(e+1,r,o)}return s}}W0.RdfStoreIndexNestedMapRecursive=ile;var Jv={};Object.defineProperty(Jv,"__esModule",{value:!0});Jv.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const x4=hs,ale=W0;class sle extends ale.RdfStoreIndexNestedMapRecursive{constructor(e){super(e),this.features={quotedTripleFiltering:!0}}*findEncoded(e,r){return yield*this.findEncodedInnerQuoted(0,e,r,(0,x4.arePatternsQuoted)(r),this.nestedMap,[])}*findEncodedInnerQuoted(e,r,n,a,s,o){if(e===r.length)yield[...o];else{const u=r[e],c=n[e];if(c)if(a[e]){const l=this.dictionary.findQuotedTriplesEncoded(c);for(const d of l){const f=s.get(d);f&&(o[e]=d,yield*this.findEncodedInnerQuoted(e+1,r,n,a,f,o))}}else{const l=u;if(l!==void 0){const d=s.get(l);d&&(o[e]=u,yield*this.findEncodedInnerQuoted(e+1,r,n,a,d,o))}}else for(const[l,d]of s.entries())o[e]=l,yield*this.findEncodedInnerQuoted(e+1,r,n,a,d,o)}}countInner(e,r,n){const a=r[e];let s=0;if(a)if(a.termType==="Quad"&&(0,x4.quadHasVariables)(a)){const o=this.dictionary.findQuotedTriplesEncoded(a);for(const u of o)if(e===r.length-1)n.has(u)&&s++;else{const c=n.get(u);c&&(s+=this.countInner(e+1,r,c))}}else{const o=this.dictionary.encodeOptional(a);if(o!==void 0){if(e===r.length-1)return n.has(o)?1:0;const u=n.get(o);u&&(s+=this.countInner(e+1,r,u))}}else{if(e===r.length-1)return n.size;for(const o of n.values())s+=this.countInner(e+1,r,o)}return s}}Jv.RdfStoreIndexNestedMapRecursiveQuoted=sle;var X0={};Object.defineProperty(X0,"__esModule",{value:!0});X0.RdfStoreIndexNestedRecord=void 0;const qT=hs;class ole{constructor(e){this.features={quotedTripleFiltering:!1},this.dictionary=e.dictionary,this.nestedRecords={}}set(e,r){const n=this.nestedRecords,a=n[e[0]]||(n[e[0]]={}),s=a[e[1]]||(a[e[1]]={}),o=s[e[2]]||(s[e[2]]={});return o[e[3]]?!1:(o[e[3]]=r,!0)}remove(e){const r=this.nestedRecords,n=r[e[0]];if(!n)return!1;const a=n[e[1]];if(!a)return!1;const s=a[e[2]];return!s||!s[e[3]]?!1:(delete s[e[3]],Object.keys(s).length===0&&(delete a[e[2]],Object.keys(a).length===0&&(delete n[e[1]],Object.keys(n).length===0&&delete r[e[0]])),!0)}get(e){const r=(0,qT.encodeOptionalTerms)(e,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(e){var r,n,a;return(a=(n=(r=this.nestedRecords[e[0]])===null||r===void 0?void 0:r[e[1]])===null||n===void 0?void 0:n[e[2]])===null||a===void 0?void 0:a[e[3]]}*find(e){const r=(0,qT.encodeOptionalTerms)(e,this.dictionary);if(!r)return;const[n,a,s,o]=r,[u,c,l,d]=e;let f,h,p,y,_,E,w;const O=this.nestedRecords,A=n!==void 0?n in O?[n]:[]:Object.keys(O);for(const T of A){_=O[T],f=u||this.dictionary.decode(Number.parseInt(T,10));const I=a!==void 0?a in _?[a]:[]:Object.keys(_);for(const D of I){E=_[D],h=c||this.dictionary.decode(Number.parseInt(D,10));const U=s!==void 0?s in E?[s]:[]:Object.keys(E);for(const H of U){w=E[H],p=l||this.dictionary.decode(Number.parseInt(H,10));const N=o!==void 0?o in w?[o]:[]:Object.keys(w);for(const R of N)y=d||this.dictionary.decode(Number.parseInt(R,10)),yield[f,h,p,y]}}}}*findEncoded(e,r){const[n,a,s,o]=e;let u,c,l;const d=this.nestedRecords,f=n!==void 0?n in d?[n]:[]:Object.keys(d);for(const h of f){u=d[h];const p=a!==void 0?a in u?[a]:[]:Object.keys(u);for(const y of p){c=u[y];const _=s!==void 0?s in c?[s]:[]:Object.keys(c);for(const E of _){l=c[E];const w=o!==void 0?o in l?[o]:[]:Object.keys(l);for(const O of w)yield[Number.parseInt(h,10),Number.parseInt(y,10),Number.parseInt(E,10),Number.parseInt(O,10)]}}}}count(e){let r=0;const n=(0,qT.encodeOptionalTerms)(e,this.dictionary);if(!n)return 0;const a=n[0],s=n[1],o=n[2],u=n[3];let c,l,d;const f=this.nestedRecords,h=a!==void 0?a in f?[a]:[]:Object.keys(f);for(const p of h){c=f[p];const y=s!==void 0?s in c?[s]:[]:Object.keys(c);for(const _ of y){l=c[_];const E=o!==void 0?o in l?[o]:[]:Object.keys(l);for(const w of E)d=l[w],u!==void 0?u in d&&r++:r+=Object.keys(d).length}}return r}}X0.RdfStoreIndexNestedRecord=ole;var Yv={};Object.defineProperty(Yv,"__esModule",{value:!0});Yv.RdfStoreIndexNestedRecordQuoted=void 0;const ch=hs,ule=X0;class cle extends ule.RdfStoreIndexNestedRecord{constructor(e){super(e),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(e,r){for(const n of this.dictionary.findQuotedTriplesEncoded(r))n in e&&(yield n)}*find(e){const r=(0,ch.encodeOptionalTerms)(e,this.dictionary);if(!r)return;const[n,a,s,o]=r,[u,c,l,d]=e,[f,h,p,y]=(0,ch.arePatternsQuoted)(e);let _,E,w,O,A,T,I;const D=this.nestedRecords,U=u!==void 0?f?this.getQuotedPatternKeys(D,u):n in D?[n]:[]:Object.keys(D);for(const H of U){A=D[H],_=!f&&u?u:this.dictionary.decode(Number.parseInt(H,10));const N=c!==void 0?h?this.getQuotedPatternKeys(A,c):a in A?[a]:[]:Object.keys(A);for(const R of N){T=A[R],E=!h&&c?c:this.dictionary.decode(Number.parseInt(R,10));const F=l!==void 0?p?this.getQuotedPatternKeys(T,l):s in T?[s]:[]:Object.keys(T);for(const X of F){I=T[X],w=!p&&l?l:this.dictionary.decode(Number.parseInt(X,10));const ne=d!==void 0?y?this.getQuotedPatternKeys(I,d):o in I?[o]:[]:Object.keys(I);for(const $ of ne)O=!y&&d?d:this.dictionary.decode(Number.parseInt($,10)),yield[_,E,w,O]}}}}*findEncoded(e,r){const[n,a,s,o]=e,[u,c,l,d]=r,[f,h,p,y]=(0,ch.arePatternsQuoted)(r);let _,E,w;const O=this.nestedRecords,A=u!==void 0?f?this.getQuotedPatternKeys(O,u):n in O?[n]:[]:Object.keys(O);for(const T of A){_=O[T];const I=c!==void 0?h?this.getQuotedPatternKeys(_,c):a in _?[a]:[]:Object.keys(_);for(const D of I){E=_[D];const U=l!==void 0?p?this.getQuotedPatternKeys(E,l):s in E?[s]:[]:Object.keys(E);for(const H of U){w=E[H];const N=d!==void 0?y?this.getQuotedPatternKeys(w,d):o in w?[o]:[]:Object.keys(w);for(const R of N)yield[Number.parseInt(T,10),Number.parseInt(D,10),Number.parseInt(H,10),Number.parseInt(R,10)]}}}}count(e){let r=0;const n=(0,ch.encodeOptionalTerms)(e,this.dictionary);if(!n)return 0;const[a,s,o,u]=n,[c,l,d,f]=e,[h,p,y,_]=(0,ch.arePatternsQuoted)(e);let E,w,O;const A=this.nestedRecords,T=c!==void 0?h?this.getQuotedPatternKeys(A,c):a in A?[a]:[]:Object.keys(A);for(const I of T){E=A[I];const D=l!==void 0?p?this.getQuotedPatternKeys(E,l):s in E?[s]:[]:Object.keys(E);for(const U of D){w=E[U];const H=d!==void 0?y?this.getQuotedPatternKeys(w,d):o in w?[o]:[]:Object.keys(w);for(const N of H)O=w[N],f!==void 0?_?r+=[...this.getQuotedPatternKeys(O,f)].length:u in O&&r++:r+=Object.keys(O).length}}return r}}Yv.RdfStoreIndexNestedRecordQuoted=cle;var c7={};Object.defineProperty(c7,"__esModule",{value:!0});var l7={};Object.defineProperty(l7,"__esModule",{value:!0});(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s7(),t),r(o7,t),r(Gv,t),r(zv,t),r(Q0,t),r(Wv,t),r(G0,t),r(Xv,t),r(Kv,t),r(u7,t),r(Bf,t),r(z0,t),r(W0,t),r(Jv,t),r(X0,t),r(Yv,t),r(c7,t),r(hs,t),r(l7,t),r(i7(),t)})(n7);Object.defineProperty(Qv,"__esModule",{value:!0});Qv.storeStream=void 0;const lle=n7;function dle(t){const e=lle.RdfStore.createDefault();return new Promise((r,n)=>e.import(t).on("error",n).once("end",()=>r(e)))}Qv.storeStream=dle;Object.defineProperty(qv,"__esModule",{value:!0});qv.ActorRdfResolveHypermediaNone=void 0;const fle=hR,hle=Hv,ple=Qv;class yle extends hle.ActorRdfResolveHypermedia{constructor(e){super(e,"file")}async testMetadata(e){return{filterFactor:0}}async run(e){return this.logInfo(e.context,`Identified as file source: ${e.url}`),{source:new fle.RdfJsQuadSource(await(0,ple.storeStream)(e.quads))}}}qv.ActorRdfResolveHypermediaNone=yle;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(qv,t)})(t7);var d7={},Zv={},pR={},e2={};Object.defineProperty(e2,"__esModule",{value:!0});e2.ActorRdfResolveHypermediaLinks=void 0;const ble=Je;class _le extends ble.Actor{constructor(e){super(e)}}e2.ActorRdfResolveHypermediaLinks=_le;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(e2,t)})(pR);Object.defineProperty(Zv,"__esModule",{value:!0});Zv.ActorRdfResolveHypermediaLinksNext=void 0;const gle=pR;class mle extends gle.ActorRdfResolveHypermediaLinks{constructor(e){super(e)}async test(e){if(!e.metadata.next)throw new Error(`Actor ${this.name} requires a 'next' metadata entry.`);return!0}async run(e){return{links:[{url:e.metadata.next}]}}}Zv.ActorRdfResolveHypermediaLinksNext=mle;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Zv,t)})(d7);var f7={},t2={},yR={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.KeysRdfJoin=ku.KeysExtractLinksTree=ku.KeysRdfResolveHypermediaLinks=void 0;const zb=Je;ku.KeysRdfResolveHypermediaLinks={traverse:new zb.ActionContextKey("@comunica/actor-rdf-resolve-hypermedia-links-traverse:traverse"),annotateSources:new zb.ActionContextKey("@comunica/bus-rdf-resolve-hypermedia-links:annotateSources")};ku.KeysExtractLinksTree={strictTraversal:new zb.ActionContextKey("@comunica/actor-extract-links-tree:strictTraversal")};ku.KeysRdfJoin={skipAdaptiveJoin:new zb.ActionContextKey("@comunica/bus-rdf-join:skipAdaptiveJoin")};(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ku,t)})(yR);Object.defineProperty(t2,"__esModule",{value:!0});t2.ActorRdfResolveHypermediaLinksTraverse=void 0;const vle=pR,wle=qt,R4=yR;class Sle extends vle.ActorRdfResolveHypermediaLinks{constructor(e){super(e),this.upgradeInsecureRequests=e.upgradeInsecureRequests}async test(e){if(!e.metadata.traverse)throw new Error(`Actor ${this.name} requires a 'traverse' metadata entry.`);if(e.context.has(R4.KeysRdfResolveHypermediaLinks.traverse)&&!e.context.get(R4.KeysRdfResolveHypermediaLinks.traverse))throw new Error("Link traversal has been disabled via the context.");return!0}async run(e){return{links:e.metadata.traverse.map(r=>{const n=r.url.indexOf("#");return n>=0&&(r.url=r.url.slice(0,n)),r.url.startsWith("http:")&&(this.upgradeInsecureRequests??(g.window&&g.window.location.protocol==="https:"&&!e.context.get(wle.KeysHttpProxy.httpProxyHandler)))&&(r.url=r.url.replace("http:","https:")),r})}}}t2.ActorRdfResolveHypermediaLinksTraverse=Sle;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(t2,t)})(f7);var h7={},r2={},p7={},n2={};Object.defineProperty(n2,"__esModule",{value:!0});n2.ActorRdfResolveHypermediaLinksQueue=void 0;const Tle=Je;class Ele extends Tle.Actor{constructor(e){super(e)}}n2.ActorRdfResolveHypermediaLinksQueue=Ele;var y7={};Object.defineProperty(y7,"__esModule",{value:!0});var i2={};Object.defineProperty(i2,"__esModule",{value:!0});i2.LinkQueueWrapper=void 0;class Ole{constructor(e){this.linkQueue=e}push(e,r){return this.linkQueue.push(e,r)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}}i2.LinkQueueWrapper=Ole;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(n2,t),r(y7,t),r(i2,t)})(p7);var K0={};Object.defineProperty(K0,"__esModule",{value:!0});K0.LinkQueueFifo=void 0;class Ale{constructor(){this.links=[]}push(e){return this.links.push(e),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}}K0.LinkQueueFifo=Ale;Object.defineProperty(r2,"__esModule",{value:!0});r2.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const xle=p7,Rle=K0;class Ile extends xle.ActorRdfResolveHypermediaLinksQueue{constructor(e){super(e)}async test(e){return!0}async run(e){return{linkQueue:new Rle.LinkQueueFifo}}}r2.ActorRdfResolveHypermediaLinksQueueFifo=Ile;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(r2,t),r(K0,t)})(h7);var b7={},a2={},$f={},J0={};Object.defineProperty(J0,"__esModule",{value:!0});J0.ActorRdfUpdateQuads=void 0;const Ple=Je;class Dle extends Ple.Actor{constructor(e){super(e)}}J0.ActorRdfUpdateQuads=Dle;var Qu={},bR={},s2={},Y0={};Object.defineProperty(Y0,"__esModule",{value:!0});Y0.FederatedQuadSource=void 0;const Nle=ct,jle=Rl,g1=qt,Cle=F_,VT=la,I4=kt,Mle=ft,P4=on,Fle=vt,D4=new Mle.DataFactory;class dn{constructor(e,r,n,a,s){if(this.mediatorResolveQuadPattern=e,this.mediatorRdfMetadataAccumulate=r,this.sources=n.get(g1.KeysRdfResolveQuadPattern.sources),this.contextDefault=n.delete(g1.KeysRdfResolveQuadPattern.sources),this.emptyPatterns=a,this.sourceIds=n.get(g1.KeysRdfResolveQuadPattern.sourceIds)??new Map,this.skipEmptyPatterns=s,this.algebraFactory=new Fle.Factory,this.skipEmptyPatterns)for(const o of this.sources)this.emptyPatterns.has(o)||this.emptyPatterns.set(o,[])}static isTermBound(e){return e.termType!=="Variable"}static isSubPatternOf(e,r){return(!dn.isTermBound(r.subject)||r.subject.equals(e.subject))&&(!dn.isTermBound(r.predicate)||r.predicate.equals(e.predicate))&&(!dn.isTermBound(r.object)||r.object.equals(e.object))&&(!dn.isTermBound(r.graph)||r.graph.equals(e.graph))}static skolemizeTerm(e,r){return e.termType==="BlankNode"?new Cle.BlankNodeScoped(`bc_${r}_${e.value}`,D4.namedNode(`${dn.SKOLEM_PREFIX}${r}:${e.value}`)):e}static skolemizeQuad(e,r){return(0,P4.mapTermsNested)(e,n=>dn.skolemizeTerm(n,r))}static deskolemizeTerm(e,r){if(e.termType==="BlankNode"&&"skolemized"in e&&(e=e.skolemized),e.termType==="NamedNode"&&e.value.startsWith(dn.SKOLEM_PREFIX)){const n=e.value.indexOf(":",dn.SKOLEM_PREFIX.length);if(e.value.slice(dn.SKOLEM_PREFIX.length,n)===r){const s=e.value.slice(n+1,e.value.length);return D4.blankNode(s)}return null}return e}static deskolemizeQuad(e,r){return(0,P4.mapTermsNested)(e,n=>{const a=dn.deskolemizeTerm(n,r);return a||n})}isSourceEmpty(e,r){if(!this.skipEmptyPatterns)return!1;const n=this.emptyPatterns.get(e);if(n){for(const a of n)if(dn.isSubPatternOf(r,a))return!0}return!1}getSourceId(e){let r=this.sourceIds.get(e);return r===void 0&&(r=`${this.sourceIds.size}`,this.sourceIds.set(e,r)),r}match(e,r,n,a){const s=async()=>{if(o.size===this.sources.length){let l=(await this.mediatorRdfMetadataAccumulate.mediate({mode:"initialize",context:this.contextDefault})).metadata;for(const f of o.values())l={...f,...(await this.mediatorRdfMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:l,appendingMetadata:f,context:this.contextDefault})).metadata};l.state=new VT.MetadataValidationState;const d=c.getProperty("metadata");c.setProperty("metadata",l),d==null||d.state.invalidate()}},o=new Map,u=Promise.all(this.sources.map(async(l,d)=>{const f=this.getSourceId(l),h=dn.deskolemizeTerm(e,f),p=dn.deskolemizeTerm(r,f),y=dn.deskolemizeTerm(n,f),_=dn.deskolemizeTerm(a,f);let E,w=(0,jle.getDataSourceContext)(l,this.contextDefault);w=w.set(g1.KeysRdfResolveQuadPattern.source,l);let O;!h||!p||!y||!_||this.isSourceEmpty(l,E=this.algebraFactory.createPattern(h,p,y,_))?(O={data:new I4.ArrayIterator([],{autoStart:!1})},O.data.setProperty("metadata",{state:new VT.MetadataValidationState,...(await this.mediatorRdfMetadataAccumulate.mediate({mode:"initialize",context:this.contextDefault})).metadata})):O=await this.mediatorResolveQuadPattern.mediate({pattern:E,context:w});const A=()=>{O.data.getProperty("metadata",I=>{var D,U;o.set(`${d}`,I),this.skipEmptyPatterns&&!((D=I.cardinality)!=null&&D.value)&&E&&!this.isSourceEmpty(l,E)&&this.emptyPatterns.get(l).push(E),s().catch(H=>c.emit("error",H)),(U=I.state)==null||U.addInvalidateListener(()=>{o.delete(`${d}`),A()})})};A();const T=O.data.map(I=>dn.skolemizeQuad(I,f));return T.on("error",I=>c.emit("error",I)),T}));u.catch(l=>c.emit("error",l));const c=new Nle.ClosableTransformIterator(async()=>new I4.UnionIterator(await u),{autoStart:!1,onClose(){u.then(l=>{for(const d of l)d.destroy()},()=>{})}});return this.sources.length===0&&this.mediatorRdfMetadataAccumulate.mediate({mode:"initialize",context:this.contextDefault}).then(l=>c.setProperty("metadata",{state:new VT.MetadataValidationState,...l.metadata})).catch(l=>c.emit("error",l)),c}}Y0.FederatedQuadSource=dn;dn.SKOLEM_PREFIX="urn:comunica_skolem:source_";Object.defineProperty(s2,"__esModule",{value:!0});s2.ActorRdfResolveQuadPatternFederated=void 0;const N4=Rl,Lle=Y0;class Ble extends N4.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.emptyPatterns=new Map,e.mediatorRdfMetadataAccumulate||(this.mediatorRdfMetadataAccumulate={async mediate(r){if(r.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0},canContainUndefs:!1}};const n={...r.accumulatedMetadata},a=r.appendingMetadata;return!a.cardinality||!Number.isFinite(a.cardinality.value)?(n.cardinality.type="estimate",n.cardinality.value=Number.POSITIVE_INFINITY):(a.cardinality.type==="estimate"&&(n.cardinality.type="estimate"),n.cardinality.value+=a.cardinality.value),(n.requestTime||a.requestTime)&&(n.requestTime=n.requestTime||0,a.requestTime=a.requestTime||0,n.requestTime+=a.requestTime),(n.pageSize||a.pageSize)&&(n.pageSize=n.pageSize||0,a.pageSize=a.pageSize||0,n.pageSize+=a.pageSize),a.canContainUndefs&&(n.canContainUndefs=!0),{metadata:n}}})}async test(e){if(!(0,N4.getContextSources)(e.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a sources array.`);return!0}async getSource(e){return new Lle.FederatedQuadSource(this.mediatorResolveQuadPattern,this.mediatorRdfMetadataAccumulate,e,this.emptyPatterns,this.skipEmptyPatterns)}}s2.ActorRdfResolveQuadPatternFederated=Ble;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(s2,t),r(Y0,t)})(bR);Object.defineProperty(Qu,"__esModule",{value:!0});Qu.ActorRdfUpdateQuadsDestination=Qu.deskolemize=Qu.deskolemizeStream=void 0;const $le=bR,j4=qt,Ule=J0;function DO(t,e){return t==null?void 0:t.map(r=>$le.FederatedQuadSource.deskolemizeQuad(r,e))}Qu.deskolemizeStream=DO;function _7(t){var n;const e=t.context.get(j4.KeysRdfUpdateQuads.destination),r=(n=t.context.get(j4.KeysRdfResolveQuadPattern.sourceIds))==null?void 0:n.get(e);return r?{...t,quadStreamInsert:DO(t.quadStreamInsert,r),quadStreamDelete:DO(t.quadStreamDelete,r)}:t}Qu.deskolemize=_7;class qle extends Ule.ActorRdfUpdateQuads{async test(e){return!0}async run(e){const r=await this.getDestination(e.context);return await this.getOutput(r,_7(e),e.context)}async getOutput(e,r,n){return{execute:()=>Promise.all([r.quadStreamInsert?e.insert(r.quadStreamInsert):Promise.resolve(),r.quadStreamDelete?e.delete(r.quadStreamDelete):Promise.resolve(),r.deleteGraphs?e.deleteGraphs(r.deleteGraphs.graphs,r.deleteGraphs.requireExistence,r.deleteGraphs.dropGraphs):Promise.resolve(),r.createGraphs?e.createGraphs(r.createGraphs.graphs,r.createGraphs.requireNonExistence):Promise.resolve()]).then(()=>{})}}}Qu.ActorRdfUpdateQuadsDestination=qle;var o2={};Object.defineProperty(o2,"__esModule",{value:!0});o2.validateHttpResponse=void 0;const Vle=fs,Hle=xl;async function kle(t,e){var r;if(e.status>=400){let n="empty response";if(e.body){const a=Vle.ActorHttp.toNodeReadable(e.body);n=await Hle(a)}throw new Error(`Could not update ${t} (HTTP status ${e.status}):
${n}`)}await((r=e.body)==null?void 0:r.cancel())}o2.validateHttpResponse=kle;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.getContextDestinationUrl=Yn.getContextDestinationFirst=Yn.getContextDestination=Yn.getDataDestinationContext=Yn.getDataDestinationValue=Yn.getDataDestinationType=Yn.isDataDestinationRawType=void 0;const NO=qt;function g7(t){return typeof t=="string"||"remove"in t}Yn.isDataDestinationRawType=g7;function Qle(t){return typeof t=="string"?"":"remove"in t?"rdfjsStore":t.type}Yn.getDataDestinationType=Qle;function m7(t){return g7(t)?t:t.value}Yn.getDataDestinationValue=m7;function Gle(t,e){return typeof t=="string"||"remove"in t||!t.context?e:e.merge(t.context)}Yn.getDataDestinationContext=Gle;function zle(t){return t.get(NO.KeysRdfUpdateQuads.destination)}Yn.getContextDestination=zle;function Wle(t){if(t.has(NO.KeysRdfUpdateQuads.destination))return t.get(NO.KeysRdfUpdateQuads.destination)}Yn.getContextDestinationFirst=Wle;function Xle(t){if(t){let e=m7(t);if(typeof e=="string"){const r=e.indexOf("#");return r>=0&&(e=e.slice(0,r)),e}}}Yn.getContextDestinationUrl=Xle;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(J0,t),r(Qu,t),r(o2,t),r(Yn,t)})($f);var u2={};Object.defineProperty(u2,"__esModule",{value:!0});u2.RdfJsQuadDestination=void 0;const Kle=ft,C4=nr,Jle=new Kle.DataFactory;class Yle{constructor(e){this.store=e}promisifyEventEmitter(e){return new Promise((r,n)=>{e.on("end",r),e.on("error",n)})}delete(e){return this.promisifyEventEmitter(this.store.remove(e))}insert(e){return this.promisifyEventEmitter(this.store.import(e))}async deleteGraphs(e,r,n){switch(e){case"ALL":await this.promisifyEventEmitter(this.store.deleteGraph(Jle.defaultGraph()));case"NAMED":const a=this.store.match(),s={};a.on("data",o=>{o.graph.termType!=="DefaultGraph"&&(s[(0,C4.termToString)(o.graph)]=!0)}),await this.promisifyEventEmitter(a),await Promise.all(Object.keys(s).map(o=>this.promisifyEventEmitter(this.store.deleteGraph((0,C4.stringToTerm)(o)))));break;default:for(const o of Array.isArray(e)?e:[e])await this.promisifyEventEmitter(this.store.deleteGraph(o))}}async createGraphs(e,r){if(r)for(const n of e){const a=this.store.match(void 0,void 0,void 0,n);await new Promise((s,o)=>{a.once("data",()=>{o(new Error(`Unable to create graph ${n.value} as it already exists`))}),a.on("end",s),a.on("error",o)})}}}u2.RdfJsQuadDestination=Yle;Object.defineProperty(a2,"__esModule",{value:!0});a2.ActorRdfUpdateQuadsRdfJsStore=void 0;const HT=$f,Zle=u2;class ede extends HT.ActorRdfUpdateQuadsDestination{constructor(e){super(e)}async test(e){const r=(0,HT.getContextDestination)(e.context);if(!r||typeof r=="string"||!("remove"in r)&&"value"in r&&!r.value.remove)throw new Error(`${this.name} received an invalid rdfjsStore.`);return!0}async getDestination(e){const r=(0,HT.getContextDestination)(e);return new Zle.RdfJsQuadDestination("remove"in r?r:r.value)}}a2.ActorRdfUpdateQuadsRdfJsStore=ede;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(a2,t)})(b7);var v7={},c2={};Object.defineProperty(c2,"__esModule",{value:!0});c2.MediatorJoinCoefficientsFixed=void 0;const tde=qt,M4=Je;class rde extends M4.Mediator{constructor(e){super(e)}async mediateWith(e,r){var h;const n=[],a=r.map(({reply:p})=>p).map(p=>p.catch(y=>{n.push(y)})),s=await Promise.all(a);let o=s.map((p,y)=>{if(p)return p.iterations*this.cpuWeight+p.persistedItems*this.memoryWeight+p.blockingItems*this.timeWeight+p.requestTime*this.ioWeight});const u=Math.max(...o.filter(p=>p!==void 0)),c=e.context.get(tde.KeysQueryOperation.limitIndicator);c&&(o=o.map((p,y)=>p!==void 0&&s[y].persistedItems>0&&s[y].iterations>c?p+u:p));let l=-1,d=Number.POSITIVE_INFINITY;for(const[p,y]of o.entries())y!==void 0&&(l===-1||y<d)&&(l=p,d=y);if(l<0)throw new Error(`All actors rejected their test in ${this.name}
${n.map(p=>p.message).join(`
`)}`);const f=r[l].actor;return f.includeInLogs&&((h=M4.Actor.getContextLogger(e.context))==null||h.debug(`Determined physical join operator '${f.logicalType}-${f.physicalName}'`,{entries:e.entries.length,variables:await Promise.all(e.entries.map(async p=>(await p.output.metadata()).variables.map(y=>y.value))),costs:Object.fromEntries(o.map((p,y)=>[`${r[y].actor.logicalType}-${r[y].actor.physicalName}`,p])),coefficients:Object.fromEntries(s.map((p,y)=>[`${r[y].actor.logicalType}-${r[y].actor.physicalName}`,p]))})),f}}c2.MediatorJoinCoefficientsFixed=rde;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(c2,t)})(v7);var w7={},l2={};Object.defineProperty(l2,"__esModule",{value:!0});l2.ActorRdfMetadataExtractTraverse=void 0;const nde=no;class ide extends nde.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return!0}async run(e){const r=await this.mediatorExtractLinks.mediate(e);return{metadata:{traverse:r.links,traverseConditional:r.linksConditional}}}}l2.ActorRdfMetadataExtractTraverse=ide;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(l2,t)})(w7);var S7={},d2={};Object.defineProperty(d2,"__esModule",{value:!0});d2.ActorQueryOperationAsk=void 0;const F4=ct;class ade extends F4.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,r){return!0}async runOperation(e,r){const n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),{bindingsStream:a}=F4.ActorQueryOperation.getSafeBindings(n);return{type:"boolean",execute:async()=>(await a.take(1).toArray()).length===1}}}d2.ActorQueryOperationAsk=ade;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(d2,t)})(S7);var T7={},f2={};Object.defineProperty(f2,"__esModule",{value:!0});f2.ActorQueryOperationBgpJoin=void 0;const sde=ct,ode=vt;class h2 extends sde.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}async testOperation(e,r){return!0}async runOperation(e,r){return this.mediatorQueryOperation.mediate({operation:h2.FACTORY.createJoin(e.patterns),context:r})}}f2.ActorQueryOperationBgpJoin=h2;h2.FACTORY=new ode.Factory;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(f2,t)})(T7);var E7={},p2={},y2={},b2={};Object.defineProperty(b2,"__esModule",{value:!0});b2.ActorQueryOperationUnion=void 0;const L4=ct,ude=la,cde=kt,lde=on;class Wb extends L4.ActorQueryOperationTypedMediated{constructor(e){super(e,"union")}static unionVariables(e){return(0,lde.uniqTerms)(e.flat())}static unionMetadata(e,r){const n={type:"exact",value:0};for(const o of e)if(o.cardinality.value&&Number.isFinite(o.cardinality.value)||o.cardinality.value===0)o.cardinality.type==="estimate"&&(n.type="estimate"),n.value+=o.cardinality.value;else{n.type="estimate",n.value=Number.POSITIVE_INFINITY;break}const a={state:new ude.MetadataValidationState,cardinality:n,canContainUndefs:e.some(o=>o.canContainUndefs)},s=()=>a.state.invalidate();for(const o of e)o.state.addInvalidateListener(s);return r&&(a.variables=Wb.unionVariables(e.map(o=>o.variables))),a}async testOperation(e,r){return!0}async runOperation(e,r){const n=(await Promise.all(e.input.map(o=>this.mediatorQueryOperation.mediate({operation:o,context:r})))).map(L4.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new cde.UnionIterator(n.map(o=>o.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(n.map(o=>o.metadata())).then(o=>Wb.unionMetadata(o,!0))}}}b2.ActorQueryOperationUnion=Wb;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(b2,t)})(y2);Object.defineProperty(p2,"__esModule",{value:!0});p2.ActorQueryOperationDescribeSubject=void 0;const dde=y2,B4=ct,fde=kt,hde=ft,m1=vt,rd=new hde.DataFactory;class pde extends B4.ActorQueryOperationTypedMediated{constructor(e){super(e,"describe")}async testOperation(e,r){return!0}async runOperation(e,r){const n=e.terms.filter(u=>u.termType!=="Variable").map(u=>{const c=[rd.quad(u,rd.variable("__predicate"),rd.variable("__object"))];return c.forEach(d=>d.type="pattern"),{input:{type:m1.Algebra.types.BGP,patterns:c},template:c,type:"construct"}});if(n.length!==e.terms.length){let u=[];e.terms.filter(c=>c.termType==="Variable").forEach((c,l)=>{const d=[rd.quad(c,rd.variable(`__predicate${l}`),rd.variable(`__object${l}`))];d.forEach(f=>f.type="pattern"),u=[...u,...d]}),n.push({input:{type:m1.Algebra.types.JOIN,input:[e.input,{type:m1.Algebra.types.BGP,patterns:u}]},template:u,type:m1.Algebra.types.CONSTRUCT})}const a=(await Promise.all(n.map(u=>this.mediatorQueryOperation.mediate({operation:u,context:r})))).map(B4.ActorQueryOperation.getSafeQuads);return{type:"quads",quadStream:new fde.UnionIterator(a.map(u=>u.quadStream),{autoStart:!1}),metadata:()=>Promise.all(a.map(u=>u.metadata())).then(u=>dde.ActorQueryOperationUnion.unionMetadata(u,!1))}}}p2.ActorQueryOperationDescribeSubject=pde;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(p2,t)})(E7);var _R={},_2={},Z0={};Object.defineProperty(Z0,"__esModule",{value:!0});Z0.BindingsToQuadsIterator=void 0;const $4=kt,yde=ft,U4=on,bde=new yde.DataFactory;class vd extends $4.MultiTransformIterator{constructor(e,r){super(r,{autoStart:!1}),this.template=e,this.blankNodeCounter=0}static bindTerm(e,r){return r.termType==="Variable"?e.get(r):r}static bindQuad(e,r){try{return(0,U4.mapTermsNested)(r,n=>{const a=vd.bindTerm(e,n);if(!a)throw new Error("Unbound term");return a})}catch{}}static localizeBlankNode(e,r){return r.termType==="BlankNode"?bde.blankNode(`${r.value}${e}`):r}static localizeQuad(e,r){return(0,U4.mapTermsNested)(r,n=>vd.localizeBlankNode(e,n))}bindTemplate(e,r,n){return r.map(vd.localizeQuad.bind(null,n)).map(s=>vd.bindQuad.bind(null,e)(s)).filter(Boolean)}_createTransformer(e){return new $4.ArrayIterator(this.bindTemplate(e,this.template,this.blankNodeCounter++),{autoStart:!1})}}Z0.BindingsToQuadsIterator=vd;Object.defineProperty(_2,"__esModule",{value:!0});_2.ActorQueryOperationConstruct=void 0;const q4=ct,kT=on,_de=vt,gde=Z0;class gR extends q4.ActorQueryOperationTypedMediated{constructor(e){super(e,"construct")}static getVariables(e){return(0,kT.uniqTerms)([].concat.apply([],e.map(r=>(0,kT.getVariables)((0,kT.getTermsNested)(r)))))}async testOperation(e,r){return!0}async runOperation(e,r){const n=gR.getVariables(e.template),a={type:_de.Algebra.types.PROJECT,input:e.input,variables:n},s=q4.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a,context:r})),o=new gde.BindingsToQuadsIterator(e.template,s.bindingsStream);return{metadata:()=>s.metadata().then(c=>({...c,order:void 0,cardinality:{type:c.cardinality.type,value:c.cardinality.value*e.template.length},canContainUndefs:!1,availableOrders:void 0})),quadStream:o,type:"quads"}}}_2.ActorQueryOperationConstruct=gR;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_2,t),r(Z0,t)})(_R);var O7={},g2={},Pl={},ey={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.LRUCache=void 0;const lh=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,A7=new Set,jO=typeof process=="object"&&process?process:{},x7=(t,e,r,n)=>{typeof jO.emitWarning=="function"?jO.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let Xb=globalThis.AbortController,V4=globalThis.AbortSignal;var B8;if(typeof Xb>"u"){V4=class{constructor(){Ur(this,"onabort");Ur(this,"_onabort",[]);Ur(this,"reason");Ur(this,"aborted",!1)}addEventListener(n,a){this._onabort.push(a)}},Xb=class{constructor(){Ur(this,"signal",new V4);e()}abort(n){var a,s;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const o of this.signal._onabort)o(n);(s=(a=this.signal).onabort)==null||s.call(a,n)}}};let t=((B8=jO.env)==null?void 0:B8.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,x7("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const mde=t=>!A7.has(t),gu=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),R7=t=>gu(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?fb:null:null;class fb extends Array{constructor(e){super(e),this.fill(0)}}var Dd;const Qc=class Qc{constructor(e,r){Ur(this,"heap");Ur(this,"length");if(!fe(Qc,Dd))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){const r=R7(e);if(!r)return[];ut(Qc,Dd,!0);const n=new Qc(e,r);return ut(Qc,Dd,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};Dd=new WeakMap,Et(Qc,Dd,!1);let CO=Qc;var Qa,Xi,Ga,za,Nd,fn,Wa,hn,Er,gt,bi,Ki,Wn,Sn,Xa,Tn,Io,Po,Ka,Ja,Mu,_i,qp,FO,Kc,Do,Vp,Ji,Zb,I7,Jc,jd,Hp,Is,mu,Ps,vu,kp,LO,Cd,hb,Md,pb,yr,Mr,Qp,BO,Yc,Jh;const XR=class XR{constructor(e){Et(this,qp);Et(this,Zb);Et(this,Is);Et(this,Ps);Et(this,kp);Et(this,Cd);Et(this,Md);Et(this,yr);Et(this,Qp);Et(this,Yc);Et(this,Qa,void 0);Et(this,Xi,void 0);Et(this,Ga,void 0);Et(this,za,void 0);Et(this,Nd,void 0);Ur(this,"ttl");Ur(this,"ttlResolution");Ur(this,"ttlAutopurge");Ur(this,"updateAgeOnGet");Ur(this,"updateAgeOnHas");Ur(this,"allowStale");Ur(this,"noDisposeOnSet");Ur(this,"noUpdateTTL");Ur(this,"maxEntrySize");Ur(this,"sizeCalculation");Ur(this,"noDeleteOnFetchRejection");Ur(this,"noDeleteOnStaleGet");Ur(this,"allowStaleOnFetchAbort");Ur(this,"allowStaleOnFetchRejection");Ur(this,"ignoreFetchAbort");Et(this,fn,void 0);Et(this,Wa,void 0);Et(this,hn,void 0);Et(this,Er,void 0);Et(this,gt,void 0);Et(this,bi,void 0);Et(this,Ki,void 0);Et(this,Wn,void 0);Et(this,Sn,void 0);Et(this,Xa,void 0);Et(this,Tn,void 0);Et(this,Io,void 0);Et(this,Po,void 0);Et(this,Ka,void 0);Et(this,Ja,void 0);Et(this,Mu,void 0);Et(this,_i,void 0);Et(this,Kc,()=>{});Et(this,Do,()=>{});Et(this,Vp,()=>{});Et(this,Ji,()=>!1);Et(this,Jc,e=>{});Et(this,jd,(e,r,n)=>{});Et(this,Hp,(e,r,n,a)=>{if(n||a)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});const{max:r=0,ttl:n,ttlResolution:a=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:u,allowStale:c,dispose:l,disposeAfter:d,noDisposeOnSet:f,noUpdateTTL:h,maxSize:p=0,maxEntrySize:y=0,sizeCalculation:_,fetchMethod:E,noDeleteOnFetchRejection:w,noDeleteOnStaleGet:O,allowStaleOnFetchRejection:A,allowStaleOnFetchAbort:T,ignoreFetchAbort:I}=e;if(r!==0&&!gu(r))throw new TypeError("max option must be a nonnegative integer");const D=r?R7(r):Array;if(!D)throw new Error("invalid max value: "+r);if(ut(this,Qa,r),ut(this,Xi,p),this.maxEntrySize=y||fe(this,Xi),this.sizeCalculation=_,this.sizeCalculation){if(!fe(this,Xi)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(E!==void 0&&typeof E!="function")throw new TypeError("fetchMethod must be a function if specified");if(ut(this,Nd,E),ut(this,Mu,!!E),ut(this,hn,new Map),ut(this,Er,new Array(r).fill(void 0)),ut(this,gt,new Array(r).fill(void 0)),ut(this,bi,new D(r)),ut(this,Ki,new D(r)),ut(this,Wn,0),ut(this,Sn,0),ut(this,Xa,CO.create(r)),ut(this,fn,0),ut(this,Wa,0),typeof l=="function"&&ut(this,Ga,l),typeof d=="function"?(ut(this,za,d),ut(this,Tn,[])):(ut(this,za,void 0),ut(this,Tn,void 0)),ut(this,Ja,!!fe(this,Ga)),ut(this,_i,!!fe(this,za)),this.noDisposeOnSet=!!f,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!w,this.allowStaleOnFetchRejection=!!A,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!I,this.maxEntrySize!==0){if(fe(this,Xi)!==0&&!gu(fe(this,Xi)))throw new TypeError("maxSize must be a positive integer if specified");if(!gu(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");it(this,Zb,I7).call(this)}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!O,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!u,this.ttlResolution=gu(a)||a===0?a:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!gu(this.ttl))throw new TypeError("ttl must be a positive integer if specified");it(this,qp,FO).call(this)}if(fe(this,Qa)===0&&this.ttl===0&&fe(this,Xi)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!fe(this,Qa)&&!fe(this,Xi)){const U="LRU_CACHE_UNBOUNDED";mde(U)&&(A7.add(U),x7("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",U,XR))}}static unsafeExposeInternals(e){return{starts:fe(e,Po),ttls:fe(e,Ka),sizes:fe(e,Io),keyMap:fe(e,hn),keyList:fe(e,Er),valList:fe(e,gt),next:fe(e,bi),prev:fe(e,Ki),get head(){return fe(e,Wn)},get tail(){return fe(e,Sn)},free:fe(e,Xa),isBackgroundFetch:r=>{var n;return it(n=e,yr,Mr).call(n,r)},backgroundFetch:(r,n,a,s)=>{var o;return it(o=e,Md,pb).call(o,r,n,a,s)},moveToTail:r=>{var n;return it(n=e,Yc,Jh).call(n,r)},indexes:r=>{var n;return it(n=e,Is,mu).call(n,r)},rindexes:r=>{var n;return it(n=e,Ps,vu).call(n,r)},isStale:r=>{var n;return fe(n=e,Ji).call(n,r)}}}get max(){return fe(this,Qa)}get maxSize(){return fe(this,Xi)}get calculatedSize(){return fe(this,Wa)}get size(){return fe(this,fn)}get fetchMethod(){return fe(this,Nd)}get dispose(){return fe(this,Ga)}get disposeAfter(){return fe(this,za)}getRemainingTTL(e){return fe(this,hn).has(e)?1/0:0}*entries(){for(const e of it(this,Is,mu).call(this))fe(this,gt)[e]!==void 0&&fe(this,Er)[e]!==void 0&&!it(this,yr,Mr).call(this,fe(this,gt)[e])&&(yield[fe(this,Er)[e],fe(this,gt)[e]])}*rentries(){for(const e of it(this,Ps,vu).call(this))fe(this,gt)[e]!==void 0&&fe(this,Er)[e]!==void 0&&!it(this,yr,Mr).call(this,fe(this,gt)[e])&&(yield[fe(this,Er)[e],fe(this,gt)[e]])}*keys(){for(const e of it(this,Is,mu).call(this)){const r=fe(this,Er)[e];r!==void 0&&!it(this,yr,Mr).call(this,fe(this,gt)[e])&&(yield r)}}*rkeys(){for(const e of it(this,Ps,vu).call(this)){const r=fe(this,Er)[e];r!==void 0&&!it(this,yr,Mr).call(this,fe(this,gt)[e])&&(yield r)}}*values(){for(const e of it(this,Is,mu).call(this))fe(this,gt)[e]!==void 0&&!it(this,yr,Mr).call(this,fe(this,gt)[e])&&(yield fe(this,gt)[e])}*rvalues(){for(const e of it(this,Ps,vu).call(this))fe(this,gt)[e]!==void 0&&!it(this,yr,Mr).call(this,fe(this,gt)[e])&&(yield fe(this,gt)[e])}[Symbol.iterator](){return this.entries()}find(e,r={}){for(const n of it(this,Is,mu).call(this)){const a=fe(this,gt)[n],s=it(this,yr,Mr).call(this,a)?a.__staleWhileFetching:a;if(s!==void 0&&e(s,fe(this,Er)[n],this))return this.get(fe(this,Er)[n],r)}}forEach(e,r=this){for(const n of it(this,Is,mu).call(this)){const a=fe(this,gt)[n],s=it(this,yr,Mr).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,fe(this,Er)[n],this)}}rforEach(e,r=this){for(const n of it(this,Ps,vu).call(this)){const a=fe(this,gt)[n],s=it(this,yr,Mr).call(this,a)?a.__staleWhileFetching:a;s!==void 0&&e.call(r,s,fe(this,Er)[n],this)}}purgeStale(){let e=!1;for(const r of it(this,Ps,vu).call(this,{allowStale:!0}))fe(this,Ji).call(this,r)&&(this.delete(fe(this,Er)[r]),e=!0);return e}dump(){const e=[];for(const r of it(this,Is,mu).call(this,{allowStale:!0})){const n=fe(this,Er)[r],a=fe(this,gt)[r],s=it(this,yr,Mr).call(this,a)?a.__staleWhileFetching:a;if(s===void 0||n===void 0)continue;const o={value:s};if(fe(this,Ka)&&fe(this,Po)){o.ttl=fe(this,Ka)[r];const u=lh.now()-fe(this,Po)[r];o.start=Math.floor(Date.now()-u)}fe(this,Io)&&(o.size=fe(this,Io)[r]),e.unshift([n,o])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const a=Date.now()-n.start;n.start=lh.now()-a}this.set(r,n.value,n)}}set(e,r,n={}){var h,p,y,_,E;if(r===void 0)return this.delete(e),this;const{ttl:a=this.ttl,start:s,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:u=this.sizeCalculation,status:c}=n;let{noUpdateTTL:l=this.noUpdateTTL}=n;const d=fe(this,Hp).call(this,e,r,n.size||0,u);if(this.maxEntrySize&&d>this.maxEntrySize)return c&&(c.set="miss",c.maxEntrySizeExceeded=!0),this.delete(e),this;let f=fe(this,fn)===0?void 0:fe(this,hn).get(e);if(f===void 0)f=fe(this,fn)===0?fe(this,Sn):fe(this,Xa).length!==0?fe(this,Xa).pop():fe(this,fn)===fe(this,Qa)?it(this,Cd,hb).call(this,!1):fe(this,fn),fe(this,Er)[f]=e,fe(this,gt)[f]=r,fe(this,hn).set(e,f),fe(this,bi)[fe(this,Sn)]=f,fe(this,Ki)[f]=fe(this,Sn),ut(this,Sn,f),Dy(this,fn)._++,fe(this,jd).call(this,f,d,c),c&&(c.set="add"),l=!1;else{it(this,Yc,Jh).call(this,f);const w=fe(this,gt)[f];if(r!==w){if(fe(this,Mu)&&it(this,yr,Mr).call(this,w)){w.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:O}=w;O!==void 0&&!o&&(fe(this,Ja)&&((h=fe(this,Ga))==null||h.call(this,O,e,"set")),fe(this,_i)&&((p=fe(this,Tn))==null||p.push([O,e,"set"])))}else o||(fe(this,Ja)&&((y=fe(this,Ga))==null||y.call(this,w,e,"set")),fe(this,_i)&&((_=fe(this,Tn))==null||_.push([w,e,"set"])));if(fe(this,Jc).call(this,f),fe(this,jd).call(this,f,d,c),fe(this,gt)[f]=r,c){c.set="replace";const O=w&&it(this,yr,Mr).call(this,w)?w.__staleWhileFetching:w;O!==void 0&&(c.oldValue=O)}}else c&&(c.set="update")}if(a!==0&&!fe(this,Ka)&&it(this,qp,FO).call(this),fe(this,Ka)&&(l||fe(this,Vp).call(this,f,a,s),c&&fe(this,Do).call(this,c,f)),!o&&fe(this,_i)&&fe(this,Tn)){const w=fe(this,Tn);let O;for(;O=w==null?void 0:w.shift();)(E=fe(this,za))==null||E.call(this,...O)}return this}pop(){var e;try{for(;fe(this,fn);){const r=fe(this,gt)[fe(this,Wn)];if(it(this,Cd,hb).call(this,!0),it(this,yr,Mr).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(fe(this,_i)&&fe(this,Tn)){const r=fe(this,Tn);let n;for(;n=r==null?void 0:r.shift();)(e=fe(this,za))==null||e.call(this,...n)}}}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:a}=r,s=fe(this,hn).get(e);if(s!==void 0){const o=fe(this,gt)[s];if(it(this,yr,Mr).call(this,o)&&o.__staleWhileFetching===void 0)return!1;if(fe(this,Ji).call(this,s))a&&(a.has="stale",fe(this,Do).call(this,a,s));else return n&&fe(this,Kc).call(this,s),a&&(a.has="hit",fe(this,Do).call(this,a,s)),!0}else a&&(a.has="miss");return!1}peek(e,r={}){const{allowStale:n=this.allowStale}=r,a=fe(this,hn).get(e);if(a===void 0||!n&&fe(this,Ji).call(this,a))return;const s=fe(this,gt)[a];return it(this,yr,Mr).call(this,s)?s.__staleWhileFetching:s}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:u=this.noDisposeOnSet,size:c=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:y=this.allowStaleOnFetchAbort,context:_,forceRefresh:E=!1,status:w,signal:O}=r;if(!fe(this,Mu))return w&&(w.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,status:w});const A={allowStale:n,updateAgeOnGet:a,noDeleteOnStaleGet:s,ttl:o,noDisposeOnSet:u,size:c,sizeCalculation:l,noUpdateTTL:d,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:y,ignoreFetchAbort:p,status:w,signal:O};let T=fe(this,hn).get(e);if(T===void 0){w&&(w.fetch="miss");const I=it(this,Md,pb).call(this,e,T,A,_);return I.__returned=I}else{const I=fe(this,gt)[T];if(it(this,yr,Mr).call(this,I)){const R=n&&I.__staleWhileFetching!==void 0;return w&&(w.fetch="inflight",R&&(w.returnedStale=!0)),R?I.__staleWhileFetching:I.__returned=I}const D=fe(this,Ji).call(this,T);if(!E&&!D)return w&&(w.fetch="hit"),it(this,Yc,Jh).call(this,T),a&&fe(this,Kc).call(this,T),w&&fe(this,Do).call(this,w,T),I;const U=it(this,Md,pb).call(this,e,T,A,_),N=U.__staleWhileFetching!==void 0&&n;return w&&(w.fetch=D?"stale":"refresh",N&&D&&(w.returnedStale=!0)),N?U.__staleWhileFetching:U.__returned=U}}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:a=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:o}=r,u=fe(this,hn).get(e);if(u!==void 0){const c=fe(this,gt)[u],l=it(this,yr,Mr).call(this,c);return o&&fe(this,Do).call(this,o,u),fe(this,Ji).call(this,u)?(o&&(o.get="stale"),l?(o&&n&&c.__staleWhileFetching!==void 0&&(o.returnedStale=!0),n?c.__staleWhileFetching:void 0):(s||this.delete(e),o&&n&&(o.returnedStale=!0),n?c:void 0)):(o&&(o.get="hit"),l?c.__staleWhileFetching:(it(this,Yc,Jh).call(this,u),a&&fe(this,Kc).call(this,u),c))}else o&&(o.get="miss")}delete(e){var n,a,s,o;let r=!1;if(fe(this,fn)!==0){const u=fe(this,hn).get(e);if(u!==void 0)if(r=!0,fe(this,fn)===1)this.clear();else{fe(this,Jc).call(this,u);const c=fe(this,gt)[u];if(it(this,yr,Mr).call(this,c)?c.__abortController.abort(new Error("deleted")):(fe(this,Ja)||fe(this,_i))&&(fe(this,Ja)&&((n=fe(this,Ga))==null||n.call(this,c,e,"delete")),fe(this,_i)&&((a=fe(this,Tn))==null||a.push([c,e,"delete"]))),fe(this,hn).delete(e),fe(this,Er)[u]=void 0,fe(this,gt)[u]=void 0,u===fe(this,Sn))ut(this,Sn,fe(this,Ki)[u]);else if(u===fe(this,Wn))ut(this,Wn,fe(this,bi)[u]);else{const l=fe(this,Ki)[u];fe(this,bi)[l]=fe(this,bi)[u];const d=fe(this,bi)[u];fe(this,Ki)[d]=fe(this,Ki)[u]}Dy(this,fn)._--,fe(this,Xa).push(u)}}if(fe(this,_i)&&((s=fe(this,Tn))!=null&&s.length)){const u=fe(this,Tn);let c;for(;c=u==null?void 0:u.shift();)(o=fe(this,za))==null||o.call(this,...c)}return r}clear(){var e,r,n;for(const a of it(this,Ps,vu).call(this,{allowStale:!0})){const s=fe(this,gt)[a];if(it(this,yr,Mr).call(this,s))s.__abortController.abort(new Error("deleted"));else{const o=fe(this,Er)[a];fe(this,Ja)&&((e=fe(this,Ga))==null||e.call(this,s,o,"delete")),fe(this,_i)&&((r=fe(this,Tn))==null||r.push([s,o,"delete"]))}}if(fe(this,hn).clear(),fe(this,gt).fill(void 0),fe(this,Er).fill(void 0),fe(this,Ka)&&fe(this,Po)&&(fe(this,Ka).fill(0),fe(this,Po).fill(0)),fe(this,Io)&&fe(this,Io).fill(0),ut(this,Wn,0),ut(this,Sn,0),fe(this,Xa).length=0,ut(this,Wa,0),ut(this,fn,0),fe(this,_i)&&fe(this,Tn)){const a=fe(this,Tn);let s;for(;s=a==null?void 0:a.shift();)(n=fe(this,za))==null||n.call(this,...s)}}};Qa=new WeakMap,Xi=new WeakMap,Ga=new WeakMap,za=new WeakMap,Nd=new WeakMap,fn=new WeakMap,Wa=new WeakMap,hn=new WeakMap,Er=new WeakMap,gt=new WeakMap,bi=new WeakMap,Ki=new WeakMap,Wn=new WeakMap,Sn=new WeakMap,Xa=new WeakMap,Tn=new WeakMap,Io=new WeakMap,Po=new WeakMap,Ka=new WeakMap,Ja=new WeakMap,Mu=new WeakMap,_i=new WeakMap,qp=new WeakSet,FO=function(){const e=new fb(fe(this,Qa)),r=new fb(fe(this,Qa));ut(this,Ka,e),ut(this,Po,r),ut(this,Vp,(s,o,u=lh.now())=>{if(r[s]=o!==0?u:0,e[s]=o,o!==0&&this.ttlAutopurge){const c=setTimeout(()=>{fe(this,Ji).call(this,s)&&this.delete(fe(this,Er)[s])},o+1);c.unref&&c.unref()}}),ut(this,Kc,s=>{r[s]=e[s]!==0?lh.now():0}),ut(this,Do,(s,o)=>{if(e[o]){const u=e[o],c=r[o];if(!u||!c)return;s.ttl=u,s.start=c,s.now=n||a();const l=s.now-c;s.remainingTTL=u-l}});let n=0;const a=()=>{const s=lh.now();if(this.ttlResolution>0){n=s;const o=setTimeout(()=>n=0,this.ttlResolution);o.unref&&o.unref()}return s};this.getRemainingTTL=s=>{const o=fe(this,hn).get(s);if(o===void 0)return 0;const u=e[o],c=r[o];if(!u||!c)return 1/0;const l=(n||a())-c;return u-l},ut(this,Ji,s=>{const o=r[s],u=e[s];return!!u&&!!o&&(n||a())-o>u})},Kc=new WeakMap,Do=new WeakMap,Vp=new WeakMap,Ji=new WeakMap,Zb=new WeakSet,I7=function(){const e=new fb(fe(this,Qa));ut(this,Wa,0),ut(this,Io,e),ut(this,Jc,r=>{ut(this,Wa,fe(this,Wa)-e[r]),e[r]=0}),ut(this,Hp,(r,n,a,s)=>{if(it(this,yr,Mr).call(this,n))return 0;if(!gu(a))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(a=s(n,r),!gu(a))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return a}),ut(this,jd,(r,n,a)=>{if(e[r]=n,fe(this,Xi)){const s=fe(this,Xi)-e[r];for(;fe(this,Wa)>s;)it(this,Cd,hb).call(this,!0)}ut(this,Wa,fe(this,Wa)+e[r]),a&&(a.entrySize=n,a.totalCalculatedSize=fe(this,Wa))})},Jc=new WeakMap,jd=new WeakMap,Hp=new WeakMap,Is=new WeakSet,mu=function*({allowStale:e=this.allowStale}={}){if(fe(this,fn))for(let r=fe(this,Sn);!(!it(this,kp,LO).call(this,r)||((e||!fe(this,Ji).call(this,r))&&(yield r),r===fe(this,Wn)));)r=fe(this,Ki)[r]},Ps=new WeakSet,vu=function*({allowStale:e=this.allowStale}={}){if(fe(this,fn))for(let r=fe(this,Wn);!(!it(this,kp,LO).call(this,r)||((e||!fe(this,Ji).call(this,r))&&(yield r),r===fe(this,Sn)));)r=fe(this,bi)[r]},kp=new WeakSet,LO=function(e){return e!==void 0&&fe(this,hn).get(fe(this,Er)[e])===e},Cd=new WeakSet,hb=function(e){var s,o;const r=fe(this,Wn),n=fe(this,Er)[r],a=fe(this,gt)[r];return fe(this,Mu)&&it(this,yr,Mr).call(this,a)?a.__abortController.abort(new Error("evicted")):(fe(this,Ja)||fe(this,_i))&&(fe(this,Ja)&&((s=fe(this,Ga))==null||s.call(this,a,n,"evict")),fe(this,_i)&&((o=fe(this,Tn))==null||o.push([a,n,"evict"]))),fe(this,Jc).call(this,r),e&&(fe(this,Er)[r]=void 0,fe(this,gt)[r]=void 0,fe(this,Xa).push(r)),fe(this,fn)===1?(ut(this,Wn,ut(this,Sn,0)),fe(this,Xa).length=0):ut(this,Wn,fe(this,bi)[r]),fe(this,hn).delete(n),Dy(this,fn)._--,r},Md=new WeakSet,pb=function(e,r,n,a){const s=r===void 0?void 0:fe(this,gt)[r];if(it(this,yr,Mr).call(this,s))return s;const o=new Xb,{signal:u}=n;u==null||u.addEventListener("abort",()=>o.abort(u.reason),{signal:o.signal});const c={signal:o.signal,options:n,context:a},l=(_,E=!1)=>{const{aborted:w}=o.signal,O=n.ignoreFetchAbort&&_!==void 0;if(n.status&&(w&&!E?(n.status.fetchAborted=!0,n.status.fetchError=o.signal.reason,O&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),w&&!O&&!E)return f(o.signal.reason);const A=p;return fe(this,gt)[r]===p&&(_===void 0?A.__staleWhileFetching?fe(this,gt)[r]=A.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,_,c.options))),_},d=_=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=_),f(_)),f=_=>{const{aborted:E}=o.signal,w=E&&n.allowStaleOnFetchAbort,O=w||n.allowStaleOnFetchRejection,A=O||n.noDeleteOnFetchRejection,T=p;if(fe(this,gt)[r]===p&&(!A||T.__staleWhileFetching===void 0?this.delete(e):w||(fe(this,gt)[r]=T.__staleWhileFetching)),O)return n.status&&T.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),T.__staleWhileFetching;if(T.__returned===T)throw _},h=(_,E)=>{var O;const w=(O=fe(this,Nd))==null?void 0:O.call(this,e,s,c);w&&w instanceof Promise&&w.then(A=>_(A===void 0?void 0:A),E),o.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(_(void 0),n.allowStaleOnFetchAbort&&(_=A=>l(A,!0)))})};n.status&&(n.status.fetchDispatched=!0);const p=new Promise(h).then(l,d),y=Object.assign(p,{__abortController:o,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,y,{...c.options,status:void 0}),r=fe(this,hn).get(e)):fe(this,gt)[r]=y,y},yr=new WeakSet,Mr=function(e){if(!fe(this,Mu))return!1;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof Xb},Qp=new WeakSet,BO=function(e,r){fe(this,Ki)[r]=e,fe(this,bi)[e]=r},Yc=new WeakSet,Jh=function(e){e!==fe(this,Sn)&&(e===fe(this,Wn)?ut(this,Wn,fe(this,bi)[e]):it(this,Qp,BO).call(this,fe(this,Ki)[e],fe(this,bi)[e]),it(this,Qp,BO).call(this,fe(this,Sn),e),ut(this,Sn,e))};let MO=XR;ps.LRUCache=MO;var ty={},QT={},Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.asTermType=Ri.ExpressionType=void 0;var H4;(function(t){t.Aggregate="aggregate",t.Existence="existence",t.Named="named",t.Operator="operator",t.SpecialOperator="specialOperator",t.Term="term",t.Variable="variable",t.AsyncExtension="asyncExtension",t.SyncExtension="syncExtension"})(H4||(Ri.ExpressionType=H4={}));function vde(t){if(t==="namedNode"||t==="literal"||t==="blankNode"||t==="quad")return t}Ri.asTermType=vde;var m2={};Object.defineProperty(m2,"__esModule",{value:!0});m2.Variable=void 0;const wde=Ri;class Sde{constructor(e){this.expressionType=wde.ExpressionType.Variable,this.name=e}}m2.Variable=Sde;var ht={},dh={},ii={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NamedOperators=t.SetFunctions=t.SetFunction=t.Operators=t.SpecialOperators=t.RegularOperators=t.SpecialOperator=t.RegularOperator=t.TypeURL=t.TypeAlias=void 0;var e;(function(o){o.SPARQL_NUMERIC="SPARQL_NUMERIC",o.SPARQL_STRINGLY="SPARQL_STRINGLY"})(e||(t.TypeAlias=e={}));var r;(function(o){o.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",o.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",o.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",o.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",o.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",o.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",o.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",o.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",o.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",o.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",o.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",o.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",o.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",o.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",o.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",o.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",o.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",o.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",o.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",o.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",o.XSD_INT="http://www.w3.org/2001/XMLSchema#int",o.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",o.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",o.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",o.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",o.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",o.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",o.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",o.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",o.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",o.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",o.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",o.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",o.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",o.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",o.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",o.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",o.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",o.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",o.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",o.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(r||(t.TypeURL=r={}));var n;(function(o){o.NOT="!",o.UMINUS="uminus",o.UPLUS="uplus",o.EQUAL="=",o.NOT_EQUAL="!=",o.LT="<",o.GT=">",o.LTE="<=",o.GTE=">=",o.MULTIPLICATION="*",o.DIVISION="/",o.ADDITION="+",o.SUBTRACTION="-",o.IS_IRI="isiri",o.IS_URI="isuri",o.IS_BLANK="isblank",o.IS_LITERAL="isliteral",o.IS_NUMERIC="isnumeric",o.STR="str",o.LANG="lang",o.DATATYPE="datatype",o.IRI="iri",o.URI="uri",o.STRDT="strdt",o.STRLANG="strlang",o.UUID="uuid",o.STRUUID="struuid",o.STRLEN="strlen",o.SUBSTR="substr",o.UCASE="ucase",o.LCASE="lcase",o.STRSTARTS="strstarts",o.STRENDS="strends",o.CONTAINS="contains",o.STRBEFORE="strbefore",o.STRAFTER="strafter",o.ENCODE_FOR_URI="encode_for_uri",o.LANG_MATCHES="langmatches",o.REGEX="regex",o.REPLACE="replace",o.ABS="abs",o.ROUND="round",o.CEIL="ceil",o.FLOOR="floor",o.RAND="rand",o.NOW="now",o.YEAR="year",o.MONTH="month",o.DAY="day",o.HOURS="hours",o.MINUTES="minutes",o.SECONDS="seconds",o.TIMEZONE="timezone",o.TZ="tz",o.MD5="md5",o.SHA1="sha1",o.SHA256="sha256",o.SHA384="sha384",o.SHA512="sha512",o.TRIPLE="triple",o.SUBJECT="subject",o.PREDICATE="predicate",o.OBJECT="object",o.IS_TRIPLE="istriple"})(n||(t.RegularOperator=n={}));var a;(function(o){o.BOUND="bound",o.IF="if",o.COALESCE="coalesce",o.LOGICAL_OR="||",o.LOGICAL_AND="&&",o.SAME_TERM="sameterm",o.IN="in",o.NOT_IN="notin",o.CONCAT="concat",o.BNODE="bnode"})(a||(t.SpecialOperator=a={})),t.RegularOperators=new Set(Object.values(n)),t.SpecialOperators=new Set(Object.values(a)),t.Operators=new Set([...t.RegularOperators,...t.SpecialOperators]);var s;(function(o){o.COUNT="count",o.SUM="sum",o.MIN="min",o.MAX="max",o.AVG="avg",o.GROUP_CONCAT="group_concat",o.SAMPLE="sample"})(s||(t.SetFunction=s={})),t.SetFunctions=new Set(Object.values(s)),t.NamedOperators=new Set([r.XSD_STRING,r.XSD_FLOAT,r.XSD_DOUBLE,r.XSD_DECIMAL,r.XSD_INTEGER,r.XSD_DATE_TIME,r.XSD_DATE,r.XSD_BOOLEAN,r.XSD_TIME,r.XSD_DURATION,r.XSD_DAY_TIME_DURATION,r.XSD_YEAR_MONTH_DURATION])})(ii);var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.NoExistenceHook=Ke.NoAggregator=Ke.ExtensionFunctionError=Ke.UnknownNamedOperator=Ke.UnknownOperator=Ke.InvalidTermType=Ke.InvalidExpressionType=Ke.InvalidExpression=Ke.InvalidArity=Ke.UnexpectedError=Ke.ParseError=Ke.EmptyAggregateError=Ke.IncompatibleLanguageOperation=Ke.InvalidTimezoneCall=Ke.CastError=Ke.InvalidCompareArgumentTypes=Ke.InvalidArgumentTypes=Ke.InError=Ke.CoalesceError=Ke.RDFEqualTypeError=Ke.EBVCoercionError=Ke.UnboundVariableError=Ke.InvalidLexicalForm=Ke.isExpressionError=Ke.ExpressionError=void 0;class Ni extends Error{}Ke.ExpressionError=Ni;function Tde(t){return t instanceof Ni}Ke.isExpressionError=Tde;class Ede extends Ni{constructor(e){super(`Invalid lexical form '${ai(e)}'`),this.arg=e}}Ke.InvalidLexicalForm=Ede;class Ode extends Ni{constructor(e,r){super(`Unbound variable '${ai(e)}'`),this.variable=e,this.bindings=r}}Ke.UnboundVariableError=Ode;class Ade extends Ni{constructor(e){super(`Cannot coerce term to EBV '${ai(e)}'`),this.arg=e}}Ke.EBVCoercionError=Ade;class xde extends Ni{constructor(e){super("Equality test for literals with unsupported datatypes"),this.args=e}}Ke.RDFEqualTypeError=xde;class Rde extends Ni{constructor(e){super("All COALESCE arguments threw errors"),this.errors=e}}Ke.CoalesceError=Rde;class Ide extends Ni{constructor(e){super(`Some argument to IN errorred and none where equal. ${e.map(r=>`(${r.toString()}) `).join("and ")}`),this.errors=e}}Ke.InError=Ide;class Pde extends Ni{constructor(e,r){super(`Argument types not valid for operator: '${ai(r)}' with '${ai(e)}`),this.args=e,this.op=r}}Ke.InvalidArgumentTypes=Pde;class Dde extends Ni{constructor(e,r){super(`Compared argument types are supported: '${e.termType}' and '${r.termType}'`),this.arg0=e,this.arg1=r}}Ke.InvalidCompareArgumentTypes=Dde;class Nde extends Ni{constructor(e,r){super(`Invalid cast: '${ai(e)}' to '${ai(r)}'`),this.arg=e}}Ke.CastError=Nde;class jde extends Ni{constructor(e){super(`TIMEZONE call on ${e} which has no timezone`),this.dateString=e}}Ke.InvalidTimezoneCall=jde;class Cde extends Ni{constructor(e,r){super(`Operation on incompatible language literals '${ai(e)}' and '${ai(r)}'`),this.arg1=e,this.arg2=r}}Ke.IncompatibleLanguageOperation=Cde;class Mde extends Ni{constructor(){super("Empty aggregate expression")}}Ke.EmptyAggregateError=Mde;class Fde extends Ni{constructor(e,r){super(`Failed to parse ${e} as ${r}.`)}}Ke.ParseError=Fde;class Lde extends Error{constructor(e,r){super(`Programmer Error '${e}'`),this.payload=r}}Ke.UnexpectedError=Lde;class Bde extends Error{constructor(e,r){super(`The number of args does not match the arity of the operator '${ai(r)}'.`),this.args=e,this.op=r}}Ke.InvalidArity=Bde;class $de extends Error{constructor(e){super(`Invalid SPARQL Expression '${ai(e)}'`)}}Ke.InvalidExpression=$de;class Ude extends Error{constructor(e){super(`Invalid expression type for SPARQL Expression '${ai(e)}'`),this.expr=e}}Ke.InvalidExpressionType=Ude;class qde extends Error{constructor(e){super(`Invalid term type for term '${ai(e)}'`),this.term=e}}Ke.InvalidTermType=qde;class Vde extends Error{constructor(e){super(`Unknown operator: '${ai(e)}`)}}Ke.UnknownOperator=Vde;class Hde extends Error{constructor(e){super(`Unknown named operator: '${ai(e)}'`)}}Ke.UnknownNamedOperator=Hde;class kde extends Error{constructor(e,r){r instanceof Error?super(`Error thrown in ${e}: ${r.message}${r.stack?`
${r.stack}`:""}`):super(`Error thrown in ${e}`)}}Ke.ExtensionFunctionError=kde;class Qde extends Error{constructor(e){super(`Aggregate expression ${ai(e)} found, but no aggregate hook provided.`)}}Ke.NoAggregator=Qde;class Gde extends Error{constructor(){super("EXISTS found, but no existence hook provided.")}}Ke.NoExistenceHook=Gde;function ai(t){return JSON.stringify(t)}var zr={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.extractTimeZone=Ct.extractRawTimeZone=Ct.dayTimeDurationsToSeconds=Ct.yearMonthDurationsToMonths=Ct.trimToDayTimeDuration=Ct.trimToYearMonthDuration=Ct.toUTCDate=Ct.toJSDate=Ct.negateDuration=Ct.toDateTimeRepresentation=Ct.defaultedDateTimeRepresentation=Ct.simplifyDurationRepresentation=Ct.defaultedDurationRepresentation=Ct.defaultedYearMonthDurationRepresentation=Ct.defaultedDayTimeDurationRepresentation=void 0;function P7(t){return{day:t.day||0,hours:t.hours||0,minutes:t.minutes||0,seconds:t.seconds||0}}Ct.defaultedDayTimeDurationRepresentation=P7;function D7(t){return{year:t.year||0,month:t.month||0}}Ct.defaultedYearMonthDurationRepresentation=D7;function N7(t){return{...P7(t),...D7(t)}}Ct.defaultedDurationRepresentation=N7;function zde(t){const e=N7(t),r={},n=e.year+Math.trunc(e.month/12);n&&(r.year=n,e.month%=12),e.month&&(r.month=e.month);const a=e.day+Math.trunc(e.hours/24)+Math.trunc(e.minutes/(24*60))+Math.trunc(e.seconds/(24*60*60));a&&(r.day=a,e.hours%=24,e.minutes%=24*60,e.seconds%=24*60*60);const s=e.hours+Math.trunc(e.minutes/60)+Math.trunc(e.seconds/(60*60));s&&(r.hours=s,e.minutes%=60,e.seconds%=60*60);const o=e.minutes+Math.trunc(e.seconds/60);return o&&(r.minutes=o,e.seconds%=60),e.seconds&&(r.seconds=e.seconds),r}Ct.simplifyDurationRepresentation=zde;function j7(t){return{...t,day:t.day||1,hours:t.hours||0,month:t.month||1,year:t.year||0,seconds:t.seconds||0,minutes:t.minutes||0}}Ct.defaultedDateTimeRepresentation=j7;function Wde({date:t,timeZone:e}){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),zoneHours:e.zoneHours,zoneMinutes:e.zoneMinutes}}Ct.toDateTimeRepresentation=Wde;function Xde(t){return{year:t.year!==void 0?-1*t.year:void 0,month:t.month!==void 0?-1*t.month:void 0,day:t.day!==void 0?-1*t.day:void 0,hours:t.hours!==void 0?-1*t.hours:void 0,minutes:t.minutes!==void 0?-1*t.minutes:void 0,seconds:t.seconds!==void 0?-1*t.seconds:void 0}}Ct.negateDuration=Xde;function C7(t){const e=new Date(t.year,t.month-1,t.day,t.hours,t.minutes,Math.trunc(t.seconds),t.seconds%1*1e3);return 0<=t.year&&t.year<100&&e.setFullYear(e.getFullYear()-1900),e}Ct.toJSDate=C7;function Kde(t,e){const r=C7(j7(t)),n=r.getTimezoneOffset(),a=t.zoneHours===void 0?e.zoneHours:t.zoneHours,s=t.zoneMinutes===void 0?e.zoneMinutes:t.zoneMinutes;return new Date(r.getTime()-(n+a*60+s)*60*1e3)}Ct.toUTCDate=Kde;function Jde(t){return{year:t.year,month:t.month}}Ct.trimToYearMonthDuration=Jde;function Yde(t){return{day:t.day,hours:t.hours,minutes:t.minutes,seconds:t.seconds}}Ct.trimToDayTimeDuration=Yde;function Zde(t){return t.year*12+t.month}Ct.yearMonthDurationsToMonths=Zde;function efe(t){return((t.day*24+t.hours)*60+t.minutes)*60+t.seconds}Ct.dayTimeDurationsToSeconds=efe;function tfe(t){return/(Z|([+-]\d\d:\d\d))?$/u.exec(t)[0]}Ct.extractRawTimeZone=tfe;function rfe(t){return{zoneHours:t.getTimezoneOffset()/60,zoneMinutes:t.getTimezoneOffset()%60}}Ct.extractTimeZone=rfe;var $o={};Object.defineProperty($o,"__esModule",{value:!0});$o.elapsedDuration=$o.addDurationToDateTime=$o.maximumDayInMonthFor=void 0;const k4=Ct;function No(t,e,r=0){const n=t-r,a=e-r,s=Math.floor(n/a);return{intDiv:s,remainder:t-s*a}}function yb(t,e){const{intDiv:r,remainder:n}=No(e,13,1),a=t+r;return[1,3,5,7,8,10,12].includes(n)?31:[4,6,9,11].includes(n)?30:n===2&&(No(a,400).remainder===0||No(a,100).remainder!==0&&No(a,4).remainder===0)?29:28}$o.maximumDayInMonthFor=yb;function nfe(t,e){const r={...t};let n=No(t.month+e.month,13,1);for(r.month=n.remainder,r.year=t.year+e.year+n.intDiv,n=No(t.seconds+e.seconds,60),r.seconds=n.remainder,n=No(t.minutes+e.minutes+n.intDiv,60),r.minutes=n.remainder,n=No(t.hours+e.hours+n.intDiv,24),r.hours=n.remainder,r.day=t.day+e.day+n.intDiv;;){let a;if(r.day<1)r.day+=yb(r.year,r.month-1),a=-1;else if(r.day>yb(r.year,r.month))r.day-=yb(r.year,r.month),a=1;else break;n=No(r.month+a,13,1),r.month=n.remainder,r.year+=n.intDiv}return r}$o.addDurationToDateTime=nfe;function ife(t,e,r){const n=(0,k4.toUTCDate)(t,r),a=(0,k4.toUTCDate)(e,r),s=n.getTime()-a.getTime();return{day:Math.floor(s/(1e3*60*60*24)),hours:Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(s%(1e3*60*60)/(1e3*60)),seconds:s%(1e3*60)}}$o.elapsedDuration=ife;Object.defineProperty(zr,"__esModule",{value:!0});zr.parseDayTimeDuration=zr.parseYearMonthDuration=zr.parseDuration=zr.parseTime=zr.parseDate=zr.parseDateTime=zr.parseXSDInteger=zr.parseXSDDecimal=zr.parseXSDFloat=void 0;const afe=Ct,Uo=Ke,sfe=$o;function ofe(t){const e=Number(t);return Number.isNaN(e)?t==="NaN"?Number.NaN:t==="INF"||t==="+INF"?Number.POSITIVE_INFINITY:t==="-INF"?Number.NEGATIVE_INFINITY:void 0:e}zr.parseXSDFloat=ofe;function ufe(t){const e=Number(t);return Number.isNaN(e)?void 0:e}zr.parseXSDDecimal=ufe;function cfe(t){const e=Number.parseInt(t,10);return Number.isNaN(e)?void 0:e}zr.parseXSDInteger=cfe;function lfe(t){const[e,r]=t.split("T");return{...F7(e),...L7(r)}}zr.parseDateTime=lfe;function M7(t){if(t==="")return{zoneHours:void 0,zoneMinutes:void 0};if(t==="Z")return{zoneHours:0,zoneMinutes:0};const r=t.replace(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(n=>Number(n));return{zoneHours:r[0]*r[1],zoneMinutes:r[0]*r[2]}}function F7(t){const e=t.replace(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(e===t)throw new Uo.ParseError(t,"date");const r=e.split("!"),n=r.slice(0,-1).map(s=>Number(s)),a={year:n[0]*n[1],month:n[2],day:n[3],...M7(r[4])};if(!(1<=a.month&&a.month<=12)||!(1<=a.day&&a.day<=(0,sfe.maximumDayInMonthFor)(a.year,a.month)))throw new Uo.ParseError(t,"date");return a}zr.parseDate=F7;function L7(t){const e=t.replace(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(e===t)throw new Uo.ParseError(t,"time");const r=e.split("!"),n=r.slice(0,-1).map(s=>Number(s)),a={hours:n[0],minutes:n[1],seconds:n[2],...M7(r[3])};if(a.seconds>=60||a.minutes>=60||a.hours>24||a.hours===24&&(a.minutes!==0||a.seconds!==0))throw new Uo.ParseError(t,"time");return a}function dfe(t){const e=L7(t);return e.hours%=24,e}zr.parseTime=dfe;function mR(t){const[e,r]=t.split("T"),n=e.replace(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(n===e)throw new Uo.ParseError(t,"duration");const a=n.split("!");if(r!==void 0){const u=r.replace(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(r===""||r===u)throw new Uo.ParseError(t,"duration");a.push(...u.split("!"))}const s=a.map(u=>u.slice(0,-1));if(!s.slice(1).some(u=>u))throw new Uo.ParseError(t,"duration");const o=Number(s[0]);return(0,afe.simplifyDurationRepresentation)({year:s[1]?o*Number(s[1]):void 0,month:s[2]?o*Number(s[2]):void 0,day:s[3]?o*Number(s[3]):void 0,hours:s[4]?o*Number(s[4]):void 0,minutes:s[5]?o*Number(s[5]):void 0,seconds:s[6]?o*Number(s[6]):void 0})}zr.parseDuration=mR;function ffe(t){const e=mR(t);if(["hours","minutes","seconds","day"].some(r=>!!e[r]))throw new Uo.ParseError(t,"yearMonthDuration");return e}zr.parseYearMonthDuration=ffe;function hfe(t){const e=mR(t);if(["year","month"].some(r=>!!e[r]))throw new Uo.ParseError(t,"dayTimeDuration");return e}zr.parseDayTimeDuration=hfe;var GT={},Tr={},fh={},Q4;function B7(){if(Q4)return fh;Q4=1,Object.defineProperty(fh,"__esModule",{value:!0}),fh.OverloadTree=void 0;const t=oa(),e=v2();let r=class $O{constructor(a,s){this.identifier=a,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=s||0,this.promotionCount=void 0}getSubtree(a){const s=(0,e.asGeneralType)(a);if(s)return this.generalOverloads[s];for(const[o,u]of this.literalOverLoads)if(a===o)return u}getImplementationExact(a){let s=this;for(const o of a)if(s=s.getSubtree(o),!s)return;return s.implementation}search(a,s,o){let u=o[this.identifier],c=0;for(;c<a.length&&(u!=null&&u.cache);){const f=a[c],h=(0,t.isLiteralTermExpression)(f);u=u.cache[h?h.dataType:f.termType],c++}if(c===a.length&&(u!=null&&u.func))return u.func;const l=[],d=0;if(a.length===0)return this.implementation;for(l.push(...this.getSubTreeWithArg(a[d],s).map(f=>({node:f,index:d+1})));l.length>0;){const{index:f,node:h}=l.pop();if(f===a.length&&h.implementation)return this.addToCache(o,a,h.implementation),h.implementation;l.push(...h.getSubTreeWithArg(a[f],s).map(p=>({node:p,index:f+1})))}}addToCache(a,s,o){function u(l,d){return d in l||(l[d]={}),l[d]}let c=u(a,this.identifier);for(const l of s){const d=(0,t.isLiteralTermExpression)(l),f=d?d.dataType:l.termType;c.cache=c.cache||{},c=u(c.cache,f)}c.func=o}addOverload(a,s){this._addOverload([...a],s,0)}_addOverload(a,s,o){var d;const[u,...c]=a;if(!u){(this.promotionCount===void 0||o<=this.promotionCount)&&(this.promotionCount=o,this.implementation=s);return}let l=this.getSubtree(u);if(!l){const f=new $O(this.identifier,this.depth+1),h=(0,e.asGeneralType)(u);h&&(this.generalOverloads[h]=f);const p=(0,e.asOverrideType)(u);p&&this.literalOverLoads.push([p,f]),l=f}l._addOverload(c,s,o),(d=e.typePromotion[u])==null||d.forEach(f=>this.addPromotedOverload(f.typeToPromote,s,f.conversionFunction,c,o))}addPromotedOverload(a,s,o,u,c){let l=this.getSubtree(a);if(!l){const d=new $O(this.identifier,this.depth+1);this.literalOverLoads.push([a,d]),l=d}l._addOverload(u,d=>f=>s(d)([...f.slice(0,this.depth),o(f[this.depth]),...f.slice(this.depth+1,f.length)]),c+1)}getSubTreeWithArg(a,s){const o=[],u=(0,t.isLiteralTermExpression)(a);if(this.generalOverloads.term&&o.push(this.generalOverloads.term),this.generalOverloads[a.termType]&&o.push(this.generalOverloads[a.termType]),u){const c=(0,e.asKnownLiteralType)(u.dataType);let l;c?l=e.superTypeDictTable[c]:l=(0,e.getSuperTypes)(u.dataType,s);const d=this.literalOverLoads.filter(([f,h])=>f in l).map(([f,h])=>[l[f],h]);d.sort(([f,h],[p,y])=>f-p),o.push(...d.map(([f,h])=>h))}return o}};return fh.OverloadTree=r,fh}var G4;function io(){if(G4)return Tr;G4=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.expressionToVar=Tr.dateTime=Tr.langString=Tr.string=Tr.double=Tr.float=Tr.decimal=Tr.integer=Tr.bool=Tr.Builder=Tr.declare=void 0;const t=ft,e=oa(),r=oa(),n=ii,a=ii,s=Ke,o=B7(),u=new t.DataFactory;function c(A){return new l(A)}Tr.declare=c;class l{constructor(T){this.overloadTree=new o.OverloadTree(T),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(T){return I=>D=>(D.forEach((U,H)=>{if(U instanceof r.NonLexicalLiteral)throw new s.InvalidLexicalForm(D[H].toRDF())}),T(I)(D))}set(T,I,D=!0){return this.overloadTree.addOverload(T,D?l.wrapInvalidLexicalProtected(I):I),this}copy({from:T,to:I}){const D=this.overloadTree.getImplementationExact(T);if(!D)throw new s.UnexpectedError("Tried to copy implementation, but types not found",{from:T,to:I});return this.set(I,D)}onUnary(T,I,D=!0){return this.set([T],U=>([H])=>I(U)(H),D)}onUnaryTyped(T,I,D=!0){return this.set([T],U=>([H])=>I(U)(H.typedValue),D)}onBinary(T,I,D=!0){return this.set(T,U=>([H,N])=>I(U)(H,N),D)}onBinaryTyped(T,I,D=!0){return this.set(T,U=>([H,N])=>I(U)(H.typedValue,N.typedValue),D)}onTernaryTyped(T,I,D=!0){return this.set(T,U=>([H,N,R])=>I(U)(H.typedValue,N.typedValue,R.typedValue),D)}onTernary(T,I,D=!0){return this.set(T,U=>([H,N,R])=>I(U)(H,N,R),D)}onQuaternaryTyped(T,I,D=!0){return this.set(T,U=>([H,N,R,F])=>I(U)(H.typedValue,N.typedValue,R.typedValue,F.typedValue),D)}onTerm1(T,I=!1){return this.set(["term"],D=>([U])=>T(D)(U),I)}onTerm3(T){return this.set(["term","term","term"],I=>([D,U,H])=>T(I)(D,U,H))}onQuad1(T){return this.set(["quad"],I=>([D])=>T(I)(D))}onLiteral1(T,I=!0){return this.set(["literal"],D=>([U])=>T(D)(U),I)}onBoolean1(T,I=!0){return this.set([n.TypeURL.XSD_BOOLEAN],D=>([U])=>T(D)(U),I)}onBoolean1Typed(T,I=!0){return this.set([n.TypeURL.XSD_BOOLEAN],D=>([U])=>T(D)(U.typedValue),I)}onString1(T,I=!0){return this.set([n.TypeURL.XSD_STRING],D=>([U])=>T(D)(U),I)}onString1Typed(T,I=!0){return this.set([n.TypeURL.XSD_STRING],D=>([U])=>T(D)(U.typedValue),I)}onLangString1(T,I=!0){return this.set([n.TypeURL.RDF_LANG_STRING],D=>([U])=>T(D)(U),I)}onStringly1(T,I=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],D=>([U])=>T(D)(U),I)}onStringly1Typed(T,I=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],D=>([U])=>T(D)(U.typedValue),I)}onNumeric1(T,I=!0){return this.set([n.TypeAlias.SPARQL_NUMERIC],D=>([U])=>T(D)(U),I)}onDateTime1(T,I=!0){return this.set([n.TypeURL.XSD_DATE_TIME],D=>([U])=>T(D)(U),I)}numericConverter(T,I=!0){const D=U=>H=>T(U)(H.typedValue);return this.onBinary([a.TypeURL.XSD_INTEGER],U=>H=>f(D(U)(H)),I).onBinary([a.TypeURL.XSD_DECIMAL],U=>H=>h(D(U)(H)),I).onBinary([a.TypeURL.XSD_FLOAT],U=>H=>p(D(U)(H)),I).onBinary([a.TypeURL.XSD_DOUBLE],U=>H=>y(D(U)(H)),I)}arithmetic(T,I=!0){const D=U=>(H,N)=>T(U)(H.typedValue,N.typedValue);return this.onBinary([a.TypeURL.XSD_INTEGER,a.TypeURL.XSD_INTEGER],U=>(H,N)=>f(D(U)(H,N)),I).onBinary([a.TypeURL.XSD_DECIMAL,a.TypeURL.XSD_DECIMAL],U=>(H,N)=>h(D(U)(H,N)),I).onBinary([a.TypeURL.XSD_FLOAT,a.TypeURL.XSD_FLOAT],U=>(H,N)=>p(D(U)(H,N)),I).onBinary([a.TypeURL.XSD_DOUBLE,a.TypeURL.XSD_DOUBLE],U=>(H,N)=>y(D(U)(H,N)),I)}numberTest(T){return this.numeric(I=>([D,U])=>{const H=T(I)(D.typedValue,U.typedValue);return d(H)})}stringTest(T,I=!0){return this.set([n.TypeURL.XSD_STRING,n.TypeURL.XSD_STRING],D=>([U,H])=>{const N=T(D)(U.typedValue,H.typedValue);return d(N)},I)}booleanTest(T,I=!0){return this.set([n.TypeURL.XSD_BOOLEAN,n.TypeURL.XSD_BOOLEAN],D=>([U,H])=>{const N=T(D)(U.typedValue,H.typedValue);return d(N)},I)}dateTimeTest(T,I=!0){return this.set([n.TypeURL.XSD_DATE_TIME,n.TypeURL.XSD_DATE_TIME],D=>([U,H])=>{const N=T(D)(U.typedValue,H.typedValue);return d(N)},I)}numeric(T){return this.set([n.TypeAlias.SPARQL_NUMERIC,n.TypeAlias.SPARQL_NUMERIC],T)}}Tr.Builder=l;function d(A){return new e.BooleanLiteral(A)}Tr.bool=d;function f(A){return new e.IntegerLiteral(A)}Tr.integer=f;function h(A){return new e.DecimalLiteral(A)}Tr.decimal=h;function p(A){return new e.FloatLiteral(A)}Tr.float=p;function y(A){return new e.DoubleLiteral(A)}Tr.double=y;function _(A){return new e.StringLiteral(A)}Tr.string=_;function E(A,T){return new e.LangStringLiteral(A,T)}Tr.langString=E;function w(A,T){return new e.DateTimeLiteral(A,T)}Tr.dateTime=w;function O(A){return u.variable(A.name.slice(1))}return Tr.expressionToVar=O,Tr}var z4;function v2(){return z4||(z4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.typePromotion=t.isSubTypeOf=t.getSuperTypeDict=t.isInternalSubType=t.asGeneralType=t.asOverrideType=t.asKnownLiteralType=t.asTypeAlias=t.typeAliasCheck=t.extensionTableInit=t.getSuperTypes=t.superTypeDictTable=t.extensionTableInput=void 0;const e=oa(),r=io(),n=ii;t.extensionTableInput={[n.TypeURL.XSD_DATE_TIME_STAMP]:n.TypeURL.XSD_DATE_TIME,[n.TypeURL.XSD_DAY_TIME_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.XSD_YEAR_MONTH_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.RDF_LANG_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_NORMALIZED_STRING]:n.TypeURL.XSD_STRING,[n.TypeURL.XSD_TOKEN]:n.TypeURL.XSD_NORMALIZED_STRING,[n.TypeURL.XSD_LANGUAGE]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NM_TOKEN]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NAME]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NC_NAME]:n.TypeURL.XSD_NAME,[n.TypeURL.XSD_ENTITY]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID_REF]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_DOUBLE]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_FLOAT]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_DECIMAL]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_INTEGER]:n.TypeURL.XSD_DECIMAL,[n.TypeURL.XSD_NON_POSITIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_NEGATIVE_INTEGER]:n.TypeURL.XSD_NON_POSITIVE_INTEGER,[n.TypeURL.XSD_LONG]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_INT]:n.TypeURL.XSD_LONG,[n.TypeURL.XSD_SHORT]:n.TypeURL.XSD_INT,[n.TypeURL.XSD_BYTE]:n.TypeURL.XSD_SHORT,[n.TypeURL.XSD_NON_NEGATIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_POSITIVE_INTEGER]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_LONG]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_INT]:n.TypeURL.XSD_UNSIGNED_LONG,[n.TypeURL.XSD_UNSIGNED_SHORT]:n.TypeURL.XSD_UNSIGNED_INT,[n.TypeURL.XSD_UNSIGNED_BYTE]:n.TypeURL.XSD_UNSIGNED_SHORT,[n.TypeURL.XSD_DATE_TIME]:"term",[n.TypeURL.XSD_BOOLEAN]:"term",[n.TypeURL.XSD_DATE]:"term",[n.TypeURL.XSD_G_MONTH]:"term",[n.TypeURL.XSD_G_MONTHDAY]:"term",[n.TypeURL.XSD_G_YEAR]:"term",[n.TypeURL.XSD_G_YEAR_MONTH]:"term",[n.TypeURL.XSD_TIME]:"term",[n.TypeURL.XSD_G_DAY]:"term",[n.TypeURL.XSD_DURATION]:"term",[n.TypeAlias.SPARQL_NUMERIC]:"term",[n.TypeAlias.SPARQL_STRINGLY]:"term",[n.TypeURL.XSD_ANY_URI]:"term"},t.superTypeDictTable=Object.create(null);function a(_,E){const w=E.cache.get(_);if(w)return w;const O=E.discoverer(_);if(O==="term"){const I=Object.create(null);return I.__depth=0,I[_]=0,E.cache.set(_,I),I}let A;const T=l(O);return T?A={...t.superTypeDictTable[T]}:A={...a(O,E)},A.__depth++,A[_]=A.__depth,E.cache.set(_,A),A}t.getSuperTypes=a;function s(){for(const[_,E]of Object.entries(t.extensionTableInput)){const w=_;t.superTypeDictTable[w]||o(w,E,t.superTypeDictTable)}}t.extensionTableInit=s,s();function o(_,E,w){if(E==="term"||E===void 0){const O=Object.create(null);O.__depth=0,O[_]=0,w[_]=O;return}w[E]||o(E,t.extensionTableInput[E],w),w[_]={...w[E],[_]:w[E].__depth+1,__depth:w[E].__depth+1}}t.typeAliasCheck=Object.create(null);function u(){for(const _ of Object.values(n.TypeAlias))t.typeAliasCheck[_]=!0}u();function c(_){if(_ in t.typeAliasCheck)return _}t.asTypeAlias=c;function l(_){if(_ in t.superTypeDictTable)return _}t.asKnownLiteralType=l;function d(_){if(l(_)||_==="term")return _}t.asOverrideType=d;function f(_){if(_==="term"||(0,e.asTermType)(_))return _}t.asGeneralType=f;function h(_,E){return _!=="term"&&t.superTypeDictTable[_]&&t.superTypeDictTable[_][E]!==void 0}t.isInternalSubType=h;function p(_,E){const w=l(_);return w?t.superTypeDictTable[w]:a(_,E)}t.getSuperTypeDict=p;function y(_,E,w){return _==="term"?!1:p(_,w)[E]!==void 0}t.isSubTypeOf=y,t.typePromotion={[n.TypeURL.XSD_STRING]:[{typeToPromote:n.TypeURL.XSD_ANY_URI,conversionFunction:_=>(0,r.string)(_.str())}],[n.TypeURL.XSD_DOUBLE]:[{typeToPromote:n.TypeURL.XSD_FLOAT,conversionFunction:_=>(0,r.double)(_.typedValue)},{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:_=>(0,r.double)(_.typedValue)}],[n.TypeURL.XSD_FLOAT]:[{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:_=>(0,r.float)(_.typedValue)}]}}(GT)),GT}var W4;function Dl(){if(W4)return dh;W4=1,Object.defineProperty(dh,"__esModule",{value:!0}),dh.TermTransformer=void 0;const t=nr,e=vt,r=oa(),n=ii,a=Ke,s=Ke,o=zr,u=zr,c=v2();let l=class{constructor(f){this.superTypeProvider=f}transformRDFTermUnsafe(f){return this.transformTerm({term:f,type:e.Algebra.types.EXPRESSION,expressionType:e.Algebra.expressionTypes.TERM})}transformTerm(f){if(!f.term)throw new a.InvalidExpression(f);switch(f.term.termType){case"Variable":return new r.Variable(t.termToString(f.term));case"Literal":return this.transformLiteral(f.term);case"NamedNode":return new r.NamedNode(f.term.value);case"BlankNode":return new r.BlankNode(f.term.value);case"Quad":return new r.Quad(f.term,this.superTypeProvider);default:throw new a.InvalidTermType(f)}}transformLiteral(f){if(!f.datatype||[null,void 0,""].includes(f.datatype.value))return f.language?new r.LangStringLiteral(f.value,f.language):new r.StringLiteral(f.value);const h=f.datatype.value,p=(0,c.getSuperTypeDict)(h,this.superTypeProvider);try{if(n.TypeURL.XSD_STRING in p)return new r.StringLiteral(f.value,h);if(n.TypeURL.RDF_LANG_STRING in p)return new r.LangStringLiteral(f.value,f.language);if(n.TypeURL.XSD_YEAR_MONTH_DURATION in p)return new r.YearMonthDurationLiteral((0,o.parseYearMonthDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DAY_TIME_DURATION in p)return new r.DayTimeDurationLiteral((0,o.parseDayTimeDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DURATION in p)return new r.DurationLiteral((0,o.parseDuration)(f.value),f.value,h);if(n.TypeURL.XSD_DATE_TIME in p){const E=new Date(f.value);return Number.isNaN(E.getTime())?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new r.DateTimeLiteral((0,o.parseDateTime)(f.value),f.value,h)}if(n.TypeURL.XSD_DATE in p)return new r.DateLiteral((0,o.parseDate)(f.value),f.value,h);if(n.TypeURL.XSD_TIME in p)return new r.TimeLiteral((0,o.parseTime)(f.value),f.value,h);if(n.TypeURL.XSD_BOOLEAN in p)return f.value!=="true"&&f.value!=="false"&&f.value!=="1"&&f.value!=="0"?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):new r.BooleanLiteral(f.value==="true"||f.value==="1",f.value);if(n.TypeURL.XSD_DECIMAL in p){const E=u.parseXSDDecimal(f.value);return E===void 0?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):n.TypeURL.XSD_INTEGER in p?new r.IntegerLiteral(E,h,f.value):new r.DecimalLiteral(E,h,f.value)}const y=n.TypeURL.XSD_FLOAT in p,_=n.TypeURL.XSD_DOUBLE in p;if(y||_){const E=u.parseXSDFloat(f.value);return E===void 0?new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value):y?new r.FloatLiteral(E,h,f.value):new r.DoubleLiteral(E,h,f.value)}return new r.Literal(f.value,h,f.value)}catch(y){if(y instanceof Error&&(0,s.isExpressionError)(y))return new r.NonLexicalLiteral(void 0,h,this.superTypeProvider,f.value);throw y}}};return dh.TermTransformer=l,dh}var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.serializeDuration=Fs.serializeTime=Fs.serializeDate=Fs.serializeDateTime=void 0;function qo(t,e=2){return t.toLocaleString(void 0,{minimumIntegerDigits:e,useGrouping:!1})}function pfe(t){return`${U7({year:t.year,month:t.month,day:t.day})}T${q7(t)}`}Fs.serializeDateTime=pfe;function $7(t){return t.zoneHours===void 0||t.zoneMinutes===void 0?"":t.zoneHours===0&&t.zoneMinutes===0?"Z":`${t.zoneHours>=0?`+${qo(t.zoneHours)}`:qo(t.zoneHours)}:${qo(Math.abs(t.zoneMinutes))}`}function U7(t){return`${qo(t.year,4)}-${qo(t.month)}-${qo(t.day)}${$7(t)}`}Fs.serializeDate=U7;function q7(t){return`${qo(t.hours)}:${qo(t.minutes)}:${qo(t.seconds)}${$7(t)}`}Fs.serializeTime=q7;function yfe(t,e="PT0S"){if(!Object.values(t).some(d=>(d||0)!==0))return e;const r=Object.values(t).some(d=>(d||0)<0)?"-":"",n=t.year?`${Math.abs(t.year)}Y`:"",a=t.month?`${Math.abs(t.month)}M`:"",s=t.day?`${Math.abs(t.day)}D`:"",o=`${r}P${n}${a}${s}`;if(!(t.hours||t.minutes||t.seconds))return o;const u=t.hours?`${Math.abs(t.hours)}H`:"",c=t.minutes?`${Math.abs(t.minutes)}M`:"",l=t.seconds?`${Math.abs(t.seconds)}S`:"";return`${o}T${u}${c}${l}`}Fs.serializeDuration=yfe;var X4;function bfe(){if(X4)return ht;X4=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.isNonLexicalLiteral=ht.NonLexicalLiteral=ht.YearMonthDurationLiteral=ht.DayTimeDurationLiteral=ht.DurationLiteral=ht.DateLiteral=ht.TimeLiteral=ht.DateTimeLiteral=ht.StringLiteral=ht.LangStringLiteral=ht.BooleanLiteral=ht.DoubleLiteral=ht.FloatLiteral=ht.DecimalLiteral=ht.IntegerLiteral=ht.NumericLiteral=ht.Literal=ht.isLiteralTermExpression=ht.Quad=ht.BlankNode=ht.NamedNode=ht.Term=void 0;const t=ft,e=Dl(),r=ii,n=ii,a=Ke,s=Fs,o=v2(),u=Ri,c=new t.DataFactory;let l=class{constructor(){this.expressionType=u.ExpressionType.Term}str(){throw new a.InvalidArgumentTypes([this],r.RegularOperator.STR)}coerceEBV(){throw new a.EBVCoercionError(this)}};ht.Term=l;class d extends l{constructor(Q){super(),this.value=Q,this.termType="namedNode"}toRDF(){return c.namedNode(this.value)}str(){return this.value}}ht.NamedNode=d;class f extends l{constructor(Q){super(),this.termType="blankNode",this.value=typeof Q=="string"?c.blankNode(Q):Q}toRDF(){return this.value}}ht.BlankNode=f;class h extends l{constructor(Q,se){super(),this.termType="quad",this.transformer=new e.TermTransformer(se),this.valueTerm=Q}toRDF(){return this.valueTerm}get subject(){return this.transformer.transformRDFTermUnsafe(this.RDFsubject)}get predicate(){return this.transformer.transformRDFTermUnsafe(this.RDFpredicate)}get object(){return this.transformer.transformRDFTermUnsafe(this.RDFobject)}get RDFsubject(){return this.toRDF().subject}get RDFpredicate(){return this.toRDF().predicate}get RDFobject(){return this.toRDF().object}}ht.Quad=h;function p(C){if(C.termType==="literal")return C}ht.isLiteralTermExpression=p;class y extends l{constructor(Q,se,ie,be){super(),this.typedValue=Q,this.dataType=se,this.strValue=ie,this.language=be,this.termType="literal"}toRDF(){return c.literal(this.strValue||this.str(),this.language||c.namedNode(this.dataType))}str(){return this.strValue||this.typedValue.toString()}}ht.Literal=y;class _ extends y{constructor(Q,se,ie,be){super(Q,se,ie,be),this.typedValue=Q,this.strValue=ie,this.language=be}coerceEBV(){return!!this.typedValue}toRDF(){const Q=super.toRDF();return Number.isFinite(this.typedValue)||(Q.value=Q.value.replace("Infinity","INF")),Q}str(){return this.strValue||this.specificFormatter(this.typedValue)}}ht.NumericLiteral=_;class E extends _{constructor(Q,se,ie,be){super(Q,se||n.TypeURL.XSD_INTEGER,ie,be),this.typedValue=Q,this.strValue=ie,this.language=be}specificFormatter(Q){return Q.toFixed(0)}}ht.IntegerLiteral=E;class w extends _{constructor(Q,se,ie,be){super(Q,se||n.TypeURL.XSD_DECIMAL,ie,be),this.typedValue=Q,this.strValue=ie,this.language=be}specificFormatter(Q){return Q.toString()}}ht.DecimalLiteral=w;class O extends _{constructor(Q,se,ie,be){super(Q,se||n.TypeURL.XSD_FLOAT,ie,be),this.typedValue=Q,this.strValue=ie,this.language=be}specificFormatter(Q){return Q.toString()}}ht.FloatLiteral=O;class A extends _{constructor(Q,se,ie,be){super(Q,se||n.TypeURL.XSD_DOUBLE,ie,be),this.typedValue=Q,this.strValue=ie,this.language=be}specificFormatter(Q){if(!Number.isFinite(Q))return Q>0?"INF":Q<0?"-INF":"NaN";const se=Q.toExponential(),[ie,be]=se.split("e"),he=be.replace(/\+/u,"");return`${ie.includes(".")?ie:`${ie}.0`}E${he}`}}ht.DoubleLiteral=A;class T extends y{constructor(Q,se,ie){super(Q,ie||n.TypeURL.XSD_BOOLEAN,se),this.typedValue=Q,this.strValue=se}coerceEBV(){return this.typedValue}}ht.BooleanLiteral=T;class I extends y{constructor(Q,se,ie){super(Q,ie||n.TypeURL.RDF_LANG_STRING,Q,se),this.typedValue=Q,this.language=se}coerceEBV(){return this.str().length>0}}ht.LangStringLiteral=I;class D extends y{constructor(Q,se){super(Q,se||n.TypeURL.XSD_STRING,Q),this.typedValue=Q}coerceEBV(){return this.str().length>0}}ht.StringLiteral=D;class U extends y{constructor(Q,se,ie){super(Q,ie||n.TypeURL.XSD_DATE_TIME,se),this.typedValue=Q,this.strValue=se}str(){return(0,s.serializeDateTime)(this.typedValue)}}ht.DateTimeLiteral=U;class H extends y{constructor(Q,se,ie){super(Q,ie||n.TypeURL.XSD_TIME,se),this.typedValue=Q,this.strValue=se}str(){return(0,s.serializeTime)(this.typedValue)}}ht.TimeLiteral=H;class N extends y{constructor(Q,se,ie){super(Q,ie||n.TypeURL.XSD_DATE,se),this.typedValue=Q,this.strValue=se}str(){return(0,s.serializeDate)(this.typedValue)}}ht.DateLiteral=N;class R extends y{constructor(Q,se,ie){super(Q,ie||n.TypeURL.XSD_DURATION,se),this.typedValue=Q,this.strValue=se}str(){return(0,s.serializeDuration)(this.typedValue)}}ht.DurationLiteral=R;class F extends R{constructor(Q,se,ie){super(Q,se,ie||n.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=Q,this.strValue=se}}ht.DayTimeDurationLiteral=F;class X extends y{constructor(Q,se,ie){super(Q,ie||n.TypeURL.XSD_YEAR_MONTH_DURATION,se),this.typedValue=Q,this.strValue=se}str(){return(0,s.serializeDuration)(this.typedValue,"P0M")}}ht.YearMonthDurationLiteral=X;class ne extends y{constructor(Q,se,ie,be,he){super({toString:()=>"undefined"},se,be,he),this.openWorldType=ie}coerceEBV(){if((0,o.isSubTypeOf)(this.dataType,n.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,o.isSubTypeOf)(this.dataType,n.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new a.EBVCoercionError(this)}toRDF(){return c.literal(this.str(),this.language||c.namedNode(this.dataType))}str(){return this.strValue||""}}ht.NonLexicalLiteral=ne;function $(C){if(C instanceof ne)return C}return ht.isNonLexicalLiteral=$,ht}var w2={};Object.defineProperty(w2,"__esModule",{value:!0});w2.Operator=void 0;const _fe=Ri;class gfe{constructor(e,r){this.args=e,this.apply=r,this.expressionType=_fe.ExpressionType.Operator}}w2.Operator=gfe;var S2={};Object.defineProperty(S2,"__esModule",{value:!0});S2.SpecialOperator=void 0;const mfe=Ri;class vfe{constructor(e,r,n){this.args=e,this.applyAsync=r,this.applySynchronously=n,this.expressionType=mfe.ExpressionType.SpecialOperator}}S2.SpecialOperator=vfe;var T2={};Object.defineProperty(T2,"__esModule",{value:!0});T2.Named=void 0;const wfe=Ri;class Sfe{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=wfe.ExpressionType.Named}}T2.Named=Sfe;var E2={};Object.defineProperty(E2,"__esModule",{value:!0});E2.Aggregate=void 0;const Tfe=Ri;class Efe{constructor(e,r){this.name=e,this.expression=r,this.expressionType=Tfe.ExpressionType.Aggregate}}E2.Aggregate=Efe;var O2={};Object.defineProperty(O2,"__esModule",{value:!0});O2.Existence=void 0;const Ofe=Ri;class Afe{constructor(e){this.expression=e,this.expressionType=Ofe.ExpressionType.Existence}}O2.Existence=Afe;var A2={};Object.defineProperty(A2,"__esModule",{value:!0});A2.AsyncExtension=void 0;const xfe=Ri;class Rfe{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=xfe.ExpressionType.AsyncExtension}}A2.AsyncExtension=Rfe;var x2={};Object.defineProperty(x2,"__esModule",{value:!0});x2.SyncExtension=void 0;const Ife=Ri;class Pfe{constructor(e,r,n){this.name=e,this.args=r,this.apply=n,this.expressionType=Ife.ExpressionType.SyncExtension}}x2.SyncExtension=Pfe;var K4;function oa(){return K4||(K4=1,function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ri,t),r(m2,t),r(bfe(),t),r(w2,t),r(S2,t),r(T2,t),r(E2,t),r(O2,t),r(A2,t),r(x2,t)}(QT)),QT}var zT={},wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.SpecialFunction=wa.NamedFunction=wa.RegularFunction=wa.BaseFunction=void 0;const V7=Ke;class vR{constructor(e,r){this.operator=e,this.apply=(n,a)=>(this.monomorph(n,a.superTypeProvider,a.functionArgumentsCache)||this.handleInvalidTypes(n))(a)(n),this.arity=r.arity,this.overloads=r.overloads}monomorph(e,r,n){return this.overloads.search(e,r,n)}}wa.BaseFunction=vR;class Dfe extends vR{constructor(e,r){super(e,r),this.functionClass="regular"}handleInvalidTypes(e){throw new V7.InvalidArgumentTypes(e,this.operator)}}wa.RegularFunction=Dfe;class Nfe extends vR{constructor(e,r){super(e,r),this.functionClass="named"}handleInvalidTypes(e){throw new V7.InvalidArgumentTypes(e,this.operator)}}wa.NamedFunction=Nfe;class jfe{constructor(e,r){this.operator=e,this.functionClass="special",this.arity=r.arity,this.applySynchronously=r.applySynchronously,this.applyAsync=r.applyAsync,this.checkArity=r.checkArity||Cfe(this.arity)}}wa.SpecialFunction=jfe;function Cfe(t){return e=>t===Number.POSITIVE_INFINITY?!0:e.length===t}var R2={};Object.defineProperty(R2,"__esModule",{value:!0});R2.namedDefinitions=void 0;const Sa=oa(),Mfe=oa(),bt=ii,H7=Ct,fl=Ke,Ea=zr,Ft=io(),Ffe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_STRING).onNumeric1(()=>t=>(0,Ft.string)((0,Ft.float)(t.typedValue).str())).onBoolean1Typed(()=>t=>(0,Ft.string)((0,Ft.bool)(t).str())).onTerm1(()=>t=>(0,Ft.string)(t.str())).collect()},Lfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_FLOAT).onNumeric1(()=>t=>(0,Ft.float)(t.typedValue)).onBoolean1Typed(()=>t=>(0,Ft.float)(t?1:0)).onUnary(bt.TypeURL.XSD_STRING,()=>t=>{const e=(0,Ea.parseXSDFloat)(t.str());if(e===void 0)throw new fl.CastError(t,bt.TypeURL.XSD_FLOAT);return(0,Ft.float)(e)},!1).collect()},Bfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_DOUBLE).onNumeric1(()=>t=>(0,Ft.double)(t.typedValue)).onBoolean1Typed(()=>t=>(0,Ft.double)(t?1:0)).onUnary(bt.TypeURL.XSD_STRING,()=>t=>{const e=(0,Ea.parseXSDFloat)(t.str());if(e===void 0)throw new fl.CastError(t,bt.TypeURL.XSD_DOUBLE);return(0,Ft.double)(e)},!1).collect()},$fe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_DECIMAL).onNumeric1(()=>t=>{const e=(0,Ea.parseXSDDecimal)(t.str());if(e===void 0)throw new fl.CastError(t,bt.TypeURL.XSD_DECIMAL);return(0,Ft.decimal)(e)}).onString1(()=>t=>{const e=t.str(),r=/^([+-])?(\d+(\.\d+)?)$/u.test(e)?(0,Ea.parseXSDDecimal)(e):void 0;if(r===void 0)throw new fl.CastError(t,bt.TypeURL.XSD_DECIMAL);return(0,Ft.decimal)(r)},!1).onBoolean1Typed(()=>t=>(0,Ft.decimal)(t?1:0)).collect()},Ufe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>t=>(0,Ft.integer)(t?1:0)).onNumeric1(()=>t=>{const e=(0,Ea.parseXSDInteger)(t.str());if(e===void 0)throw new fl.CastError(t,bt.TypeURL.XSD_INTEGER);return(0,Ft.integer)(e)},!1).onString1(()=>t=>{const e=t.str(),r=/^\d+$/u.test(e)?(0,Ea.parseXSDInteger)(e):void 0;if(r===void 0)throw new fl.CastError(t,bt.TypeURL.XSD_INTEGER);return(0,Ft.integer)(r)}).collect()},qfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_DATE_TIME).onUnary(bt.TypeURL.XSD_DATE_TIME,()=>t=>t).onUnary(bt.TypeURL.XSD_STRING,()=>t=>(0,Ft.dateTime)((0,Ea.parseDateTime)(t.str()),t.str()),!1).onUnary(bt.TypeURL.XSD_DATE,()=>t=>new Sa.DateTimeLiteral({...t.typedValue,hours:0,minutes:0,seconds:0})).collect()},Vfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_BOOLEAN).onNumeric1(()=>t=>(0,Ft.bool)(t.coerceEBV()),!0).onUnary(bt.TypeURL.XSD_BOOLEAN,()=>t=>(0,Ft.bool)(t.coerceEBV()),!0).onUnary(bt.TypeURL.XSD_STRING,()=>t=>{switch(t.str()){case"true":return(0,Ft.bool)(!0);case"false":return(0,Ft.bool)(!1);case"1":return(0,Ft.bool)(!0);case"0":return(0,Ft.bool)(!1);default:throw new fl.CastError(t,bt.TypeURL.XSD_BOOLEAN)}},!1).collect()},Hfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_TIME).onUnary(bt.TypeURL.XSD_TIME,()=>t=>new Sa.TimeLiteral(t.typedValue,t.strValue)).onUnary(bt.TypeURL.XSD_DATE_TIME,()=>t=>new Sa.TimeLiteral(t.typedValue)).onStringly1(()=>t=>new Sa.TimeLiteral((0,Ea.parseTime)(t.str()))).collect()},kfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_DATE).onUnary(bt.TypeURL.XSD_DATE,()=>t=>new Sa.DateLiteral(t.typedValue,t.strValue)).onUnary(bt.TypeURL.XSD_DATE_TIME,()=>t=>new Sa.DateLiteral(t.typedValue)).onStringly1(()=>t=>new Sa.DateLiteral((0,Ea.parseDate)(t.str()))).collect()},Qfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_DURATION).onUnary(bt.TypeURL.XSD_DURATION,()=>t=>new Sa.DurationLiteral(t.typedValue,t.strValue)).onStringly1(()=>t=>new Mfe.DurationLiteral((0,Ea.parseDuration)(t.str()))).collect()},Gfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_DAY_TIME_DURATION).onUnary(bt.TypeURL.XSD_DURATION,()=>t=>new Sa.DayTimeDurationLiteral((0,H7.trimToDayTimeDuration)(t.typedValue))).onStringly1(()=>t=>new Sa.DayTimeDurationLiteral((0,Ea.parseDayTimeDuration)(t.str()))).collect()},zfe={arity:1,overloads:(0,Ft.declare)(bt.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(bt.TypeURL.XSD_DURATION,()=>t=>new Sa.YearMonthDurationLiteral((0,H7.trimToYearMonthDuration)(t.typedValue))).onStringly1(()=>t=>new Sa.YearMonthDurationLiteral((0,Ea.parseYearMonthDuration)(t.str()))).collect()};R2.namedDefinitions={[bt.TypeURL.XSD_STRING]:Ffe,[bt.TypeURL.XSD_FLOAT]:Lfe,[bt.TypeURL.XSD_DOUBLE]:Bfe,[bt.TypeURL.XSD_DECIMAL]:$fe,[bt.TypeURL.XSD_INTEGER]:Ufe,[bt.TypeURL.XSD_DATE_TIME]:qfe,[bt.TypeURL.XSD_DATE]:kfe,[bt.TypeURL.XSD_BOOLEAN]:Vfe,[bt.TypeURL.XSD_TIME]:Hfe,[bt.TypeURL.XSD_DURATION]:Qfe,[bt.TypeURL.XSD_DAY_TIME_DURATION]:Gfe,[bt.TypeURL.XSD_YEAR_MONTH_DURATION]:zfe};var hh={},k7={exports:{}};(function(t){(function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,s=Math.floor,o="[BigNumber Error] ",u=o+"Number primitive has more than 15 significant digits: ",c=1e14,l=14,d=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,p=1e9;function y(D){var U,H,N,R=ce.prototype={constructor:ce,toString:null,valueOf:null},F=new ce(1),X=20,ne=4,$=-7,C=21,Q=-1e7,se=1e7,ie=!1,be=1,he=0,Te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ne="0123456789abcdefghijklmnopqrstuvwxyz",ye=!0;function ce(L,P){var m,b,v,j,V,q,G,Y,ee=this;if(!(ee instanceof ce))return new ce(L,P);if(P==null){if(L&&L._isBigNumber===!0){ee.s=L.s,!L.c||L.e>se?ee.c=ee.e=null:L.e<Q?ee.c=[ee.e=0]:(ee.e=L.e,ee.c=L.c.slice());return}if((q=typeof L=="number")&&L*0==0){if(ee.s=1/L<0?(L=-L,-1):1,L===~~L){for(j=0,V=L;V>=10;V/=10,j++);j>se?ee.c=ee.e=null:(ee.e=j,ee.c=[L]);return}Y=String(L)}else{if(!n.test(Y=String(L)))return N(ee,Y,q);ee.s=Y.charCodeAt(0)==45?(Y=Y.slice(1),-1):1}(j=Y.indexOf("."))>-1&&(Y=Y.replace(".","")),(V=Y.search(/e/i))>0?(j<0&&(j=V),j+=+Y.slice(V+1),Y=Y.substring(0,V)):j<0&&(j=Y.length)}else{if(O(P,2,Ne.length,"Base"),P==10&&ye)return ee=new ce(L),le(ee,X+ee.e+1,ne);if(Y=String(L),q=typeof L=="number"){if(L*0!=0)return N(ee,Y,q,P);if(ee.s=1/L<0?(Y=Y.slice(1),-1):1,ce.DEBUG&&Y.replace(/^0\.0*|\./,"").length>15)throw Error(u+L)}else ee.s=Y.charCodeAt(0)===45?(Y=Y.slice(1),-1):1;for(m=Ne.slice(0,P),j=V=0,G=Y.length;V<G;V++)if(m.indexOf(b=Y.charAt(V))<0){if(b=="."){if(V>j){j=G;continue}}else if(!v&&(Y==Y.toUpperCase()&&(Y=Y.toLowerCase())||Y==Y.toLowerCase()&&(Y=Y.toUpperCase()))){v=!0,V=-1,j=0;continue}return N(ee,String(L),q,P)}q=!1,Y=H(Y,P,10,ee.s),(j=Y.indexOf("."))>-1?Y=Y.replace(".",""):j=Y.length}for(V=0;Y.charCodeAt(V)===48;V++);for(G=Y.length;Y.charCodeAt(--G)===48;);if(Y=Y.slice(V,++G)){if(G-=V,q&&ce.DEBUG&&G>15&&(L>d||L!==s(L)))throw Error(u+ee.s*L);if((j=j-V-1)>se)ee.c=ee.e=null;else if(j<Q)ee.c=[ee.e=0];else{if(ee.e=j,ee.c=[],V=(j+1)%l,j<0&&(V+=l),V<G){for(V&&ee.c.push(+Y.slice(0,V)),G-=l;V<G;)ee.c.push(+Y.slice(V,V+=l));V=l-(Y=Y.slice(V)).length}else V-=G;for(;V--;Y+="0");ee.c.push(+Y)}}else ee.c=[ee.e=0]}ce.clone=y,ce.ROUND_UP=0,ce.ROUND_DOWN=1,ce.ROUND_CEIL=2,ce.ROUND_FLOOR=3,ce.ROUND_HALF_UP=4,ce.ROUND_HALF_DOWN=5,ce.ROUND_HALF_EVEN=6,ce.ROUND_HALF_CEIL=7,ce.ROUND_HALF_FLOOR=8,ce.EUCLID=9,ce.config=ce.set=function(L){var P,m;if(L!=null)if(typeof L=="object"){if(L.hasOwnProperty(P="DECIMAL_PLACES")&&(m=L[P],O(m,0,p,P),X=m),L.hasOwnProperty(P="ROUNDING_MODE")&&(m=L[P],O(m,0,8,P),ne=m),L.hasOwnProperty(P="EXPONENTIAL_AT")&&(m=L[P],m&&m.pop?(O(m[0],-p,0,P),O(m[1],0,p,P),$=m[0],C=m[1]):(O(m,-p,p,P),$=-(C=m<0?-m:m))),L.hasOwnProperty(P="RANGE"))if(m=L[P],m&&m.pop)O(m[0],-p,-1,P),O(m[1],1,p,P),Q=m[0],se=m[1];else if(O(m,-p,p,P),m)Q=-(se=m<0?-m:m);else throw Error(o+P+" cannot be zero: "+m);if(L.hasOwnProperty(P="CRYPTO"))if(m=L[P],m===!!m)if(m)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ie=m;else throw ie=!m,Error(o+"crypto unavailable");else ie=m;else throw Error(o+P+" not true or false: "+m);if(L.hasOwnProperty(P="MODULO_MODE")&&(m=L[P],O(m,0,9,P),be=m),L.hasOwnProperty(P="POW_PRECISION")&&(m=L[P],O(m,0,p,P),he=m),L.hasOwnProperty(P="FORMAT"))if(m=L[P],typeof m=="object")Te=m;else throw Error(o+P+" not an object: "+m);if(L.hasOwnProperty(P="ALPHABET"))if(m=L[P],typeof m=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(m))ye=m.slice(0,10)=="0123456789",Ne=m;else throw Error(o+P+" invalid: "+m)}else throw Error(o+"Object expected: "+L);return{DECIMAL_PLACES:X,ROUNDING_MODE:ne,EXPONENTIAL_AT:[$,C],RANGE:[Q,se],CRYPTO:ie,MODULO_MODE:be,POW_PRECISION:he,FORMAT:Te,ALPHABET:Ne}},ce.isBigNumber=function(L){if(!L||L._isBigNumber!==!0)return!1;if(!ce.DEBUG)return!0;var P,m,b=L.c,v=L.e,j=L.s;e:if({}.toString.call(b)=="[object Array]"){if((j===1||j===-1)&&v>=-p&&v<=p&&v===s(v)){if(b[0]===0){if(v===0&&b.length===1)return!0;break e}if(P=(v+1)%l,P<1&&(P+=l),String(b[0]).length==P){for(P=0;P<b.length;P++)if(m=b[P],m<0||m>=c||m!==s(m))break e;if(m!==0)return!0}}}else if(b===null&&v===null&&(j===null||j===1||j===-1))return!0;throw Error(o+"Invalid BigNumber: "+L)},ce.maximum=ce.max=function(){return oe(arguments,-1)},ce.minimum=ce.min=function(){return oe(arguments,1)},ce.random=function(){var L=9007199254740992,P=Math.random()*L&2097151?function(){return s(Math.random()*L)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(m){var b,v,j,V,q,G=0,Y=[],ee=new ce(F);if(m==null?m=X:O(m,0,p),V=a(m/l),ie)if(crypto.getRandomValues){for(b=crypto.getRandomValues(new Uint32Array(V*=2));G<V;)q=b[G]*131072+(b[G+1]>>>11),q>=9e15?(v=crypto.getRandomValues(new Uint32Array(2)),b[G]=v[0],b[G+1]=v[1]):(Y.push(q%1e14),G+=2);G=V/2}else if(crypto.randomBytes){for(b=crypto.randomBytes(V*=7);G<V;)q=(b[G]&31)*281474976710656+b[G+1]*1099511627776+b[G+2]*4294967296+b[G+3]*16777216+(b[G+4]<<16)+(b[G+5]<<8)+b[G+6],q>=9e15?crypto.randomBytes(7).copy(b,G):(Y.push(q%1e14),G+=7);G=V/7}else throw ie=!1,Error(o+"crypto unavailable");if(!ie)for(;G<V;)q=P(),q<9e15&&(Y[G++]=q%1e14);for(V=Y[--G],m%=l,V&&m&&(q=f[l-m],Y[G]=s(V/q)*q);Y[G]===0;Y.pop(),G--);if(G<0)Y=[j=0];else{for(j=-1;Y[0]===0;Y.splice(0,1),j-=l);for(G=1,q=Y[0];q>=10;q/=10,G++);G<l&&(j-=l-G)}return ee.e=j,ee.c=Y,ee}}(),ce.sum=function(){for(var L=1,P=arguments,m=new ce(P[0]);L<P.length;)m=m.plus(P[L++]);return m},H=function(){var L="0123456789";function P(m,b,v,j){for(var V,q=[0],G,Y=0,ee=m.length;Y<ee;){for(G=q.length;G--;q[G]*=b);for(q[0]+=j.indexOf(m.charAt(Y++)),V=0;V<q.length;V++)q[V]>v-1&&(q[V+1]==null&&(q[V+1]=0),q[V+1]+=q[V]/v|0,q[V]%=v)}return q.reverse()}return function(m,b,v,j,V){var q,G,Y,ee,ae,ve,me,Ee,k=m.indexOf("."),W=X,M=ne;for(k>=0&&(ee=he,he=0,m=m.replace(".",""),Ee=new ce(b),ve=Ee.pow(m.length-k),he=ee,Ee.c=P(I(E(ve.c),ve.e,"0"),10,v,L),Ee.e=Ee.c.length),me=P(m,b,v,V?(q=Ne,L):(q=L,Ne)),Y=ee=me.length;me[--ee]==0;me.pop());if(!me[0])return q.charAt(0);if(k<0?--Y:(ve.c=me,ve.e=Y,ve.s=j,ve=U(ve,Ee,W,M,v),me=ve.c,ae=ve.r,Y=ve.e),G=Y+W+1,k=me[G],ee=v/2,ae=ae||G<0||me[G+1]!=null,ae=M<4?(k!=null||ae)&&(M==0||M==(ve.s<0?3:2)):k>ee||k==ee&&(M==4||ae||M==6&&me[G-1]&1||M==(ve.s<0?8:7)),G<1||!me[0])m=ae?I(q.charAt(1),-W,q.charAt(0)):q.charAt(0);else{if(me.length=G,ae)for(--v;++me[--G]>v;)me[G]=0,G||(++Y,me=[1].concat(me));for(ee=me.length;!me[--ee];);for(k=0,m="";k<=ee;m+=q.charAt(me[k++]));m=I(m,Y,q.charAt(0))}return m}}(),U=function(){function L(b,v,j){var V,q,G,Y,ee=0,ae=b.length,ve=v%h,me=v/h|0;for(b=b.slice();ae--;)G=b[ae]%h,Y=b[ae]/h|0,V=me*G+Y*ve,q=ve*G+V%h*h+ee,ee=(q/j|0)+(V/h|0)+me*Y,b[ae]=q%j;return ee&&(b=[ee].concat(b)),b}function P(b,v,j,V){var q,G;if(j!=V)G=j>V?1:-1;else for(q=G=0;q<j;q++)if(b[q]!=v[q]){G=b[q]>v[q]?1:-1;break}return G}function m(b,v,j,V){for(var q=0;j--;)b[j]-=q,q=b[j]<v[j]?1:0,b[j]=q*V+b[j]-v[j];for(;!b[0]&&b.length>1;b.splice(0,1));}return function(b,v,j,V,q){var G,Y,ee,ae,ve,me,Ee,k,W,M,S,x,z,ue,ge,we,Me,Ue=b.s==v.s?1:-1,Ge=b.c,We=v.c;if(!Ge||!Ge[0]||!We||!We[0])return new ce(!b.s||!v.s||(Ge?We&&Ge[0]==We[0]:!We)?NaN:Ge&&Ge[0]==0||!We?Ue*0:Ue/0);for(k=new ce(Ue),W=k.c=[],Y=b.e-v.e,Ue=j+Y+1,q||(q=c,Y=_(b.e/l)-_(v.e/l),Ue=Ue/l|0),ee=0;We[ee]==(Ge[ee]||0);ee++);if(We[ee]>(Ge[ee]||0)&&Y--,Ue<0)W.push(1),ae=!0;else{for(ue=Ge.length,we=We.length,ee=0,Ue+=2,ve=s(q/(We[0]+1)),ve>1&&(We=L(We,ve,q),Ge=L(Ge,ve,q),we=We.length,ue=Ge.length),z=we,M=Ge.slice(0,we),S=M.length;S<we;M[S++]=0);Me=We.slice(),Me=[0].concat(Me),ge=We[0],We[1]>=q/2&&ge++;do{if(ve=0,G=P(We,M,we,S),G<0){if(x=M[0],we!=S&&(x=x*q+(M[1]||0)),ve=s(x/ge),ve>1)for(ve>=q&&(ve=q-1),me=L(We,ve,q),Ee=me.length,S=M.length;P(me,M,Ee,S)==1;)ve--,m(me,we<Ee?Me:We,Ee,q),Ee=me.length,G=1;else ve==0&&(G=ve=1),me=We.slice(),Ee=me.length;if(Ee<S&&(me=[0].concat(me)),m(M,me,S,q),S=M.length,G==-1)for(;P(We,M,we,S)<1;)ve++,m(M,we<S?Me:We,S,q),S=M.length}else G===0&&(ve++,M=[0]);W[ee++]=ve,M[0]?M[S++]=Ge[z]||0:(M=[Ge[z]],S=1)}while((z++<ue||M[0]!=null)&&Ue--);ae=M[0]!=null,W[0]||W.splice(0,1)}if(q==c){for(ee=1,Ue=W[0];Ue>=10;Ue/=10,ee++);le(k,j+(k.e=ee+Y*l-1)+1,V,ae)}else k.e=Y,k.r=+ae;return k}}();function xe(L,P,m,b){var v,j,V,q,G;if(m==null?m=ne:O(m,0,8),!L.c)return L.toString();if(v=L.c[0],V=L.e,P==null)G=E(L.c),G=b==1||b==2&&(V<=$||V>=C)?T(G,V):I(G,V,"0");else if(L=le(new ce(L),P,m),j=L.e,G=E(L.c),q=G.length,b==1||b==2&&(P<=j||j<=$)){for(;q<P;G+="0",q++);G=T(G,j)}else if(P-=V,G=I(G,j,"0"),j+1>q){if(--P>0)for(G+=".";P--;G+="0");}else if(P+=j-q,P>0)for(j+1==q&&(G+=".");P--;G+="0");return L.s<0&&v?"-"+G:G}function oe(L,P){for(var m,b,v=1,j=new ce(L[0]);v<L.length;v++)b=new ce(L[v]),(!b.s||(m=w(j,b))===P||m===0&&j.s===P)&&(j=b);return j}function J(L,P,m){for(var b=1,v=P.length;!P[--v];P.pop());for(v=P[0];v>=10;v/=10,b++);return(m=b+m*l-1)>se?L.c=L.e=null:m<Q?L.c=[L.e=0]:(L.e=m,L.c=P),L}N=function(){var L=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,m=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,v=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(j,V,q,G){var Y,ee=q?V:V.replace(v,"");if(b.test(ee))j.s=isNaN(ee)?null:ee<0?-1:1;else{if(!q&&(ee=ee.replace(L,function(ae,ve,me){return Y=(me=me.toLowerCase())=="x"?16:me=="b"?2:8,!G||G==Y?ve:ae}),G&&(Y=G,ee=ee.replace(P,"$1").replace(m,"0.$1")),V!=ee))return new ce(ee,Y);if(ce.DEBUG)throw Error(o+"Not a"+(G?" base "+G:"")+" number: "+V);j.s=null}j.c=j.e=null}}();function le(L,P,m,b){var v,j,V,q,G,Y,ee,ae=L.c,ve=f;if(ae){e:{for(v=1,q=ae[0];q>=10;q/=10,v++);if(j=P-v,j<0)j+=l,V=P,G=ae[Y=0],ee=s(G/ve[v-V-1]%10);else if(Y=a((j+1)/l),Y>=ae.length)if(b){for(;ae.length<=Y;ae.push(0));G=ee=0,v=1,j%=l,V=j-l+1}else break e;else{for(G=q=ae[Y],v=1;q>=10;q/=10,v++);j%=l,V=j-l+v,ee=V<0?0:s(G/ve[v-V-1]%10)}if(b=b||P<0||ae[Y+1]!=null||(V<0?G:G%ve[v-V-1]),b=m<4?(ee||b)&&(m==0||m==(L.s<0?3:2)):ee>5||ee==5&&(m==4||b||m==6&&(j>0?V>0?G/ve[v-V]:0:ae[Y-1])%10&1||m==(L.s<0?8:7)),P<1||!ae[0])return ae.length=0,b?(P-=L.e+1,ae[0]=ve[(l-P%l)%l],L.e=-P||0):ae[0]=L.e=0,L;if(j==0?(ae.length=Y,q=1,Y--):(ae.length=Y+1,q=ve[l-j],ae[Y]=V>0?s(G/ve[v-V]%ve[V])*q:0),b)for(;;)if(Y==0){for(j=1,V=ae[0];V>=10;V/=10,j++);for(V=ae[0]+=q,q=1;V>=10;V/=10,q++);j!=q&&(L.e++,ae[0]==c&&(ae[0]=1));break}else{if(ae[Y]+=q,ae[Y]!=c)break;ae[Y--]=0,q=1}for(j=ae.length;ae[--j]===0;ae.pop());}L.e>se?L.c=L.e=null:L.e<Q&&(L.c=[L.e=0])}return L}function pe(L){var P,m=L.e;return m===null?L.toString():(P=E(L.c),P=m<=$||m>=C?T(P,m):I(P,m,"0"),L.s<0?"-"+P:P)}return R.absoluteValue=R.abs=function(){var L=new ce(this);return L.s<0&&(L.s=1),L},R.comparedTo=function(L,P){return w(this,new ce(L,P))},R.decimalPlaces=R.dp=function(L,P){var m,b,v,j=this;if(L!=null)return O(L,0,p),P==null?P=ne:O(P,0,8),le(new ce(j),L+j.e+1,P);if(!(m=j.c))return null;if(b=((v=m.length-1)-_(this.e/l))*l,v=m[v])for(;v%10==0;v/=10,b--);return b<0&&(b=0),b},R.dividedBy=R.div=function(L,P){return U(this,new ce(L,P),X,ne)},R.dividedToIntegerBy=R.idiv=function(L,P){return U(this,new ce(L,P),0,1)},R.exponentiatedBy=R.pow=function(L,P){var m,b,v,j,V,q,G,Y,ee,ae=this;if(L=new ce(L),L.c&&!L.isInteger())throw Error(o+"Exponent not an integer: "+pe(L));if(P!=null&&(P=new ce(P)),q=L.e>14,!ae.c||!ae.c[0]||ae.c[0]==1&&!ae.e&&ae.c.length==1||!L.c||!L.c[0])return ee=new ce(Math.pow(+pe(ae),q?L.s*(2-A(L)):+pe(L))),P?ee.mod(P):ee;if(G=L.s<0,P){if(P.c?!P.c[0]:!P.s)return new ce(NaN);b=!G&&ae.isInteger()&&P.isInteger(),b&&(ae=ae.mod(P))}else{if(L.e>9&&(ae.e>0||ae.e<-1||(ae.e==0?ae.c[0]>1||q&&ae.c[1]>=24e7:ae.c[0]<8e13||q&&ae.c[0]<=9999975e7)))return j=ae.s<0&&A(L)?-0:0,ae.e>-1&&(j=1/j),new ce(G?1/j:j);he&&(j=a(he/l+2))}for(q?(m=new ce(.5),G&&(L.s=1),Y=A(L)):(v=Math.abs(+pe(L)),Y=v%2),ee=new ce(F);;){if(Y){if(ee=ee.times(ae),!ee.c)break;j?ee.c.length>j&&(ee.c.length=j):b&&(ee=ee.mod(P))}if(v){if(v=s(v/2),v===0)break;Y=v%2}else if(L=L.times(m),le(L,L.e+1,1),L.e>14)Y=A(L);else{if(v=+pe(L),v===0)break;Y=v%2}ae=ae.times(ae),j?ae.c&&ae.c.length>j&&(ae.c.length=j):b&&(ae=ae.mod(P))}return b?ee:(G&&(ee=F.div(ee)),P?ee.mod(P):j?le(ee,he,ne,V):ee)},R.integerValue=function(L){var P=new ce(this);return L==null?L=ne:O(L,0,8),le(P,P.e+1,L)},R.isEqualTo=R.eq=function(L,P){return w(this,new ce(L,P))===0},R.isFinite=function(){return!!this.c},R.isGreaterThan=R.gt=function(L,P){return w(this,new ce(L,P))>0},R.isGreaterThanOrEqualTo=R.gte=function(L,P){return(P=w(this,new ce(L,P)))===1||P===0},R.isInteger=function(){return!!this.c&&_(this.e/l)>this.c.length-2},R.isLessThan=R.lt=function(L,P){return w(this,new ce(L,P))<0},R.isLessThanOrEqualTo=R.lte=function(L,P){return(P=w(this,new ce(L,P)))===-1||P===0},R.isNaN=function(){return!this.s},R.isNegative=function(){return this.s<0},R.isPositive=function(){return this.s>0},R.isZero=function(){return!!this.c&&this.c[0]==0},R.minus=function(L,P){var m,b,v,j,V=this,q=V.s;if(L=new ce(L,P),P=L.s,!q||!P)return new ce(NaN);if(q!=P)return L.s=-P,V.plus(L);var G=V.e/l,Y=L.e/l,ee=V.c,ae=L.c;if(!G||!Y){if(!ee||!ae)return ee?(L.s=-P,L):new ce(ae?V:NaN);if(!ee[0]||!ae[0])return ae[0]?(L.s=-P,L):new ce(ee[0]?V:ne==3?-0:0)}if(G=_(G),Y=_(Y),ee=ee.slice(),q=G-Y){for((j=q<0)?(q=-q,v=ee):(Y=G,v=ae),v.reverse(),P=q;P--;v.push(0));v.reverse()}else for(b=(j=(q=ee.length)<(P=ae.length))?q:P,q=P=0;P<b;P++)if(ee[P]!=ae[P]){j=ee[P]<ae[P];break}if(j&&(v=ee,ee=ae,ae=v,L.s=-L.s),P=(b=ae.length)-(m=ee.length),P>0)for(;P--;ee[m++]=0);for(P=c-1;b>q;){if(ee[--b]<ae[b]){for(m=b;m&&!ee[--m];ee[m]=P);--ee[m],ee[b]+=c}ee[b]-=ae[b]}for(;ee[0]==0;ee.splice(0,1),--Y);return ee[0]?J(L,ee,Y):(L.s=ne==3?-1:1,L.c=[L.e=0],L)},R.modulo=R.mod=function(L,P){var m,b,v=this;return L=new ce(L,P),!v.c||!L.s||L.c&&!L.c[0]?new ce(NaN):!L.c||v.c&&!v.c[0]?new ce(v):(be==9?(b=L.s,L.s=1,m=U(v,L,0,3),L.s=b,m.s*=b):m=U(v,L,0,be),L=v.minus(m.times(L)),!L.c[0]&&be==1&&(L.s=v.s),L)},R.multipliedBy=R.times=function(L,P){var m,b,v,j,V,q,G,Y,ee,ae,ve,me,Ee,k,W,M=this,S=M.c,x=(L=new ce(L,P)).c;if(!S||!x||!S[0]||!x[0])return!M.s||!L.s||S&&!S[0]&&!x||x&&!x[0]&&!S?L.c=L.e=L.s=null:(L.s*=M.s,!S||!x?L.c=L.e=null:(L.c=[0],L.e=0)),L;for(b=_(M.e/l)+_(L.e/l),L.s*=M.s,G=S.length,ae=x.length,G<ae&&(Ee=S,S=x,x=Ee,v=G,G=ae,ae=v),v=G+ae,Ee=[];v--;Ee.push(0));for(k=c,W=h,v=ae;--v>=0;){for(m=0,ve=x[v]%W,me=x[v]/W|0,V=G,j=v+V;j>v;)Y=S[--V]%W,ee=S[V]/W|0,q=me*Y+ee*ve,Y=ve*Y+q%W*W+Ee[j]+m,m=(Y/k|0)+(q/W|0)+me*ee,Ee[j--]=Y%k;Ee[j]=m}return m?++b:Ee.splice(0,1),J(L,Ee,b)},R.negated=function(){var L=new ce(this);return L.s=-L.s||null,L},R.plus=function(L,P){var m,b=this,v=b.s;if(L=new ce(L,P),P=L.s,!v||!P)return new ce(NaN);if(v!=P)return L.s=-P,b.minus(L);var j=b.e/l,V=L.e/l,q=b.c,G=L.c;if(!j||!V){if(!q||!G)return new ce(v/0);if(!q[0]||!G[0])return G[0]?L:new ce(q[0]?b:v*0)}if(j=_(j),V=_(V),q=q.slice(),v=j-V){for(v>0?(V=j,m=G):(v=-v,m=q),m.reverse();v--;m.push(0));m.reverse()}for(v=q.length,P=G.length,v-P<0&&(m=G,G=q,q=m,P=v),v=0;P;)v=(q[--P]=q[P]+G[P]+v)/c|0,q[P]=c===q[P]?0:q[P]%c;return v&&(q=[v].concat(q),++V),J(L,q,V)},R.precision=R.sd=function(L,P){var m,b,v,j=this;if(L!=null&&L!==!!L)return O(L,1,p),P==null?P=ne:O(P,0,8),le(new ce(j),L,P);if(!(m=j.c))return null;if(v=m.length-1,b=v*l+1,v=m[v]){for(;v%10==0;v/=10,b--);for(v=m[0];v>=10;v/=10,b++);}return L&&j.e+1>b&&(b=j.e+1),b},R.shiftedBy=function(L){return O(L,-d,d),this.times("1e"+L)},R.squareRoot=R.sqrt=function(){var L,P,m,b,v,j=this,V=j.c,q=j.s,G=j.e,Y=X+4,ee=new ce("0.5");if(q!==1||!V||!V[0])return new ce(!q||q<0&&(!V||V[0])?NaN:V?j:1/0);if(q=Math.sqrt(+pe(j)),q==0||q==1/0?(P=E(V),(P.length+G)%2==0&&(P+="0"),q=Math.sqrt(+P),G=_((G+1)/2)-(G<0||G%2),q==1/0?P="5e"+G:(P=q.toExponential(),P=P.slice(0,P.indexOf("e")+1)+G),m=new ce(P)):m=new ce(q+""),m.c[0]){for(G=m.e,q=G+Y,q<3&&(q=0);;)if(v=m,m=ee.times(v.plus(U(j,v,Y,1))),E(v.c).slice(0,q)===(P=E(m.c)).slice(0,q))if(m.e<G&&--q,P=P.slice(q-3,q+1),P=="9999"||!b&&P=="4999"){if(!b&&(le(v,v.e+X+2,0),v.times(v).eq(j))){m=v;break}Y+=4,q+=4,b=1}else{(!+P||!+P.slice(1)&&P.charAt(0)=="5")&&(le(m,m.e+X+2,1),L=!m.times(m).eq(j));break}}return le(m,m.e+X+1,ne,L)},R.toExponential=function(L,P){return L!=null&&(O(L,0,p),L++),xe(this,L,P,1)},R.toFixed=function(L,P){return L!=null&&(O(L,0,p),L=L+this.e+1),xe(this,L,P)},R.toFormat=function(L,P,m){var b,v=this;if(m==null)L!=null&&P&&typeof P=="object"?(m=P,P=null):L&&typeof L=="object"?(m=L,L=P=null):m=Te;else if(typeof m!="object")throw Error(o+"Argument not an object: "+m);if(b=v.toFixed(L,P),v.c){var j,V=b.split("."),q=+m.groupSize,G=+m.secondaryGroupSize,Y=m.groupSeparator||"",ee=V[0],ae=V[1],ve=v.s<0,me=ve?ee.slice(1):ee,Ee=me.length;if(G&&(j=q,q=G,G=j,Ee-=j),q>0&&Ee>0){for(j=Ee%q||q,ee=me.substr(0,j);j<Ee;j+=q)ee+=Y+me.substr(j,q);G>0&&(ee+=Y+me.slice(j)),ve&&(ee="-"+ee)}b=ae?ee+(m.decimalSeparator||"")+((G=+m.fractionGroupSize)?ae.replace(new RegExp("\\d{"+G+"}\\B","g"),"$&"+(m.fractionGroupSeparator||"")):ae):ee}return(m.prefix||"")+b+(m.suffix||"")},R.toFraction=function(L){var P,m,b,v,j,V,q,G,Y,ee,ae,ve,me=this,Ee=me.c;if(L!=null&&(q=new ce(L),!q.isInteger()&&(q.c||q.s!==1)||q.lt(F)))throw Error(o+"Argument "+(q.isInteger()?"out of range: ":"not an integer: ")+pe(q));if(!Ee)return new ce(me);for(P=new ce(F),Y=m=new ce(F),b=G=new ce(F),ve=E(Ee),j=P.e=ve.length-me.e-1,P.c[0]=f[(V=j%l)<0?l+V:V],L=!L||q.comparedTo(P)>0?j>0?P:Y:q,V=se,se=1/0,q=new ce(ve),G.c[0]=0;ee=U(q,P,0,1),v=m.plus(ee.times(b)),v.comparedTo(L)!=1;)m=b,b=v,Y=G.plus(ee.times(v=Y)),G=v,P=q.minus(ee.times(v=P)),q=v;return v=U(L.minus(m),b,0,1),G=G.plus(v.times(Y)),m=m.plus(v.times(b)),G.s=Y.s=me.s,j=j*2,ae=U(Y,b,j,ne).minus(me).abs().comparedTo(U(G,m,j,ne).minus(me).abs())<1?[Y,b]:[G,m],se=V,ae},R.toNumber=function(){return+pe(this)},R.toPrecision=function(L,P){return L!=null&&O(L,1,p),xe(this,L,P,2)},R.toString=function(L){var P,m=this,b=m.s,v=m.e;return v===null?b?(P="Infinity",b<0&&(P="-"+P)):P="NaN":(L==null?P=v<=$||v>=C?T(E(m.c),v):I(E(m.c),v,"0"):L===10&&ye?(m=le(new ce(m),X+v+1,ne),P=I(E(m.c),m.e,"0")):(O(L,2,Ne.length,"Base"),P=H(I(E(m.c),v,"0"),10,L,b,!0)),b<0&&m.c[0]&&(P="-"+P)),P},R.valueOf=R.toJSON=function(){return pe(this)},R._isBigNumber=!0,D!=null&&ce.set(D),ce}function _(D){var U=D|0;return D>0||D===U?U:U-1}function E(D){for(var U,H,N=1,R=D.length,F=D[0]+"";N<R;){for(U=D[N++]+"",H=l-U.length;H--;U="0"+U);F+=U}for(R=F.length;F.charCodeAt(--R)===48;);return F.slice(0,R+1||1)}function w(D,U){var H,N,R=D.c,F=U.c,X=D.s,ne=U.s,$=D.e,C=U.e;if(!X||!ne)return null;if(H=R&&!R[0],N=F&&!F[0],H||N)return H?N?0:-ne:X;if(X!=ne)return X;if(H=X<0,N=$==C,!R||!F)return N?0:!R^H?1:-1;if(!N)return $>C^H?1:-1;for(ne=($=R.length)<(C=F.length)?$:C,X=0;X<ne;X++)if(R[X]!=F[X])return R[X]>F[X]^H?1:-1;return $==C?0:$>C^H?1:-1}function O(D,U,H,N){if(D<U||D>H||D!==s(D))throw Error(o+(N||"Argument")+(typeof D=="number"?D<U||D>H?" out of range: ":" not an integer: ":" not a primitive number: ")+String(D))}function A(D){var U=D.c.length-1;return _(D.e/l)==U&&D.c[U]%2!=0}function T(D,U){return(D.length>1?D.charAt(0)+"."+D.slice(1):D)+(U<0?"e":"e+")+U}function I(D,U,H){var N,R;if(U<0){for(R=H+".";++U;R+=H);D=R+D}else if(N=D.length,++U>N){for(R=H,U-=N;--U;R+=H);D+=R}else U<N&&(D=D.slice(0,U)+"."+D.slice(U));return D}r=y(),r.default=r.BigNumber=r,t.exports?t.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(g)})(k7);var Wfe=k7.exports,Q7={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(w,O){var A=w[0],T=w[1],I=w[2],D=w[3];A+=(T&I|~T&D)+O[0]-680876936|0,A=(A<<7|A>>>25)+T|0,D+=(A&T|~A&I)+O[1]-389564586|0,D=(D<<12|D>>>20)+A|0,I+=(D&A|~D&T)+O[2]+606105819|0,I=(I<<17|I>>>15)+D|0,T+=(I&D|~I&A)+O[3]-1044525330|0,T=(T<<22|T>>>10)+I|0,A+=(T&I|~T&D)+O[4]-176418897|0,A=(A<<7|A>>>25)+T|0,D+=(A&T|~A&I)+O[5]+1200080426|0,D=(D<<12|D>>>20)+A|0,I+=(D&A|~D&T)+O[6]-1473231341|0,I=(I<<17|I>>>15)+D|0,T+=(I&D|~I&A)+O[7]-45705983|0,T=(T<<22|T>>>10)+I|0,A+=(T&I|~T&D)+O[8]+1770035416|0,A=(A<<7|A>>>25)+T|0,D+=(A&T|~A&I)+O[9]-1958414417|0,D=(D<<12|D>>>20)+A|0,I+=(D&A|~D&T)+O[10]-42063|0,I=(I<<17|I>>>15)+D|0,T+=(I&D|~I&A)+O[11]-1990404162|0,T=(T<<22|T>>>10)+I|0,A+=(T&I|~T&D)+O[12]+1804603682|0,A=(A<<7|A>>>25)+T|0,D+=(A&T|~A&I)+O[13]-40341101|0,D=(D<<12|D>>>20)+A|0,I+=(D&A|~D&T)+O[14]-1502002290|0,I=(I<<17|I>>>15)+D|0,T+=(I&D|~I&A)+O[15]+1236535329|0,T=(T<<22|T>>>10)+I|0,A+=(T&D|I&~D)+O[1]-165796510|0,A=(A<<5|A>>>27)+T|0,D+=(A&I|T&~I)+O[6]-1069501632|0,D=(D<<9|D>>>23)+A|0,I+=(D&T|A&~T)+O[11]+643717713|0,I=(I<<14|I>>>18)+D|0,T+=(I&A|D&~A)+O[0]-373897302|0,T=(T<<20|T>>>12)+I|0,A+=(T&D|I&~D)+O[5]-701558691|0,A=(A<<5|A>>>27)+T|0,D+=(A&I|T&~I)+O[10]+38016083|0,D=(D<<9|D>>>23)+A|0,I+=(D&T|A&~T)+O[15]-660478335|0,I=(I<<14|I>>>18)+D|0,T+=(I&A|D&~A)+O[4]-405537848|0,T=(T<<20|T>>>12)+I|0,A+=(T&D|I&~D)+O[9]+568446438|0,A=(A<<5|A>>>27)+T|0,D+=(A&I|T&~I)+O[14]-1019803690|0,D=(D<<9|D>>>23)+A|0,I+=(D&T|A&~T)+O[3]-187363961|0,I=(I<<14|I>>>18)+D|0,T+=(I&A|D&~A)+O[8]+1163531501|0,T=(T<<20|T>>>12)+I|0,A+=(T&D|I&~D)+O[13]-1444681467|0,A=(A<<5|A>>>27)+T|0,D+=(A&I|T&~I)+O[2]-51403784|0,D=(D<<9|D>>>23)+A|0,I+=(D&T|A&~T)+O[7]+1735328473|0,I=(I<<14|I>>>18)+D|0,T+=(I&A|D&~A)+O[12]-1926607734|0,T=(T<<20|T>>>12)+I|0,A+=(T^I^D)+O[5]-378558|0,A=(A<<4|A>>>28)+T|0,D+=(A^T^I)+O[8]-2022574463|0,D=(D<<11|D>>>21)+A|0,I+=(D^A^T)+O[11]+1839030562|0,I=(I<<16|I>>>16)+D|0,T+=(I^D^A)+O[14]-35309556|0,T=(T<<23|T>>>9)+I|0,A+=(T^I^D)+O[1]-1530992060|0,A=(A<<4|A>>>28)+T|0,D+=(A^T^I)+O[4]+1272893353|0,D=(D<<11|D>>>21)+A|0,I+=(D^A^T)+O[7]-155497632|0,I=(I<<16|I>>>16)+D|0,T+=(I^D^A)+O[10]-1094730640|0,T=(T<<23|T>>>9)+I|0,A+=(T^I^D)+O[13]+681279174|0,A=(A<<4|A>>>28)+T|0,D+=(A^T^I)+O[0]-358537222|0,D=(D<<11|D>>>21)+A|0,I+=(D^A^T)+O[3]-722521979|0,I=(I<<16|I>>>16)+D|0,T+=(I^D^A)+O[6]+76029189|0,T=(T<<23|T>>>9)+I|0,A+=(T^I^D)+O[9]-640364487|0,A=(A<<4|A>>>28)+T|0,D+=(A^T^I)+O[12]-421815835|0,D=(D<<11|D>>>21)+A|0,I+=(D^A^T)+O[15]+530742520|0,I=(I<<16|I>>>16)+D|0,T+=(I^D^A)+O[2]-995338651|0,T=(T<<23|T>>>9)+I|0,A+=(I^(T|~D))+O[0]-198630844|0,A=(A<<6|A>>>26)+T|0,D+=(T^(A|~I))+O[7]+1126891415|0,D=(D<<10|D>>>22)+A|0,I+=(A^(D|~T))+O[14]-1416354905|0,I=(I<<15|I>>>17)+D|0,T+=(D^(I|~A))+O[5]-57434055|0,T=(T<<21|T>>>11)+I|0,A+=(I^(T|~D))+O[12]+1700485571|0,A=(A<<6|A>>>26)+T|0,D+=(T^(A|~I))+O[3]-1894986606|0,D=(D<<10|D>>>22)+A|0,I+=(A^(D|~T))+O[10]-1051523|0,I=(I<<15|I>>>17)+D|0,T+=(D^(I|~A))+O[1]-2054922799|0,T=(T<<21|T>>>11)+I|0,A+=(I^(T|~D))+O[8]+1873313359|0,A=(A<<6|A>>>26)+T|0,D+=(T^(A|~I))+O[15]-30611744|0,D=(D<<10|D>>>22)+A|0,I+=(A^(D|~T))+O[6]-1560198380|0,I=(I<<15|I>>>17)+D|0,T+=(D^(I|~A))+O[13]+1309151649|0,T=(T<<21|T>>>11)+I|0,A+=(I^(T|~D))+O[4]-145523070|0,A=(A<<6|A>>>26)+T|0,D+=(T^(A|~I))+O[11]-1120210379|0,D=(D<<10|D>>>22)+A|0,I+=(A^(D|~T))+O[2]+718787259|0,I=(I<<15|I>>>17)+D|0,T+=(D^(I|~A))+O[9]-343485551|0,T=(T<<21|T>>>11)+I|0,w[0]=A+w[0]|0,w[1]=T+w[1]|0,w[2]=I+w[2]|0,w[3]=D+w[3]|0}function s(w){var O=[],A;for(A=0;A<64;A+=4)O[A>>2]=w.charCodeAt(A)+(w.charCodeAt(A+1)<<8)+(w.charCodeAt(A+2)<<16)+(w.charCodeAt(A+3)<<24);return O}function o(w){var O=[],A;for(A=0;A<64;A+=4)O[A>>2]=w[A]+(w[A+1]<<8)+(w[A+2]<<16)+(w[A+3]<<24);return O}function u(w){var O=w.length,A=[1732584193,-271733879,-1732584194,271733878],T,I,D,U,H,N;for(T=64;T<=O;T+=64)a(A,s(w.substring(T-64,T)));for(w=w.substring(T-64),I=w.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0;T<I;T+=1)D[T>>2]|=w.charCodeAt(T)<<(T%4<<3);if(D[T>>2]|=128<<(T%4<<3),T>55)for(a(A,D),T=0;T<16;T+=1)D[T]=0;return U=O*8,U=U.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(U[2],16),N=parseInt(U[1],16)||0,D[14]=H,D[15]=N,a(A,D),A}function c(w){var O=w.length,A=[1732584193,-271733879,-1732584194,271733878],T,I,D,U,H,N;for(T=64;T<=O;T+=64)a(A,o(w.subarray(T-64,T)));for(w=T-64<O?w.subarray(T-64):new Uint8Array(0),I=w.length,D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0;T<I;T+=1)D[T>>2]|=w[T]<<(T%4<<3);if(D[T>>2]|=128<<(T%4<<3),T>55)for(a(A,D),T=0;T<16;T+=1)D[T]=0;return U=O*8,U=U.toString(16).match(/(.*?)(.{0,8})$/),H=parseInt(U[2],16),N=parseInt(U[1],16)||0,D[14]=H,D[15]=N,a(A,D),A}function l(w){var O="",A;for(A=0;A<4;A+=1)O+=n[w>>A*8+4&15]+n[w>>A*8&15];return O}function d(w){var O;for(O=0;O<w.length;O+=1)w[O]=l(w[O]);return w.join("")}d(u("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function w(O,A){return O=O|0||0,O<0?Math.max(O+A,0):Math.min(O,A)}ArrayBuffer.prototype.slice=function(O,A){var T=this.byteLength,I=w(O,T),D=T,U,H,N,R;return A!==r&&(D=w(A,T)),I>D?new ArrayBuffer(0):(U=D-I,H=new ArrayBuffer(U),N=new Uint8Array(H),R=new Uint8Array(this,I,U),N.set(R),H)}}();function f(w){return/[\u0080-\uFFFF]/.test(w)&&(w=unescape(encodeURIComponent(w))),w}function h(w,O){var A=w.length,T=new ArrayBuffer(A),I=new Uint8Array(T),D;for(D=0;D<A;D+=1)I[D]=w.charCodeAt(D);return O?I:T}function p(w){return String.fromCharCode.apply(null,new Uint8Array(w))}function y(w,O,A){var T=new Uint8Array(w.byteLength+O.byteLength);return T.set(new Uint8Array(w)),T.set(new Uint8Array(O),w.byteLength),A?T:T.buffer}function _(w){var O=[],A=w.length,T;for(T=0;T<A-1;T+=2)O.push(parseInt(w.substr(T,2),16));return String.fromCharCode.apply(String,O)}function E(){this.reset()}return E.prototype.append=function(w){return this.appendBinary(f(w)),this},E.prototype.appendBinary=function(w){this._buff+=w,this._length+=w.length;var O=this._buff.length,A;for(A=64;A<=O;A+=64)a(this._hash,s(this._buff.substring(A-64,A)));return this._buff=this._buff.substring(A-64),this},E.prototype.end=function(w){var O=this._buff,A=O.length,T,I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D;for(T=0;T<A;T+=1)I[T>>2]|=O.charCodeAt(T)<<(T%4<<3);return this._finish(I,A),D=d(this._hash),w&&(D=_(D)),this.reset(),D},E.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},E.prototype.setState=function(w){return this._buff=w.buff,this._length=w.length,this._hash=w.hash,this},E.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},E.prototype._finish=function(w,O){var A=O,T,I,D;if(w[A>>2]|=128<<(A%4<<3),A>55)for(a(this._hash,w),A=0;A<16;A+=1)w[A]=0;T=this._length*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),I=parseInt(T[2],16),D=parseInt(T[1],16)||0,w[14]=I,w[15]=D,a(this._hash,w)},E.hash=function(w,O){return E.hashBinary(f(w),O)},E.hashBinary=function(w,O){var A=u(w),T=d(A);return O?_(T):T},E.ArrayBuffer=function(){this.reset()},E.ArrayBuffer.prototype.append=function(w){var O=y(this._buff.buffer,w,!0),A=O.length,T;for(this._length+=w.byteLength,T=64;T<=A;T+=64)a(this._hash,o(O.subarray(T-64,T)));return this._buff=T-64<A?new Uint8Array(O.buffer.slice(T-64)):new Uint8Array(0),this},E.ArrayBuffer.prototype.end=function(w){var O=this._buff,A=O.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I,D;for(I=0;I<A;I+=1)T[I>>2]|=O[I]<<(I%4<<3);return this._finish(T,A),D=d(this._hash),w&&(D=_(D)),this.reset(),D},E.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.ArrayBuffer.prototype.getState=function(){var w=E.prototype.getState.call(this);return w.buff=p(w.buff),w},E.ArrayBuffer.prototype.setState=function(w){return w.buff=h(w.buff,!0),E.prototype.setState.call(this,w)},E.ArrayBuffer.prototype.destroy=E.prototype.destroy,E.ArrayBuffer.prototype._finish=E.prototype._finish,E.ArrayBuffer.hash=function(w,O){var A=c(new Uint8Array(w)),T=d(A);return O?_(T):T},E})})(Q7);var Xfe=Q7.exports,wR={},I2={},P2={};Object.defineProperty(P2,"__esModule",{value:!0});P2.default=Jfe;let v1;const Kfe=new Uint8Array(16);function Jfe(){if(!v1&&(v1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v1(Kfe)}var lc={},Nl={},D2={};Object.defineProperty(D2,"__esModule",{value:!0});D2.default=void 0;var Yfe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;D2.default=Yfe;Object.defineProperty(Nl,"__esModule",{value:!0});Nl.default=void 0;var Zfe=ehe(D2);function ehe(t){return t&&t.__esModule?t:{default:t}}function the(t){return typeof t=="string"&&Zfe.default.test(t)}var rhe=the;Nl.default=rhe;Object.defineProperty(lc,"__esModule",{value:!0});lc.default=void 0;lc.unsafeStringify=G7;var nhe=ihe(Nl);function ihe(t){return t&&t.__esModule?t:{default:t}}const Mn=[];for(let t=0;t<256;++t)Mn.push((t+256).toString(16).slice(1));function G7(t,e=0){return Mn[t[e+0]]+Mn[t[e+1]]+Mn[t[e+2]]+Mn[t[e+3]]+"-"+Mn[t[e+4]]+Mn[t[e+5]]+"-"+Mn[t[e+6]]+Mn[t[e+7]]+"-"+Mn[t[e+8]]+Mn[t[e+9]]+"-"+Mn[t[e+10]]+Mn[t[e+11]]+Mn[t[e+12]]+Mn[t[e+13]]+Mn[t[e+14]]+Mn[t[e+15]]}function ahe(t,e=0){const r=G7(t,e);if(!(0,nhe.default)(r))throw TypeError("Stringified UUID is invalid");return r}var she=ahe;lc.default=she;Object.defineProperty(I2,"__esModule",{value:!0});I2.default=void 0;var ohe=che(P2),uhe=lc;function che(t){return t&&t.__esModule?t:{default:t}}let J4,WT,XT=0,KT=0;function lhe(t,e,r){let n=e&&r||0;const a=e||new Array(16);t=t||{};let s=t.node||J4,o=t.clockseq!==void 0?t.clockseq:WT;if(s==null||o==null){const h=t.random||(t.rng||ohe.default)();s==null&&(s=J4=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),o==null&&(o=WT=(h[6]<<8|h[7])&16383)}let u=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:KT+1;const l=u-XT+(c-KT)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||u>XT)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");XT=u,KT=c,WT=o,u+=122192928e5;const d=((u&268435455)*1e4+c)%4294967296;a[n++]=d>>>24&255,a[n++]=d>>>16&255,a[n++]=d>>>8&255,a[n++]=d&255;const f=u/4294967296*1e4&268435455;a[n++]=f>>>8&255,a[n++]=f&255,a[n++]=f>>>24&15|16,a[n++]=f>>>16&255,a[n++]=o>>>8|128,a[n++]=o&255;for(let h=0;h<6;++h)a[n+h]=s[h];return e||(0,uhe.unsafeStringify)(a)}var dhe=lhe;I2.default=dhe;var N2={},ec={},ry={};Object.defineProperty(ry,"__esModule",{value:!0});ry.default=void 0;var fhe=hhe(Nl);function hhe(t){return t&&t.__esModule?t:{default:t}}function phe(t){if(!(0,fhe.default)(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var yhe=phe;ry.default=yhe;Object.defineProperty(ec,"__esModule",{value:!0});ec.URL=ec.DNS=void 0;ec.default=vhe;var bhe=lc,_he=ghe(ry);function ghe(t){return t&&t.__esModule?t:{default:t}}function mhe(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}const z7="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ec.DNS=z7;const W7="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ec.URL=W7;function vhe(t,e,r){function n(a,s,o,u){var c;if(typeof a=="string"&&(a=mhe(a)),typeof s=="string"&&(s=(0,_he.default)(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+a.length);if(l.set(s),l.set(a,s.length),l=r(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){u=u||0;for(let d=0;d<16;++d)o[u+d]=l[d];return o}return(0,bhe.unsafeStringify)(l)}try{n.name=t}catch{}return n.DNS=z7,n.URL=W7,n}var j2={};Object.defineProperty(j2,"__esModule",{value:!0});j2.default=void 0;function whe(t){if(typeof t=="string"){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return She(The(Ehe(t),t.length*8))}function She(t){const e=[],r=t.length*32,n="0123456789abcdef";for(let a=0;a<r;a+=8){const s=t[a>>5]>>>a%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function X7(t){return(t+64>>>9<<4)+14+1}function The(t,e){t[e>>5]|=128<<e%32,t[X7(e)-1]=e;let r=1732584193,n=-271733879,a=-1732584194,s=271733878;for(let o=0;o<t.length;o+=16){const u=r,c=n,l=a,d=s;r=kn(r,n,a,s,t[o],7,-680876936),s=kn(s,r,n,a,t[o+1],12,-389564586),a=kn(a,s,r,n,t[o+2],17,606105819),n=kn(n,a,s,r,t[o+3],22,-1044525330),r=kn(r,n,a,s,t[o+4],7,-176418897),s=kn(s,r,n,a,t[o+5],12,1200080426),a=kn(a,s,r,n,t[o+6],17,-1473231341),n=kn(n,a,s,r,t[o+7],22,-45705983),r=kn(r,n,a,s,t[o+8],7,1770035416),s=kn(s,r,n,a,t[o+9],12,-1958414417),a=kn(a,s,r,n,t[o+10],17,-42063),n=kn(n,a,s,r,t[o+11],22,-1990404162),r=kn(r,n,a,s,t[o+12],7,1804603682),s=kn(s,r,n,a,t[o+13],12,-40341101),a=kn(a,s,r,n,t[o+14],17,-1502002290),n=kn(n,a,s,r,t[o+15],22,1236535329),r=Qn(r,n,a,s,t[o+1],5,-165796510),s=Qn(s,r,n,a,t[o+6],9,-1069501632),a=Qn(a,s,r,n,t[o+11],14,643717713),n=Qn(n,a,s,r,t[o],20,-373897302),r=Qn(r,n,a,s,t[o+5],5,-701558691),s=Qn(s,r,n,a,t[o+10],9,38016083),a=Qn(a,s,r,n,t[o+15],14,-660478335),n=Qn(n,a,s,r,t[o+4],20,-405537848),r=Qn(r,n,a,s,t[o+9],5,568446438),s=Qn(s,r,n,a,t[o+14],9,-1019803690),a=Qn(a,s,r,n,t[o+3],14,-187363961),n=Qn(n,a,s,r,t[o+8],20,1163531501),r=Qn(r,n,a,s,t[o+13],5,-1444681467),s=Qn(s,r,n,a,t[o+2],9,-51403784),a=Qn(a,s,r,n,t[o+7],14,1735328473),n=Qn(n,a,s,r,t[o+12],20,-1926607734),r=Gn(r,n,a,s,t[o+5],4,-378558),s=Gn(s,r,n,a,t[o+8],11,-2022574463),a=Gn(a,s,r,n,t[o+11],16,1839030562),n=Gn(n,a,s,r,t[o+14],23,-35309556),r=Gn(r,n,a,s,t[o+1],4,-1530992060),s=Gn(s,r,n,a,t[o+4],11,1272893353),a=Gn(a,s,r,n,t[o+7],16,-155497632),n=Gn(n,a,s,r,t[o+10],23,-1094730640),r=Gn(r,n,a,s,t[o+13],4,681279174),s=Gn(s,r,n,a,t[o],11,-358537222),a=Gn(a,s,r,n,t[o+3],16,-722521979),n=Gn(n,a,s,r,t[o+6],23,76029189),r=Gn(r,n,a,s,t[o+9],4,-640364487),s=Gn(s,r,n,a,t[o+12],11,-421815835),a=Gn(a,s,r,n,t[o+15],16,530742520),n=Gn(n,a,s,r,t[o+2],23,-995338651),r=zn(r,n,a,s,t[o],6,-198630844),s=zn(s,r,n,a,t[o+7],10,1126891415),a=zn(a,s,r,n,t[o+14],15,-1416354905),n=zn(n,a,s,r,t[o+5],21,-57434055),r=zn(r,n,a,s,t[o+12],6,1700485571),s=zn(s,r,n,a,t[o+3],10,-1894986606),a=zn(a,s,r,n,t[o+10],15,-1051523),n=zn(n,a,s,r,t[o+1],21,-2054922799),r=zn(r,n,a,s,t[o+8],6,1873313359),s=zn(s,r,n,a,t[o+15],10,-30611744),a=zn(a,s,r,n,t[o+6],15,-1560198380),n=zn(n,a,s,r,t[o+13],21,1309151649),r=zn(r,n,a,s,t[o+4],6,-145523070),s=zn(s,r,n,a,t[o+11],10,-1120210379),a=zn(a,s,r,n,t[o+2],15,718787259),n=zn(n,a,s,r,t[o+9],21,-343485551),r=Lu(r,u),n=Lu(n,c),a=Lu(a,l),s=Lu(s,d)}return[r,n,a,s]}function Ehe(t){if(t.length===0)return[];const e=t.length*8,r=new Uint32Array(X7(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Lu(t,e){const r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function Ohe(t,e){return t<<e|t>>>32-e}function C2(t,e,r,n,a,s){return Lu(Ohe(Lu(Lu(e,t),Lu(n,s)),a),r)}function kn(t,e,r,n,a,s,o){return C2(e&r|~e&n,t,e,a,s,o)}function Qn(t,e,r,n,a,s,o){return C2(e&n|r&~n,t,e,a,s,o)}function Gn(t,e,r,n,a,s,o){return C2(e^r^n,t,e,a,s,o)}function zn(t,e,r,n,a,s,o){return C2(r^(e|~n),t,e,a,s,o)}var Ahe=whe;j2.default=Ahe;Object.defineProperty(N2,"__esModule",{value:!0});N2.default=void 0;var xhe=K7(ec),Rhe=K7(j2);function K7(t){return t&&t.__esModule?t:{default:t}}const Ihe=(0,xhe.default)("v3",48,Rhe.default);var Phe=Ihe;N2.default=Phe;var M2={},F2={};Object.defineProperty(F2,"__esModule",{value:!0});F2.default=void 0;const Dhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Nhe={randomUUID:Dhe};F2.default=Nhe;Object.defineProperty(M2,"__esModule",{value:!0});M2.default=void 0;var Y4=J7(F2),jhe=J7(P2),Che=lc;function J7(t){return t&&t.__esModule?t:{default:t}}function Mhe(t,e,r){if(Y4.default.randomUUID&&!e&&!t)return Y4.default.randomUUID();t=t||{};const n=t.random||(t.rng||jhe.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let a=0;a<16;++a)e[r+a]=n[a];return e}return(0,Che.unsafeStringify)(n)}var Fhe=Mhe;M2.default=Fhe;var L2={},B2={};Object.defineProperty(B2,"__esModule",{value:!0});B2.default=void 0;function Lhe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function JT(t,e){return t<<e|t>>>32-e}function Bhe(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const o=unescape(encodeURIComponent(t));t=[];for(let u=0;u<o.length;++u)t.push(o.charCodeAt(u))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,a=Math.ceil(n/16),s=new Array(a);for(let o=0;o<a;++o){const u=new Uint32Array(16);for(let c=0;c<16;++c)u[c]=t[o*64+c*4]<<24|t[o*64+c*4+1]<<16|t[o*64+c*4+2]<<8|t[o*64+c*4+3];s[o]=u}s[a-1][14]=(t.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<a;++o){const u=new Uint32Array(80);for(let p=0;p<16;++p)u[p]=s[o][p];for(let p=16;p<80;++p)u[p]=JT(u[p-3]^u[p-8]^u[p-14]^u[p-16],1);let c=r[0],l=r[1],d=r[2],f=r[3],h=r[4];for(let p=0;p<80;++p){const y=Math.floor(p/20),_=JT(c,5)+Lhe(y,l,d,f)+h+e[y]+u[p]>>>0;h=f,f=d,d=JT(l,30)>>>0,l=c,c=_}r[0]=r[0]+c>>>0,r[1]=r[1]+l>>>0,r[2]=r[2]+d>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+h>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var $he=Bhe;B2.default=$he;Object.defineProperty(L2,"__esModule",{value:!0});L2.default=void 0;var Uhe=Y7(ec),qhe=Y7(B2);function Y7(t){return t&&t.__esModule?t:{default:t}}const Vhe=(0,Uhe.default)("v5",80,qhe.default);var Hhe=Vhe;L2.default=Hhe;var $2={};Object.defineProperty($2,"__esModule",{value:!0});$2.default=void 0;var khe="00000000-0000-0000-0000-000000000000";$2.default=khe;var U2={};Object.defineProperty(U2,"__esModule",{value:!0});U2.default=void 0;var Qhe=Ghe(Nl);function Ghe(t){return t&&t.__esModule?t:{default:t}}function zhe(t){if(!(0,Qhe.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var Whe=zhe;U2.default=Whe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return o.default}});var e=d(I2),r=d(N2),n=d(M2),a=d(L2),s=d($2),o=d(U2),u=d(Nl),c=d(lc),l=d(ry);function d(f){return f&&f.__esModule?f:{default:f}}})(wR);var ph={},Z4;function q2(){if(Z4)return ph;Z4=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.orderTypes=void 0;const t=ps,e=Uf(),r=Dl(),n=ii,a=Ke;function s(l,d,f=!1,h,p){if(l===d)return 0;if(l===void 0)return-1;if(d===void 0)return 1;if(l.termType!==d.termType)return c[l.termType]<c[d.termType]?-1:1;if(l.equals(d))return 0;if(l.termType==="Quad"&&d.termType==="Quad"){const y=s(l.subject,d.subject,f,h,p);if(y!==0)return y;const _=s(l.predicate,d.predicate,f,h,p);if(_!==0)return _;const E=s(l.object,d.object,f,h,p);return E!==0?E:s(l.graph,d.graph,f,h,p)}if(l.termType==="Literal")return o(l,d,h,p);if(f)throw new a.InvalidCompareArgumentTypes(l,d);return u(l.value,d.value)}ph.orderTypes=s;function o(l,d,f,h){const p=e.regularFunctions[n.RegularOperator.GT],y=e.regularFunctions[n.RegularOperator.EQUAL],_={now:new Date,functionArgumentsCache:{},superTypeProvider:{discoverer:f||(()=>"term"),cache:h||new t.LRUCache({max:1e3})},defaultTimeZone:{zoneHours:0,zoneMinutes:0}},E=new r.TermTransformer(_.superTypeProvider),w=E.transformLiteral(l),O=E.transformLiteral(d);try{return y.apply([w,O],_).typedValue?0:p.apply([w,O],_).typedValue?1:-1}catch{const A=u(w.dataType,O.dataType);return A!==0?A:u(w.str(),O.str())}}function u(l,d){return l===d?0:l<d?-1:1}const c={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5};return ph}var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.langMatches=Gu.replace=Gu.matches=void 0;function Xhe(t,e,r){return new RegExp(e,r).test(t)}Gu.matches=Xhe;function Khe(t,e,r,n){let a=new RegExp(e,n);if(!a.global){const s=n||"";a=new RegExp(e,`${s}g`)}return t.replace(a,r)}Gu.replace=Khe;function Jhe(t,e){const r=t.split("-"),n=e.split("-");if(!t6(n[0],r[0])&&!e6(r[0]))return!1;let a=1,s=1;for(;s<n.length;){if(e6(n[s])){s++;continue}if(a===r.length)return!1;if(t6(n[s],r[a])){a++,s++;continue}if(r[a].length===1)return!1;a++}return!0}Gu.langMatches=Jhe;function e6(t){return t==="*"}function t6(t,e){return new RegExp(`/${t}/`,"iu").test(`/${e}/`)}var r6;function Yhe(){if(r6)return hh;r6=1,Object.defineProperty(hh,"__esModule",{value:!0}),hh.definitions=void 0;const t=Wfe,e=H_,r=ft,n=xa,a=Xfe,s=wR,o=oa(),u=Dl(),c=ii,l=ii,d=Ct,f=Ke,h=q2(),p=$o,y=wa,_=io(),E=Gu,w=Uf(),O=new r.DataFactory,A={arity:1,overloads:(0,_.declare)(c.RegularOperator.NOT).onTerm1(()=>B=>(0,_.bool)(!B.coerceEBV())).collect()},T={arity:1,overloads:(0,_.declare)(c.RegularOperator.UPLUS).numericConverter(()=>B=>B).collect()},I={arity:1,overloads:(0,_.declare)(c.RegularOperator.UMINUS).numericConverter(()=>B=>-B).collect()},D={arity:2,overloads:(0,_.declare)(c.RegularOperator.MULTIPLICATION).arithmetic(()=>(B,re)=>new t.BigNumber(B).times(re).toNumber()).collect()},U={arity:2,overloads:(0,_.declare)(c.RegularOperator.DIVISION).arithmetic(()=>(B,re)=>new t.BigNumber(B).div(re).toNumber()).onBinaryTyped([l.TypeURL.XSD_INTEGER,l.TypeURL.XSD_INTEGER],()=>(B,re)=>{if(re===0)throw new f.ExpressionError("Integer division by 0");return(0,_.decimal)(new t.BigNumber(B).div(re).toNumber())}).collect()},H={arity:2,overloads:(0,_.declare)(c.RegularOperator.ADDITION).arithmetic(()=>(B,re)=>new t.BigNumber(B).plus(re).toNumber()).set([l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([B,re])=>new o.DateTimeLiteral((0,p.addDurationToDateTime)(B.typedValue,(0,d.defaultedDurationRepresentation)(re.typedValue)))).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([l.TypeURL.XSD_DATE,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([B,re])=>new o.DateLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(B.typedValue),(0,d.defaultedDurationRepresentation)(re.typedValue)))).copy({from:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([l.TypeURL.XSD_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([B,re])=>new o.TimeLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(B.typedValue),(0,d.defaultedDurationRepresentation)(re.typedValue)))).copy({from:[l.TypeURL.XSD_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_TIME,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()},N={arity:2,overloads:(0,_.declare)(c.RegularOperator.SUBTRACTION).arithmetic(()=>(B,re)=>new t.BigNumber(B).minus(re).toNumber()).set([l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],({defaultTimeZone:B})=>([re,Se])=>new o.DayTimeDurationLiteral((0,p.elapsedDuration)(re.typedValue,Se.typedValue,B))).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DATE]}).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_TIME,l.TypeURL.XSD_TIME]}).set([l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([B,re])=>new o.DateTimeLiteral((0,p.addDurationToDateTime)(B.typedValue,(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(re.typedValue))))).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([l.TypeURL.XSD_DATE,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([B,re])=>new o.DateLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(B.typedValue),(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(re.typedValue))))).copy({from:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DAY_TIME_DURATION],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([l.TypeURL.XSD_TIME,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([B,re])=>new o.TimeLiteral((0,p.addDurationToDateTime)((0,d.defaultedDateTimeRepresentation)(B.typedValue),(0,d.defaultedDurationRepresentation)((0,d.negateDuration)(re.typedValue))))).collect()},R={arity:2,overloads:(0,_.declare)(c.RegularOperator.EQUAL).numberTest(()=>(B,re)=>B===re).stringTest(()=>(B,re)=>B.localeCompare(re)===0).set([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>([B,re])=>(0,_.bool)(B.str()===re.str()&&B.language===re.language)).set([l.TypeAlias.SPARQL_STRINGLY,l.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,_.bool)(!1)).booleanTest(()=>(B,re)=>B===re).dateTimeTest(({defaultTimeZone:B})=>(re,Se)=>(0,d.toUTCDate)(re,B).getTime()===(0,d.toUTCDate)(Se,B).getTime()).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DATE]}).set(["quad","quad"],B=>([re,Se])=>{const Fe=new y.RegularFunction(l.RegularOperator.EQUAL,R);return(0,_.bool)(Fe.apply([re.subject,Se.subject],B).coerceEBV()&&Fe.apply([re.predicate,Se.predicate],B).coerceEBV()&&Fe.apply([re.object,Se.object],B).coerceEBV())},!1).set(["term","term"],()=>([B,re])=>(0,_.bool)(F(B,re)),!1).set([l.TypeURL.XSD_DURATION,l.TypeURL.XSD_DURATION],()=>([B,re])=>(0,_.bool)((0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(B.typedValue))===(0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(re.typedValue))&&(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(B.typedValue))===(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(re.typedValue)))).set([l.TypeURL.XSD_TIME,l.TypeURL.XSD_TIME],({defaultTimeZone:B})=>([re,Se])=>(0,_.bool)((0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(re.typedValue),B).getTime()===(0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(Se.typedValue),B).getTime())).collect()};function F(B,re){const Se=B.toRDF(),Fe=re.toRDF(),Ae=Se.equals(Fe);if(!Ae&&Se.termType==="Literal"&&Fe.termType==="Literal")throw new f.RDFEqualTypeError([B,re]);return Ae}const X={arity:2,overloads:(0,_.declare)(c.RegularOperator.NOT_EQUAL).set(["term","term"],B=>([re,Se])=>(0,_.bool)(!w.regularFunctions[c.RegularOperator.EQUAL].apply([re,Se],B).typedValue)).collect()},ne={arity:2,overloads:(0,_.declare)(c.RegularOperator.LT).numberTest(()=>(B,re)=>B<re).stringTest(()=>(B,re)=>B.localeCompare(re)===-1).booleanTest(()=>(B,re)=>B<re).set(["quad","quad"],()=>([B,re])=>(0,_.bool)((0,h.orderTypes)(B.toRDF(),re.toRDF(),!0)===-1),!1).dateTimeTest(({defaultTimeZone:B})=>(re,Se)=>(0,d.toUTCDate)(re,B).getTime()<(0,d.toUTCDate)(Se,B).getTime()).copy({from:[l.TypeURL.XSD_DATE_TIME,l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE,l.TypeURL.XSD_DATE]}).set([l.TypeURL.XSD_YEAR_MONTH_DURATION,l.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([B,re])=>(0,_.bool)((0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(B.typedValue))<(0,d.yearMonthDurationsToMonths)((0,d.defaultedYearMonthDurationRepresentation)(re.typedValue)))).set([l.TypeURL.XSD_DAY_TIME_DURATION,l.TypeURL.XSD_DAY_TIME_DURATION],()=>([B,re])=>(0,_.bool)((0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(B.typedValue))<(0,d.dayTimeDurationsToSeconds)((0,d.defaultedDayTimeDurationRepresentation)(re.typedValue)))).set([l.TypeURL.XSD_TIME,l.TypeURL.XSD_TIME],({defaultTimeZone:B})=>([re,Se])=>(0,_.bool)((0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(re.typedValue),B).getTime()<(0,d.toUTCDate)((0,d.defaultedDateTimeRepresentation)(Se.typedValue),B).getTime())).collect()},$={arity:2,overloads:(0,_.declare)(c.RegularOperator.GT).set(["term","term"],B=>([re,Se])=>w.regularFunctions[c.RegularOperator.LT].apply([Se,re],B)).collect()},C={arity:2,overloads:(0,_.declare)(c.RegularOperator.LTE).set(["term","term"],B=>([re,Se])=>(0,_.bool)(w.regularFunctions[c.RegularOperator.LT].apply([re,Se],B).typedValue||w.regularFunctions[c.RegularOperator.EQUAL].apply([re,Se],B).typedValue)).collect()},Q={arity:2,overloads:(0,_.declare)(c.RegularOperator.GTE).set(["term","term"],B=>([re,Se])=>w.regularFunctions[c.RegularOperator.LTE].apply([Se,re],B)).collect()},se={arity:1,overloads:(0,_.declare)(c.RegularOperator.IS_IRI).onTerm1(()=>B=>(0,_.bool)(B.termType==="namedNode")).collect()},ie={arity:1,overloads:(0,_.declare)(c.RegularOperator.IS_BLANK).onTerm1(()=>B=>(0,_.bool)(B.termType==="blankNode")).collect()},be={arity:1,overloads:(0,_.declare)(c.RegularOperator.IS_LITERAL).onTerm1(()=>B=>(0,_.bool)(B.termType==="literal")).collect()},he={arity:1,overloads:(0,_.declare)(c.RegularOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,_.bool)(!0)).onTerm1(()=>()=>(0,_.bool)(!1)).collect()},Te={arity:1,overloads:(0,_.declare)(c.RegularOperator.STR).onTerm1(()=>B=>(0,_.string)(B.str())).collect()},Ne={arity:1,overloads:(0,_.declare)(c.RegularOperator.LANG).onLiteral1(()=>B=>(0,_.string)(B.language||"")).collect()},ye={arity:1,overloads:(0,_.declare)(c.RegularOperator.DATATYPE).onLiteral1(()=>B=>new o.NamedNode(B.dataType)).collect()},ce={arity:1,overloads:(0,_.declare)(c.RegularOperator.IRI).set(["namedNode"],B=>re=>{const Se=re[0],Fe=(0,n.resolve)(Se.str(),B.baseIRI||"");return new o.NamedNode(Fe)}).onString1(B=>re=>{const Se=(0,n.resolve)(re.str(),B.baseIRI||"");return new o.NamedNode(Se)}).collect()},xe={arity:2,overloads:(0,_.declare)(c.RegularOperator.STRDT).set([l.TypeURL.XSD_STRING,"namedNode"],({superTypeProvider:B})=>([re,Se])=>{const Fe=O.literal(re.typedValue,O.namedNode(Se.value));return new u.TermTransformer(B).transformLiteral(Fe)}).collect()},oe={arity:2,overloads:(0,_.declare)(c.RegularOperator.STRLANG).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(B,re)=>new o.LangStringLiteral(B,re.toLowerCase())).collect()},J={arity:0,overloads:(0,_.declare)(c.RegularOperator.UUID).set([],()=>()=>new o.NamedNode(`urn:uuid:${s.v4()}`)).collect()},le={arity:0,overloads:(0,_.declare)(c.RegularOperator.STRUUID).set([],()=>()=>(0,_.string)(s.v4())).collect()},pe={arity:1,overloads:(0,_.declare)(c.RegularOperator.STRLEN).onStringly1(()=>B=>(0,_.integer)([...B.typedValue].length)).collect()},L={arity:[2,3],overloads:(0,_.declare)(c.RegularOperator.SUBSTR).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_INTEGER],()=>(B,re)=>(0,_.string)([...B].slice(re-1).join(""))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_INTEGER],()=>(B,re)=>{const Se=[...B.typedValue].slice(re.typedValue-1).join("");return(0,_.langString)(Se,B.language)}).onTernaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_INTEGER,l.TypeURL.XSD_INTEGER],()=>(B,re,Se)=>(0,_.string)([...B].slice(re-1,Se+re-1).join(""))).onTernary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_INTEGER,l.TypeURL.XSD_INTEGER],()=>(B,re,Se)=>{const Fe=[...B.typedValue].slice(re.typedValue-1,Se.typedValue+re.typedValue-1).join("");return(0,_.langString)(Fe,B.language)}).collect()},P={arity:1,overloads:(0,_.declare)(c.RegularOperator.UCASE).onString1Typed(()=>B=>(0,_.string)(B.toUpperCase())).onLangString1(()=>B=>(0,_.langString)(B.typedValue.toUpperCase(),B.language)).collect()},m={arity:1,overloads:(0,_.declare)(c.RegularOperator.LCASE).onString1Typed(()=>B=>(0,_.string)(B.toLowerCase())).onLangString1(()=>B=>(0,_.langString)(B.typedValue.toLowerCase(),B.language)).collect()},b={arity:2,overloads:(0,_.declare)(c.RegularOperator.STRSTARTS).onBinaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING],()=>(B,re)=>(0,_.bool)(B.startsWith(re))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(B,re)=>{if(B.language!==re.language)throw new f.IncompatibleLanguageOperation(B,re);return(0,_.bool)(B.typedValue.startsWith(re.typedValue))}).collect()},v={arity:2,overloads:(0,_.declare)(c.RegularOperator.STRENDS).onBinaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING],()=>(B,re)=>(0,_.bool)(B.endsWith(re))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(B,re)=>{if(B.language!==re.language)throw new f.IncompatibleLanguageOperation(B,re);return(0,_.bool)(B.typedValue.endsWith(re.typedValue))}).collect()},j={arity:2,overloads:(0,_.declare)(c.RegularOperator.CONTAINS).onBinaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING],()=>(B,re)=>(0,_.bool)(B.includes(re))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(B,re)=>{if(B.language!==re.language)throw new f.IncompatibleLanguageOperation(B,re);return(0,_.bool)(B.typedValue.includes(re.typedValue))}).collect()},V={arity:2,overloads:(0,_.declare)(c.RegularOperator.STRBEFORE).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(B,re)=>(0,_.string)(B.slice(0,Math.max(0,B.indexOf(re))))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_STRING],()=>(B,re)=>{const[Se,Fe]=[B.typedValue,re.typedValue],Ae=B.typedValue.slice(0,Math.max(0,Se.indexOf(Fe)));return Ae||!Fe?(0,_.langString)(Ae,B.language):(0,_.string)(Ae)}).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(B,re)=>{if(B.language!==re.language)throw new f.IncompatibleLanguageOperation(B,re);const[Se,Fe]=[B.typedValue,re.typedValue],Ae=B.typedValue.slice(0,Math.max(0,Se.indexOf(Fe)));return Ae||!Fe?(0,_.langString)(Ae,B.language):(0,_.string)(Ae)}).collect()},q={arity:2,overloads:(0,_.declare)(c.RegularOperator.STRAFTER).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(B,re)=>(0,_.string)(B.slice(B.indexOf(re)).slice(re.length))).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_STRING],()=>(B,re)=>{const[Se,Fe]=[B.typedValue,re.typedValue],Ae=Se.slice(Se.indexOf(Fe)).slice(Fe.length);return Ae||!Fe?(0,_.langString)(Ae,B.language):(0,_.string)(Ae)}).onBinary([l.TypeURL.RDF_LANG_STRING,l.TypeURL.RDF_LANG_STRING],()=>(B,re)=>{if(B.language!==re.language)throw new f.IncompatibleLanguageOperation(B,re);const[Se,Fe]=[B.typedValue,re.typedValue],Ae=Se.slice(Se.indexOf(Fe)).slice(Fe.length);return Ae||!Fe?(0,_.langString)(Ae,B.language):(0,_.string)(Ae)}).collect()},G={arity:1,overloads:(0,_.declare)(c.RegularOperator.ENCODE_FOR_URI).onStringly1Typed(()=>B=>(0,_.string)(encodeURI(B))).collect()},Y={arity:2,overloads:(0,_.declare)(c.RegularOperator.LANG_MATCHES).onBinaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(B,re)=>(0,_.bool)(E.langMatches(B,re))).collect()},ee=()=>(B,re)=>(0,_.bool)(E.matches(B,re)),ae=()=>(B,re,Se)=>(0,_.bool)(E.matches(B,re,Se)),ve={arity:[2,3],overloads:(0,_.declare)(c.RegularOperator.REGEX).onBinaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING],ee).onTernaryTyped([l.TypeAlias.SPARQL_STRINGLY,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],ae).collect()},me={arity:[3,4],overloads:(0,_.declare)(c.RegularOperator.REPLACE).onTernaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(B,re,Se)=>(0,_.string)(E.replace(B,re,Se))).set([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>([B,re,Se])=>{const Fe=E.replace(B.typedValue,re.typedValue,Se.typedValue);return(0,_.langString)(Fe,B.language)}).onQuaternaryTyped([l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>(B,re,Se,Fe)=>(0,_.string)(E.replace(B,re,Se,Fe))).set([l.TypeURL.RDF_LANG_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING,l.TypeURL.XSD_STRING],()=>([B,re,Se,Fe])=>{const Ae=E.replace(B.typedValue,re.typedValue,Se.typedValue,Fe.typedValue);return(0,_.langString)(Ae,B.language)}).collect()},Ee={arity:1,overloads:(0,_.declare)(c.RegularOperator.ABS).numericConverter(()=>B=>Math.abs(B)).collect()},k={arity:1,overloads:(0,_.declare)(c.RegularOperator.ROUND).numericConverter(()=>B=>Math.round(B)).collect()},W={arity:1,overloads:(0,_.declare)(c.RegularOperator.CEIL).numericConverter(()=>B=>Math.ceil(B)).collect()},M={arity:1,overloads:(0,_.declare)(c.RegularOperator.FLOOR).numericConverter(()=>B=>Math.floor(B)).collect()},S={arity:0,overloads:(0,_.declare)(c.RegularOperator.RAND).set([],()=>()=>(0,_.double)(Math.random())).collect()},x={arity:0,overloads:(0,_.declare)(c.RegularOperator.NOW).set([],B=>()=>new o.DateTimeLiteral((0,d.toDateTimeRepresentation)({date:B.now,timeZone:B.defaultTimeZone}))).collect()},z={arity:1,overloads:(0,_.declare)(c.RegularOperator.YEAR).onDateTime1(()=>B=>(0,_.integer)(B.typedValue.year)).set([l.TypeURL.XSD_DATE],()=>([B])=>(0,_.integer)(B.typedValue.year)).collect()},ue={arity:1,overloads:(0,_.declare)(c.RegularOperator.MONTH).onDateTime1(()=>B=>(0,_.integer)(B.typedValue.month)).set([l.TypeURL.XSD_DATE],()=>([B])=>(0,_.integer)(B.typedValue.month)).collect()},ge={arity:1,overloads:(0,_.declare)(c.RegularOperator.DAY).onDateTime1(()=>B=>(0,_.integer)(B.typedValue.day)).set([l.TypeURL.XSD_DATE],()=>([B])=>(0,_.integer)(B.typedValue.day)).collect()},we={arity:1,overloads:(0,_.declare)(c.RegularOperator.HOURS).onDateTime1(()=>B=>(0,_.integer)(B.typedValue.hours)).set([l.TypeURL.XSD_TIME],()=>([B])=>(0,_.integer)(B.typedValue.hours)).collect()},Me={arity:1,overloads:(0,_.declare)(c.RegularOperator.MINUTES).onDateTime1(()=>B=>(0,_.integer)(B.typedValue.minutes)).set([l.TypeURL.XSD_TIME],()=>([B])=>(0,_.integer)(B.typedValue.minutes)).collect()},Ue={arity:1,overloads:(0,_.declare)(c.RegularOperator.SECONDS).onDateTime1(()=>B=>(0,_.decimal)(B.typedValue.seconds)).set([l.TypeURL.XSD_TIME],()=>([B])=>(0,_.integer)(B.typedValue.seconds)).collect()},Ge={arity:1,overloads:(0,_.declare)(c.RegularOperator.TIMEZONE).onDateTime1(()=>B=>{const re={hours:B.typedValue.zoneHours,minutes:B.typedValue.zoneMinutes};if(re.hours===void 0&&re.minutes===void 0)throw new f.InvalidTimezoneCall(B.str());return new o.DayTimeDurationLiteral(re)}).copy({from:[l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE]}).copy({from:[l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_TIME]}).collect()},We={arity:1,overloads:(0,_.declare)(c.RegularOperator.TZ).onDateTime1(()=>B=>(0,_.string)((0,d.extractRawTimeZone)(B.str()))).copy({from:[l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_DATE]}).copy({from:[l.TypeURL.XSD_DATE_TIME],to:[l.TypeURL.XSD_TIME]}).collect()},lt={arity:1,overloads:(0,_.declare)(c.RegularOperator.MD5).onString1Typed(()=>B=>(0,_.string)((0,a.hash)(B))).collect()},Wr={arity:1,overloads:(0,_.declare)(c.RegularOperator.SHA1).onString1Typed(()=>B=>(0,_.string)((0,e.sha1)().update(B).digest("hex"))).collect()},gr={arity:1,overloads:(0,_.declare)(c.RegularOperator.SHA256).onString1Typed(()=>B=>(0,_.string)((0,e.sha256)().update(B).digest("hex"))).collect()},$r={arity:1,overloads:(0,_.declare)(c.RegularOperator.SHA384).onString1Typed(()=>B=>(0,_.string)((0,e.sha384)().update(B).digest("hex"))).collect()},zt={arity:1,overloads:(0,_.declare)(c.RegularOperator.SHA512).onString1Typed(()=>B=>(0,_.string)((0,e.sha512)().update(B).digest("hex"))).collect()},mr={arity:3,overloads:(0,_.declare)(c.RegularOperator.TRIPLE).onTerm3(B=>(...re)=>new o.Quad(O.quad(re[0].toRDF(),re[1].toRDF(),re[2].toRDF()),B.superTypeProvider)).collect()},Nr={arity:1,overloads:(0,_.declare)(c.RegularOperator.SUBJECT).onQuad1(()=>B=>B.subject).collect()},kr={arity:1,overloads:(0,_.declare)(c.RegularOperator.PREDICATE).onQuad1(()=>B=>B.predicate).collect()},xn={arity:1,overloads:(0,_.declare)(c.RegularOperator.OBJECT).onQuad1(()=>B=>B.object).collect()},At={arity:1,overloads:(0,_.declare)(c.RegularOperator.IS_TRIPLE).onTerm1(()=>B=>(0,_.bool)(B.termType==="quad")).collect()};return hh.definitions={"!":A,uplus:T,uminus:I,"*":D,"/":U,"+":H,"-":N,"=":R,"!=":X,"<":ne,">":$,"<=":C,">=":Q,isiri:se,isuri:se,isblank:ie,isliteral:be,isnumeric:he,str:Te,lang:Ne,datatype:ye,iri:ce,uri:ce,strdt:xe,strlang:oe,uuid:J,struuid:le,strlen:pe,substr:L,ucase:P,lcase:m,strstarts:b,strends:v,contains:j,strbefore:V,strafter:q,encode_for_uri:G,langmatches:Y,regex:ve,replace:me,abs:Ee,round:k,ceil:W,floor:M,rand:S,now:x,year:z,month:ue,day:ge,hours:we,minutes:Me,seconds:Ue,timezone:Ge,tz:We,md5:lt,sha1:Wr,sha256:gr,sha384:$r,sha512:zt,triple:mr,subject:Nr,predicate:kr,object:xn,istriple:At},hh}var yh={},n6;function Zhe(){if(n6)return yh;n6=1,Object.defineProperty(yh,"__esModule",{value:!0}),yh.specialDefinitions=void 0;const t=wR,e=oa(),r=ii,n=Ke,a=io(),s=Uf(),o={arity:1,async applyAsync({args:U,mapping:H}){return u({args:U,mapping:H})},applySynchronously({args:U,mapping:H}){return u({args:U,mapping:H})}};function u({args:U,mapping:H}){const N=U[0];if(N.expressionType!==e.ExpressionType.Variable)throw new n.InvalidArgumentTypes(U,r.SpecialOperator.BOUND);const R=H.has((0,a.expressionToVar)(N));return(0,a.bool)(R)}const c={arity:3,async applyAsync({args:U,mapping:H,evaluate:N}){const F=(await N(U[0],H)).coerceEBV();return N(F?U[1]:U[2],H)},applySynchronously({args:U,mapping:H,evaluate:N}){const F=N(U[0],H).coerceEBV();return N(F?U[1]:U[2],H)}},l={arity:Number.POSITIVE_INFINITY,async applyAsync({args:U,mapping:H,evaluate:N}){const R=[];for(const F of U)try{return await N(F,H)}catch(X){R.push(X)}throw new n.CoalesceError(R)},applySynchronously({args:U,mapping:H,evaluate:N}){const R=[];for(const F of U)try{return N(F,H)}catch(X){R.push(X)}throw new n.CoalesceError(R)}},d={arity:2,async applyAsync({args:U,mapping:H,evaluate:N}){const[R,F]=U;try{if((await N(R,H)).coerceEBV())return(0,a.bool)(!0);const C=(await N(F,H)).coerceEBV();return(0,a.bool)(C)}catch(X){if(!(await N(F,H)).coerceEBV())throw X;return(0,a.bool)(!0)}},applySynchronously({args:U,mapping:H,evaluate:N}){const[R,F]=U;try{if(N(R,H).coerceEBV())return(0,a.bool)(!0);const C=N(F,H).coerceEBV();return(0,a.bool)(C)}catch(X){if(!N(F,H).coerceEBV())throw X;return(0,a.bool)(!0)}}},f={arity:2,async applyAsync({args:U,mapping:H,evaluate:N}){const[R,F]=U;try{if(!(await N(R,H)).coerceEBV())return(0,a.bool)(!1);const C=(await N(F,H)).coerceEBV();return(0,a.bool)(C)}catch(X){if((await N(F,H)).coerceEBV())throw X;return(0,a.bool)(!1)}},applySynchronously({args:U,mapping:H,evaluate:N}){const[R,F]=U;try{if(!N(R,H).coerceEBV())return(0,a.bool)(!1);const C=N(F,H).coerceEBV();return(0,a.bool)(C)}catch(X){if(N(F,H).coerceEBV())throw X;return(0,a.bool)(!1)}}},h={arity:2,async applyAsync({args:U,mapping:H,evaluate:N}){const[R,F]=U.map($=>N($,H)),[X,ne]=await Promise.all([R,F]);return(0,a.bool)(X.toRDF().equals(ne.toRDF()))},applySynchronously({args:U,mapping:H,evaluate:N}){const[R,F]=U.map(X=>N(X,H));return(0,a.bool)(R.toRDF().equals(F.toRDF()))}},p={arity:Number.POSITIVE_INFINITY,checkArity(U){return U.length>0},async applyAsync(U){const{args:H,mapping:N,evaluate:R}=U,[F,...X]=H,ne=await R(F,N);return y(ne,{...U,args:X},[])},applySynchronously(U){const{args:H,mapping:N,evaluate:R}=U,[F,...X]=H,ne=R(F,N);return _(ne,{...U,args:X},[])}};async function y(U,H,N){const{args:R,mapping:F,evaluate:X}=H;if(R.length===0)return N.every($=>!$)?(0,a.bool)(!1):Promise.reject(new n.InError(N));try{const ne=R.shift(),$=await X(ne,F);return s.regularFunctions[r.RegularOperator.EQUAL].apply([U,$],H).typedValue?(0,a.bool)(!0):y(U,H,[...N,!1])}catch(ne){return y(U,H,[...N,ne])}}function _(U,H,N){const{args:R,mapping:F,evaluate:X}=H;if(R.length===0){if(N.every($=>!$))return(0,a.bool)(!1);throw new n.InError(N)}try{const ne=R.shift(),$=X(ne,F);return s.regularFunctions[r.RegularOperator.EQUAL].apply([U,$],H).typedValue?(0,a.bool)(!0):_(U,H,[...N,!1])}catch(ne){return _(U,H,[...N,ne])}}const E={arity:Number.POSITIVE_INFINITY,checkArity(U){return U.length>0},async applyAsync(U){const N=await s.specialFunctions[r.SpecialOperator.IN].applyAsync(U);return(0,a.bool)(!N.typedValue)},applySynchronously(U){const N=s.specialFunctions[r.SpecialOperator.IN].applySynchronously(U);return(0,a.bool)(!N.typedValue)}},w=(0,a.declare)(r.SpecialOperator.CONCAT).onStringly1(()=>U=>U).collect(),O={arity:Number.POSITIVE_INFINITY,async applyAsync(U){const{args:H,mapping:N,evaluate:R,functionArgumentsCache:F,superTypeProvider:X}=U,ne=H.map(async ie=>R(ie,N)).map(async ie=>{const be=w.search([await ie],X,F);if(!be)throw new n.InvalidArgumentTypes(H,r.SpecialOperator.CONCAT);return be(U)([await ie])}),$=await Promise.all(ne),Q=$.map(ie=>ie.typedValue).join(""),se=A($)?$[0].language:void 0;return se?(0,a.langString)(Q,se):(0,a.string)(Q)},applySynchronously(U){const{args:H,mapping:N,evaluate:R,superTypeProvider:F,functionArgumentsCache:X}=U,ne=H.map(se=>R(se,N)).map(se=>{const ie=w.search([se],F,X);if(!ie)throw new n.InvalidArgumentTypes(H,r.SpecialOperator.CONCAT);return ie(U)([se])}),C=ne.map(se=>se.typedValue).join(""),Q=A(ne)?ne[0].language:void 0;return Q?(0,a.langString)(C,Q):(0,a.string)(C)}};function A(U){return U.length>0&&U.every(H=>H.language===U[0].language)}const T=(0,a.declare)(r.SpecialOperator.BNODE).onString1(()=>U=>U).collect(),I={arity:Number.POSITIVE_INFINITY,checkArity(U){return U.length===0||U.length===1},async applyAsync(U){const{args:H,mapping:N,evaluate:R,superTypeProvider:F,functionArgumentsCache:X}=U,ne=H.length===1?await R(H[0],N):void 0;let $;if(ne){const C=T.search([ne],F,X);if(!C)throw new n.InvalidArgumentTypes(H,r.SpecialOperator.BNODE);$=C(U)([ne]).str()}if(U.bnode){const C=await U.bnode($);return new e.BlankNode(C)}return D($)},applySynchronously(U){const{args:H,mapping:N,evaluate:R,superTypeProvider:F,functionArgumentsCache:X}=U,ne=H.length===1?R(H[0],N):void 0;let $;if(ne){const C=T.search([ne],F,X);if(!C)throw new n.InvalidArgumentTypes(H,r.SpecialOperator.BNODE);$=C(U)([ne]).str()}if(U.bnode){const C=U.bnode($);return new e.BlankNode(C)}return D($)}};function D(U){return new e.BlankNode(U||t.v4())}return yh.specialDefinitions={bound:o,if:c,coalesce:l,"&&":f,"||":d,sameterm:h,in:p,notin:E,concat:O,bnode:I},yh}var i6;function Uf(){return i6||(i6=1,function(t){var e=g&&g.__createBinding||(Object.create?function(c,l,d,f){f===void 0&&(f=d);var h=Object.getOwnPropertyDescriptor(l,d);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(c,f,h)}:function(c,l,d,f){f===void 0&&(f=d),c[f]=l[d]}),r=g&&g.__exportStar||function(c,l){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(l,d)&&e(l,c,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.OverloadTree=t.namedFunctions=t.specialFunctions=t.regularFunctions=void 0;const n=wa,a=R2,s=Yhe(),o=Zhe();r(wa,t),t.regularFunctions=Object.fromEntries(Object.entries(s.definitions).map(([c,l])=>[c,new n.RegularFunction(c,l)])),t.specialFunctions=Object.fromEntries(Object.entries(o.specialDefinitions).map(([c,l])=>[c,new n.SpecialFunction(c,l)])),t.namedFunctions=Object.fromEntries(Object.entries(a.namedDefinitions).map(([c,l])=>[c,new n.NamedFunction(c,l)]));var u=B7();Object.defineProperty(t,"OverloadTree",{enumerable:!0,get:function(){return u.OverloadTree}})}(zT)),zT}Object.defineProperty(ty,"__esModule",{value:!0});ty.AlgebraTransformer=void 0;const epe=vt,hu=oa(),YT=Uf(),ZT=ii,w1=Ke,a6=Ke,tpe=Dl();class wd extends tpe.TermTransformer{constructor(e){super(e.superTypeProvider),this.algebraConfig=e,this.creatorConfig={type:e.type,creator:e.creator}}transformAlgebra(e){const r=epe.Algebra.expressionTypes;switch(e.expressionType){case r.TERM:return this.transformTerm(e);case r.OPERATOR:return this.transformOperator(e);case r.NAMED:return this.transformNamed(e);case r.EXISTENCE:return wd.transformExistence(e);case r.AGGREGATE:return wd.transformAggregate(e);case r.WILDCARD:return wd.transformWildcard(e)}}static transformWildcard(e){return new hu.NamedNode(e.wildcard.value)}transformOperator(e){const r=e.operator.toLowerCase();if(ZT.SpecialOperators.has(r)){const o=r,u=e.args.map(l=>this.transformAlgebra(l)),c=YT.specialFunctions[o];if(!c.checkArity(u))throw new w1.InvalidArity(u,o);return new hu.SpecialOperator(u,c.applyAsync,c.applySynchronously)}if(!ZT.Operators.has(r))throw new w1.UnknownOperator(e.operator);const n=r,a=e.args.map(o=>this.transformAlgebra(o)),s=YT.regularFunctions[n];if(!wd.hasCorrectArity(a,s.arity))throw new w1.InvalidArity(a,n);return new hu.Operator(a,o=>s.apply(o,this.algebraConfig))}wrapSyncFunction(e,r){return n=>{try{const a=e(n.map(s=>s.toRDF()));return this.transformRDFTermUnsafe(a)}catch(a){throw new a6.ExtensionFunctionError(r,a)}}}wrapAsyncFunction(e,r){return async n=>{try{const a=await e(n.map(s=>s.toRDF()));return this.transformRDFTermUnsafe(a)}catch(a){throw new a6.ExtensionFunctionError(r,a)}}}transformNamed(e){const r=e.name.value,n=e.args.map(a=>this.transformAlgebra(a));if(ZT.NamedOperators.has(r)){const a=e.name.value,s=YT.namedFunctions[a];return new hu.Named(e.name,n,o=>s.apply(o,this.algebraConfig))}if(this.creatorConfig.type==="sync"){const a=this.creatorConfig.creator(e.name);if(a){const s=this.wrapSyncFunction(a,e.name.value);return new hu.SyncExtension(e.name,n,s)}}else{const a=this.creatorConfig.creator(e.name);if(a){const s=this.wrapAsyncFunction(a,e.name.value);return new hu.AsyncExtension(e.name,n,s)}}throw new w1.UnknownNamedOperator(e.name.value)}static hasCorrectArity(e,r){return Array.isArray(r)?r.includes(e.length):e.length===r}static transformAggregate(e){const r=e.aggregator;return new hu.Aggregate(r,e)}static transformExistence(e){return new hu.Existence(e)}}ty.AlgebraTransformer=wd;var V2={},ny={};Object.defineProperty(ny,"__esModule",{value:!0});ny.BaseExpressionEvaluator=void 0;const rpe=io(),npe=Ke;class ipe{constructor(e){this.termTransformer=e}term(e,r){return e}variable(e,r){const n=r.get((0,rpe.expressionToVar)(e));if(!n)throw new npe.UnboundVariableError(e.name,r);return this.termTransformer.transformRDFTermUnsafe(n)}}ny.BaseExpressionEvaluator=ipe;Object.defineProperty(V2,"__esModule",{value:!0});V2.AsyncRecursiveEvaluator=void 0;const mo=oa(),ape=Dl(),eE=Ke,spe=ny;class ope extends spe.BaseExpressionEvaluator{constructor(e,r){super(r||new ape.TermTransformer(e.superTypeProvider)),this.context=e,this.subEvaluators={[mo.ExpressionType.Term]:this.term.bind(this),[mo.ExpressionType.Variable]:this.variable.bind(this),[mo.ExpressionType.Operator]:this.evalOperator.bind(this),[mo.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[mo.ExpressionType.Named]:this.evalNamed.bind(this),[mo.ExpressionType.Existence]:this.evalExistence.bind(this),[mo.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[mo.ExpressionType.AsyncExtension]:this.evalAsyncExtension.bind(this)}}async evaluate(e,r){const n=this.subEvaluators[e.expressionType];if(!n)throw new eE.InvalidExpressionType(e);return n.bind(this)(e,r)}async evalOperator(e,r){const n=e.args.map(s=>this.evaluate(s,r)),a=await Promise.all(n);return e.apply(a)}async evalSpecialOperator(e,r){const n=this.evaluate.bind(this),a={args:e.args,mapping:r,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:n,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return e.applyAsync(a)}async _evalAsyncArgs(e,r){const n=e.map(a=>this.evaluate(a,r));return await Promise.all(n)}async evalNamed(e,r){return e.apply(await this._evalAsyncArgs(e.args,r))}async evalAsyncExtension(e,r){return await e.apply(await this._evalAsyncArgs(e.args,r))}async evalExistence(e,r){if(!this.context.exists)throw new eE.NoExistenceHook;return new mo.BooleanLiteral(await this.context.exists(e.expression,r))}async evalAggregate(e,r){if(!this.context.aggregate)throw new eE.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(await this.context.aggregate(e.expression))}}V2.AsyncRecursiveEvaluator=ope;Object.defineProperty(ey,"__esModule",{value:!0});ey.AsyncEvaluator=void 0;const upe=ps,cpe=ty,lpe=Ct,dpe=V2;class SR{static completeContext(e){const r=e.now||new Date(Date.now());return{now:r,baseIRI:e.baseIRI||void 0,functionArgumentsCache:e.functionArgumentsCache||{},superTypeProvider:{cache:e.typeCache||new upe.LRUCache({max:1e3}),discoverer:e.getSuperType||(()=>"term")},extensionFunctionCreator:e.extensionFunctionCreator,exists:e.exists,aggregate:e.aggregate,bnode:e.bnode,defaultTimeZone:e.defaultTimeZone||(0,lpe.extractTimeZone)(r)}}constructor(e,r={}){this.algExpr=e;const n=r.extensionFunctionCreator||(()=>{}),a=SR.completeContext(r),s=new cpe.AlgebraTransformer({type:"async",creator:n,...a});this.expr=s.transformAlgebra(e),this.evaluator=new dpe.AsyncRecursiveEvaluator(a,s)}async evaluate(e){return(await this.evaluator.evaluate(this.expr,e)).toRDF()}async evaluateAsEBV(e){return(await this.evaluator.evaluate(this.expr,e)).coerceEBV()}async evaluateAsInternal(e){return await this.evaluator.evaluate(this.expr,e)}}ey.AsyncEvaluator=SR;var iy={},H2={};Object.defineProperty(H2,"__esModule",{value:!0});H2.SyncRecursiveEvaluator=void 0;const vo=oa(),fpe=Dl(),tE=Ke,hpe=ny;class ppe extends hpe.BaseExpressionEvaluator{constructor(e,r){super(r||new fpe.TermTransformer(e.superTypeProvider)),this.context=e,this.subEvaluators={[vo.ExpressionType.Term]:this.term.bind(this),[vo.ExpressionType.Variable]:this.variable.bind(this),[vo.ExpressionType.Operator]:this.evalOperator.bind(this),[vo.ExpressionType.SpecialOperator]:this.evalSpecialOperator.bind(this),[vo.ExpressionType.Named]:this.evalNamed.bind(this),[vo.ExpressionType.Existence]:this.evalExistence.bind(this),[vo.ExpressionType.Aggregate]:this.evalAggregate.bind(this),[vo.ExpressionType.SyncExtension]:this.evalSyncExtension.bind(this)}}evaluate(e,r){const n=this.subEvaluators[e.expressionType];if(!n)throw new tE.InvalidExpressionType(e);return n.bind(this)(e,r)}evalOperator(e,r){const n=e.args.map(a=>this.evaluate(a,r));return e.apply(n)}evalSpecialOperator(e,r){const n=this.evaluate.bind(this),a={args:e.args,mapping:r,superTypeProvider:this.context.superTypeProvider,now:this.context.now,baseIRI:this.context.baseIRI,functionArgumentsCache:this.context.functionArgumentsCache,evaluate:n,bnode:this.context.bnode,defaultTimeZone:this.context.defaultTimeZone};return e.applySynchronously(a)}evalNamed(e,r){const n=e.args.map(a=>this.evaluate(a,r));return e.apply(n)}evalSyncExtension(e,r){const n=e.args.map(a=>this.evaluate(a,r));return e.apply(n)}evalExistence(e,r){if(!this.context.exists)throw new tE.NoExistenceHook;return new vo.BooleanLiteral(this.context.exists(e.expression,r))}evalAggregate(e,r){if(!this.context.aggregate)throw new tE.NoAggregator;return this.termTransformer.transformRDFTermUnsafe(this.context.aggregate(e.expression))}}H2.SyncRecursiveEvaluator=ppe;Object.defineProperty(iy,"__esModule",{value:!0});iy.SyncEvaluator=void 0;const ype=ps,bpe=ty,_pe=Ct,gpe=H2;class TR{static completeContext(e){const r=e.now||new Date(Date.now());return{now:r,baseIRI:e.baseIRI||void 0,functionArgumentsCache:e.functionArgumentsCache||{},superTypeProvider:{cache:e.typeCache||new ype.LRUCache({max:1e3}),discoverer:e.getSuperType||(()=>"term")},extensionFunctionCreator:e.extensionFunctionCreator,exists:e.exists,aggregate:e.aggregate,bnode:e.bnode,defaultTimeZone:e.defaultTimeZone||(0,_pe.extractTimeZone)(r)}}constructor(e,r={}){this.algExpr=e,this.context=r;const n=r.extensionFunctionCreator||(()=>{}),a=TR.completeContext(r),s=new bpe.AlgebraTransformer({type:"sync",creator:n,...a});this.expr=s.transformAlgebra(e),this.evaluator=new gpe.SyncRecursiveEvaluator(a,s)}evaluate(e){return this.evaluator.evaluate(this.expr,e).toRDF()}evaluateAsEBV(e){return this.evaluator.evaluate(this.expr,e).coerceEBV()}evaluateAsInternal(e){return this.evaluator.evaluate(this.expr,e)}}iy.SyncEvaluator=TR;var k2={},ay={},Q2={},G2={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.Aggregator=ua.AggregatorComponent=void 0;const s6=nr,mpe=Dl(),vpe=ii,wpe=v2();class Spe{static emptyValue(){}constructor(e,r){this.sharedContext=r,this.separator=e.separator||" ",this.termTransformer=new mpe.TermTransformer(r.superTypeProvider)}termToNumericOrError(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a numeric literal`);if(!(0,wpe.isSubTypeOf)(e.datatype.value,vpe.TypeAlias.SPARQL_NUMERIC,this.sharedContext.superTypeProvider))throw new Error(`Term datatype ${e.datatype.value} with value ${e.value} has type ${e.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(e)}}ua.AggregatorComponent=Spe;class Tpe{constructor(e,r){this.aggregatorComponent=r,this.variableValues=new Map,this.distinct=e.distinct}static emptyValue(e){return e.emptyValue()}result(){return this.aggregatorComponent.result()}put(e,r=""){this.canSkip(e,r)||(this.aggregatorComponent.put(e),this.addSeen(e,r))}canSkip(e,r){const n=this.variableValues.get(r);return this.distinct&&n!==void 0&&n.has(s6.termToString(e))}addSeen(e,r){this.distinct&&(this.variableValues.has(r)||this.variableValues.set(r,new Set),this.variableValues.get(r).add(s6.termToString(e)))}}ua.Aggregator=Tpe;Object.defineProperty(G2,"__esModule",{value:!0});G2.Average=void 0;const Epe=oa(),o6=Uf(),Ope=io(),u6=ii,Ape=ua;class ER extends Ape.AggregatorComponent{constructor(){super(...arguments),this.summer=o6.regularFunctions[u6.RegularOperator.ADDITION],this.divider=o6.regularFunctions[u6.RegularOperator.DIVISION],this.state=void 0}static emptyValue(){return(0,Ope.integer)(0).toRDF()}put(e){if(this.state===void 0){const r=this.termToNumericOrError(e);this.state={sum:r,count:1}}else{const r=this.termToNumericOrError(e);this.state.sum=this.summer.apply([this.state.sum,r],this.sharedContext),this.state.count++}}result(){if(this.state===void 0)return ER.emptyValue();const e=new Epe.IntegerLiteral(this.state.count);return this.divider.apply([this.state.sum,e],this.sharedContext).toRDF()}}G2.Average=ER;var z2={};Object.defineProperty(z2,"__esModule",{value:!0});z2.Count=void 0;const c6=io(),xpe=ua;class OR extends xpe.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}static emptyValue(){return(0,c6.integer)(0).toRDF()}put(e){this.state===void 0&&(this.state=0),this.state++}result(){return this.state===void 0?OR.emptyValue():(0,c6.integer)(this.state).toRDF()}}z2.Count=OR;var W2={};Object.defineProperty(W2,"__esModule",{value:!0});W2.GroupConcat=void 0;const l6=io(),Rpe=ua;class AR extends Rpe.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}static emptyValue(){return(0,l6.string)("").toRDF()}put(e){this.state===void 0?this.state=e.value:this.state+=this.separator+e.value}result(){return this.state===void 0?AR.emptyValue():(0,l6.string)(this.state).toRDF()}}W2.GroupConcat=AR;var X2={};Object.defineProperty(X2,"__esModule",{value:!0});X2.Max=void 0;const Ipe=q2(),Ppe=ua;class xR extends Ppe.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a literal`);this.state===void 0?this.state=e:(0,Ipe.orderTypes)(this.state,e)===-1&&(this.state=e)}result(){return this.state===void 0?xR.emptyValue():this.state}}X2.Max=xR;var K2={};Object.defineProperty(K2,"__esModule",{value:!0});K2.Min=void 0;const Dpe=q2(),Npe=ua;class RR extends Npe.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a literal`);this.state===void 0?this.state=e:(0,Dpe.orderTypes)(this.state,e)===1&&(this.state=e)}result(){return this.state===void 0?RR.emptyValue():this.state}}K2.Min=RR;var J2={};Object.defineProperty(J2,"__esModule",{value:!0});J2.Sample=void 0;const jpe=ua;class IR extends jpe.AggregatorComponent{constructor(){super(...arguments),this.state=void 0}put(e){this.state===void 0&&(this.state=e)}result(){return this.state===void 0?IR.emptyValue():this.state}}J2.Sample=IR;var Y2={};Object.defineProperty(Y2,"__esModule",{value:!0});Y2.Sum=void 0;const Cpe=Uf(),Mpe=io(),Fpe=ii,Lpe=ua;class PR extends Lpe.AggregatorComponent{constructor(){super(...arguments),this.state=void 0,this.summer=Cpe.regularFunctions[Fpe.RegularOperator.ADDITION]}static emptyValue(){return(0,Mpe.integer)(0).toRDF()}put(e){if(this.state===void 0)this.state=this.termToNumericOrError(e);else{const r=this.termToNumericOrError(e);this.state=this.summer.apply([this.state,r],this.sharedContext)}}result(){return this.state===void 0?PR.emptyValue():this.state.toRDF()}}Y2.Sum=PR;Object.defineProperty(Q2,"__esModule",{value:!0});Q2.aggregators=void 0;const Bpe=G2,$pe=z2,Upe=W2,qpe=X2,Vpe=K2,Hpe=J2,kpe=Y2;Q2.aggregators={count:$pe.Count,sum:kpe.Sum,min:Vpe.Min,max:qpe.Max,avg:Bpe.Average,group_concat:Upe.GroupConcat,sample:Hpe.Sample};var Z2={};Object.defineProperty(Z2,"__esModule",{value:!0});Z2.WildcardCountAggregator=void 0;const Qpe=nr,d6=io();class Gpe{constructor(e){this.bindingValues=new Map,this.counter=0,this.distinct=e.distinct}putBindings(e){this.handleDistinct(e)||(this.counter+=1)}static emptyValue(){return(0,d6.integer)(0).toRDF()}result(){return(0,d6.integer)(this.counter).toRDF()}handleDistinct(e){if(this.distinct){const r=[...e];r.sort((u,c)=>u[0].value.localeCompare(c[0].value));const n=r.map(([u])=>u.value).join(","),a=r.map(([,u])=>Qpe.termToString(u)).join(","),s=this.bindingValues.get(n),o=s!==void 0&&s.has(a);return s||this.bindingValues.set(n,new Set),this.bindingValues.get(n).add(a),o}return!1}}Z2.WildcardCountAggregator=Gpe;Object.defineProperty(ay,"__esModule",{value:!0});ay.BaseAggregateEvaluator=void 0;const f6=vt,h6=Q2,p6=ua,y6=Z2,zpe=Ke;class Wpe{constructor(e,r,n){this.throwError=!1,this.isWildcard=!1,this.errorOccurred=!1,this.expression=e,this.aggregator=new p6.Aggregator(e,new h6.aggregators[e.aggregator](e,r)),this.throwError=n||!1,this.isWildcard=e.expression.expressionType===f6.Algebra.expressionTypes.WILDCARD,this.isWildcard&&(this.wildcardAggregator=new y6.WildcardCountAggregator(e))}static emptyValue(e,r=!1){let n;if(e.expression.expressionType===f6.Algebra.expressionTypes.WILDCARD?n=y6.WildcardCountAggregator.emptyValue():n=p6.Aggregator.emptyValue(h6.aggregators[e.aggregator]),n===void 0&&r)throw new zpe.EmptyAggregateError;return n}result(){if(!this.errorOccurred)return this.isWildcard?this.wildcardAggregator.result():this.aggregator.result()}}ay.BaseAggregateEvaluator=Wpe;Object.defineProperty(k2,"__esModule",{value:!0});k2.AggregateEvaluator=void 0;const Xpe=ay,b6=iy;class Kpe extends Xpe.BaseAggregateEvaluator{constructor(e,r,n){super(e,b6.SyncEvaluator.completeContext(r||{}),n),this.evaluator=new b6.SyncEvaluator(e.expression,r)}put(e){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(e);else try{const r=this.evaluator.evaluate(e);this.aggregator.put(r)}catch(r){this.safeThrow(r)}}safeThrow(e){if(this.throwError)throw e;this.errorOccurred=!0}}k2.AggregateEvaluator=Kpe;var ew={};Object.defineProperty(ew,"__esModule",{value:!0});ew.AsyncAggregateEvaluator=void 0;const _6=ey,Jpe=ay;class Ype extends Jpe.BaseAggregateEvaluator{constructor(e,r,n){super(e,_6.AsyncEvaluator.completeContext(r||{}),n),this.evaluator=new _6.AsyncEvaluator(e.expression,r),this.errorOccurred=!1}async put(e){if(!this.errorOccurred)if(this.isWildcard)this.wildcardAggregator.putBindings(e);else try{const r=await this.evaluator.evaluate(e);if(!r||this.errorOccurred)return;this.aggregator.put(r)}catch(r){this.safeThrow(r)}}safeThrow(e){if(this.throwError)throw e;this.errorOccurred=!0}}ew.AsyncAggregateEvaluator=Ype;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAggregateEvaluator=t.orderTypes=t.isExpressionError=t.ExpressionError=t.AggregateEvaluator=t.SyncEvaluator=t.AsyncEvaluator=void 0;var e=ey;Object.defineProperty(t,"AsyncEvaluator",{enumerable:!0,get:function(){return e.AsyncEvaluator}});var r=iy;Object.defineProperty(t,"SyncEvaluator",{enumerable:!0,get:function(){return r.SyncEvaluator}});var n=k2;Object.defineProperty(t,"AggregateEvaluator",{enumerable:!0,get:function(){return n.AggregateEvaluator}});var a=Ke;Object.defineProperty(t,"ExpressionError",{enumerable:!0,get:function(){return a.ExpressionError}}),Object.defineProperty(t,"isExpressionError",{enumerable:!0,get:function(){return a.isExpressionError}});var s=q2();Object.defineProperty(t,"orderTypes",{enumerable:!0,get:function(){return s.orderTypes}});var o=ew;Object.defineProperty(t,"AsyncAggregateEvaluator",{enumerable:!0,get:function(){return o.AsyncAggregateEvaluator}})})(Pl);Object.defineProperty(g2,"__esModule",{value:!0});g2.ActorQueryOperationExtend=void 0;const Zpe=Un,S1=ct,rE=Pl;class e0e extends S1.ActorQueryOperationTypedMediated{constructor(e){super(e,"extend")}async testOperation(e,r){return new rE.AsyncEvaluator(e.expression,S1.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)),!0}async runOperation(e,r){const{expression:n,input:a,variable:s}=e,o=S1.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:a,context:r}));if((await o.metadata()).variables.some(f=>f.equals(s)))throw new Error(`Illegal binding to variable '${s.value}' that has already been bound`);const u={...S1.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},c=new rE.AsyncEvaluator(n,u),l=async(f,h,p)=>{try{const y=await c.evaluate(f),_=f.set(s,y);p(_)}catch(y){(0,rE.isExpressionError)(y)?(p(f),this.logWarn(r,`Expression error for extend operation (${y.message})with bindings '${(0,Zpe.bindingsToString)(f)}'`)):d.emit("error",y)}h()},d=o.bindingsStream.transform({autoStart:!1,transform:l});return{type:"bindings",bindingsStream:d,async metadata(){const f=await o.metadata();return{...f,variables:[...f.variables,s]}}}}}g2.ActorQueryOperationExtend=e0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(g2,t)})(O7);var Z7={},tw={};Object.defineProperty(tw,"__esModule",{value:!0});tw.ActorQueryOperationFilterSparqlee=void 0;const t0e=Un,bh=ct,nE=Pl;class r0e extends bh.ActorQueryOperationTypedMediated{constructor(e){super(e,"filter")}async testOperation(e,r){const n={...bh.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)};return new nE.AsyncEvaluator(e.expression,n),!0}async runOperation(e,r){const n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),a=bh.ActorQueryOperation.getSafeBindings(n);bh.ActorQueryOperation.validateQueryOutput(a,"bindings");const s={...bh.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},o=new nE.AsyncEvaluator(e.expression,s),u=async(l,d,f)=>{try{await o.evaluateAsEBV(l)&&f(l)}catch(h){(0,nE.isExpressionError)(h)?this.logWarn(r,"Error occurred while filtering.",()=>({error:h,bindings:(0,t0e.bindingsToString)(l)})):c.emit("error",h)}d()},c=a.bindingsStream.transform({transform:u,autoStart:!1});return{type:"bindings",bindingsStream:c,metadata:a.metadata}}}tw.ActorQueryOperationFilterSparqlee=r0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(tw,t)})(Z7);var eB={},rw={};Object.defineProperty(rw,"__esModule",{value:!0});rw.ActorQueryOperationFromQuad=void 0;const n0e=ct,Fp=vt;class dr extends n0e.ActorQueryOperationTypedMediated{constructor(e){super(e,"from")}static copyOperation(e,r){const n={};for(const a of Object.keys(e))Array.isArray(e[a])&&a!=="template"?a==="variables"?n[a]=e[a]:n[a]=e[a].map(r):dr.ALGEBRA_TYPES.includes(e[a].type)?n[a]=r(e[a]):n[a]=e[a];return n}static applyOperationDefaultGraph(e,r){if(e.type==="bgp"&&e.patterns.length>0||e.type==="path"||e.type==="pattern"){if(e.type==="bgp")return dr.joinOperations(e.patterns.map(a=>{if(a.graph.termType!=="DefaultGraph")return dr.FACTORY.createBgp([a]);const s=r.map(o=>dr.FACTORY.createBgp([dr.FACTORY.createPattern(a.subject,a.predicate,a.object,o)]));return dr.unionOperations(s)}));if(e.graph.termType!=="DefaultGraph")return e;const n=r.map(a=>e.type==="path"?dr.FACTORY.createPath(e.subject,e.predicate,e.object,a):dr.FACTORY.createPattern(e.subject,e.predicate,e.object,a));return dr.unionOperations(n)}return dr.copyOperation(e,n=>this.applyOperationDefaultGraph(n,r))}static applyOperationNamedGraph(e,r,n){if(e.type==="bgp"&&e.patterns.length>0||e.type==="path"||e.type==="pattern"){const a=e.type==="bgp"?e.patterns[0].graph:e.graph;if(a.termType==="DefaultGraph")return{type:Fp.Algebra.types.BGP,patterns:[]};if(a.termType==="Variable"){if(r.length===1){const o=r[0],u={};u[`?${a.value}`]=o;const c=dr.FACTORY.createValues([a],[u]);let l;return e.type==="bgp"?l=dr.FACTORY.createBgp(e.patterns.map(d=>dr.FACTORY.createPattern(d.subject,d.predicate,d.object,o))):e.type==="path"?l=dr.FACTORY.createPath(e.subject,e.predicate,e.object,o):l=dr.FACTORY.createPattern(e.subject,e.predicate,e.object,o),dr.FACTORY.createJoin([c,l])}return dr.unionOperations(r.map(o=>dr.applyOperationNamedGraph(e,[o],n)))}return[...r,...n].some(o=>o.equals(a))?e:{type:Fp.Algebra.types.BGP,patterns:[]}}return dr.copyOperation(e,a=>this.applyOperationNamedGraph(a,r,n))}static joinOperations(e){if(e.length===1)return e[0];if(e.length>1)return dr.FACTORY.createJoin(e);throw new Error("A join can only be applied on at least one operation")}static unionOperations(e){if(e.length===1)return e[0];if(e.length>1)return dr.FACTORY.createUnion(e);throw new Error("A union can only be applied on at least one operation")}static createOperation(e){let r=e.input;return e.default.length>0&&(r=dr.applyOperationDefaultGraph(r,e.default)),(e.named.length>0||e.default.length>0)&&(r=dr.applyOperationNamedGraph(r,e.named,e.default)),r}async testOperation(e,r){return!0}async runOperation(e,r){const n=dr.createOperation(e);return this.mediatorQueryOperation.mediate({operation:n,context:r})}}rw.ActorQueryOperationFromQuad=dr;dr.FACTORY=new Fp.Factory;dr.ALGEBRA_TYPES=Object.keys(Fp.Algebra.types).map(t=>Fp.Algebra.types[t]);(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rw,t)})(eB);var tB={},nw={};Object.defineProperty(nw,"__esModule",{value:!0});nw.ActorQueryOperationNop=void 0;const i0e=Un,a0e=ct,s0e=la,o0e=kt,u0e=new i0e.BindingsFactory;class c0e extends a0e.ActorQueryOperationTypedMediated{constructor(e){super(e,"nop")}async testOperation(e,r){return!0}async runOperation(e,r){return{bindingsStream:new o0e.SingletonIterator(u0e.bindings()),metadata:()=>Promise.resolve({state:new s0e.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}nw.ActorQueryOperationNop=c0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nw,t)})(tB);var rB={},iw={},aw={};Object.defineProperty(aw,"__esModule",{value:!0});aw.SortIterator=void 0;const l0e=kt;class d0e extends l0e.TransformIterator{constructor(e,r,n){super(e,n);const a=n&&n.window;this.windowLength=Number.isFinite(a)&&a>0?a:Number.POSITIVE_INFINITY,this.sort=r,this.sorted=[]}_read(e,r){let n,{length:a}=this.sorted;for(;a!==this.windowLength&&(n=this.source.read(),n!==null);){let s=0,o=a-1,u,c;for(;s<=o;)u=Math.trunc((s+o)/2),c=this.sort(n,this.sorted[u]),c<0?s=u+1:c>0?o=u-1:(s=u,o=-1);this.sorted.splice(s,0,n),a++}a===this.windowLength&&this._push(this.sorted.pop()),r()}_flush(e){let{length:r}=this.sorted;for(;r--;)this._push(this.sorted.pop());e()}}aw.SortIterator=d0e;Object.defineProperty(iw,"__esModule",{value:!0});iw.ActorQueryOperationOrderBySparqlee=void 0;const T1=ct,E1=Pl,g6=vt,f0e=aw;class h0e extends T1.ActorQueryOperationTypedMediated{constructor(e){super(e,"orderby"),this.window=e.window??Number.POSITIVE_INFINITY}async testOperation(e,r){for(let n of e.expressions)n=this.extractSortExpression(n),new E1.AsyncEvaluator(n,T1.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation));return!0}async runOperation(e,r){const n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r}),a=T1.ActorQueryOperation.getSafeBindings(n),s={window:this.window},o={...T1.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)};let{bindingsStream:u}=a;for(let c=e.expressions.length-1;c>=0;c--){let l=e.expressions[c];const d=this.isAscending(l);l=this.extractSortExpression(l);const f=new E1.AsyncEvaluator(l,o),h=async(_,E,w)=>{try{const O=await f.evaluate(_);w({bindings:_,result:O})}catch(O){(0,E1.isExpressionError)(O)||u.emit("error",O),w({bindings:_,result:void 0})}E()},p=u.transform({transform:h});u=new f0e.SortIterator(p,(_,E)=>{let w=(0,E1.orderTypes)(_.result,E.result);return d||(w*=-1),w},s).map(({bindings:_,result:E})=>_)}return{type:"bindings",bindingsStream:u,metadata:a.metadata}}extractSortExpression(e){const{expressionType:r,operator:n}=e;return r!==g6.Algebra.expressionTypes.OPERATOR?e:n==="desc"?e.args[0]:e}isAscending(e){const{expressionType:r,operator:n}=e;return r!==g6.Algebra.expressionTypes.OPERATOR?!0:n!=="desc"}}iw.ActorQueryOperationOrderBySparqlee=h0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(iw,t)})(rB);var nB={},sw={};Object.defineProperty(sw,"__esModule",{value:!0});sw.ActorQueryOperationProject=void 0;const m6=ct,p0e=F_,y0e=ft,b0e=new y0e.DataFactory;class _0e extends m6.ActorQueryOperationTypedMediated{constructor(e){super(e,"project")}async testOperation(e,r){return!0}async runOperation(e,r){const n=m6.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r})),a=await n.metadata(),s=e.variables,o=a.variables.filter(d=>!s.some(f=>d.value===f.value)),u=s.filter(d=>!a.variables.some(f=>d.value===f.value));if(u.length>0)throw new Error(`Variables '${u.map(d=>`?${d.value}`)}' are used in the projection result, but are not assigned.`);let c=o.length===0?n.bindingsStream:n.bindingsStream.transform({map(d){for(const f of o)d=d.delete(f);return d},autoStart:!1}),l=0;return c=c.transform({map(d){l++;const f=new Map;return d.map(h=>{if(h instanceof p0e.BlankNodeBindingsScoped){let p=f.get(h.value);return p||(p=b0e.blankNode(`${h.value}${l}`),f.set(h.value,p)),p}return h})},autoStart:!1}),{type:"bindings",bindingsStream:c,metadata:async()=>({...a,variables:s})}}}sw.ActorQueryOperationProject=_0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sw,t)})(nB);var iB={},ow={};Object.defineProperty(ow,"__esModule",{value:!0});ow.ActorQueryOperationService=void 0;const g0e=Un,v6=ct,O1=qt,m0e=la,v0e=kt,w0e=new g0e.BindingsFactory;class S0e extends v6.ActorQueryOperationTypedMediated{constructor(e){super(e,"service")}async testOperation(e,r){if(e.name.termType!=="NamedNode")throw new Error(`${this.name} can only query services by IRI, while a ${e.name.termType} was given.`);return!0}async runOperation(e,r){const n=e.name.value;let a=r.delete(O1.KeysRdfResolveQuadPattern.source).delete(O1.KeysRdfResolveQuadPattern.sources).delete(O1.KeysInitQuery.queryString);const s=this.forceSparqlEndpoint?"sparql":void 0;a=a.set(O1.KeysRdfResolveQuadPattern.sources,[{type:s,value:n}]);let o;try{o=v6.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:a}))}catch(u){if(e.silent)o={bindingsStream:new v0e.SingletonIterator(w0e.bindings()),type:"bindings",metadata:async()=>({state:new m0e.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};else throw u}return o}}ow.ActorQueryOperationService=S0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ow,t)})(iB);var aB={},uw={};Object.defineProperty(uw,"__esModule",{value:!0});uw.ActorQueryOperationSlice=void 0;const T0e=ct,E0e=qt;class O0e extends T0e.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,r){return!0}async runOperation(e,r){e.length&&(r=r.set(E0e.KeysQueryOperation.limitIndicator,e.length));const n=await this.mediatorQueryOperation.mediate({operation:e.input,context:r});if(n.type==="bindings")return{type:"bindings",bindingsStream:this.sliceStream(n.bindingsStream,e),metadata:this.sliceMetadata(n,e)};if(n.type==="quads")return{type:"quads",quadStream:this.sliceStream(n.quadStream,e),metadata:this.sliceMetadata(n,e)};throw new Error(`Invalid query output type: Expected 'bindings' or 'quads' but got '${n.type}'`)}sliceStream(e,r){const n=!!r.length||r.length===0,{start:a}=r,s=n?r.start+r.length-1:Number.POSITIVE_INFINITY;return e.transform({offset:a,limit:Math.max(s-a+1,0),autoStart:!1})}sliceMetadata(e,r){const n=!!r.length||r.length===0;return()=>e.metadata().then(a=>{const s={...a.cardinality};return Number.isFinite(s.value)&&(s.value=Math.max(0,s.value-r.start),n&&(s.value=Math.min(s.value,r.length))),{...a,cardinality:s}})}}uw.ActorQueryOperationSlice=O0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(uw,t)})(aB);var sB={},cw={},nu={},lw={},sy={};Object.defineProperty(sy,"__esModule",{value:!0});sy.PathVariableObjectIterator=void 0;const A0e=ct,x0e=kt,R0e=ft,I0e=nr,P0e=vt,D0e=new R0e.DataFactory,N0e=new P0e.Factory;class j0e extends x0e.BufferedIterator{constructor(e,r,n,a,s,o,u=16){super({autoStart:!0}),this.subject=e,this.predicate=r,this.graph=n,this.context=a,this.mediatorQueryOperation=s,this.maxRunningOperations=u,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,o)}_end(e){for(const r of this.runningOperations)r.destroy();super._end(e)}_push(e,r=!0){let n;if(r&&(n=(0,I0e.termToString)(e),this.termHashes.has(n)))return;const a=D0e.variable("b");this.pendingOperations.push({variable:a,operation:N0e.createPath(e,this.predicate,a,this.graph)}),n&&(this.termHashes.set(n,e),super._push(e))}_read(e,r){const n=this;(async function(){for(;n.runningOperations.length<n.maxRunningOperations&&n.pendingOperations.length!==0;){const o=n.pendingOperations.pop(),u=A0e.ActorQueryOperation.getSafeBindings(await n.mediatorQueryOperation.mediate({operation:o.operation,context:n.context})),c=u.bindingsStream.transform({autoStart:!1,transform(l,d,f){const h=l.get(o.variable);f(h),d()}});c.done||(n.runningOperations.push(c),c.on("error",l=>n.destroy(l)),c.on("readable",()=>{n.readable=!0,n._fillBufferAsync()}),c.on("end",()=>{n.runningOperations.splice(n.runningOperations.indexOf(c),1),n.readable=!0,n._fillBufferAsync()})),n.setProperty("metadata",u.metadata)}let a=0,s;for(;a!==(a=e);)for(let o=0;o<n.runningOperations.length&&e>0;o++)(s=n.runningOperations[o].read())!==null&&(e--,n._push(s));n.runningOperations.length===0&&n.pendingOperations.length===0&&n.close()})().then(()=>{r()},a=>this.destroy(a))}}sy.PathVariableObjectIterator=j0e;Object.defineProperty(lw,"__esModule",{value:!0});lw.ActorAbstractPath=void 0;const C0e=Un,_h=ct,iE=qt,A1=kt,M0e=ft,aE=nr,F0e=vt,L0e=sy,B0e=new M0e.DataFactory,sE=new C0e.BindingsFactory;class Rs extends _h.ActorQueryOperationTypedMediated{constructor(e,r){super(e,"path"),this.predicateType=r}async testOperation(e,r){if(e.predicate.type!==this.predicateType)throw new Error(`This Actor only supports ${this.predicateType} Path operations.`);return!0}generateVariable(e,r){return r?e&&(e.subject.value===r||e.object.value===r)?this.generateVariable(e,`${r}b`):B0e.variable(r):this.generateVariable(e,"b")}async isPathArbitraryLengthDistinct(e,r){return e.get(iE.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(e=e.set(iE.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:e,operation:void 0}):(e=e.set(iE.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:e,operation:_h.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:Rs.FACTORY.createDistinct(r),context:e}))})}async predicateStarGraphVariable(e,r,n,a,s){const o=this.generateVariable(Rs.FACTORY.createPath(e,n,r,a)),u=Rs.FACTORY.createUnion([Rs.FACTORY.createPattern(e,o,r,a),Rs.FACTORY.createPattern(r,o,e,a)]),c=_h.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:s,operation:u})),l=new Set;return{bindingsStream:new A1.MultiTransformIterator(c.bindingsStream,{multiTransform:f=>{const h=f.get(a);return l.has(h.value)?new A1.EmptyIterator:(l.add(h.value),new A1.TransformIterator(async()=>{const p=new A1.BufferedIterator;return await this.getObjectsPredicateStar(e,n,h,s,{},p,{count:0}),p.transform({transform(y,_,E){E(sE.bindings([[r,y],[a,h]])),_()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:c.metadata}}async getObjectsPredicateStarEval(e,r,n,a,s,o){if(a.termType==="Variable")return this.predicateStarGraphVariable(e,n,r,a,s);const u=new L0e.PathVariableObjectIterator(e,r,a,s,this.mediatorQueryOperation,o);return{bindingsStream:u.transform({autoStart:!1,transform(l,d,f){f(sE.bindings([[n,l]])),d()}}),async metadata(){const l=await new Promise(d=>{u.getProperty("metadata",f=>d(f()))});return l.cardinality.value++,l}}}async getObjectsPredicateStar(e,r,n,a,s,o,u){const c=(0,aE.termToString)(e);if(s[c])return;o._push(e),s[c]=e,u.count++;const l=this.generateVariable(),d=Rs.FACTORY.createPath(e,r,l,n),f=_h.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:d,context:a}));return f.bindingsStream.on("data",async h=>{const p=h.get(l);await this.getObjectsPredicateStar(p,r,n,a,s,o,u)}),f.bindingsStream.on("end",()=>{--u.count===0&&o.close()}),f.metadata}async getSubjectAndObjectBindingsPredicateStar(e,r,n,a,s,o,u,c,l,d,f){const h=(0,aE.termToString)(a)+(0,aE.termToString)(o);if(l[h])return;if(f.count++,l[h]=!0,d._push(sE.bindings([[e,n],[r,a]])),h in c){const y=await c[h];for(const _ of y)await this.getSubjectAndObjectBindingsPredicateStar(e,r,n,_,s,o,u,c,l,d,f);--f.count===0&&d.close();return}const p=new Promise(async(y,_)=>{const E=[],w=this.generateVariable(),O=Rs.FACTORY.createPath(a,s,w,o),A=_h.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:O,context:u}));A.bindingsStream.on("data",async T=>{const I=T.get(w);E.push(I),await this.getSubjectAndObjectBindingsPredicateStar(e,r,n,I,s,o,u,c,l,d,f)}),A.bindingsStream.on("error",_),A.bindingsStream.on("end",()=>{--f.count===0&&d.close(),y(E)})});c[h]=p}}lw.ActorAbstractPath=Rs;Rs.FACTORY=new F0e.Factory;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lw,t),r(sy,t)})(nu);Object.defineProperty(cw,"__esModule",{value:!0});cw.ActorQueryOperationPathAlt=void 0;const w6=nu,$0e=y2,U0e=ct,q0e=kt,V0e=vt;class H0e extends w6.ActorAbstractPath{constructor(e){super(e,V0e.Algebra.types.ALT)}async runOperation(e,r){const n=e.predicate,a=(await Promise.all(n.input.map(u=>this.mediatorQueryOperation.mediate({context:r,operation:w6.ActorAbstractPath.FACTORY.createPath(e.subject,u,e.object,e.graph)})))).map(U0e.ActorQueryOperation.getSafeBindings);return{type:"bindings",bindingsStream:new q0e.UnionIterator(a.map(u=>u.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(a.map(u=>u.metadata())).then(u=>$0e.ActorQueryOperationUnion.unionMetadata(u,!0))}}}cw.ActorQueryOperationPathAlt=H0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(cw,t)})(sB);var oB={},dw={};Object.defineProperty(dw,"__esModule",{value:!0});dw.ActorQueryOperationPathInv=void 0;const S6=nu,k0e=vt;class Q0e extends S6.ActorAbstractPath{constructor(e){super(e,k0e.Algebra.types.INV)}async runOperation(e,r){const n=e.predicate,a=S6.ActorAbstractPath.FACTORY.createPath(e.object,n.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:a,context:r})}}dw.ActorQueryOperationPathInv=Q0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dw,t)})(oB);var uB={},fw={};Object.defineProperty(fw,"__esModule",{value:!0});fw.ActorQueryOperationPathLink=void 0;const T6=nu,G0e=vt;class z0e extends T6.ActorAbstractPath{constructor(e){super(e,G0e.Algebra.types.LINK)}async runOperation(e,r){const n=e.predicate,a=T6.ActorAbstractPath.FACTORY.createPattern(e.subject,n.iri,e.object,e.graph);return this.mediatorQueryOperation.mediate({operation:a,context:r})}}fw.ActorQueryOperationPathLink=z0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fw,t)})(uB);var cB={},hw={};Object.defineProperty(hw,"__esModule",{value:!0});hw.ActorQueryOperationPathNps=void 0;const E6=nu,W0e=ct,X0e=vt;class K0e extends E6.ActorAbstractPath{constructor(e){super(e,X0e.Algebra.types.NPS)}async runOperation(e,r){const n=e.predicate,a=this.generateVariable(e),s=E6.ActorAbstractPath.FACTORY.createPattern(e.subject,a,e.object,e.graph),o=W0e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:s,context:r}));return{type:"bindings",bindingsStream:o.bindingsStream.transform({filter(c){return!n.iris.some(l=>l.equals(c.get(a)))},transform(c,l,d){d(c.delete(a)),l()}}),metadata:o.metadata}}}hw.ActorQueryOperationPathNps=K0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hw,t)})(cB);var lB={},pw={};Object.defineProperty(pw,"__esModule",{value:!0});pw.ActorQueryOperationPathOneOrMore=void 0;const Ec=nu,J0e=Un,O6=ct,oE=kt,Y0e=vt,A6=new J0e.BindingsFactory;class Z0e extends Ec.ActorAbstractPath{constructor(e){super(e,Y0e.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(e,r){const n=await this.isPathArbitraryLengthDistinct(r,e);if(n.operation)return n.operation;r=n.context;const a=e.predicate;if(e.subject.termType!=="Variable"&&e.object.termType==="Variable"){const c=e.object,l=await this.getObjectsPredicateStarEval(e.subject,a.path,c,e.graph,r,!1),d=e.graph.termType==="Variable"?[c,e.graph]:[c];return{type:"bindings",bindingsStream:l.bindingsStream,metadata:async()=>({...await l.metadata(),variables:d})}}if(e.subject.termType==="Variable"&&e.object.termType==="Variable"){const c=Ec.ActorAbstractPath.FACTORY.createDistinct(Ec.ActorAbstractPath.FACTORY.createPath(e.subject,e.predicate.path,e.object,e.graph)),l=O6.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:c})),d=e.subject,f=e.object,h={},p=new oE.MultiTransformIterator(l.bindingsStream,{multiTransform:_=>{const E=_.get(d),w=_.get(f),O=e.graph.termType==="Variable"?_.get(e.graph):e.graph;return new oE.TransformIterator(async()=>{const A=new oE.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(d,f,E,w,a.path,O,r,h,{},A,{count:0}),A.transform({transform(T,I,D){e.graph.termType==="Variable"&&(T=T.set(e.graph,O)),D(T),I()}})},{maxBufferSize:128})},autoStart:!1}),y=e.graph.termType==="Variable"?[d,f,e.graph]:[d,f];return{type:"bindings",bindingsStream:p,metadata:async()=>({...await l.metadata(),variables:y})}}if(e.subject.termType==="Variable"&&e.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:r,operation:Ec.ActorAbstractPath.FACTORY.createPath(e.object,Ec.ActorAbstractPath.FACTORY.createOneOrMorePath(Ec.ActorAbstractPath.FACTORY.createInv(a.path)),e.subject,e.graph)});const s=this.generateVariable(),o=O6.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:Ec.ActorAbstractPath.FACTORY.createPath(e.subject,a,s,e.graph)}));return{type:"bindings",bindingsStream:o.bindingsStream.transform({filter:c=>e.object.equals(c.get(s)),transform(c,l,d){const f=e.graph.termType==="Variable"?A6.bindings([[e.graph,c.get(e.graph)]]):A6.bindings();d(f),l()}}),metadata:async()=>({...await o.metadata(),variables:e.graph.termType==="Variable"?[e.graph]:[]})}}}pw.ActorQueryOperationPathOneOrMore=Z0e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pw,t)})(lB);var dB={},yw={};Object.defineProperty(yw,"__esModule",{value:!0});yw.ActorQueryOperationPathZeroOrMore=void 0;const uE=nu,eye=Un,tye=ct,x1=kt,R1=nr,rye=vt,x6=new eye.BindingsFactory;class nye extends uE.ActorAbstractPath{constructor(e){super(e,rye.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(e,r){const n=await this.isPathArbitraryLengthDistinct(r,e);if(n.operation)return n.operation;r=n.context;const a=e.predicate,s=e.subject.termType==="Variable",o=e.object.termType==="Variable";if(e.subject.termType==="Variable"&&e.object.termType==="Variable"){const h=this.generateVariable(e),p=uE.ActorAbstractPath.FACTORY.createPattern(e.subject,h,e.object,e.graph),y=tye.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:p})),_=e.subject,E=e.object,w=new Set,O={},A=new x1.MultiTransformIterator(y.bindingsStream,{multiTransform:I=>{const D=I.get(_),U=I.get(E),H=e.graph.termType==="Variable"?I.get(e.graph):e.graph,N=(0,R1.termToString)(D)+(0,R1.termToString)(H),R=(0,R1.termToString)(U)+(0,R1.termToString)(H);return new x1.TransformIterator(async()=>{if(w.has(N)&&w.has(R))return new x1.EmptyIterator;const F=new x1.BufferedIterator,X={count:0};return w.has(N)||(w.add(N),await this.getSubjectAndObjectBindingsPredicateStar(_,E,D,D,a.path,H,r,O,{},F,X)),w.has(R)||(w.add(R),await this.getSubjectAndObjectBindingsPredicateStar(_,E,U,U,a.path,H,r,O,{},F,X)),F.transform({transform(ne,$,C){e.graph.termType==="Variable"&&(ne=ne.set(e.graph,H)),C(ne),$()}})})}}),T=e.graph.termType==="Variable"?[_,e.object,e.graph]:[_,e.object];return{type:"bindings",bindingsStream:A,metadata:async()=>({...await y.metadata(),variables:T})}}if(!s&&!o){const h=this.generateVariable(),p=await this.getObjectsPredicateStarEval(e.subject,a.path,h,e.graph,r,!0);return{type:"bindings",bindingsStream:p.bindingsStream.transform({filter:_=>e.object.equals(_.get(h)),transform(_,E,w){const O=e.graph.termType==="Variable"?x6.bindings([[e.graph,_.get(e.graph)]]):x6.bindings();w(O),E()}}),metadata:async()=>({...await p.metadata(),variables:e.graph.termType==="Variable"?[e.graph]:[]})}}const u=s?e.object:e.subject,c=s?e.subject:e.object,l=s?uE.ActorAbstractPath.FACTORY.createInv(a.path):a.path,d=await this.getObjectsPredicateStarEval(u,l,c,e.graph,r,!0),f=e.graph.termType==="Variable"?[c,e.graph]:[c];return{type:"bindings",bindingsStream:d.bindingsStream,metadata:async()=>({...await d.metadata(),variables:f})}}}yw.ActorQueryOperationPathZeroOrMore=nye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(yw,t)})(dB);var fB={},bw={};Object.defineProperty(bw,"__esModule",{value:!0});bw.ActorQueryOperationPathZeroOrOne=void 0;const Oc=nu,iye=Un,R6=ct,aye=la,I6=kt,sye=vt,cE=new iye.BindingsFactory;class oye extends Oc.ActorAbstractPath{constructor(e){super(e,sye.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(e,r){const n=e.predicate,a=[];if(e.subject.termType!=="Variable"&&e.object.termType!=="Variable"&&e.subject.equals(e.object))return{type:"bindings",bindingsStream:new I6.SingletonIterator(cE.bindings()),metadata:()=>Promise.resolve({state:new aye.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]})};const s=await this.isPathArbitraryLengthDistinct(r,e);if(s.operation)return s.operation;r=s.context;const o=R6.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:Oc.ActorAbstractPath.FACTORY.createPath(e.subject,n.path,e.object,e.graph)}));let u;if(e.subject.termType==="Variable"&&e.object.termType==="Variable"){const c=this.generateVariable(e),l=R6.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({context:r,operation:Oc.ActorAbstractPath.FACTORY.createFilter(Oc.ActorAbstractPath.FACTORY.createPattern(e.subject,c,e.object,e.graph),Oc.ActorAbstractPath.FACTORY.createOperatorExpression("=",[Oc.ActorAbstractPath.FACTORY.createTermExpression(e.subject),Oc.ActorAbstractPath.FACTORY.createTermExpression(e.object)]))})).bindingsStream.transform({map(d){return d.delete(c)},autoStart:!1});u=new I6.UnionIterator([l,o.bindingsStream],{autoStart:!1})}else e.subject.termType==="Variable"&&a.push(cE.bindings([[e.subject,e.object]])),e.object.termType==="Variable"&&a.push(cE.bindings([[e.object,e.subject]])),u=o.bindingsStream.prepend(a);return{type:"bindings",bindingsStream:u,metadata:o.metadata}}}bw.ActorQueryOperationPathZeroOrOne=oye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bw,t)})(fB);var hB={},_w={};Object.defineProperty(_w,"__esModule",{value:!0});_w.ActorQueryOperationAddRewrite=void 0;const P6=ct,uye=ft,cye=vt,pu=new uye.DataFactory;class lye extends P6.ActorQueryOperationTypedMediated{constructor(e){super(e,"add"),this.factory=new cye.Factory}async testOperation(e,r){return P6.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){const n=e.destination==="DEFAULT"?pu.defaultGraph():e.destination,a=e.source==="DEFAULT"?pu.defaultGraph():e.source,s=this.factory.createDeleteInsert(void 0,[this.factory.createPattern(pu.variable("s"),pu.variable("p"),pu.variable("o"),n)],this.factory.createPattern(pu.variable("s"),pu.variable("p"),pu.variable("o"),a));return this.mediatorQueryOperation.mediate({operation:s,context:r})}}_w.ActorQueryOperationAddRewrite=lye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_w,t)})(hB);var pB={},gw={};Object.defineProperty(gw,"__esModule",{value:!0});gw.ActorQueryOperationUpdateCompositeUpdate=void 0;const lE=ct;class dye extends lE.ActorQueryOperationTypedMediated{constructor(e){super(e,"compositeupdate")}async testOperation(e,r){return lE.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){return{type:"void",execute:()=>(async()=>{for(const a of e.updates)await lE.ActorQueryOperation.getSafeVoid(await this.mediatorQueryOperation.mediate({operation:a,context:r})).execute()})()}}}gw.ActorQueryOperationUpdateCompositeUpdate=dye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gw,t)})(pB);var yB={},mw={};Object.defineProperty(mw,"__esModule",{value:!0});mw.ActorQueryOperationCopyRewrite=void 0;const D6=ct,fye=vt;class hye extends D6.ActorQueryOperationTypedMediated{constructor(e){super(e,"copy"),this.factory=new fye.Factory}async testOperation(e,r){return D6.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){if(typeof e.destination=="string"&&typeof e.source=="string"&&e.destination===e.source||typeof e.destination!="string"&&typeof e.source!="string"&&e.destination.equals(e.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});const n=this.factory.createCompositeUpdate([this.factory.createDrop(e.destination,!0),this.factory.createAdd(e.source,e.destination,e.silent)]);return this.mediatorQueryOperation.mediate({operation:n,context:r})}}mw.ActorQueryOperationCopyRewrite=hye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mw,t)})(yB);var bB={},vw={};Object.defineProperty(vw,"__esModule",{value:!0});vw.ActorQueryOperationMoveRewrite=void 0;const N6=ct,pye=vt;class yye extends N6.ActorQueryOperationTypedMediated{constructor(e){super(e,"move"),this.factory=new pye.Factory}async testOperation(e,r){return N6.ActorQueryOperation.throwOnReadOnly(r),!0}runOperation(e,r){if(typeof e.destination=="string"&&typeof e.source=="string"&&e.destination===e.source||typeof e.destination!="string"&&typeof e.source!="string"&&e.destination.equals(e.source))return Promise.resolve({type:"void",execute:()=>Promise.resolve()});const n=[this.factory.createDrop(e.destination,!0),this.factory.createAdd(e.source,e.destination,e.silent),this.factory.createDrop(e.source)],a=this.factory.createCompositeUpdate(n);return this.mediatorQueryOperation.mediate({operation:a,context:r})}}vw.ActorQueryOperationMoveRewrite=yye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(vw,t)})(bB);var DR={},ww={};Object.defineProperty(ww,"__esModule",{value:!0});ww.ActionObserverHttp=void 0;const bye=Je;let _ye=class extends bye.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(e,r,n){this.requests++}};ww.ActionObserverHttp=_ye;var Sw={};Object.defineProperty(Sw,"__esModule",{value:!0});Sw.ActorQueryResultSerializeSparqlJson=void 0;const gye=ds,mye=Jt;class Sd extends gye.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToJsonBindings(e){if(e.termType==="Literal"){const r=e,n={value:r.value,type:"literal"},{language:a}=r,{datatype:s}=r;return a?n["xml:lang"]=a:s&&s.value!=="http://www.w3.org/2001/XMLSchema#string"&&(n.datatype=s.value),n}return e.termType==="BlankNode"?{value:e.value,type:"bnode"}:e.termType==="Quad"?{value:{subject:Sd.bindingToJsonBindings(e.subject),predicate:Sd.bindingToJsonBindings(e.predicate),object:Sd.bindingToJsonBindings(e.object)},type:"triple"}:{value:e.value,type:"uri"}}async testHandleChecked(e,r){if(!["bindings","boolean"].includes(e.type))throw new Error("This actor can only handle bindings streams or booleans.");return!0}async runHandle(e,r,n){const a=new mye.Readable;a._read=()=>{};const s={};if(e.type==="bindings"){const u=await e.metadata();u.variables.length>0&&(s.vars=u.variables.map(c=>c.value))}a.push(`{"head": ${JSON.stringify(s)},
`);let o=!0;if(e.type==="bindings"){const u=e.bindingsStream;u.on("error",c=>{a.emit("error",c)}),u.on("data",c=>{o?a.push(`"results": { "bindings": [
`):a.push(`,
`);const l=Object.fromEntries([...c].map(([d,f])=>[d.value,Sd.bindingToJsonBindings(f)]));a.push(JSON.stringify(l)),o=!1}),u.on("end",()=>{o&&a.push(`"results": { "bindings": [
`),a.push(`
]}`),this.emitMetadata&&a.push(`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`),a.push(`}
`),a.push(null)})}else try{a.push(`"boolean":${await e.execute()}
}
`),a.push(null)}catch(u){a.once("newListener",()=>a.emit("error",u))}return{data:a}}}Sw.ActorQueryResultSerializeSparqlJson=Sd;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ww,t),r(Sw,t)})(DR);var NR={},Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.ActionObserverHttp=void 0;const vye=Je;class wye extends vye.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(e,r,n){this.requests++}}Tw.ActionObserverHttp=wye;var Ew={};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.ActorQueryResultSerializeStats=void 0;const Sye=ds,Tye=Jt,Eye=Yo();class Oye extends Sye.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,r){if(!["bindings","quads"].includes(e.type))throw new Error("This actor can only handle bindings streams or quad streams.");return!0}pushHeader(e){const r=["Result","Delay (ms)","HTTP requests"].join(",");e.push(`${r}
`)}pushStat(e,r,n){const a=[n,this.delay(r),this.httpObserver.requests].join(",");e.push(`${a}
`)}pushFooter(e,r){const n=["TOTAL",this.delay(r),this.httpObserver.requests].join(",");e.push(`${n}
`),e.push(null)}async runHandle(e,r,n){const a=new Tye.Readable;a._read=()=>{};const s=e.type==="bindings"?e.bindingsStream:e.quadStream,o=this.now();let u=1;return this.pushHeader(a),s.on("error",c=>a.emit("error",c)),s.on("data",()=>this.pushStat(a,o,u++)),s.on("end",()=>this.pushFooter(a,o)),{data:a}}now(){if(typeof performance>"u"){const e=Eye.hrtime();return e[0]*1e3+e[1]/1e6}return performance.now()}delay(e){return this.now()-e}}Ew.ActorQueryResultSerializeStats=Oye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Tw,t),r(Ew,t)})(NR);var _B={},Ow={};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.ActorQueryOperationDistinctHash=void 0;const j6=ct;class Aye extends j6.ActorQueryOperationTypedMediated{constructor(e){super(e,"distinct")}async testOperation(e,r){return!0}async runOperation(e,r){const n=j6.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r}));return{type:"bindings",bindingsStream:n.bindingsStream.filter(await this.newHashFilter(r)),metadata:n.metadata}}async newHashFilter(e){const{hashFunction:r}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:e}),n={};return a=>{const s=r(a);return!(s in n)&&(n[s]=!0)}}}Ow.ActorQueryOperationDistinctHash=Aye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ow,t)})(_B);var gB={},Aw={},xw={};Object.defineProperty(xw,"__esModule",{value:!0});xw.GroupsState=void 0;const xye=Un,C6=Pl,Rye=ft,Iye=new Rye.DataFactory,Pye=new xye.BindingsFactory;class Dye{constructor(e,r,n){this.hashFunction=e,this.pattern=r,this.sparqleeConfig=n,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(a=>a.value)),this.distinctHashes=r.aggregates.some(({distinct:a})=>a)?new Map:null,this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(e){const r=this.resultCheck();if(r)return r;this.waitCounter++;const n=e.filter((u,c)=>this.groupVariables.has(c.value)),a=this.hashBindings(n);let s=this.groupsInitializer.get(a),o;if(!s)s=(async()=>{const u={};if(await Promise.all(this.pattern.aggregates.map(async l=>{const d=l.variable.value;u[d]=new C6.AsyncAggregateEvaluator(l,this.sparqleeConfig),await u[d].put(e)})),this.distinctHashes){const l=this.hashBindings(e);this.distinctHashes.set(a,new Set([l]))}const c={aggregators:u,bindings:n};return this.groups.set(a,c),this.subtractWaitCounterAndCollect(),c})(),this.groupsInitializer.set(a,s),o=s;else{const u=s;o=(async()=>{const c=await u;await Promise.all(this.pattern.aggregates.map(async l=>{if(l.distinct){const f=this.hashBindings(e);if(this.distinctHashes.get(a).has(f))return;this.distinctHashes.get(a).add(f)}const d=l.variable.value;await c.aggregators[d].put(e)}))})().then(()=>{this.subtractWaitCounterAndCollect()})}return o}subtractWaitCounterAndCollect(){--this.waitCounter===0&&this.handleResultCollection()}handleResultCollection(){let e=[...this.groups].map(([r,n])=>{const{bindings:a,aggregators:s}=n;let o=a;for(const u in s){const c=s[u].result();c&&(o=o.set(Iye.variable(u),c))}return o});if(e.length===0&&this.groupVariables.size===0){const r=[];for(const n of this.pattern.aggregates){const a=n.variable,s=C6.AsyncAggregateEvaluator.emptyValue(n);s!==void 0&&r.push([a,s])}e=[Pye.bindings(r)]}this.waitResolver(e)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}collectResults(){const e=this.resultCheck();if(e)return e;this.resultHasBeenCalled=!0;const r=new Promise(n=>{this.waitResolver=n});return this.subtractWaitCounterAndCollect(),r}hashBindings(e){return this.hashFunction(e)}}xw.GroupsState=Dye;Object.defineProperty(Aw,"__esModule",{value:!0});Aw.ActorQueryOperationGroup=void 0;const I1=ct,Nye=Pl,M6=kt,jye=xw;class Cye extends I1.ActorQueryOperationTypedMediated{constructor(e){super(e,"group")}async testOperation(e,r){for(const n of e.aggregates)new Nye.AsyncEvaluator(n.expression,I1.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation));return!0}async runOperation(e,r){const{hashFunction:n}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:r}),{input:a,aggregates:s}=e,o=await this.mediatorQueryOperation.mediate({operation:a,context:r}),u=I1.ActorQueryOperation.getSafeBindings(o),c=[...e.variables,...s.map(f=>f.variable)],l=I1.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation);return{type:"bindings",bindingsStream:new M6.TransformIterator(()=>new Promise((f,h)=>{const p=new jye.GroupsState(n,e,l);u.bindingsStream.on("end",async()=>{try{const y=new M6.ArrayIterator(await p.collectResults(),{autoStart:!1});f(y)}catch(y){h(y)}}),u.bindingsStream.on("error",h),u.bindingsStream.on("data",y=>{p.consumeBindings(y).catch(h)})}),{autoStart:!1}),metadata:async()=>({...await u.metadata(),variables:c})}}}Aw.ActorQueryOperationGroup=Cye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Aw,t)})(gB);var mB={},Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.ActorQueryOperationReducedHash=void 0;const F6=ct,Mye=ps;class Fye extends F6.ActorQueryOperationTypedMediated{constructor(e){super(e,"reduced")}async testOperation(e,r){return!0}async runOperation(e,r){const n=F6.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.input,context:r}));return{type:"bindings",bindingsStream:n.bindingsStream.filter(await this.newHashFilter(r)),metadata:n.metadata}}async newHashFilter(e){const{hashFunction:r}=await this.mediatorHashBindings.mediate({allowHashCollisions:!0,context:e}),n=new Mye.LRUCache({max:this.cacheSize});return a=>{const s=r(a);return n.has(s)?!1:(n.set(s,!0),!0)}}}Rw.ActorQueryOperationReducedHash=Fye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Rw,t)})(mB);var vB={},Iw={};Object.defineProperty(Iw,"__esModule",{value:!0});Iw.ActorQueryResultSerializeRdf=void 0;const Lye=ds;class Bye extends Lye.ActorQueryResultSerialize{constructor(e){super(e)}async testHandle(e,r,n){if(e.type!=="quads")throw new Error(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:a}=await this.mediatorMediaTypeCombiner.mediate({context:n,mediaTypes:!0});if(!(r in a))throw new Error(`Actor ${this.name} can not handle media type ${r}. All available types: ${Object.keys(a)}`);return!0}async runHandle(e,r,n){return(await this.mediatorRdfSerialize.mediate({context:n,handle:{context:n,quadStream:e.quadStream},handleMediaType:r})).handle}async testMediaType(e){return!0}async getMediaTypes(e){return(await this.mediatorMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(e){return!0}async getMediaTypeFormats(e){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}}Iw.ActorQueryResultSerializeRdf=Bye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Iw,t)})(vB);var wB={},Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.ActorHttpWayback=void 0;const L6=fs,bb=qt,$ye=xl,Uye="http://wayback.archive-it.org/";function B6(t){const e=new Request(t.input,t.init);return{input:new Request(new URL(`/${e.url}`,Uye),e)}}function qye(t){const e=t.get(bb.KeysHttpProxy.httpProxyHandler);return e?r=>e.getProxy(B6(r)):r=>Promise.resolve(B6(r))}class Vye extends L6.ActorHttp{constructor(e){super(e)}async test(e){return!0}async run(e){let r=await this.mediatorHttp.mediate(e);if(r.status===404&&e.context.get(bb.KeysHttpWayback.recoverBrokenLinks)){let n=await this.mediatorHttp.mediate({...e,context:e.context.set(bb.KeysHttpWayback.recoverBrokenLinks,!1).set(bb.KeysHttpProxy.httpProxyHandler,{getProxy:qye(e.context)})});n.status===200&&([r,n]=[n,r]);const{body:a}=n;a&&("destroy"in a&&typeof a.destroy=="function"?a.destroy():await $ye(L6.ActorHttp.toNodeReadable(n.body)))}return r}}Pw.ActorHttpWayback=Vye;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Pw,t)})(wB);var SB={},Dw={},TB={},gh={},Nw={},mh={},vh={},jw={};Object.defineProperty(jw,"__esModule",{value:!0});jw.ContainerHandlerIdentifier=void 0;class Hye{canCombineWithGraph(){return!0}async handle(e,r,n,a,s,o){let u;if(r.emittedStack[o+1]&&r.idStack[o+1])u=r.idStack[o+1][0];else{const d=await n.getContainerKey(a[o],a,o)!==null?await n.resourceToTerm(await r.getContext(a),a[o]):n.dataFactory.blankNode();if(!d){r.emittedStack[o]=!1;return}u=d,r.idStack[o+1]=[u]}let c=r.idStack[o];c||(c=r.idStack[o]=[]),c.some(l=>l.equals(u))||c.push(u),await r.handlePendingContainerFlushBuffers()||(r.emittedStack[o]=!1)}}jw.ContainerHandlerIdentifier=Hye;var wh={},Sh={},$6;function Cw(){if($6)return Sh;$6=1,Object.defineProperty(Sh,"__esModule",{value:!0}),Sh.EntryHandlerPredicate=void 0;const t=yn,e=jl();let r=class EB{static async handlePredicateObject(a,s,o,u,c,l,d,f,h){const p=await s.getPropertiesDepth(o,u),y=await s.getDepthOffsetGraph(u,o),_=u-y,E=a.idStack[p];if(E&&!h)for(const w of E)if(y>=0){const A=a.idStack[_-1];if(A)for(const T of A)s.emitQuadChecked(u,w,c,l,T,d,f);else d?(s.validateReverseSubject(l),a.getUnidentifiedGraphBufferSafe(_-1).push({subject:l,predicate:c,object:w,isEmbedded:f})):a.getUnidentifiedGraphBufferSafe(_-1).push({subject:w,predicate:c,object:l,isEmbedded:f})}else{const A=await s.getGraphContainerValue(o,p);s.emitQuadChecked(u,w,c,l,A,d,f)}else if(d&&s.validateReverseSubject(l),h){if(a.rdfstar){a.idStack[u]&&a.emitError(new t.ErrorCoded(`Found an illegal @id inside an annotation: ${a.idStack[u][0].value}`,t.ERROR_CODES.INVALID_ANNOTATION));for(let A=0;A<u;A++)await s.unaliasKeyword(o[A],o,A)==="@id"&&a.emitError(new t.ErrorCoded("Found an illegal annotation inside an embedded node",t.ERROR_CODES.INVALID_ANNOTATION));const w=a.getAnnotationsBufferSafe(p),O={predicate:c,object:l,reverse:d,nestedAnnotations:[],depth:p};w.push(O);for(let A=w.length-2;A>=0;A--){const T=w[A];T.depth>p&&(O.nestedAnnotations.push(T),w.splice(A,1))}}}else a.getUnidentifiedValueBufferSafe(p).push({predicate:c,object:l,reverse:d,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(a,s,o,u,c){const l=o[u];if(l){const d=await a.getContext(o);if(!a.jsonLiteralStack[u]&&await s.predicateToTerm(d,o[u]))return e.Util.getContextValueType(d,l)==="@json"&&(a.jsonLiteralStack[u+1]=!0),!0}return!1}async test(a,s,o,u,c){return u[c]}async handle(a,s,o,u,c,l,d){const f=u[l],h=await a.getContext(u),p=await s.predicateToTerm(h,o);if(p){const y=await s.valueToTerm(h,o,c,l,u);if(y.length)for(let _ of y){let E=await s.unaliasKeywordParent(u,l);const w=e.Util.isPropertyReverse(h,f,E);let O=0;for(;E==="@reverse"||typeof E=="number";)typeof E=="number"?O++:l--,E=await s.unaliasKeywordParent(u,l-O);const A=e.Util.isPropertyInEmbeddedNode(E);s.validateReverseInEmbeddedNode(o,w,A);const T=e.Util.isPropertyInAnnotationObject(E);if(c){const I="@list"in e.Util.getContextValueContainer(h,o);if(I||c["@list"]){if((I&&!Array.isArray(c)&&!c["@list"]||c["@list"]&&!Array.isArray(c["@list"]))&&_!==s.rdfNil){const D=s.dataFactory.blankNode();a.emitQuad(l,s.dataFactory.quad(D,s.rdfRest,s.rdfNil,s.getDefaultGraph())),a.emitQuad(l,s.dataFactory.quad(D,s.rdfFirst,_,s.getDefaultGraph())),_=D}if(w&&!a.allowSubjectList)throw new t.ErrorCoded(`Found illegal list value in subject position at ${o}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await EB.handlePredicateObject(a,s,u,l,p,_,w,A,T)}}}};return Sh.EntryHandlerPredicate=r,Sh}var U6;function kye(){if(U6)return wh;U6=1,Object.defineProperty(wh,"__esModule",{value:!0}),wh.ContainerHandlerIndex=void 0;const t=yn,e=Cw(),r=jl();let n=class{canCombineWithGraph(){return!0}async handle(s,o,u,c,l,d){if(!Array.isArray(l)){const f="@graph"in s,h=await o.getContext(c),p=c[d-1],y=r.Util.getContextValueIndex(h,p);if(y){if(t.Util.isPotentialKeyword(y))throw new t.ErrorCoded(`Keywords can not be used as @index value, got: ${y}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof y!="string")throw new t.ErrorCoded(`@index values must be strings, got: ${y}`,t.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof l!="object"){if(r.Util.getContextValueType(h,p)!=="@id")throw new t.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${l}`,t.ERROR_CODES.INVALID_VALUE_OBJECT);const w=u.resourceToTerm(h,l);w&&(o.idStack[d+1]=[w])}const E=u.createVocabOrBaseTerm(h,y);if(E){const w=await u.valueToTerm(h,y,await u.getContainerKey(c[d],c,d),d,c);if(f){const O=await u.getGraphContainerValue(c,d+1);for(const A of w)o.emitQuad(d,u.dataFactory.quad(O,E,A,u.getDefaultGraph()))}else for(const O of w)await e.EntryHandlerPredicate.handlePredicateObject(o,u,c,d+1,E,O,!1,!1,!1)}}const _=f?2:1;await o.newOnValueJob(c.slice(0,c.length-_),l,d-_,!0),await o.handlePendingContainerFlushBuffers()}o.emittedStack[d]=!1}};return wh.ContainerHandlerIndex=n,wh}var Mw={};Object.defineProperty(Mw,"__esModule",{value:!0});Mw.ContainerHandlerLanguage=void 0;const q6=yn;class Qye{canCombineWithGraph(){return!1}async handle(e,r,n,a,s,o){const u=await n.getContainerKey(a[o],a,o);if(Array.isArray(s))s=s.map(c=>({"@value":c,"@language":u}));else{if(typeof s!="string")throw new q6.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,q6.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":u}}await r.newOnValueJob(a.slice(0,a.length-1),s,o-1,!0),r.emittedStack[o]=!1}}Mw.ContainerHandlerLanguage=Qye;var Th={},V6;function Gye(){if(V6)return Th;V6=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.ContainerHandlerType=void 0;const t=Cw(),e=jl();let r=class{canCombineWithGraph(){return!1}async handle(a,s,o,u,c,l){if(!Array.isArray(c)){if(typeof c=="string"){const h=await s.getContext(u),y=e.Util.getContextValueType(h,u[l-1])==="@vocab"?await o.createVocabOrBaseTerm(h,c):await o.resourceToTerm(h,c);if(y){const _={"@id":y.termType==="NamedNode"?y.value:c};await s.newOnValueJob(u.slice(0,u.length-1),_,l-1,!0),s.idStack[l+1]=[y]}}else{const h=!!s.idStack[l+1];h||delete s.idStack[l],await s.newOnValueJob(u.slice(0,u.length-1),c,l-1,!0),h||(s.idStack[l+1]=s.idStack[l])}const d=await o.getContainerKey(u[l],u,l),f=d!==null?o.createVocabOrBaseTerm(await s.getContext(u),d):null;f&&await t.EntryHandlerPredicate.handlePredicateObject(s,o,u,l+1,o.rdfType,f,!1,!1,!1),await s.handlePendingContainerFlushBuffers()}s.emittedStack[l]=!1}};return Th.ContainerHandlerType=r,Th}var H6;function OB(){if(H6)return vh;H6=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.EntryHandlerContainer=void 0;const t=jw,e=kye(),r=Mw,n=Gye(),a=jl();let s=class wu{static isSimpleGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length===2||Object.keys(u).length===1)}static isComplexGraphContainer(u){return"@graph"in u&&("@set"in u&&Object.keys(u).length>2||!("@set"in u)&&Object.keys(u).length>1)}static getContainerGraphIndex(u,c,l){let d=wu.isSimpleGraphContainer(u),f="";for(let h=c;h<l.length;h++)(!d||typeof l[h]=="number")&&(f+=":"+l[h]),!d&&typeof l[h]!="number"&&(d=!0);return f}static async getContainerHandler(u,c,l){const d={containers:{"@set":!0},depth:l,fallback:!0};let f=!1;const h=await u.getContext(c,2);for(let p=l-1;p>=0;p--)if(typeof c[p]!="number"){const y=a.Util.getContextValue(h,"@container",c[p],!1);if(y&&wu.isSimpleGraphContainer(y))return{containers:y,depth:p+1,fallback:!1};const _=a.Util.getContextValue(h,"@container",c[p-1],!1);if(_){const E="@graph"in _;for(const w in wu.CONTAINER_HANDLERS)if(_[w])return E?wu.CONTAINER_HANDLERS[w].canCombineWithGraph()?{containers:_,depth:p,fallback:!1}:d:f?d:{containers:_,depth:p,fallback:!1};return d}else{if(f)return d;f=!0}}return d}static async isBufferableContainerHandler(u,c,l){const d=await wu.getContainerHandler(u,c,l);return!d.fallback&&!("@graph"in d.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,c,l,d,f){return!!await this.test(u,c,null,l,d)}async test(u,c,l,d,f){const h=a.Util.getContextValueContainer(await u.getContext(d,2),d[f-1]);for(const p in wu.CONTAINER_HANDLERS)if(h[p])return{containers:h,handler:wu.CONTAINER_HANDLERS[p]};return null}async handle(u,c,l,d,f,h,p){return p.handler.handle(p.containers,u,c,d,f,h)}};return s.CONTAINER_HANDLERS={"@id":new t.ContainerHandlerIdentifier,"@index":new e.ContainerHandlerIndex,"@language":new r.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},vh.EntryHandlerContainer=s,vh}var zye=function t(e){return e===null||typeof e!="object"||e.toJSON!=null?JSON.stringify(e):Array.isArray(e)?"["+e.reduce((r,n,a)=>{const s=a===0?"":",",o=n===void 0||typeof n=="symbol"?null:n;return r+s+t(o)},"")+"]":"{"+Object.keys(e).sort().reduce((r,n,a)=>{if(e[n]===void 0||typeof e[n]=="symbol")return r;const s=r.length===0?"":",";return r+s+t(n)+":"+t(e[n])},"")+"}"},k6;function jl(){if(k6)return mh;k6=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.Util=void 0;const t=yn,e=ft,r=OB(),n=zye;let a=class ar{constructor(o){this.parsingContext=o.parsingContext,this.dataFactory=o.dataFactory||new e.DataFactory,this.rdfFirst=this.dataFactory.namedNode(ar.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(ar.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(ar.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(ar.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(ar.RDF+"JSON")}static getContextValue(o,u,c,l){const d=o.getContextRaw()[c];if(!d)return l;const f=d[u];return f===void 0?l:f}static getContextValueContainer(o,u){return ar.getContextValue(o,"@container",u,{"@set":!0})}static getContextValueType(o,u){const c=ar.getContextValue(o,"@type",u,null);return c==="@none"?null:c}static getContextValueLanguage(o,u){return ar.getContextValue(o,"@language",u,o.getContextRaw()["@language"]||null)}static getContextValueDirection(o,u){return ar.getContextValue(o,"@direction",u,o.getContextRaw()["@direction"]||null)}static isContextValueReverse(o,u){return!!ar.getContextValue(o,"@reverse",u,null)}static getContextValueIndex(o,u){return ar.getContextValue(o,"@index",u,o.getContextRaw()["@index"]||null)}static isPropertyReverse(o,u,c){return c==="@reverse"!==ar.isContextValueReverse(o,u)}static isPropertyInEmbeddedNode(o){return o==="@id"}static isPropertyInAnnotationObject(o){return o==="@annotation"}static isValidIri(o){return o!==null&&t.Util.isValidIri(o)}static isPrefixArray(o,u){if(o.length>u.length)return!1;for(let c=0;c<o.length;c++)if(o[c]!==u[c])return!1;return!0}async validateValueIndexes(o){if(this.parsingContext.validateValueIndexes){const u={};for(const c of o)if(c&&typeof c=="object"){const l=c["@id"],d=c["@index"];if(l&&d){const f=u[l];if(f&&f!==d)throw new t.ErrorCoded(`Conflicting @index value for ${l}`,t.ERROR_CODES.CONFLICTING_INDEXES);u[l]=d}}}}async valueToTerm(o,u,c,l,d){if(ar.getContextValueType(o,u)==="@json")return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];const f=typeof c;switch(f){case"object":if(c==null)return[];if(Array.isArray(c))return"@list"in ar.getContextValueContainer(o,u)?c.length===0?[this.rdfNil]:this.parsingContext.idStack[l+1]||[]:(await this.validateValueIndexes(c),[]);if(o=await this.getContextSelfOrPropertyScoped(o,u),"@context"in c&&(o=await this.parsingContext.parseContext(c["@context"],(await this.parsingContext.getContext(d,0)).getContextRaw())),c=await this.unaliasKeywords(c,d,l,o),"@value"in c){let h,p,y,_,E;for(u in c){const w=c[u];switch(u){case"@value":h=w;break;case"@language":p=w;break;case"@direction":y=w;break;case"@type":_=w;break;case"@index":E=w;break;case"@annotation":break;default:throw new t.ErrorCoded(`Unknown value entry '${u}' in @value: ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(_,d,l,!0,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(h),this.rdfJson)];if(h===null)return[];if(typeof h=="object")throw new t.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&E&&typeof E!="string")throw new t.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(E)}'`,t.ERROR_CODES.INVALID_INDEX_VALUE);if(p){if(typeof h!="string")throw new t.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!t.ContextParser.validateLanguage(p,this.parsingContext.strictValues,t.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(p=p.toLowerCase())}if(y){if(typeof h!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(h)}'`);if(!t.ContextParser.validateDirection(y,this.parsingContext.strictValues))return[]}if(p&&y&&this.parsingContext.rdfDirection){if(_)throw new t.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(l,h,p,y))}else if(p){if(_)throw new t.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(h,p)]}else if(y&&this.parsingContext.rdfDirection){if(_)throw new t.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,t.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(l,h,p,y))}else if(_){if(typeof _!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(_)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);const w=this.createVocabOrBaseTerm(o,_);if(!w)throw new t.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(_)}'`,t.ERROR_CODES.INVALID_TYPED_VALUE);if(w.termType!=="NamedNode")throw new t.ErrorCoded(`Illegal value type (${w.termType}): ${_}`,t.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(h,w)]}return await this.valueToTerm(new t.JsonLdContextNormalized({}),u,h,l,d)}else if("@set"in c){if(Object.keys(c).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${u}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in c){if(Object.keys(c).length>1)throw new t.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${u}'`,t.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const h=c["@list"];return Array.isArray(h)?h.length===0?[this.rdfNil]:this.parsingContext.idStack[l+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(d),u,h,l-1,d.slice(0,-1))}else{if("@reverse"in c&&typeof c["@reverse"]=="boolean")return[];if("@graph"in ar.getContextValueContainer(await this.parsingContext.getContext(d),u)){const h=this.parsingContext.graphContainerTermStack[l+1];return h?Object.values(h):[this.dataFactory.blankNode()]}else if("@id"in c){if(Object.keys(c).length>1&&(o=await this.parsingContext.getContext(d,0)),"@context"in c&&(o=await this.parsingContext.parseContext(c["@context"],o.getContextRaw())),c["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(o,c["@id"]));{const h=c["@id"];let p;if(typeof h=="object")if(this.parsingContext.rdfstar)p=this.parsingContext.idStack[l+1][0];else throw new t.ErrorCoded(`Found illegal @id '${c}'`,t.ERROR_CODES.INVALID_ID_VALUE);else p=this.resourceToTerm(o,h);return this.nullableTermToArray(p)}}else return this.parsingContext.emittedStack[l+1]||c&&typeof c=="object"&&Object.keys(c).length===0?this.parsingContext.idStack[l+1]||(this.parsingContext.idStack[l+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,u),u,c,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,u),u,(!!c).toString(),this.dataFactory.namedNode(ar.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(l,await this.getContextSelfOrPropertyScoped(o,u),u,c,this.dataFactory.namedNode(c%1===0&&c<1e21?ar.XSD_INTEGER:ar.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(o,u){const c=o.getContextRaw()[u];return c&&typeof c=="object"&&"@context"in c&&(o=await this.parsingContext.parseContext(c,o.getContextRaw(),!0)),o}nullableTermToArray(o){return o?[o]:[]}predicateToTerm(o,u){const c=o.expandTerm(u,!0,this.parsingContext.getExpandOptions());if(!c)return null;if(c[0]==="_"&&c[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(c.substr(2)):null;if(ar.isValidIri(c))return this.dataFactory.namedNode(c);if(c&&this.parsingContext.strictValues)this.parsingContext.emitError(new t.ErrorCoded(`Invalid predicate IRI: ${c}`,t.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const c=o.expandTerm(u,!1,this.parsingContext.getExpandOptions());if(!ar.isValidIri(c))if(c&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}createVocabOrBaseTerm(o,u){if(u.startsWith("_:"))return this.dataFactory.blankNode(u.substr(2));const c=this.parsingContext.getExpandOptions();let l=o.expandTerm(u,!0,c);if(l===u&&(l=o.expandTerm(u,!1,c)),!ar.isValidIri(l))if(l&&this.parsingContext.strictValues&&!l.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${l}`));else return null;return this.dataFactory.namedNode(l)}intToString(o,u){return typeof o=="number"?Number.isFinite(o)?o%1===0&&(!u||u.value!==ar.XSD_DOUBLE)?Number(o).toString():o.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):o>0?"INF":"-INF":o}stringValueToTerm(o,u,c,l,d){const f=ar.getContextValueType(u,c);if(f)if(f==="@id"){if(!d)return this.resourceToTerm(u,this.intToString(l,d))}else if(f==="@vocab"){if(!d)return this.createVocabOrBaseTerm(u,this.intToString(l,d))}else d=this.dataFactory.namedNode(f);if(!d){const h=ar.getContextValueLanguage(u,c),p=ar.getContextValueDirection(u,c);return p&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(o,this.intToString(l,d),h,p):this.dataFactory.literal(this.intToString(l,d),h)}return this.dataFactory.literal(this.intToString(l,d),d)}createLanguageDirectionLiteral(o,u,c,l){if(this.parsingContext.rdfDirection==="i18n-datatype")return c||(c=""),this.dataFactory.literal(u,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${c}_${l}`));{const d=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(ar.RDF+"value"),this.dataFactory.literal(u),f)),c&&this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(ar.RDF+"language"),this.dataFactory.literal(c),f)),this.parsingContext.emitQuad(o,this.dataFactory.quad(d,this.dataFactory.namedNode(ar.RDF+"direction"),this.dataFactory.literal(l),f)),d}}valueToJsonString(o){return n(o)}async unaliasKeyword(o,u,c,l,d){if(Number.isInteger(o))return o;if(!l){const f=this.parsingContext.unaliasedKeywordCacheStack[c];if(f)return f}if(!t.Util.isPotentialKeyword(o)){d=d||await this.parsingContext.getContext(u);let f=d.getContextRaw()[o];f&&typeof f=="object"&&(f=f["@id"]),t.Util.isValidKeyword(f)&&(o=f)}return l?o:this.parsingContext.unaliasedKeywordCacheStack[c]=o}async unaliasKeywordParent(o,u){return await this.unaliasKeyword(u>0&&o[u-1],o,u-1)}async unaliasKeywords(o,u,c,l){const d={};for(const f in o)d[await this.unaliasKeyword(f,u,c+1,!0,l)]=o[f];return d}async isLiteral(o,u){for(let c=u;c>=0;c--){if(await this.unaliasKeyword(o[c],o,c)==="@annotation")return!1;if(this.parsingContext.literalStack[c]||this.parsingContext.jsonLiteralStack[c])return!0}return!1}async getDepthOffsetGraph(o,u){for(let c=o-1;c>0;c--)if(await this.unaliasKeyword(u[c],u,c)==="@graph"){const l=(await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,u,c)).containers;return r.EntryHandlerContainer.isComplexGraphContainer(l)?-1:o-c-1}return-1}validateReverseSubject(o){if(o.termType==="Literal")throw new t.ErrorCoded(`Found illegal literal in subject position: ${o.value}`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(o,u){let c=this.getDefaultGraph();const{containers:l,depth:d}=await r.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,u);if("@graph"in l){const f=r.EntryHandlerContainer.getContainerGraphIndex(l,d,o),h=this.parsingContext.graphContainerTermStack[d];if(c=h?h[f]:null,!c){let p=null;if("@id"in l){const y=await this.getContainerKey(o[d],o,d);y!==null&&(p=await this.resourceToTerm(await this.parsingContext.getContext(o),y))}p||(p=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[d]||(this.parsingContext.graphContainerTermStack[d]={}),c=this.parsingContext.graphContainerTermStack[d][f]=p}}return c}async getPropertiesDepth(o,u){let c=u;for(let l=u-1;l>0;l--)if(typeof o[l]!="number"){const d=await this.unaliasKeyword(o[l],o,l);if(d==="@reverse")return l;if(d==="@nest")c=l;else return c}return c}async getContainerKey(o,u,c){const l=await this.unaliasKeyword(o,u,c);return l==="@none"?null:l}validateReverseInEmbeddedNode(o,u,c){if(c&&u&&!this.parsingContext.rdfstarReverseInEmbedded)throw new t.ErrorCoded(`Illegal reverse property in embedded node in ${o}`,t.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(o,u,c,l,d,f,h){let p;if(f?(this.validateReverseSubject(l),p=this.dataFactory.quad(l,c,u,d)):p=this.dataFactory.quad(u,c,l,d),h){if(p.graph.termType!=="DefaultGraph"&&(p=this.dataFactory.quad(p.subject,p.predicate,p.object)),this.parsingContext.idStack[o-1])throw new t.ErrorCoded("Illegal multiple properties in an embedded node",t.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[o-1]=[p]}else this.parsingContext.emitQuad(o,p);const y=this.parsingContext.annotationsBuffer[o];if(y){for(const _ of y)this.emitAnnotation(o,p,_);delete this.parsingContext.annotationsBuffer[o]}}emitAnnotation(o,u,c){let l;c.reverse?(this.validateReverseSubject(c.object),l=this.dataFactory.quad(c.object,c.predicate,u)):l=this.dataFactory.quad(u,c.predicate,c.object),this.parsingContext.emitQuad(o,l);for(const d of c.nestedAnnotations)this.emitAnnotation(o,l,d)}};return a.XSD="http://www.w3.org/2001/XMLSchema#",a.XSD_BOOLEAN=a.XSD+"boolean",a.XSD_INTEGER=a.XSD+"integer",a.XSD_DOUBLE=a.XSD+"double",a.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",mh.Util=a,mh}Object.defineProperty(Nw,"__esModule",{value:!0});Nw.EntryHandlerArrayValue=void 0;const Wye=jl(),Q6=yn;class Xye{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return this.test(e,r,null,n,a)}async test(e,r,n,a,s){return typeof a[s]=="number"}async handle(e,r,n,a,s,o){let u=await r.unaliasKeywordParent(a,o);if(u==="@list"){let c=null,l=0;for(let d=o-2;d>0;d--){const f=a[d];if(typeof f=="string"||typeof f=="number"){l=d,c=f;break}}if(c!==null){const d=await r.valueToTerm(await e.getContext(a),c,s,o,a);for(const f of d)await this.handleListElement(e,r,f,s,o,a.slice(0,l),l);d.length===0&&await this.handleListElement(e,r,null,s,o,a.slice(0,l),l)}}else if(u==="@set")await e.newOnValueJob(a.slice(0,-2),s,o-2,!1);else if(u!==void 0&&u!=="@type"){for(let l=o-1;l>0;l--)if(typeof a[l]!="number"){u=await r.unaliasKeyword(a[l],a,l);break}const c=await e.getContext(a.slice(0,-1));if("@list"in Wye.Util.getContextValueContainer(c,u)){e.emittedStack[o+1]=!0;const l=await r.valueToTerm(await e.getContext(a),u,s,o,a);for(const d of l)await this.handleListElement(e,r,d,s,o,a.slice(0,-1),o-1);l.length===0&&await this.handleListElement(e,r,null,s,o,a.slice(0,-1),o-1)}else e.shiftStack(o,1),await e.newOnValueJob(a.slice(0,-1),s,o-1,!1),e.contextTree.removeContext(a.slice(0,-1))}}async handleListElement(e,r,n,a,s,o,u){let c=e.listPointerStack[s];if(a!==null&&(await r.unaliasKeywords(a,o,s))["@value"]!==null){if(!c||!c.value){const l=r.dataFactory.blankNode();c={value:l,listRootDepth:u,listId:l}}else{const l=r.dataFactory.blankNode();e.emitQuad(s,r.dataFactory.quad(c.value,r.rdfRest,l,r.getDefaultGraph())),c.value=l}n&&e.emitQuad(s,r.dataFactory.quad(c.value,r.rdfFirst,n,r.getDefaultGraph()))}else c||(c={listRootDepth:u,listId:r.rdfNil});e.listPointerStack[s]=c,e.rdfstar&&e.annotationsBuffer[s]&&e.emitError(new Q6.ErrorCoded("Found an illegal annotation inside a list",Q6.ERROR_CODES.INVALID_ANNOTATION))}}Nw.EntryHandlerArrayValue=Xye;var Fw={};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.EntryHandlerInvalidFallback=void 0;class Kye{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return!1}async test(e,r,n,a,s){return!0}async handle(e,r,n,a,s,o){e.emittedStack[o]=!1}}Fw.EntryHandlerInvalidFallback=Kye;var Lw={},ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.EntryHandlerKeyword=void 0;class Jye{constructor(e){this.keyword=e}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){return!1}async test(e,r,n,a,s){return n===this.keyword}}ys.EntryHandlerKeyword=Jye;Object.defineProperty(Lw,"__esModule",{value:!0});Lw.EntryHandlerKeywordContext=void 0;const G6=yn,Yye=ys;class Zye extends Yye.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){e.streamingProfile&&(e.processingStack[o]||e.processingType[o]||e.idStack[o]!==void 0)&&e.emitError(new G6.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",G6.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const u=e.getContext(a),c=e.parseContext(s,(await u).getContextRaw());e.contextTree.setContext(a.slice(0,-1),c),e.emitContext(s),await e.validateContext(await c)}}Lw.EntryHandlerKeywordContext=Zye;var Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});Bw.EntryHandlerKeywordGraph=void 0;const e1e=ys;class t1e extends e1e.EntryHandlerKeyword{constructor(){super("@graph")}async handle(e,r,n,a,s,o){e.graphStack[o+1]=!0}}Bw.EntryHandlerKeywordGraph=t1e;var $w={};Object.defineProperty($w,"__esModule",{value:!0});$w.EntryHandlerKeywordId=void 0;const Es=yn,r1e=ys;class n1e extends r1e.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){if(typeof s!="string"){if(e.rdfstar&&typeof s=="object"){const c=Object.keys(s);c.length===1&&c[0]==="@id"&&e.emitError(new Es.ErrorCoded(`Invalid embedded node without property with @id ${s["@id"]}`,Es.ERROR_CODES.INVALID_EMBEDDED_NODE))}else e.emitError(new Es.ErrorCoded(`Found illegal @id '${s}'`,Es.ERROR_CODES.INVALID_ID_VALUE));return}const u=await r.getPropertiesDepth(a,o);if(e.idStack[u]!==void 0&&(e.idStack[u][0].listHead?e.emitError(new Es.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${a[o-1]}'`,Es.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):e.emitError(new Es.ErrorCoded(`Found duplicate @ids '${e.idStack[u][0].value}' and '${s}'`,Es.ERROR_CODES.COLLIDING_KEYWORDS))),e.rdfstar&&e.annotationsBuffer[o])for(const c of e.annotationsBuffer[o])c.depth===o&&e.emitError(new Es.ErrorCoded(`Found an illegal @id inside an annotation: ${s}`,Es.ERROR_CODES.INVALID_ANNOTATION));e.idStack[u]=r.nullableTermToArray(await r.resourceToTerm(await e.getContext(a),s))}}$w.EntryHandlerKeywordId=n1e;var Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});Uw.EntryHandlerKeywordIncluded=void 0;const nd=yn,i1e=ys;class a1e extends i1e.EntryHandlerKeyword{constructor(){super("@included")}async handle(e,r,n,a,s,o){typeof s!="object"&&e.emitError(new nd.ErrorCoded(`Found illegal @included '${s}'`,nd.ERROR_CODES.INVALID_INCLUDED_VALUE));const u=await r.unaliasKeywords(s,a,o,await e.getContext(a));"@value"in u&&e.emitError(new nd.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(s)}'`,nd.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in u&&e.emitError(new nd.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(s)}'`,nd.ERROR_CODES.INVALID_INCLUDED_VALUE)),e.emittedStack[o]=!1}}Uw.EntryHandlerKeywordIncluded=a1e;var qw={};Object.defineProperty(qw,"__esModule",{value:!0});qw.EntryHandlerKeywordNest=void 0;const P1=yn,s1e=ys;class o1e extends s1e.EntryHandlerKeyword{constructor(){super("@nest")}async handle(e,r,n,a,s,o){typeof s!="object"&&e.emitError(new P1.ErrorCoded(`Found invalid @nest entry for '${n}': '${s}'`,P1.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await r.unaliasKeywords(s,a,o,await e.getContext(a))&&e.emitError(new P1.ErrorCoded(`Found an invalid @value node for '${n}'`,P1.ERROR_CODES.INVALID_NEST_VALUE)),e.emittedStack[o]=!1}}qw.EntryHandlerKeywordNest=o1e;var Vw={};Object.defineProperty(Vw,"__esModule",{value:!0});Vw.EntryHandlerKeywordType=void 0;const Eh=yn,D1=jl(),u1e=Cw(),c1e=ys;class l1e extends c1e.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(e,r,n,a,s,o){const u=a[o],c=await e.getContext(a),l=r.rdfType,d=await r.unaliasKeywordParent(a,o),f=D1.Util.isPropertyReverse(c,u,d),h=D1.Util.isPropertyInEmbeddedNode(d);r.validateReverseInEmbeddedNode(n,f,h);const p=D1.Util.isPropertyInAnnotationObject(d),y=Array.isArray(s)?s:[s];for(const w of y){typeof w!="string"&&e.emitError(new Eh.ErrorCoded(`Found illegal @type '${w}'`,Eh.ERROR_CODES.INVALID_TYPE_VALUE));const O=r.createVocabOrBaseTerm(c,w);O&&await u1e.EntryHandlerPredicate.handlePredicateObject(e,r,a,o,l,O,f,h,p)}let _=Promise.resolve(c),E=!1;for(const w of y.sort()){const O=D1.Util.getContextValue(c,"@context",w,null);O&&(E=!0,_=_.then(A=>e.parseContext(O,A.getContextRaw())))}e.streamingProfile&&(E||!e.streamingProfileAllowOutOfOrderPlainType)&&(e.processingStack[o]||e.idStack[o])&&e.emitError(new Eh.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",Eh.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),E&&(_=_.then(w=>w.getContextRaw()["@propagate"]!==!0?new Eh.JsonLdContextNormalized(Object.assign(Object.assign({},w.getContextRaw()),{"@propagate":!1,"@__propagateFallback":c.getContextRaw()})):w),e.contextTree.setContext(a.slice(0,a.length-1),_)),e.processingType[o]=!0}}Vw.EntryHandlerKeywordType=l1e;var Hw={};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.EntryHandlerKeywordUnknownFallback=void 0;const lp=yn;class kw{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(e,r,n,a,s){const o=await r.unaliasKeyword(n[a],n,a);return lp.Util.isPotentialKeyword(o)?!(!s&&o==="@list"):!1}async test(e,r,n,a,s){return lp.Util.isPotentialKeyword(n)}async handle(e,r,n,a,s,o){const u=kw.VALID_KEYWORDS_TYPES[n];u!==void 0?u&&typeof s!==u.type&&e.emitError(new lp.ErrorCoded(`Invalid value type for '${n}' with value '${s}'`,u.errorCode)):e.strictValues&&e.emitError(new Error(`Unknown keyword '${n}' with value '${s}'`)),e.emittedStack[o]=!1}}kw.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:lp.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:lp.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null};Hw.EntryHandlerKeywordUnknownFallback=kw;var Qw={};Object.defineProperty(Qw,"__esModule",{value:!0});Qw.EntryHandlerKeywordValue=void 0;const d1e=ys;class f1e extends d1e.EntryHandlerKeyword{constructor(){super("@value")}async validate(e,r,n,a,s){const o=n[a];return o&&!e.literalStack[a]&&await this.test(e,r,o,n,a)&&(e.literalStack[a]=!0),super.validate(e,r,n,a,s)}async test(e,r,n,a,s){return await r.unaliasKeyword(a[s],a.slice(0,a.length-1),s-1,!0)==="@value"}async handle(e,r,n,a,s,o){e.literalStack[o]=!0,delete e.unidentifiedValuesBuffer[o],delete e.unidentifiedGraphsBuffer[o],e.emittedStack[o]=!1}}Qw.EntryHandlerKeywordValue=f1e;var Oh={},Gw={};Object.defineProperty(Gw,"__esModule",{value:!0});Gw.ContextTree=void 0;class jR{constructor(){this.subTrees={}}getContext(e){if(e.length>0){const[r,...n]=e,a=this.subTrees[r];if(a){const s=a.getContext(n);if(s)return s.then(({context:o,depth:u})=>({context:o,depth:u+1}))}}return this.context?this.context.then(r=>({context:r,depth:0})):null}setContext(e,r){if(e.length===0)this.context=r;else{const[n,...a]=e;let s=this.subTrees[n];s||(s=this.subTrees[n]=new jR),s.setContext(a,r)}}removeContext(e){this.setContext(e,null)}}Gw.ContextTree=jR;var z6;function h1e(){if(z6)return Oh;z6=1,Object.defineProperty(Oh,"__esModule",{value:!0}),Oh.ParsingContext=void 0;const t=yn,e=Nf,r=Gw,n=xB();let a=class AB{constructor(o){this.contextParser=new t.ContextParser({documentLoader:o.documentLoader,skipValidation:o.skipContextValidation}),this.streamingProfile=!!o.streamingProfile,this.baseIRI=o.baseIRI,this.produceGeneralizedRdf=!!o.produceGeneralizedRdf,this.allowSubjectList=!!o.allowSubjectList,this.processingMode=o.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!o.strictValues,this.validateValueIndexes=!!o.validateValueIndexes,this.defaultGraph=o.defaultGraph,this.rdfDirection=o.rdfDirection,this.normalizeLanguageTags=o.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=o.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=o.rdfstar!==!1,this.rdfstarReverseInEmbedded=o.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new r.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=o.parser,o.context?(this.rootContext=this.parseContext(o.context),this.rootContext.then(u=>this.validateContext(u))):this.rootContext=Promise.resolve(new t.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(o,u,c){return this.contextParser.parse(o,{baseIRI:this.baseIRI,ignoreProtection:c,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:u,processingMode:this.activeProcessingMode})}validateContext(o){const u=o.getContextRaw()["@version"];if(u){if(this.activeProcessingMode&&u>this.activeProcessingMode)throw new e.ErrorCoded(`Unsupported JSON-LD version '${u}' under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&u<this.activeProcessingMode)throw new e.ErrorCoded(`Invalid JSON-LD version ${u} under active processing mode ${this.activeProcessingMode}.`,e.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=u}}async getContext(o,u=1){const c=o;for(;typeof o[o.length-1]=="number";)o=o.slice(0,o.length-1);u&&(o=o.slice(0,-u));const l=await this.getContextPropagationAware(o);let f=l.context.getContextRaw();for(let h=l.depth;h<c.length-u;h++){const p=c[h],y=f[p];if(y&&typeof y=="object"&&"@context"in y){const _=(await this.parseContext(y,f,!0)).getContextRaw(),E=!(p in _)||_[p]["@context"]["@propagate"];(E!==!1||h===c.length-1-u)&&(f=Object.assign({},_),delete f["@propagate"],f[p]=Object.assign({},f[p]),"@id"in y&&(f[p]["@id"]=y["@id"]),delete f[p]["@context"],E!==!1&&this.contextTree.setContext(c.slice(0,h+u),Promise.resolve(new t.JsonLdContextNormalized(f))))}}return new t.JsonLdContextNormalized(f)}async getContextPropagationAware(o){const u=o.length;let c=null,l;do{l=!1,c&&"@__propagateFallback"in c.context.getContextRaw()?c.context=new t.JsonLdContextNormalized(c.context.getContextRaw()["@__propagateFallback"]):(c&&(o=o.slice(0,c.depth-1)),c=await this.contextTree.getContext(o)||{context:await this.rootContext,depth:0});const d=o[o.length-1];if(d in c.context.getContextRaw()){const f=c.context.getContextRaw()[d];f&&typeof f=="object"&&"@context"in f&&(l=!0)}}while(c.depth>0&&c.context.getContextRaw()["@propagate"]===!1&&c.depth!==u&&!l);return c.depth===0&&c.context.getContextRaw()["@propagate"]===!1&&c.depth!==u&&(c.context=new t.JsonLdContextNormalized({})),c}async newOnValueJob(o,u,c,l){await this.parser.newOnValueJob(o,u,c,l)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const o of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(o.depth,o.keys),this.parser.flushStacks(o.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(o,u){o===1&&(this.topLevelProperties=!0),this.parser.push(u)}emitError(o){this.parser.emit("error",o)}emitContext(o){this.parser.emit("context",o)}getUnidentifiedValueBufferSafe(o){let u=this.unidentifiedValuesBuffer[o];return u||(u=[],this.unidentifiedValuesBuffer[o]=u),u}getUnidentifiedGraphBufferSafe(o){let u=this.unidentifiedGraphsBuffer[o];return u||(u=[],this.unidentifiedGraphsBuffer[o]=u),u}getAnnotationsBufferSafe(o){let u=this.annotationsBuffer[o];return u||(u=[],this.annotationsBuffer[o]=u),u}getExpandOptions(){return AB.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(o,u){const c=this.idStack[o+u];if(c&&(this.idStack[o]=c,this.emittedStack[o]=!0,delete this.idStack[o+u]),this.pendingContainerFlushBuffers.length)for(const l of this.pendingContainerFlushBuffers)l.depth>=o+u&&(l.depth-=u,l.keys.splice(o,u));this.unidentifiedValuesBuffer[o+u]&&(this.unidentifiedValuesBuffer[o]=this.unidentifiedValuesBuffer[o+u],delete this.unidentifiedValuesBuffer[o+u]),this.annotationsBuffer[o+u-1]&&(this.annotationsBuffer[o-1]||(this.annotationsBuffer[o-1]=[]),this.annotationsBuffer[o-1]=[...this.annotationsBuffer[o-1],...this.annotationsBuffer[o+u-1]],delete this.annotationsBuffer[o+u-1])}};return a.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},Oh.ParsingContext=a,Oh}var zw={};Object.defineProperty(zw,"__esModule",{value:!0});zw.EntryHandlerKeywordAnnotation=void 0;const p1e=ys,W6=yn;class y1e extends p1e.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(e,r,n,a,s,o){(typeof s=="string"||typeof s=="object"&&s["@value"])&&e.emitError(new W6.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(s)}`,W6.ERROR_CODES.INVALID_ANNOTATION))}}zw.EntryHandlerKeywordAnnotation=y1e;var X6;function xB(){if(X6)return gh;X6=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.JsonLdParser=void 0;const t=XM,e=yn,r=Jt,n=Nw,a=OB(),s=Fw,o=Cw(),u=Lw,c=Bw,l=$w,d=Uw,f=qw,h=Vw,p=Hw,y=Qw,_=h1e(),E=jl(),w=I9,O=zw;let A=class dd extends r.Transform{constructor(I){super({readableObjectMode:!0}),I=I||{},this.options=I,this.parsingContext=new _.ParsingContext(Object.assign({parser:this},I)),this.util=new E.Util({dataFactory:I.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new t,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(I,D,U,H){let N;if(D!=="application/ld+json"){if(D!=="application/json"&&!D.endsWith("+json"))throw new e.ErrorCoded(`Unsupported JSON-LD media type ${D}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(U&&U.has("Link")&&U.forEach((F,X)=>{if(X==="link"){const ne=(0,w.parse)(F);for(const $ of ne.get("rel","http://www.w3.org/ns/json-ld#context")){if(N)throw new e.ErrorCoded("Multiple JSON-LD context link headers were found on "+I,e.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);N=$.uri}}}),!N&&!(H!=null&&H.ignoreMissingContextLinkHeader))throw new e.ErrorCoded(`Missing context link header for media type ${D} on ${I}`,e.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let R;if(U&&U.has("Content-Type")){const F=U.get("Content-Type"),X=/; *profile=([^"]*)/.exec(F);X&&X[1]==="http://www.w3.org/ns/json-ld#streaming"&&(R=!0)}return new dd(Object.assign({baseIRI:I,context:N,streamingProfile:R},H||{}))}import(I){if("pipe"in I){I.on("error",U=>D.emit("error",U));const D=I.pipe(new dd(this.options));return D}else{const D=new r.PassThrough({readableObjectMode:!0});I.on("error",H=>U.emit("error",H)),I.on("data",H=>D.push(H)),I.on("end",()=>D.push(null));const U=D.pipe(new dd(this.options));return U}}_transform(I,D,U){this.jsonParser.write(I),this.lastOnValueJob.then(()=>U(),H=>U(H))}async newOnValueJob(I,D,U,H){let N=!0;if(H&&U<this.lastDepth){const $=this.parsingContext.listPointerStack[this.lastDepth];$&&($.value&&this.push(this.util.dataFactory.quad($.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),$.listId.listHead=!0,this.parsingContext.idStack[$.listRootDepth+1]=[$.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await a.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),N=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const R=await this.util.unaliasKeyword(I[U],I,U),F=await this.util.unaliasKeywordParent(I,U);this.parsingContext.emittedStack[U]=!0;let X=!0;e.Util.isValidKeyword(R)&&F==="@reverse"&&R!=="@context"&&this.emit("error",new e.ErrorCoded(`Found the @id '${D}' inside an @reverse property`,e.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let ne=!1;this.parsingContext.validationStack.length>1&&(ne=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let $=Math.max(1,this.parsingContext.validationStack.length-1);$<I.length-1;$++){const C=this.parsingContext.validationStack[$]||(this.parsingContext.validationStack[$]=await this.validateKey(I.slice(0,$+1),$,ne));if(C.valid)!ne&&C.property&&(ne=!0);else{this.parsingContext.emittedStack[U]=!1,X=!1;break}}if(await this.util.isLiteral(I,U)&&(X=!1),X)for(const $ of dd.ENTRY_HANDLERS){const C=await $.test(this.parsingContext,this.util,R,I,U);if(C){await $.handle(this.parsingContext,this.util,R,I,D,U,C),$.isStackProcessor()&&(this.parsingContext.processingStack[U]=!0);break}}U===0&&Array.isArray(D)&&await this.util.validateValueIndexes(D),N&&U<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=U,this.lastKeys=I,this.parsingContext.unaliasedKeywordCacheStack.splice(U-1)}flushStacks(I){this.parsingContext.processingStack.splice(I,1),this.parsingContext.processingType.splice(I,1),this.parsingContext.emittedStack.splice(I,1),this.parsingContext.idStack.splice(I,1),this.parsingContext.graphStack.splice(I+1,1),this.parsingContext.graphContainerTermStack.splice(I,1),this.parsingContext.jsonLiteralStack.splice(I,1),this.parsingContext.validationStack.splice(I-1,2),this.parsingContext.literalStack.splice(I,this.parsingContext.literalStack.length-I),this.parsingContext.annotationsBuffer.splice(I,1)}async flushBuffer(I,D){let U=this.parsingContext.idStack[I];!!U||(U=this.parsingContext.idStack[I]=[this.util.dataFactory.blankNode()]);const N=this.parsingContext.unidentifiedValuesBuffer[I];if(N){for(const X of U){const ne=await this.util.getDepthOffsetGraph(I,D),$=this.parsingContext.graphStack[I]||ne>=0?this.parsingContext.idStack[I-ne-1]:[await this.util.getGraphContainerValue(D,I)];if($)for(const C of $){this.parsingContext.emittedStack[I]=!0;for(const Q of N)this.util.emitQuadChecked(I,X,Q.predicate,Q.object,C,Q.reverse,Q.isEmbedded)}else{const C=this.parsingContext.getUnidentifiedGraphBufferSafe(I-await this.util.getDepthOffsetGraph(I,D)-1);for(const Q of N)Q.reverse?C.push({object:X,predicate:Q.predicate,subject:Q.object,isEmbedded:Q.isEmbedded}):C.push({object:Q.object,predicate:Q.predicate,subject:X,isEmbedded:Q.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(I,1),this.parsingContext.literalStack.splice(I,1),this.parsingContext.jsonLiteralStack.splice(I,1)}const R=this.parsingContext.unidentifiedGraphsBuffer[I];if(R){for(const X of U){const ne=I===1&&X.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():X;this.parsingContext.emittedStack[I]=!0;for(const $ of R)this.parsingContext.emitQuad(I,this.util.dataFactory.quad($.subject,$.predicate,$.object,ne))}this.parsingContext.unidentifiedGraphsBuffer.splice(I,1)}const F=this.parsingContext.annotationsBuffer[I];if(F){F.length>0&&I===1&&this.parsingContext.emitError(new e.ErrorCoded("Annotations can not be made on top-level nodes",e.ERROR_CODES.INVALID_ANNOTATION));const X=this.parsingContext.getAnnotationsBufferSafe(I-1);for(const ne of F)X.push(ne);delete this.parsingContext.annotationsBuffer[I]}}async validateKey(I,D,U){for(const H of dd.ENTRY_HANDLERS)if(await H.validate(this.parsingContext,this.util,I,D,U))return{valid:!0,property:U||H.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=I=>{const D=this.jsonParser.stack.length,U=new Array(D+1).fill(0).map((H,N)=>N===D?this.jsonParser.key:this.jsonParser.stack[N].key);if(!this.isParsingContextInner(D)){const H=()=>this.newOnValueJob(U,I,D,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(U.slice(0,-1)))if(U[D]==="@context"){let N=this.contextJobs[D];N||(N=this.contextJobs[D]=[]),N.push(H)}else this.contextAwaitingJobs.push({job:H,keys:U,depth:D});else this.lastOnValueJob=this.lastOnValueJob.then(H);!this.parsingContext.streamingProfile&&D===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=I=>{this.emit("error",I)}}isParsingContextInner(I){for(let D=I;D>0;D--)if(this.jsonParser.stack[D-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const D of this.contextJobs)if(D)for(const U of D)await U();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const I=[];for(const D of this.contextAwaitingJobs)await this.util.unaliasKeyword(D.keys[D.depth],D.keys,D.depth,!0)==="@type"||typeof D.keys[D.depth]=="number"&&await this.util.unaliasKeyword(D.keys[D.depth-1],D.keys,D.depth-1,!0)==="@type"?this.typeJobs.push({job:D.job,keys:D.keys.slice(0,D.keys.length-1)}):I.push(D);for(const D of I){if(this.typeJobs.length>0){const U=[],H=[];for(let F=0;F<this.typeJobs.length;F++){const X=this.typeJobs[F];E.Util.isPrefixArray(X.keys,D.keys)&&(U.push(X),H.push(F))}const N=U.sort((F,X)=>F.keys.length-X.keys.length);for(const F of N)await F.job();const R=H.sort().reverse();for(const F of R)this.typeJobs.splice(F,1)}await D.job()}}};return A.DEFAULT_PROCESSING_MODE="1.1",A.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new u.EntryHandlerKeywordContext,new l.EntryHandlerKeywordId,new d.EntryHandlerKeywordIncluded,new c.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new h.EntryHandlerKeywordType,new y.EntryHandlerKeywordValue,new O.EntryHandlerKeywordAnnotation,new a.EntryHandlerContainer,new p.EntryHandlerKeywordUnknownFallback,new o.EntryHandlerPredicate,new s.EntryHandlerInvalidFallback],gh.JsonLdParser=A,gh}(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(xB(),t)})(TB);var oy={};Object.defineProperty(oy,"__esModule",{value:!0});oy.DocumentLoaderMediated=void 0;const b1e=fs,_1e=yn,g1e=xl;class CR extends _1e.FetchDocumentLoader{constructor(e,r){super(CR.createFetcher(e,r)),this.mediatorHttp=e,this.context=r}static createFetcher(e,r){return async(n,a)=>{const s=await e.mediate({input:n,init:a,context:r});return s.json=async()=>JSON.parse(await g1e(b1e.ActorHttp.toNodeReadable(s.body))),s}}}oy.DocumentLoaderMediated=CR;Object.defineProperty(Dw,"__esModule",{value:!0});Dw.ActorRdfParseJsonLd=void 0;const m1e=Ol,N1=qt,v1e=TB,w1e=oy;class S1e extends m1e.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async testHandle(e,r,n){if(n.has(N1.KeysRdfParseHtmlScript.processingHtmlScript)&&r!=="application/ld+json")throw new Error("JSON-LD in script tags can only have media type 'application/ld+json'");if(!r||!(r in this.mediaTypePriorities||r.endsWith("+json")))throw new Error(`Unrecognized media type: ${r}`);return await this.testHandleChecked(e)}async runHandle(e,r,n){var o;return{data:v1e.JsonLdParser.fromHttpResponse(((o=e.metadata)==null?void 0:o.baseIRI)??"",r,e.headers,{documentLoader:n.get(N1.KeysRdfParseJsonLd.documentLoader)||new w1e.DocumentLoaderMediated(this.mediatorHttp,n),strictValues:n.get(N1.KeysRdfParseJsonLd.strictValues),...n.get(N1.KeysRdfParseJsonLd.parserOptions)}).import(e.data)}}}Dw.ActorRdfParseJsonLd=S1e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Dw,t),r(oy,t)})(SB);var RB={},Ww={},Xw={},Kw={},Jw={};(function(){(function(t){(function(e){var r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};function n(N){return N&&DataView.prototype.isPrototypeOf(N)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(N){return N&&a.indexOf(Object.prototype.toString.call(N))>-1};function o(N){if(typeof N!="string"&&(N=String(N)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(N))throw new TypeError("Invalid character in header field name");return N.toLowerCase()}function u(N){return typeof N!="string"&&(N=String(N)),N}function c(N){var R={next:function(){var F=N.shift();return{done:F===void 0,value:F}}};return r.iterable&&(R[Symbol.iterator]=function(){return R}),R}function l(N){this.map={},N instanceof l?N.forEach(function(R,F){this.append(F,R)},this):Array.isArray(N)?N.forEach(function(R){this.append(R[0],R[1])},this):N&&Object.getOwnPropertyNames(N).forEach(function(R){this.append(R,N[R])},this)}l.prototype.append=function(N,R){N=o(N),R=u(R);var F=this.map[N];this.map[N]=F?F+", "+R:R},l.prototype.delete=function(N){delete this.map[o(N)]},l.prototype.get=function(N){return N=o(N),this.has(N)?this.map[N]:null},l.prototype.has=function(N){return this.map.hasOwnProperty(o(N))},l.prototype.set=function(N,R){this.map[o(N)]=u(R)},l.prototype.forEach=function(N,R){for(var F in this.map)this.map.hasOwnProperty(F)&&N.call(R,this.map[F],F,this)},l.prototype.keys=function(){var N=[];return this.forEach(function(R,F){N.push(F)}),c(N)},l.prototype.values=function(){var N=[];return this.forEach(function(R){N.push(R)}),c(N)},l.prototype.entries=function(){var N=[];return this.forEach(function(R,F){N.push([F,R])}),c(N)},r.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function d(N){if(N.bodyUsed)return Promise.reject(new TypeError("Already read"));N.bodyUsed=!0}function f(N){return new Promise(function(R,F){N.onload=function(){R(N.result)},N.onerror=function(){F(N.error)}})}function h(N){var R=new FileReader,F=f(R);return R.readAsArrayBuffer(N),F}function p(N){var R=new FileReader,F=f(R);return R.readAsText(N),F}function y(N){for(var R=new Uint8Array(N),F=new Array(R.length),X=0;X<R.length;X++)F[X]=String.fromCharCode(R[X]);return F.join("")}function _(N){if(N.slice)return N.slice(0);var R=new Uint8Array(N.byteLength);return R.set(new Uint8Array(N)),R.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(N){this._bodyInit=N,N?typeof N=="string"?this._bodyText=N:r.blob&&Blob.prototype.isPrototypeOf(N)?this._bodyBlob=N:r.formData&&FormData.prototype.isPrototypeOf(N)?this._bodyFormData=N:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)?this._bodyText=N.toString():r.arrayBuffer&&r.blob&&n(N)?(this._bodyArrayBuffer=_(N.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(N)||s(N))?this._bodyArrayBuffer=_(N):this._bodyText=N=Object.prototype.toString.call(N):this._bodyText="",this.headers.get("content-type")||(typeof N=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(N)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var N=d(this);if(N)return N;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(N){var R=N.toUpperCase();return w.indexOf(R)>-1?R:N}function A(N,R){R=R||{};var F=R.body;if(N instanceof A){if(N.bodyUsed)throw new TypeError("Already read");this.url=N.url,this.credentials=N.credentials,R.headers||(this.headers=new l(N.headers)),this.method=N.method,this.mode=N.mode,this.signal=N.signal,!F&&N._bodyInit!=null&&(F=N._bodyInit,N.bodyUsed=!0)}else this.url=String(N);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new l(R.headers)),this.method=O(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&F)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(F)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function T(N){var R=new FormData;return N.trim().split("&").forEach(function(F){if(F){var X=F.split("="),ne=X.shift().replace(/\+/g," "),$=X.join("=").replace(/\+/g," ");R.append(decodeURIComponent(ne),decodeURIComponent($))}}),R}function I(N){var R=new l,F=N.replace(/\r?\n[\t ]+/g," ");return F.split(/\r?\n/).forEach(function(X){var ne=X.split(":"),$=ne.shift().trim();if($){var C=ne.join(":").trim();R.append($,C)}}),R}E.call(A.prototype);function D(N,R){R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new l(R.headers),this.url=R.url||"",this._initBody(N)}E.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},D.error=function(){var N=new D(null,{status:0,statusText:""});return N.type="error",N};var U=[301,302,303,307,308];D.redirect=function(N,R){if(U.indexOf(R)===-1)throw new RangeError("Invalid status code");return new D(null,{status:R,headers:{location:N}})},e.DOMException=t.DOMException;try{new e.DOMException}catch{e.DOMException=function(R,F){this.message=R,this.name=F;var X=Error(R);this.stack=X.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function H(N,R){return new Promise(function(F,X){var ne=new A(N,R);if(ne.signal&&ne.signal.aborted)return X(new e.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function C(){$.abort()}$.onload=function(){var Q={status:$.status,statusText:$.statusText,headers:I($.getAllResponseHeaders()||"")};Q.url="responseURL"in $?$.responseURL:Q.headers.get("X-Request-URL");var se="response"in $?$.response:$.responseText;F(new D(se,Q))},$.onerror=function(){X(new TypeError("Network request failed"))},$.ontimeout=function(){X(new TypeError("Network request failed"))},$.onabort=function(){X(new e.DOMException("Aborted","AbortError"))},$.open(ne.method,ne.url,!0),ne.credentials==="include"?$.withCredentials=!0:ne.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&r.blob&&($.responseType="blob"),ne.headers.forEach(function(Q,se){$.setRequestHeader(se,Q)}),ne.signal&&(ne.signal.addEventListener("abort",C),$.onreadystatechange=function(){$.readyState===4&&ne.signal.removeEventListener("abort",C)}),$.send(typeof ne._bodyInit>"u"?null:ne._bodyInit)})}return H.polyfill=!0,t.fetch||(t.fetch=H,t.Headers=l,t.Request=A,t.Response=D),e.Headers=l,e.Request=A,e.Response=D,e.fetch=H,Object.defineProperty(e,"__esModule",{value:!0}),e})({})})(typeof self<"u"?self:g)})();var IB={},Yw={};Object.defineProperty(Yw,"__esModule",{value:!0});Yw.SparqlXmlParser=void 0;const T1e=ft,K6=ll,E1e=Jt;class O1e{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new T1e.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseXmlResultsStream(e){const r=_=>y.emit("error",_);e.on("error",r);const n=new K6.SaxesParser,a=[];let s=!1,o=!1;const u=[];let c={},l="",d="",f,h="",p=[];n.on("error",r),n.on("opentag",_=>{_.name==="variable"&&this.stackEquals(a,["sparql","head"])?u.push(this.dataFactory.variable(_.attributes.name)):_.name==="results"&&this.stackEquals(a,["sparql"])?o=!0:_.name==="result"&&this.stackEquals(a,["sparql","results"])?c={}:_.name==="binding"&&this.stackEquals(a,["sparql","results","result"])?(l=_.attributes.name||"",d="",f="",h="",p=[]):_.name==="triple"&&this.stackBeginsWith(a,["sparql","results","result"])?p.push({components:{}}):a[a.length-1]==="triple"&&this.stackBeginsWith(a,["sparql","results","result","binding"])?(d="",f="",h="",["subject","predicate","object"].includes(_.name)?p[p.length-1].currentComponent=_.name:r(new Error(`Illegal quoted triple component '${_.name}' found on line ${n.line+1}`))):this.stackBeginsWith(a,["sparql","results","result","binding"])&&(d=_.name,"xml:lang"in _.attributes?f=_.attributes["xml:lang"]:"datatype"in _.attributes?f=this.dataFactory.namedNode(_.attributes.datatype):f=void 0),a.push(_.name)}),n.on("closetag",_=>{if(this.stackEquals(a,["sparql","head"])&&(y.emit("variables",u),s=!0),this.stackEquals(a,["sparql","results","result"])&&y.push(c),this.stackBeginsWith(a,["sparql","results","result","binding"])){let E;if(!l&&d)r(new Error(`Terms should have a name on line ${n.line+1}`));else if(d==="uri")E=this.dataFactory.namedNode(h);else if(d==="bnode")E=this.dataFactory.blankNode(h);else if(d==="literal")E=this.dataFactory.literal(h,f);else if(a[a.length-1]==="triple"){const w=p.pop();w&&w.components.subject&&w.components.predicate&&w.components.object?E=this.dataFactory.quad(w.components.subject,w.components.predicate,w.components.object):r(new Error(`Incomplete quoted triple on line ${n.line+1}`))}else d&&r(new Error(`Invalid term type '${d}' on line ${n.line+1}`));if(E)if(p.length>0){const w=p[p.length-1];w.components[w.currentComponent]&&r(new Error(`The ${w.currentComponent} in a quoted triple on line ${n.line+1} was already defined before`)),w.components[w.currentComponent]=E}else{const w=this.prefixVariableQuestionMark?"?"+l:l;c[w]=E}d=void 0}a.pop()}),n.on("text",_=>{this.stackBeginsWith(a,["sparql","results","result","binding"])&&a[a.length-1]===d&&(h=_)});const y=e.on("end",_=>{o?s||y.emit("variables",[]):y.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new E1e.Transform({objectMode:!0,transform(_,E,w){n.write(_),w()}}));return y}parseXmlBooleanStream(e){return new Promise((r,n)=>{const a=new K6.SaxesParser,s=[];a.on("error",n),a.on("opentag",o=>{s.push(o.name)}),a.on("closetag",o=>{s.pop()}),a.on("text",o=>{this.stackEquals(s,["sparql","boolean"])&&r(o==="true")}),e.on("error",n).on("data",o=>a.write(o)).on("end",()=>n(new Error("No valid ASK response was found.")))})}stackEquals(e,r){return e.length===r.length&&e.every((n,a)=>r[a]===n)}stackBeginsWith(e,r){return e.length>=r.length&&r.every((n,a)=>e[a]===n)}}Yw.SparqlXmlParser=O1e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Yw,t)})(IB);Object.defineProperty(Jw,"__esModule",{value:!0});Jw.SparqlEndpointFetcher=void 0;const J6=Wg,Y6=_0,A1e=Px,x1e=IB,R1e=xl,I1e=N0,P1e=ru,D1e=AF;class Ui{constructor(e){e=e||{},this.method=e.method||"POST",this.additionalUrlParams=e.additionalUrlParams||new URLSearchParams,this.defaultHeaders=e.defaultHeaders||new Headers,this.fetchCb=e.fetch,this.sparqlJsonParser=new A1e.SparqlJsonParser(e),this.sparqlXmlParser=new x1e.SparqlXmlParser(e),this.sparqlParsers={[Ui.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:r=>this.sparqlJsonParser.parseJsonBooleanStream(r),parseResultsStream:r=>this.sparqlJsonParser.parseJsonResultsStream(r)},[Ui.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:r=>this.sparqlXmlParser.parseXmlBooleanStream(r),parseResultsStream:r=>this.sparqlXmlParser.parseXmlResultsStream(r)}},this.timeout=e.timeout}getQueryType(e){const r=new Y6.Parser({sparqlStar:!0}).parse(e);return r.type==="query"?r.queryType==="DESCRIBE"?"CONSTRUCT":r.queryType:"UNKNOWN"}getUpdateTypes(e){const r=new Y6.Parser({sparqlStar:!0}).parse(e);if(r.type==="update"){const n={};for(const a of r.updates)"type"in a?n[a.type]=!0:n[a.updateType]=!0;return n}else return"UNKNOWN"}async fetchBindings(e,r){const[n,a]=await this.fetchRawStream(e,r,Ui.CONTENTTYPE_SPARQL),s=this.sparqlParsers[n];if(!s)throw new Error("Unknown SPARQL results content type: "+n);return s.parseResultsStream(a)}async fetchAsk(e,r){const[n,a]=await this.fetchRawStream(e,r,Ui.CONTENTTYPE_SPARQL),s=this.sparqlParsers[n];if(!s)throw new Error("Unknown SPARQL results content type: "+n);return s.parseBooleanStream(a)}async fetchTriples(e,r){return(await this.fetchRawStream(e,r,Ui.CONTENTTYPE_TURTLE))[1].pipe(new P1e.StreamParser({format:Ui.CONTENTTYPE_TURTLE}))}async fetchUpdate(e,r){const n=new J6.default,a={};this.defaultHeaders.forEach((o,u)=>{a[u]=o});const s={method:"POST",headers:Object.assign(Object.assign({},a),{"content-type":"application/sparql-update"}),body:r,signal:n.signal};await this.handleFetchCall(e,s,{ignoreBody:!0}),n.abort()}async fetchRawStream(e,r,n){let a=this.method==="POST"?e:e+"?query="+encodeURIComponent(r);const s=new Headers(this.defaultHeaders);let o;return s.append("Accept",n),this.method==="POST"?(s.append("Content-Type","application/x-www-form-urlencoded"),o=new URLSearchParams,o.set("query",r),this.additionalUrlParams.forEach((u,c)=>{o.set(c,u)}),s.append("Content-Length",o.toString().length.toString())):this.additionalUrlParams.toString()!==""&&(a+=`&${this.additionalUrlParams.toString()}`),this.handleFetchCall(a,{headers:s,method:this.method,body:o})}async handleFetchCall(e,r,n={}){let a;if(this.timeout){const c=new J6.default;r.signal=c.signal,a=setTimeout(()=>c.abort(),this.timeout)}const s=await(this.fetchCb||fetch)(e,r);clearTimeout(a);let o;n.ignoreBody||(o=D1e(s.body)?s.body:new I1e.ReadableWebToNodeStream(s.body));let u=s.headers.get("Content-Type")||"";if(u.indexOf(";")>0&&(u=u.substr(0,u.indexOf(";"))),!s.ok){const c=/^[^?]*/u.exec(e)[0];let l="empty response";throw o&&(l=await R1e(o)),new Error(`Invalid SPARQL endpoint response from ${c} (HTTP status ${s.status}):
${l}`)}return[u,o]}}Ui.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json";Ui.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml";Ui.CONTENTTYPE_SPARQL=`${Ui.CONTENTTYPE_SPARQL_JSON};q=1.0,${Ui.CONTENTTYPE_SPARQL_XML};q=0.7`;Ui.CONTENTTYPE_TURTLE="text/turtle";Jw.SparqlEndpointFetcher=Ui;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Jw,t)})(Kw);Object.defineProperty(Xw,"__esModule",{value:!0});Xw.RdfSourceSparql=void 0;const N1e=Un,Z6=kt,j1e=Kw,C1e=ps,M1e=ft,id=on,UO=vt,Mc=new M1e.DataFactory,F1e=new N1e.BindingsFactory,L1e=Mc.variable("count");class wn{constructor(e,r,n,a,s){this.url=e,this.context=r,this.mediatorHttp=n,this.endpointFetcher=new j1e.SparqlEndpointFetcher({method:a?"GET":"POST",fetch:(o,u)=>this.mediatorHttp.mediate({input:o,init:u,context:this.context}),prefixVariableQuestionMark:!0}),this.cache=s>0?new C1e.LRUCache({max:s}):void 0}static replaceBlankNodes(e){const r=(0,id.getVariables)((0,id.getTerms)(e)).map(o=>o.value),n={};let a=!1;const s=(0,id.mapTermsNested)(e,o=>{if(o.termType==="BlankNode"){let u=o.value;if(n[u])u=n[u];else{if(r.includes(u)){let c=0;for(;r.includes(`${u}${c}`);)++c;u+=c}n[o.value]=u,r.push(u)}return a=!0,Mc.variable(u)}return o});return a?s:e}static patternToBgp(e){return wn.FACTORY.createBgp([wn.FACTORY.createPattern(e.subject,e.predicate,e.object,e.graph)])}static patternToSelectQuery(e){const r=(0,id.getVariables)((0,id.getTerms)(e));return(0,UO.toSparql)(wn.FACTORY.createProject(wn.patternToBgp(e),r),{sparqlStar:!0})}static patternToCountQuery(e){return(0,UO.toSparql)(wn.FACTORY.createProject(wn.FACTORY.createExtend(wn.FACTORY.createGroup(wn.patternToBgp(e),[],[wn.FACTORY.createBoundAggregate(Mc.variable("var0"),"count",wn.FACTORY.createWildcardExpression(),!1)]),Mc.variable("count"),wn.FACTORY.createTermExpression(Mc.variable("var0"))),[Mc.variable("count")]),{sparqlStar:!0})}async queryBindings(e,r){const n=await this.endpointFetcher.fetchBindings(e,r);return(0,Z6.wrap)(n,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(a=>F1e.bindings(Object.entries(a).map(([s,o])=>[Mc.variable(s.slice(1)),o])))}match(e,r,n,a){const s=wn.replaceBlankNodes(wn.FACTORY.createPattern(e,r,n,a)),o=wn.patternToCountQuery(s),u=wn.patternToSelectQuery(s);new Promise(async(l,d)=>{var f;try{const h=(f=this.cache)==null?void 0:f.get(o);if(h!==void 0)return l(h);const p=await this.queryBindings(this.url,o);p.on("data",y=>{var w;const _=y.get(L1e),E={type:"estimate",value:Number.POSITIVE_INFINITY};if(_){const O=Number.parseInt(_.value,10);Number.isNaN(O)||(E.type="exact",E.value=O,(w=this.cache)==null||w.set(o,E))}return l(E)}),p.on("error",()=>l({type:"estimate",value:Number.POSITIVE_INFINITY})),p.on("end",()=>l({type:"estimate",value:Number.POSITIVE_INFINITY}))}catch(h){d(h)}}).then(l=>c.setProperty("metadata",{cardinality:l,canContainUndefs:!1})).catch(()=>c.setProperty("metadata",{cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY},canContainUndefs:!1}));const c=new Z6.TransformIterator(async()=>this.queryBindings(this.url,u),{autoStart:!1}).transform({map:l=>(0,id.mapTermsNested)(s,d=>{if(d.termType==="Variable"){const f=l.get(d);return f||c.destroy(new Error(`The endpoint ${this.url} failed to provide a binding for ${d.value}.`)),f}return d}),autoStart:!1});return c}}Xw.RdfSourceSparql=wn;wn.FACTORY=new UO.Factory;Object.defineProperty(Ww,"__esModule",{value:!0});Ww.ActorRdfResolveHypermediaSparql=void 0;const B1e=Hv,$1e=Xw;class U1e extends B1e.ActorRdfResolveHypermedia{constructor(e){super(e,"sparql")}async testMetadata(e){if(!e.forceSourceType&&!e.metadata.sparqlService&&!(this.checkUrlSuffix&&e.url.endsWith("/sparql")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`);return{filterFactor:1}}async run(e){return this.logInfo(e.context,`Identified ${e.url} as sparql source with service URL: ${e.metadata.sparqlService||e.url}`),{source:new $1e.RdfSourceSparql(e.metadata.sparqlService||e.url,e.context,this.mediatorHttp,this.forceHttpGet,this.cacheSize)}}}Ww.ActorRdfResolveHypermediaSparql=U1e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ww,t)})(RB);var PB={},Zw={},eS={},tS={};Object.defineProperty(tS,"__esModule",{value:!0});tS.ActorRdfUpdateHypermedia=void 0;const q1e=Je;class V1e extends q1e.Actor{constructor(e,r){super(e),this.destinationType=r}async test(e){if(e.forceDestinationType&&this.destinationType!==e.forceDestinationType)throw new Error(`Actor ${this.name} is not able to handle destination type ${e.forceDestinationType}.`);return this.testMetadata(e)}}tS.ActorRdfUpdateHypermedia=V1e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(tS,t)})(eS);var uy={},qO={exports:{}};(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof g<"u"&&g,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var u=typeof s<"u"&&s||typeof self<"u"&&self||typeof u<"u"&&u,c={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function l(C){return C&&DataView.prototype.isPrototypeOf(C)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(C){return C&&d.indexOf(Object.prototype.toString.call(C))>-1};function h(C){if(typeof C!="string"&&(C=String(C)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(C)||C==="")throw new TypeError('Invalid character in header field name: "'+C+'"');return C.toLowerCase()}function p(C){return typeof C!="string"&&(C=String(C)),C}function y(C){var Q={next:function(){var se=C.shift();return{done:se===void 0,value:se}}};return c.iterable&&(Q[Symbol.iterator]=function(){return Q}),Q}function _(C){this.map={},C instanceof _?C.forEach(function(Q,se){this.append(se,Q)},this):Array.isArray(C)?C.forEach(function(Q){this.append(Q[0],Q[1])},this):C&&Object.getOwnPropertyNames(C).forEach(function(Q){this.append(Q,C[Q])},this)}_.prototype.append=function(C,Q){C=h(C),Q=p(Q);var se=this.map[C];this.map[C]=se?se+", "+Q:Q},_.prototype.delete=function(C){delete this.map[h(C)]},_.prototype.get=function(C){return C=h(C),this.has(C)?this.map[C]:null},_.prototype.has=function(C){return this.map.hasOwnProperty(h(C))},_.prototype.set=function(C,Q){this.map[h(C)]=p(Q)},_.prototype.forEach=function(C,Q){for(var se in this.map)this.map.hasOwnProperty(se)&&C.call(Q,this.map[se],se,this)},_.prototype.keys=function(){var C=[];return this.forEach(function(Q,se){C.push(se)}),y(C)},_.prototype.values=function(){var C=[];return this.forEach(function(Q){C.push(Q)}),y(C)},_.prototype.entries=function(){var C=[];return this.forEach(function(Q,se){C.push([se,Q])}),y(C)},c.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function E(C){if(C.bodyUsed)return Promise.reject(new TypeError("Already read"));C.bodyUsed=!0}function w(C){return new Promise(function(Q,se){C.onload=function(){Q(C.result)},C.onerror=function(){se(C.error)}})}function O(C){var Q=new FileReader,se=w(Q);return Q.readAsArrayBuffer(C),se}function A(C){var Q=new FileReader,se=w(Q);return Q.readAsText(C),se}function T(C){for(var Q=new Uint8Array(C),se=new Array(Q.length),ie=0;ie<Q.length;ie++)se[ie]=String.fromCharCode(Q[ie]);return se.join("")}function I(C){if(C.slice)return C.slice(0);var Q=new Uint8Array(C.byteLength);return Q.set(new Uint8Array(C)),Q.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(C){this.bodyUsed=this.bodyUsed,this._bodyInit=C,C?typeof C=="string"?this._bodyText=C:c.blob&&Blob.prototype.isPrototypeOf(C)?this._bodyBlob=C:c.formData&&FormData.prototype.isPrototypeOf(C)?this._bodyFormData=C:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)?this._bodyText=C.toString():c.arrayBuffer&&c.blob&&l(C)?(this._bodyArrayBuffer=I(C.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(C)||f(C))?this._bodyArrayBuffer=I(C):this._bodyText=C=Object.prototype.toString.call(C):this._bodyText="",this.headers.get("content-type")||(typeof C=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(C)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var C=E(this);if(C)return C;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var C=E(this);return C||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(O)}),this.text=function(){var C=E(this);if(C)return C;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(C){var Q=C.toUpperCase();return U.indexOf(Q)>-1?Q:C}function N(C,Q){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q=Q||{};var se=Q.body;if(C instanceof N){if(C.bodyUsed)throw new TypeError("Already read");this.url=C.url,this.credentials=C.credentials,Q.headers||(this.headers=new _(C.headers)),this.method=C.method,this.mode=C.mode,this.signal=C.signal,!se&&C._bodyInit!=null&&(se=C._bodyInit,C.bodyUsed=!0)}else this.url=String(C);if(this.credentials=Q.credentials||this.credentials||"same-origin",(Q.headers||!this.headers)&&(this.headers=new _(Q.headers)),this.method=H(Q.method||this.method||"GET"),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&se)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(se),(this.method==="GET"||this.method==="HEAD")&&(Q.cache==="no-store"||Q.cache==="no-cache")){var ie=/([?&])_=[^&]*/;if(ie.test(this.url))this.url=this.url.replace(ie,"$1_="+new Date().getTime());else{var be=/\?/;this.url+=(be.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function R(C){var Q=new FormData;return C.trim().split("&").forEach(function(se){if(se){var ie=se.split("="),be=ie.shift().replace(/\+/g," "),he=ie.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(be),decodeURIComponent(he))}}),Q}function F(C){var Q=new _,se=C.replace(/\r?\n[\t ]+/g," ");return se.split("\r").map(function(ie){return ie.indexOf(`
`)===0?ie.substr(1,ie.length):ie}).forEach(function(ie){var be=ie.split(":"),he=be.shift().trim();if(he){var Te=be.join(":").trim();Q.append(he,Te)}}),Q}D.call(N.prototype);function X(C,Q){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.ok=this.status>=200&&this.status<300,this.statusText=Q.statusText===void 0?"":""+Q.statusText,this.headers=new _(Q.headers),this.url=Q.url||"",this._initBody(C)}D.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},X.error=function(){var C=new X(null,{status:0,statusText:""});return C.type="error",C};var ne=[301,302,303,307,308];X.redirect=function(C,Q){if(ne.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new X(null,{status:Q,headers:{location:C}})},o.DOMException=u.DOMException;try{new o.DOMException}catch{o.DOMException=function(Q,se){this.message=Q,this.name=se;var ie=Error(Q);this.stack=ie.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function $(C,Q){return new Promise(function(se,ie){var be=new N(C,Q);if(be.signal&&be.signal.aborted)return ie(new o.DOMException("Aborted","AbortError"));var he=new XMLHttpRequest;function Te(){he.abort()}he.onload=function(){var ye={status:he.status,statusText:he.statusText,headers:F(he.getAllResponseHeaders()||"")};ye.url="responseURL"in he?he.responseURL:ye.headers.get("X-Request-URL");var ce="response"in he?he.response:he.responseText;setTimeout(function(){se(new X(ce,ye))},0)},he.onerror=function(){setTimeout(function(){ie(new TypeError("Network request failed"))},0)},he.ontimeout=function(){setTimeout(function(){ie(new TypeError("Network request failed"))},0)},he.onabort=function(){setTimeout(function(){ie(new o.DOMException("Aborted","AbortError"))},0)};function Ne(ye){try{return ye===""&&u.location.href?u.location.href:ye}catch{return ye}}he.open(be.method,Ne(be.url),!0),be.credentials==="include"?he.withCredentials=!0:be.credentials==="omit"&&(he.withCredentials=!1),"responseType"in he&&(c.blob?he.responseType="blob":c.arrayBuffer&&be.headers.get("Content-Type")&&be.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(he.responseType="arraybuffer")),Q&&typeof Q.headers=="object"&&!(Q.headers instanceof _)?Object.getOwnPropertyNames(Q.headers).forEach(function(ye){he.setRequestHeader(ye,p(Q.headers[ye]))}):be.headers.forEach(function(ye,ce){he.setRequestHeader(ce,ye)}),be.signal&&(be.signal.addEventListener("abort",Te),he.onreadystatechange=function(){he.readyState===4&&be.signal.removeEventListener("abort",Te)}),he.send(typeof be._bodyInit>"u"?null:be._bodyInit)})}return $.polyfill=!0,u.fetch||(u.fetch=$,u.Headers=_,u.Request=N,u.Response=X),o.Headers=_,o.Request=N,o.Response=X,o.fetch=$,o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=r.fetch?r:n;e=a.fetch,e.default=a.fetch,e.fetch=a.fetch,e.Headers=a.Headers,e.Request=a.Request,e.Response=a.Response,t.exports=e})(qO,qO.exports);var MR=qO.exports;Object.defineProperty(uy,"__esModule",{value:!0});uy.QuadDestinationPatchSparqlUpdate=void 0;const H1e=fs,k1e=$f,Q1e=MR,j1=x0,G1e=Jt;class z1e{constructor(e,r,n){this.url=e,this.context=r,this.mediatorHttp=n}insert(e){return this.wrapSparqlUpdateRequest("INSERT",e)}async delete(e){return this.wrapSparqlUpdateRequest("DELETE",e)}async wrapSparqlUpdateRequest(e,r){const n=r.map(u=>{let c=`${(0,j1.termToString)(u.subject)} ${(0,j1.termToString)(u.predicate)} ${(0,j1.termToString)(u.object)} .`;return u.graph.termType!=="DefaultGraph"?c=`  GRAPH ${(0,j1.termToString)(u.graph)} { ${c} }
`:c=`  ${c}
`,c}).prepend([`${e} DATA {
`]).append(["}"]),a=new G1e.Readable;a._read=()=>!0,n.on("data",u=>a.push(u)),n.on("end",()=>a.push(null));const s=new Q1e.Headers({"content-type":"application/sparql-update"}),o=await this.mediatorHttp.mediate({context:this.context,init:{headers:s,method:"PATCH",body:H1e.ActorHttp.toWebReadableStream(a)},input:this.url});await(0,k1e.validateHttpResponse)(this.url,o)}async deleteGraphs(e,r,n){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(e,r){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}}uy.QuadDestinationPatchSparqlUpdate=z1e;Object.defineProperty(Zw,"__esModule",{value:!0});Zw.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const W1e=eS,X1e=uy;class K1e extends W1e.ActorRdfUpdateHypermedia{constructor(e){super(e,"patchSparqlUpdate")}async testMetadata(e){if(!e.forceDestinationType&&!e.metadata.patchSparqlUpdate)throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);if(!e.forceDestinationType&&!e.exists)throw new Error(`Actor ${this.name} can only patch a destination that already exists.`);return!0}async run(e){return this.logInfo(e.context,`Identified as patchSparqlUpdate destination: ${e.url}`),{destination:new X1e.QuadDestinationPatchSparqlUpdate(e.url,e.context,this.mediatorHttp)}}}Zw.ActorRdfUpdateHypermediaPatchSparqlUpdate=K1e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Zw,t),r(uy,t)})(PB);var DB={},rS={},cy={};Object.defineProperty(cy,"__esModule",{value:!0});cy.QuadDestinationPutLdp=void 0;const J1e=fs,Y1e=$f,Z1e=MR;class ebe{constructor(e,r,n,a,s,o){this.url=e,this.context=r,this.mediaTypes=n,this.mediatorHttp=a,this.mediatorRdfSerializeMediatypes=s,this.mediatorRdfSerialize=o}insert(e){return this.wrapRdfUpdateRequest("INSERT",e)}async delete(e){throw new Error("Put-based LDP destinations don't support deletions")}async wrapRdfUpdateRequest(e,r){const{mediaTypes:n}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),a=this.mediaTypes.filter(l=>l in n),s=a.length>0?a[0]:Object.keys(n).sort((l,d)=>n[d]-n[l])[0],{handle:{data:o}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:r,context:this.context},handleMediaType:s}),u=new Z1e.Headers({"content-type":s}),c=await this.mediatorHttp.mediate({context:this.context,init:{headers:u,method:"PUT",body:J1e.ActorHttp.toWebReadableStream(o)},input:this.url});await(0,Y1e.validateHttpResponse)(this.url,c)}async deleteGraphs(e,r,n){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(e,r){throw new Error("Put-based LDP destinations don't support named graphs")}}cy.QuadDestinationPutLdp=ebe;Object.defineProperty(rS,"__esModule",{value:!0});rS.ActorRdfUpdateHypermediaPutLdp=void 0;const tbe=eS,rbe=cy;class nbe extends tbe.ActorRdfUpdateHypermedia{constructor(e){super(e,"putLdp")}async testMetadata(e){if(!e.forceDestinationType){if(!e.metadata.allowHttpMethods||!e.metadata.allowHttpMethods.includes("PUT"))throw new Error(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(e.exists)throw new Error(`Actor ${this.name} can only put on a destination that does not already exists.`)}return!0}async run(e){return this.logInfo(e.context,`Identified as putLdp destination: ${e.url}`),{destination:new rbe.QuadDestinationPutLdp(e.url,e.context,e.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}}rS.ActorRdfUpdateHypermediaPutLdp=nbe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(rS,t),r(cy,t)})(DB);var NB={},nS={},ly={};Object.defineProperty(ly,"__esModule",{value:!0});ly.QuadDestinationSparql=void 0;const ibe=Kw,C1=x0,abe=xl;class sbe{constructor(e,r,n){this.url=e,this.context=r,this.mediatorHttp=n,this.endpointFetcher=new ibe.SparqlEndpointFetcher({fetch:(a,s)=>this.mediatorHttp.mediate({input:a,init:s,context:this.context}),prefixVariableQuestionMark:!0})}insert(e){return this.wrapSparqlUpdateRequest("INSERT",e)}async delete(e){return this.wrapSparqlUpdateRequest("DELETE",e)}async wrapSparqlUpdateRequest(e,r){const n=r.map(s=>{let o=`${(0,C1.termToString)(s.subject)} ${(0,C1.termToString)(s.predicate)} ${(0,C1.termToString)(s.object)} .`;return s.graph.termType!=="DefaultGraph"?o=`  GRAPH ${(0,C1.termToString)(s.graph)} { ${o} }
`:o=`  ${o}
`,o}).prepend([`${e} DATA {
`]).append(["}"]),a=await abe(n);await this.endpointFetcher.fetchUpdate(this.url,a)}async deleteGraphs(e,r,n){const a=Array.isArray(e)?e:[e],s=[];for(const o of a){let u;typeof o=="string"?u=o:o.termType==="DefaultGraph"?u="DEFAULT":u=`GRAPH <${o.value}>`,s.push(`${n?"DROP":"CLEAR"} ${r?"":"SILENT "}${u}`)}await this.endpointFetcher.fetchUpdate(this.url,s.join("; "))}async createGraphs(e,r){const n=[];for(const a of e)n.push(`CREATE${r?"":" SILENT"} GRAPH <${a.value}>`);await this.endpointFetcher.fetchUpdate(this.url,n.join("; "))}}ly.QuadDestinationSparql=sbe;Object.defineProperty(nS,"__esModule",{value:!0});nS.ActorRdfUpdateHypermediaSparql=void 0;const obe=eS,ube=ly;class cbe extends obe.ActorRdfUpdateHypermedia{constructor(e){super(e,"sparql")}async testMetadata(e){if(!e.forceDestinationType&&!e.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&e.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&e.url.endsWith("/update")))throw new Error(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`);return!0}async run(e){return this.logInfo(e.context,`Identified as sparql destination: ${e.url}`),{destination:new ube.QuadDestinationSparql(e.metadata.sparqlService||e.url,e.context,this.mediatorHttp)}}}nS.ActorRdfUpdateHypermediaSparql=cbe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(nS,t),r(ly,t)})(NB);var jB={},iS={},aS={};Object.defineProperty(aS,"__esModule",{value:!0});aS.LazyCardinalityIterator=void 0;const Xc=kt;class lbe extends Xc.AsyncIterator{constructor(e){super(),this._source=e,this._count=0,this._buffering=!0,e[Xc.DESTINATION]=this,e.on("readable",ad),e.on("end",ad),e.on("error",e8),this.readable=e.readable}read(){if(this._buffer)return this._buffer.empty?(this._buffering||this.close(),this.readable=!1,null):this._buffer.shift();let e=null;return this._source.readable&&(e=this._source.read())!==null?this._count+=1:(this.readable=!1,this._source.done&&this.close()),e}getCardinality(){return this._cardinality?this._cardinality:this._error?Promise.reject(this._error):(this._source.done&&this.close(),this.done?this._cardinality=Promise.resolve(this._count):(this._buffer=new Xc.LinkedList,this._cardinality=new Promise((e,r)=>{this._source.removeListener("readable",ad),this._source.removeListener("end",ad);const n=()=>{this._source.removeListener("data",a),this._source.removeListener("end",s),this._source.removeListener("error",o)},a=u=>{this._buffer.push(u),this._count+=1,this.readable=!0},s=()=>{this._buffering=!1,n(),e(this._count)},o=u=>{this._buffering=!1,n(),r(u)};this._source.on("data",a),this._source.on("end",s),this._source.on("error",o)})),this._cardinality)}close(){this._source.removeListener("readable",ad),this._source.removeListener("end",ad),this._source.removeListener("error",e8),delete this._source[Xc.DESTINATION],this._source.destroy(),super.close()}}aS.LazyCardinalityIterator=lbe;function ad(){this[Xc.DESTINATION].readable=!0}function e8(t){this[Xc.DESTINATION]._error=t,this[Xc.DESTINATION].emit("error",t)}Object.defineProperty(iS,"__esModule",{value:!0});iS.ActorQueryOperationSparqlEndpoint=void 0;const dbe=Un,fbe=ct,Ah=Rl,dE=$f,hbe=qt,pbe=la,ybe=kt,bbe=Kw,_be=ft,Su=vt,gbe=aS,mbe=new dbe.BindingsFactory,vbe=new _be.DataFactory;class Lp extends fbe.ActorQueryOperation{constructor(e){super(e),this.endpointFetcher=new bbe.SparqlEndpointFetcher({method:e.forceHttpGet?"GET":"POST",fetch:(r,n)=>this.mediatorHttp.mediate({input:r,init:n,context:this.lastContext}),prefixVariableQuestionMark:!0})}async test(e){if(!e.operation)throw new Error("Missing field 'operation' in a query operation action.");const r=(0,Ah.getContextSourceFirst)(e.context),n=(0,dE.getContextDestinationFirst)(e.context),a=r?(0,Ah.getDataSourceType)(r):void 0,s=n?(0,dE.getDataDestinationType)(n):void 0,o=r?(0,Ah.getDataSourceValue)(r):void 0,u=n?(0,dE.getDataDestinationValue)(n):void 0;if(r&&a==="sparql"&&(!n||s==="sparql"&&u===o)||r&&!a&&(!n||!s&&u===o)&&typeof o=="string"&&(this.checkUrlSuffixSparql&&o.endsWith("/sparql")||this.checkUrlSuffixUpdate&&o.endsWith("/update")))return{httpRequests:1};throw new Error(`${this.name} requires a single source with a 'sparql' endpoint to be present in the context or URL ending on /sparql or /update.`)}async run(e){const r=(0,Ah.getContextSourceFirst)(e.context);if(!r)throw new Error("Illegal state: undefined sparql endpoint source.");const n=(0,Ah.getDataSourceValue)(r);this.lastContext=e.context;let a,s,o;try{a=e.context.get(hbe.KeysInitQuery.queryString)??(0,Su.toSparql)(e.operation,{sparqlStar:!0}),s=this.endpointFetcher.getQueryType(a),s==="UNKNOWN"&&(s=this.endpointFetcher.getUpdateTypes(a))}catch{}(!s||s==="UNKNOWN")&&(o=Su.Util.inScopeVariables(e.operation),a=(0,Su.toSparql)(Lp.FACTORY.createProject(e.operation,o)),s="SELECT");const u=this.canOperationContainUndefs(e.operation);switch(s){case"SELECT":return o||(o=Su.Util.inScopeVariables(e.operation)),this.executeQuery(n,a,!1,o,u);case"CONSTRUCT":return this.executeQuery(n,a,!0,void 0,!1);case"ASK":return{type:"boolean",execute:()=>this.endpointFetcher.fetchAsk(n,a)};default:return{type:"void",execute:()=>this.endpointFetcher.fetchUpdate(n,a)}}}executeQuery(e,r,n,a,s){const o=n?this.endpointFetcher.fetchTriples(e,r):this.endpointFetcher.fetchBindings(e,r),u=(0,ybe.wrap)(o,{autoStart:!1}).map(d=>n?d:mbe.bindings(Object.entries(d).map(([f,h])=>[vbe.variable(f.slice(1)),h]))),c=new gbe.LazyCardinalityIterator(u),l=Lp.cachifyMetadata(async()=>({state:new pbe.MetadataValidationState,cardinality:{type:"exact",value:await c.getCardinality()},canContainUndefs:s,variables:a}));return n?{type:"quads",quadStream:c,metadata:l}:{type:"bindings",bindingsStream:c,metadata:l}}canOperationContainUndefs(e){let r=!1;return Su.Util.recurseOperation(e,{[Su.Algebra.types.LEFT_JOIN](){return r=!0,!1},[Su.Algebra.types.VALUES](n){for(const a of n.bindings){const s=Object.keys(a);n.variables.every(o=>s.includes(`?${o.value}`))||(r=!0)}return!1}}),r}}iS.ActorQueryOperationSparqlEndpoint=Lp;Lp.FACTORY=new Su.Factory;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(iS,t)})(jB);var CB={},sS={},MB={},oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.ActorDereferenceRdf=void 0;const wbe=Xm;class Sbe extends wbe.ActorDereferenceParse{constructor(e){super(e)}}oS.ActorDereferenceRdf=Sbe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(oS,t)})(MB);Object.defineProperty(sS,"__esModule",{value:!0});sS.ActorDereferenceRdfParse=void 0;const Tbe=MB;class Ebe extends Tbe.ActorDereferenceRdf{constructor(e){super(e)}async getMetadata(e){return{baseIRI:e.url}}}sS.ActorDereferenceRdfParse=Ebe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(sS,t)})(CB);var FB={},uS={},cS={};Object.defineProperty(cS,"__esModule",{value:!0});cS.HtmlScriptListener=void 0;const t8=qt,Obe=Jt,Abe=xa;class Td{constructor(e,r,n,a,s,o,u,c){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=e,this.cbQuad=r,this.cbError=n,this.cbEnd=a,this.supportedTypes=s,this.context=o.set(t8.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=u,this.headers=c,this.onlyFirstScript=o.get(t8.KeysRdfParseHtmlScript.extractAllScripts)===!1;const l=this.baseIRI.indexOf("#");this.targetScriptId=l>0?this.baseIRI.slice(l+1,this.baseIRI.length):null}static newErrorCoded(e,r){const n=new Error(e);return n.code=r,n}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(Td.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const e=new Obe.Readable({objectMode:!0});e._read=()=>{};const r=this.textChunks,n={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:e,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(n).then(({handle:a})=>{a.data.on("error",s=>this.cbError(Td.newErrorCoded(s.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const s of r)e.push(s);e.push(null)}).catch(a=>{this.targetScriptId?this.cbError(Td.newErrorCoded(a.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(e,r){e==="base"&&r.href&&(this.baseIRI=(0,Abe.resolve)(r.href,this.baseIRI)),e==="script"&&(!this.targetScriptId||r.id===this.targetScriptId)?this.supportedTypes[r.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=r.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(Td.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(e){this.handleMediaType&&this.textChunks.push(e)}requiresCustomJsonLdHandling(e){return!this.onlyFirstScript&&!this.targetScriptId&&e==="application/ld+json"}}cS.HtmlScriptListener=Td;Object.defineProperty(uS,"__esModule",{value:!0});uS.ActorRdfParseHtmlScript=void 0;const xbe=Fv,Rbe=cS;class Ibe extends xbe.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return!0}async run(e){const r=(await this.mediatorRdfParseMediatypes.mediate({context:e.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new Rbe.HtmlScriptListener(this.mediatorRdfParseHandle,e.emit,e.error,e.end,r,e.context,e.baseIRI,e.headers)}}}uS.ActorRdfParseHtmlScript=Ibe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(uS,t)})(FB);var LB={},lS={},Pa={},dS={};Object.defineProperty(dS,"__esModule",{value:!0});dS.ActorRdfJoin=void 0;const Pbe=ct,M1=qt,Dbe=Je,Nbe=la,jbe=ft,Cbe=nr,Mbe=new jbe.DataFactory;class Pu extends Dbe.Actor{constructor(e,r){super(e),this.includeInLogs=!0,this.logicalType=r.logicalType,this.physicalName=r.physicalName,this.limitEntries=r.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=r.limitEntriesMin??!1,this.canHandleUndefs=r.canHandleUndefs??!1}static hash(e,r){return r.filter(n=>e.has(n)).map(n=>(0,Cbe.termToString)(e.get(n))).join("")}static overlappingVariables(e){const r=e.map(a=>a.variables);let n=r[0];for(const a of r.slice(1))n=n.filter(s=>a.some(o=>o.value===s.value));return n}static joinVariables(e){return[...new Set(e.flatMap(r=>r.variables.map(n=>n.value)))].map(r=>Mbe.variable(r))}static joinBindings(...e){if(e.length===0)return null;if(e.length===1)return e[0];let r=e[0];for(const n of e.slice(1)){const a=r.merge(n);if(!a)return null;r=a}return r}static getCardinality(e){return e.cardinality}static async getMetadatas(e){return await Promise.all(e.map(r=>r.output.metadata()))}static async getEntriesWithMetadatas(e){const r=await Pu.getMetadatas(e);return e.map((n,a)=>({...n,metadata:r[a]}))}static getRequestInitialTimes(e){return e.map(r=>r.pageSize?0:r.requestTime||0)}static getRequestItemTimes(e){return e.map(r=>r.pageSize?(r.requestTime||0)/r.pageSize:0)}async constructResultMetadata(e,r,n,a={}){let s;a.cardinality?s=a.cardinality:(s=r.reduce((c,l)=>{const d=Pu.getCardinality(l);return{type:d.type==="estimate"?"estimate":c.type,value:c.value*d.value}},{type:"exact",value:1}),s.value*=(await this.mediatorJoinSelectivity.mediate({entries:e,context:n})).selectivity);const o=new Nbe.MetadataValidationState,u=()=>o.invalidate();for(const c of r)c.state.addInvalidateListener(u);return{state:o,...a,cardinality:{type:s.type,value:s.value},canContainUndefs:a.canContainUndefs??r.some(c=>c.canContainUndefs),variables:Pu.joinVariables(r)}}async test(e){if(e.type!==this.logicalType)throw new Error(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${e.type}' was given.`);if(e.entries.length<=1)throw new Error(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?e.entries.length<this.limitEntries:e.entries.length>this.limitEntries)throw new Error(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${e.entries.length}.`);for(const n of e.entries)if(n.output.type!=="bindings")throw new Error(`Invalid type of a join entry: Expected 'bindings' but got '${n.output.type}'`);const r=await Pu.getMetadatas(e.entries);if(!this.canHandleUndefs){for(const n of r)if(n.canContainUndefs)throw new Error(`Actor ${this.name} can not join streams containing undefs`)}return await this.getJoinCoefficients(e,r)}async run(e){let r;e.context.has(M1.KeysInitQuery.physicalQueryPlanLogger)&&(r=e.context.get(M1.KeysInitQuery.physicalQueryPlanNode),e.context=e.context.set(M1.KeysInitQuery.physicalQueryPlanNode,e));const n=e.context.get(M1.KeysInitQuery.physicalQueryPlanLogger);let a;this.includeInLogs&&n&&(a={},n.logOperation(`join-${this.logicalType}`,this.physicalName,e,r,this.name,a));const{result:s,physicalPlanMetadata:o}=await this.getOutput(e),u=await Pu.getMetadatas(e.entries);return a&&(Object.assign(a,o),a.cardinalities=u.map(Pu.getCardinality),a.joinCoefficients=await this.getJoinCoefficients(e,u)),s.metadata=Pbe.ActorQueryOperation.cachifyMetadata(s.metadata),s}}dS.ActorRdfJoin=Pu;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(dS,t)})(Pa);Object.defineProperty(lS,"__esModule",{value:!0});lS.ActorRdfJoinNone=void 0;const Fbe=Un,Lbe=Pa,Bbe=la,$be=kt,Ube=new Fbe.BindingsFactory;class qbe extends Lbe.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(e){if(e.entries.length>0)throw new Error(`Actor ${this.name} can only join zero entries`);return await this.getJoinCoefficients()}async getOutput(e){return{result:{bindingsStream:new $be.ArrayIterator([Ube.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new Bbe.MetadataValidationState,cardinality:{type:"exact",value:1},canContainUndefs:!1,variables:[]}),type:"bindings"}}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}lS.ActorRdfJoinNone=qbe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(lS,t)})(LB);var BB={},fS={};Object.defineProperty(fS,"__esModule",{value:!0});fS.ActorRdfJoinSingle=void 0;const Vbe=Pa;class Hbe extends Vbe.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(e){if(e.entries.length!==1)throw new Error(`Actor ${this.name} can only join a single entry`);return await this.getJoinCoefficients()}async getOutput(e){return{result:e.entries[0].output}}async getJoinCoefficients(){return{iterations:0,persistedItems:0,blockingItems:0,requestTime:0}}}fS.ActorRdfJoinSingle=Hbe;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fS,t)})(BB);var FR={},hS={};Object.defineProperty(hS,"__esModule",{value:!0});hS.ActorRdfJoinMultiBind=void 0;const r8=ct,F1=Pa,fE=qt,hE=kt,Yh=vt;class Bp extends F1.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0})}static createBindStream(e,r,n,a,s){const o=u=>{const c=n.map(d=>(0,r8.materializeOperation)(d,u,{bindFilter:!1})),l=d=>d.merge(u);return new hE.TransformIterator(async()=>(await a(c,u)).transform({map:l}),{maxBufferSize:128,autoStart:!1})};switch(e){case"depth-first":return new hE.MultiTransformIterator(r,{autoStart:!1,multiTransform:o,optional:s});case"breadth-first":return new hE.UnionIterator(r.transform({map:o,optional:s}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${e}`)}}async sortJoinEntries(e,r){if(e.some(u=>u.metadata.canContainUndefs))return e;const a={};for(const u of e)for(const c of u.metadata.variables){let l=a[c.value];l||(l=0),a[c.value]=++l}const s=[];for(const[u,c]of Object.entries(a))c>=2&&s.push(u);if(s.length===0)throw new Error("Bind join can only join entries with at least one common variable");const o=[];for(const u of e){let c=!1;for(const l of u.metadata.variables)if(s.includes(l.value)){c=!0;break}c||o.push(u)}return(await this.mediatorJoinEntriesSort.mediate({entries:e,context:r})).entries.sort((u,c)=>{const l=o.includes(u),d=o.includes(c);return l===d?0:l?1:-1})}async getOutput(e){const r=await F1.ActorRdfJoin.getEntriesWithMetadatas(e.entries),n=await this.sortJoinEntries(r,e.context);this.logDebug(e.context,"First entry for Bind Join: ",()=>({entry:n[0].operation,metadata:n[0].metadata}));for(const[c,l]of n.entries())c!==0&&l.output.bindingsStream.close();const a=n[0].output,s=[...n];s.splice(0,1);const o=e.context.set(fE.KeysQueryOperation.joinLeftMetadata,n[0].metadata).set(fE.KeysQueryOperation.joinRightMetadatas,s.map(c=>c.metadata));return{result:{type:"bindings",bindingsStream:Bp.createBindStream(this.bindOrder,a.bindingsStream,s.map(c=>c.operation),async(c,l)=>{const d=c.length===1?c[0]:Bp.FACTORY.createJoin(c);return r8.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:d,context:o==null?void 0:o.set(fE.KeysQueryOperation.joinBindings,l)})).bindingsStream},!1),metadata:()=>this.constructResultMetadata(n,n.map(c=>c.metadata),e.context)},physicalPlanMetadata:{bindIndex:r.indexOf(n[0]),bindOrder:this.bindOrder}}}canBindWithOperation(e){let r=!0;return Yh.Util.recurseOperation(e,{[Yh.Algebra.types.EXTEND](){return r=!1,!1},[Yh.Algebra.types.GROUP](){return r=!1,!1},[Yh.Algebra.types.FILTER](){return r=!1,!1}}),r}async getJoinCoefficients(e,r){const n=await this.sortJoinEntries(e.entries.map((p,y)=>({...p,metadata:r[y]})),e.context);r=n.map(p=>p.metadata);const a=F1.ActorRdfJoin.getRequestInitialTimes(r),s=F1.ActorRdfJoin.getRequestItemTimes(r),o=[...n],u=[...a],c=[...s];if(o.splice(0,1),u.splice(0,1),c.splice(0,1),o.some(p=>!this.canBindWithOperation(p.operation)))throw new Error(`Actor ${this.name} can not bind on Extend, Group, and Filter operations`);const l=await Promise.all(o.map(async p=>(await this.mediatorJoinSelectivity.mediate({entries:[n[0],p],context:e.context})).selectivity*this.selectivityModifier)),d=o.map((p,y)=>p.metadata.cardinality.value*l[y]).reduce((p,y)=>p+y,0),f=u.reduce((p,y,_)=>p+y*l[_],0),h=c.reduce((p,y,_)=>p+y*l[_],0);return{iterations:r[0].cardinality.value*d,persistedItems:0,blockingItems:0,requestTime:a[0]+r[0].cardinality.value*(s[0]+f+d*h)}}}hS.ActorRdfJoinMultiBind=Bp;Bp.FACTORY=new Yh.Factory;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(hS,t)})(FR);var $B={},pS={};let UB=kt,kbe=UB.MultiTransformIterator,Qbe=UB.SimpleTransformIterator,Gbe=class extends kbe{constructor(e,r,n,a){super(e,a),this.funRight=r,this.funJoin=n}_createTransformer(e){return new Qbe(this.funRight(e),{transform:(r,n,a)=>{let s=this.funJoin(e,r);s!==null&&a(s),n()}})}};var zbe=Gbe;let Wbe=kt.AsyncIterator,Xbe=class extends Wbe{constructor(e,r,n,a){super(),this.addedDataListener=!1,this.left=e,this.right=r,this.funHash=n,this.funJoin=a,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",o=>this.destroy(o)),this.right.on("error",o=>this.destroy(o)),this.readable=!1,this.left.on("end",s.bind(this));function s(){if(this.leftMap.size<=0)return this.close();this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",o=>{o==="data"&&!this.addedDataListener&&(this.addedDataListener=!0,this._addDataListener())})}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this.addedDataListener||(this.addedDataListener=!0,this._addDataListener());;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let r=this.matches[this.matchIdx++],n=this.funJoin(r,this.match);if(n!==null)return n}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let e=this.funHash(this.match);this.matches=this.leftMap.get(e)||[],this.matchIdx=0}}_addDataListener(){this.left.on("data",e.bind(this));function e(r){let n=this.funHash(r);this.leftMap.has(n)||this.leftMap.set(n,[]),this.leftMap.get(n).push(r)}}};var Kbe=Xbe;const{MultiTransformIterator:Jbe,SimpleTransformIterator:Ybe,scheduleTask:Zbe}=kt;let e_e=class extends Jbe{constructor(e,r,n,a){super(e,a),this.right=r,this.funJoin=n,this.on("end",()=>this.right.close())}_end(){super._end(),Zbe(()=>this.right.destroy())}_createTransformer(e){return new Ybe(this.right.clone(),{transform:(r,n,a)=>{let s=this.funJoin(e,r);s!==null&&a(s),n()}})}};var t_e=e_e;let r_e=kt.AsyncIterator,n_e=class extends r_e{constructor(e,r,n,a){super(),this.left=e,this.right=r,this.funHash=n,this.funJoin=a,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",s=>this.destroy(s)),this.right.on("error",s=>this.destroy(s)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let s=this.matches[this.matchIdx++],o=this.usedLeft?this.funJoin(this.match,s):this.funJoin(s,this.match);if(o!==null)return o}this.hasResults()||this._end();let e=null;for(let s=0;s<2&&(e=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,e===null);++s);if(this.done||e===null)return this.readable=!1,null;let r=this.funHash(e),n=this.usedLeft?this.leftMap:this.rightMap;n.has(r)||n.set(r,[]),n.get(r).push(e),this.match=e,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(r)||[],this.matchIdx=0}}};var i_e=n_e;let a_e=kt.AsyncIterator;class s_e extends a_e{constructor(e){super(),Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),this.streams=e;for(let r of e)r.on("readable",()=>this.emit("readable")),r.on("end",()=>this._removeStream(r));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(e){let r=this.streams.indexOf(e);r<0||(this.streams.splice(r,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let e of this.streams)e.close()}read(){for(let e=0;e<this.streams.length;++e){this.idx=(this.idx+1)%this.streams.length;let r=this.streams[this.idx].read();if(r!==null)return r}return null}}var o_e=s_e;const u_e=zbe,c_e=Kbe,l_e=t_e,d_e=i_e,f_e=o_e;var yS={DynamicNestedLoopJoin:u_e,HashJoin:c_e,NestedLoopJoin:l_e,SymmetricHashJoin:d_e,MergeStream:f_e};Object.defineProperty(pS,"__esModule",{value:!0});pS.ActorRdfJoinHash=void 0;const Ac=Pa,h_e=yS;class p_e extends Ac.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"hash",limitEntries:2})}async getOutput(e){const r=await Ac.ActorRdfJoin.getMetadatas(e.entries),n=Ac.ActorRdfJoin.overlappingVariables(r);return{result:{type:"bindings",bindingsStream:new h_e.HashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,s=>Ac.ActorRdfJoin.hash(s,n),Ac.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(e.entries,r,e.context)}}}async getJoinCoefficients(e,r){const n=Ac.ActorRdfJoin.getRequestInitialTimes(r),a=Ac.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}pS.ActorRdfJoinHash=p_e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pS,t)})($B);var qB={},bS={};Object.defineProperty(bS,"__esModule",{value:!0});bS.ActorRdfJoinSymmetricHash=void 0;const sd=Pa,y_e=yS;class LR extends sd.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2})}async getOutput(e){const r=await sd.ActorRdfJoin.getMetadatas(e.entries),n=sd.ActorRdfJoin.overlappingVariables(r);return{result:{type:"bindings",bindingsStream:new y_e.SymmetricHashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,s=>LR.hash(s,n),sd.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(e.entries,r,e.context)}}}async getJoinCoefficients(e,r){const n=sd.ActorRdfJoin.getRequestInitialTimes(r),a=sd.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value+r[1].cardinality.value,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}bS.ActorRdfJoinSymmetricHash=LR;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(bS,t)})(qB);var VB={},_S={};Object.defineProperty(_S,"__esModule",{value:!0});_S.ActorRdfJoinNestedLoop=void 0;const xh=Pa,b_e=yS;class __e extends xh.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new b_e.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,xh.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await xh.ActorRdfJoin.getMetadatas(e.entries),e.context)}}}async getJoinCoefficients(e,r){const n=xh.ActorRdfJoin.getRequestInitialTimes(r),a=xh.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}_S.ActorRdfJoinNestedLoop=__e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(_S,t)})(VB);var HB={},gS={};Object.defineProperty(gS,"__esModule",{value:!0});gS.ActorRdfJoinMinusHash=void 0;const g_e=ct,xc=Pa;class m_e extends xc.ActorRdfJoin{constructor(e){super(e,{logicalType:"minus",physicalName:"hash",limitEntries:2})}async getOutput(e){const r=e.entries[1].output,n=e.entries[0].output,a=await xc.ActorRdfJoin.getMetadatas(e.entries),s=xc.ActorRdfJoin.overlappingVariables(a);if(s.length>0){const o={};return{result:{type:"bindings",bindingsStream:new g_e.ClosableTransformIterator(async()=>(await new Promise(c=>{r.bindingsStream.on("data",l=>{o[xc.ActorRdfJoin.hash(l,s)]=!0}),r.bindingsStream.on("end",c)}),n.bindingsStream.filter(c=>!o[xc.ActorRdfJoin.hash(c,s)])),{autoStart:!1,onClose(){r.bindingsStream.destroy(),n.bindingsStream.destroy()}}),metadata:n.metadata}}}return r.bindingsStream.destroy(),{result:n}}async getJoinCoefficients(e,r){const n=xc.ActorRdfJoin.getRequestInitialTimes(r),a=xc.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}gS.ActorRdfJoinMinusHash=m_e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(gS,t)})(HB);var kB={},mS={},vS={};Object.defineProperty(vS,"__esModule",{value:!0});vS.BindingsIndex=void 0;const v_e=nr;class Kb{constructor(e){this.data={},this.keys=e}static hashTerm(e){return e&&e.termType!=="Variable"?(0,v_e.termToString)(e):""}add(e){if(this.isBindingsValid(e)){let r=this.data;for(const n of this.keys){const a=Kb.hashTerm(e.get(n));let s=r[a];s||(s=r[a]={}),r=s}}}contains(e){return this.isBindingsValid(e)?this.containsRecursive(e,this.keys,[this.data]):!1}isBindingsValid(e){let r=!1;for(const n of this.keys)if(e.get(n)){r=!0;break}return r}containsRecursive(e,r,n){if(r.length===0)return!0;let a;[a,...r]=r;for(const s of n){const o=Kb.hashTerm(e.get(a));if(o){const u=[s[o],s[""]].filter(Boolean);if(u.length===0)continue;if(this.containsRecursive(e,r,u))return!0}else{let u=Object.keys(s).map(c=>s[c]);if(u.length===0&&(u=[{}]),this.containsRecursive(e,r,u))return!0}}return!1}}vS.BindingsIndex=Kb;Object.defineProperty(mS,"__esModule",{value:!0});mS.ActorRdfJoinMinusHashUndef=void 0;const w_e=ct,Rh=Pa,S_e=vS;class T_e extends Rh.ActorRdfJoin{constructor(e){super(e,{logicalType:"minus",physicalName:"hash-undef",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){const r=e.entries[1].output,n=e.entries[0].output,a=await Rh.ActorRdfJoin.getMetadatas(e.entries),s=Rh.ActorRdfJoin.overlappingVariables(a);if(s.length>0){const o=new S_e.BindingsIndex(s);return{result:{type:"bindings",bindingsStream:new w_e.ClosableTransformIterator(async()=>(await new Promise(c=>{r.bindingsStream.on("data",l=>o.add(l)),r.bindingsStream.on("end",c)}),n.bindingsStream.filter(c=>!o.contains(c))),{autoStart:!1,onClose(){r.bindingsStream.destroy(),n.bindingsStream.destroy()}}),async metadata(){const c=await n.metadata(),l=await n.metadata();return{...l,canContainUndefs:c.canContainUndefs||l.canContainUndefs}}}}}return r.bindingsStream.destroy(),{result:n}}async getJoinCoefficients(e,r){const n=Rh.ActorRdfJoin.getRequestInitialTimes(r),a=Rh.ActorRdfJoin.getRequestItemTimes(r);return{iterations:(r[0].cardinality.value+r[1].cardinality.value)*1.01,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}mS.ActorRdfJoinMinusHashUndef=T_e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(mS,t)})(kB);var QB={},wS={};Object.defineProperty(wS,"__esModule",{value:!0});wS.ActorRdfJoinOptionalBind=void 0;const E_e=FR,O_e=ct,L1=Pa,pE=qt,n8=vt;class A_e extends L1.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){e.entries[1].output.bindingsStream.close();const r=e.context.set(pE.KeysQueryOperation.joinLeftMetadata,await e.entries[0].output.metadata()).set(pE.KeysQueryOperation.joinRightMetadatas,[await e.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:E_e.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,e.entries[0].output.bindingsStream,[e.entries[1].operation],async(a,s)=>{const o=a[0];return O_e.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:o,context:r==null?void 0:r.set(pE.KeysQueryOperation.joinBindings,s)})).bindingsStream},!0),metadata:async()=>await this.constructResultMetadata(e.entries,await L1.ActorRdfJoin.getMetadatas(e.entries),e.context,{canContainUndefs:!0})}}}async getJoinCoefficients(e,r){const n=L1.ActorRdfJoin.getRequestInitialTimes(r),a=L1.ActorRdfJoin.getRequestItemTimes(r);if(e.entries[1].operation.type===n8.Algebra.types.EXTEND||e.entries[1].operation.type===n8.Algebra.types.GROUP)throw new Error(`Actor ${this.name} can not bind on Extend and Group operations`);const s=(await this.mediatorJoinSelectivity.mediate({entries:e.entries,context:e.context})).selectivity*this.selectivityModifier;return{iterations:r[0].cardinality.value*r[1].cardinality.value*s,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*s*(a[0]+n[1]+r[1].cardinality.value*a[1])}}}wS.ActorRdfJoinOptionalBind=A_e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(wS,t)})(QB);var GB={},SS={};Object.defineProperty(SS,"__esModule",{value:!0});SS.ActorRdfJoinOptionalNestedLoop=void 0;const Ih=Pa,x_e=yS;class R_e extends Ih.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new x_e.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,Ih.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await Ih.ActorRdfJoin.getMetadatas(e.entries),e.context,{canContainUndefs:!0})}}}async getJoinCoefficients(e,r){const n=Ih.ActorRdfJoin.getRequestInitialTimes(r),a=Ih.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*a[0]+n[1]+r[1].cardinality.value*a[1]}}}SS.ActorRdfJoinOptionalNestedLoop=R_e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(SS,t)})(GB);var zB={},TS={},ES={};Object.defineProperty(ES,"__esModule",{value:!0});ES.RdfSourceQpf=void 0;const B1=kt,I_e=ft,WB=nr,$1=on,Rc=new I_e.DataFactory;class P_e{constructor(e,r,n,a,s,o,u,c,l,d,f){this.mediatorMetadata=e,this.mediatorMetadataExtract=r,this.mediatorDereferenceRdf=n,this.subjectUri=a,this.predicateUri=s,this.objectUri=o,this.graphUri=u,this.url=c,this.context=d,this.cachedQuads={};const h=this.getSearchForm(l);if(!h)throw new Error("Illegal state: found no TPF/QPF search form anymore in metadata.");if(this.searchForm=h,this.defaultGraph=l.defaultGraph?Rc.namedNode(l.defaultGraph):void 0,f){let p=(0,B1.wrap)(f);this.defaultGraph&&(p=this.reverseMapQuadsToDefaultGraph(p)),p.setProperty("metadata",l),this.cacheQuads(p,Rc.variable(""),Rc.variable(""),Rc.variable(""),Rc.variable(""))}}getSearchForm(e){if(!e.searchForms||!e.searchForms.values)return;const{searchForms:r}=e;for(const n of r.values)if(this.graphUri&&this.subjectUri in n.mappings&&this.predicateUri in n.mappings&&this.objectUri in n.mappings&&this.graphUri in n.mappings&&Object.keys(n.mappings).length===4||this.subjectUri in n.mappings&&this.predicateUri in n.mappings&&this.objectUri in n.mappings&&Object.keys(n.mappings).length===3)return n}createFragmentUri(e,r,n,a,s){const o={},u=[{uri:this.subjectUri,term:r},{uri:this.predicateUri,term:n},{uri:this.objectUri,term:a},{uri:this.graphUri,term:s}];for(const c of u)c.uri&&c.term.termType!=="Variable"&&(c.term.termType!=="Quad"||(0,$1.everyTermsNested)(c.term,l=>l.termType!=="Variable"))&&(o[c.uri]=(0,WB.termToString)(c.term));return e.getUri(o)}match(e,r,n,a){let s=!1;if(a.termType==="DefaultGraph"){if(this.defaultGraph)s=!0,a=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph){const c=new B1.ArrayIterator([],{autoStart:!1});return c.setProperty("metadata",{requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null,canContainUndefs:!1}),c}}const o=this.getCachedQuads(e,r,n,a);if(o)return o;const u=new B1.TransformIterator(async()=>{var y;let c=this.createFragmentUri(this.searchForm,e,r,n,a);const l=await this.mediatorDereferenceRdf.mediate({context:this.context,url:c});c=l.url;const d=await this.mediatorMetadata.mediate({context:this.context,url:c,quads:l.data,triples:(y=l.metadata)==null?void 0:y.triples}),f=this.mediatorMetadataExtract.mediate({context:this.context,url:c,metadata:d.metadata,requestTime:l.requestTime}).then(({metadata:_})=>u.setProperty("metadata",{..._,canContainUndefs:!1,subsetOf:this.url})),h=Rc.defaultGraph();let p=(0,B1.wrap)(d.data).transform({filter(_){return(0,$1.matchPattern)(_,e,r,n,a)?!0:s&&(0,$1.matchPattern)(_,e,r,n,h)}});return(s||a.termType==="Variable")&&(p=this.reverseMapQuadsToDefaultGraph(p)),p.on("error",()=>{}),await f,p},{autoStart:!1});return this.cacheQuads(u,e,r,n,a),this.getCachedQuads(e,r,n,a)}reverseMapQuadsToDefaultGraph(e){const r=Rc.defaultGraph();return e.map(n=>(0,$1.mapTerms)(n,(a,s)=>s==="graph"&&a.equals(this.defaultGraph)?r:a))}getPatternId(e,r,n,a){return JSON.stringify({s:e.termType==="Variable"?"":U1(e),p:r.termType==="Variable"?"":U1(r),o:n.termType==="Variable"?"":U1(n),g:a.termType==="Variable"?"":U1(a)})}cacheQuads(e,r,n,a,s){const o=this.getPatternId(r,n,a,s);this.cachedQuads[o]=e.clone()}getCachedQuads(e,r,n,a){const s=this.getPatternId(e,r,n,a),o=this.cachedQuads[s];if(o)return o.clone()}}ES.RdfSourceQpf=P_e;function U1(t){return t.termType==="DefaultGraph"?"|":(0,WB.termToString)(t)}Object.defineProperty(TS,"__esModule",{value:!0});TS.ActorRdfResolveHypermediaQpf=void 0;const D_e=Hv,N_e=ES;class j_e extends D_e.ActorRdfResolveHypermedia{constructor(e){super(e,"qpf")}async testMetadata(e){const{searchForm:r}=this.createSource(e.url,e.metadata,e.context);if(e.handledDatasets&&e.handledDatasets[r.dataset])throw new Error(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`);return{filterFactor:1}}async run(e){this.logInfo(e.context,`Identified as qpf source: ${e.url}`);const r=this.createSource(e.url,e.metadata,e.context,e.quads);return{source:r,dataset:r.searchForm.dataset}}createSource(e,r,n,a){return new N_e.RdfSourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,e,r,n,a)}}TS.ActorRdfResolveHypermediaQpf=j_e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(TS,t)})(zB);var XB={},OS={},dy={},AS={},xS={};Object.defineProperty(xS,"__esModule",{value:!0});xS.LinkedRdfSourcesAsyncRdfIterator=void 0;const C_e=la,M_e=kt,F_e=ps;class L_e extends M_e.BufferedIterator{constructor(e,r,n,a,s,o,u,c){if(super({autoStart:!0,...c}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.accumulatedMetadata=Promise.resolve(void 0),this.cacheSize=e,this.subject=r,this.predicate=n,this.object=a,this.graph=s,this.firstUrl=o,this.maxIterators=u,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}_end(e){for(const r of this.currentIterators)r.destroy();super._end(e)}setSourcesState(e){e?this.sourcesState=e:(this.sourcesState={sources:new F_e.LRUCache({max:this.cacheSize})},this.getSourceCached({url:this.firstUrl},{}).catch(r=>this.destroy(r)))}getSourceCached(e,r){let n=this.sourcesState.sources.get(e.url);return n||(n=this.getSource(e,r),(e.url===this.firstUrl||this.shouldStoreSourcesStates())&&this.sourcesState.sources.set(e.url,n),n)}shouldStoreSourcesStates(){return!0}_read(e,r){if(!this.started)this.started=!0,this.sourcesState||this.setSourcesState(),this.getSourceCached({url:this.firstUrl},{}).then(n=>{this.startIterator(n,!0),r()}).catch(n=>setTimeout(()=>this.destroy(n)));else{for(const n of this.currentIterators){for(;e>0;){const a=n.read();if(a!==null)e--,this._push(a);else break}if(e<=0)break}e>=0&&this.canStartNewIterator()?this.getSourceCached({url:this.firstUrl},{}).then(n=>{this.startIteratorsForNextUrls(n.handledDatasets,!1),r()}).catch(n=>this.destroy(n)):r()}}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation<this.maxIterators&&!this.readable}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation>0}startIterator(e,r){const n=e.source.match(this.subject,this.predicate,this.object,this.graph);this.currentIterators.push(n);let a=!1;n._destination=this,n.on("error",s=>this.destroy(s)),n.on("readable",()=>this._fillBuffer()),n.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(n),1),a&&this.startIteratorsForNextUrls(e.handledDatasets,!0)}),n.getProperty("metadata",s=>{this.accumulatedMetadata=this.accumulatedMetadata.then(o=>(async()=>(o||(o=e.metadata),this.accumulateMetadata(o,s)))().then(u=>{const c={...e.metadata,...s,...u};return c.state=new C_e.MetadataValidationState,this.updateMetadata(c),this.getSourceLinks(c).then(l=>Promise.all(l)).then(async l=>{const d=await this.getLinkQueue();for(const f of l)d.push(f,e.link);a=!0,this.startIteratorsForNextUrls(e.handledDatasets,!0)}).catch(l=>this.destroy(l)),c})).catch(o=>(this.destroy(o),{}))})}updateMetadata(e){const r=this.getProperty("metadata");this.setProperty("metadata",e),r==null||r.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(e,r){this.getLinkQueue().then(n=>{for(;this.canStartNewIterator()&&this.isRunning();){const a=n.pop();if(a)this.iteratorsPendingCreation++,this.getSourceCached(a,e).then(s=>{this.iteratorsPendingCreation--,this.startIterator(s,!1)}).catch(s=>this.destroy(s));else break}r&&this.isCloseable(n)&&this.close()}).catch(n=>this.destroy(n))}isCloseable(e){return e.isEmpty()&&!this.areIteratorsRunning()}}xS.LinkedRdfSourcesAsyncRdfIterator=L_e;Object.defineProperty(AS,"__esModule",{value:!0});AS.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const B_e=ft,$_e=Jt,U_e=xS,q1=new B_e.DataFactory;class q_e extends U_e.LinkedRdfSourcesAsyncRdfIterator{constructor(e,r,n,a,s,o,u,c,l,d,f){super(e,a,s,o,u,c,l,d?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.context=r,this.forceSourceType=n,this.mediatorDereferenceRdf=f.mediatorDereferenceRdf,this.mediatorMetadata=f.mediatorMetadata,this.mediatorMetadataExtract=f.mediatorMetadataExtract,this.mediatorMetadataAccumulate=f.mediatorMetadataAccumulate,this.mediatorRdfResolveHypermedia=f.mediatorRdfResolveHypermedia,this.mediatorRdfResolveHypermediaLinks=f.mediatorRdfResolveHypermediaLinks,this.mediatorRdfResolveHypermediaLinksQueue=f.mediatorRdfResolveHypermediaLinksQueue,this.handledUrls={[c]:!0},this.aggregatedStore=d}close(){if(!this.aggregatedStore){super.close();return}this.getLinkQueue().then(e=>{var r;this.isCloseable(e)?((r=this.aggregatedStore)==null||r.end(),super.close()):this.wasForcefullyClosed=!0}).catch(e=>super.destroy(e))}destroy(e){if(!this.aggregatedStore){super.destroy(e);return}this.getLinkQueue().then(r=>{var n;e||this.isCloseable(r)?((n=this.aggregatedStore)==null||n.end(),super.destroy(e)):this.wasForcefullyClosed=!0}).catch(r=>super.destroy(r))}isCloseable(e){return(this.wasForcefullyClosed||e.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}shouldStoreSourcesStates(){return this.aggregatedStore===void 0}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(e=>e.linkQueue)),this.linkQueue}async getSourceLinks(e){try{const{links:r}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:e});return r.filter(n=>this.handledUrls[n.url]?!1:(this.handledUrls[n.url]=!0,!0))}catch{return[]}}async getSource(e,r){var l,d,f,h;let n=this.context;e.context&&(n=n.merge(e.context));let a=e.url,s,o;try{const p=await this.mediatorDereferenceRdf.mediate({context:n,url:a});a=p.url;const y=await this.mediatorMetadata.mediate({context:n,url:a,quads:p.data,triples:(l=p.metadata)==null?void 0:l.triples});y.data.on("error",()=>{}),o=(await this.mediatorMetadataExtract.mediate({context:n,url:a,metadata:y.metadata,headers:p.headers,requestTime:p.requestTime})).metadata,s=y.data,e.transform&&(s=await e.transform(s))}catch(p){s=new $_e.Readable,s.read=()=>(setTimeout(()=>s.emit("error",p)),null),o={}}(d=this.aggregatedStore)==null||d.setBaseMetadata(o,!1),(f=this.aggregatedStore)==null||f.containedSources.add(e.url),(h=this.aggregatedStore)==null||h.import(s);const{source:u,dataset:c}=await this.mediatorRdfResolveHypermedia.mediate({context:n,forceSourceType:this.forceSourceType,handledDatasets:r,metadata:o,quads:s,url:a});return c&&(r[c]=!0),{link:e,source:u,metadata:o,handledDatasets:r}}startIterator(e,r){var n;if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(e.link.url)){(n=this.aggregatedStore)==null||n.containedSources.add(e.link.url);const a=e.source.match(q1.variable("s"),q1.variable("p"),q1.variable("o"),q1.variable("g"),this.context);this.aggregatedStore.import(a).on("end",()=>{super.startIterator(e,r)})}else super.startIterator(e,r)}async accumulateMetadata(e,r){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:e,appendingMetadata:r,context:this.context})).metadata}updateMetadata(e){var r;super.updateMetadata(e),(r=this.aggregatedStore)==null||r.setBaseMetadata(e,!0)}}AS.MediatedLinkedRdfSourcesAsyncRdfIterator=q_e;var RS={},KB={},fy={};Object.defineProperty(fy,"__esModule",{value:!0});fy.PendingStreamsIndex=void 0;const i8=nr,a8=on;class Ns{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(e){return e&&e.termType!=="Variable"?(0,i8.termToString)(e):Ns.ID_VARIABLE}addPatternListener(e,r,n,a,s){this.allStreams.push(e);const o=`${this.termToString(r)}${Ns.ID_SEPARATOR}${this.termToString(n)}${Ns.ID_SEPARATOR}${this.termToString(a)}${Ns.ID_SEPARATOR}${this.termToString(s)}`;let u=this.indexedStreams.get(o);u||(u=[],this.indexedStreams.set(o,u)),u.push(e)}getPendingStreamsForQuad(e){let r=[(0,a8.getTerms)(e).map(a=>(0,i8.termToString)(a))];for(let a=0;a<a8.QUAD_TERM_NAMES.length;a++){const s=r;r=[];for(const o of s){r.push(o);const u=[...o];u[a]=Ns.ID_VARIABLE,r.push(u)}}const n=[];for(const a of r){const s=this.indexedStreams.get(a.join(Ns.ID_SEPARATOR));s&&n.push(...s)}return n}}fy.PendingStreamsIndex=Ns;Ns.ID_VARIABLE="?";Ns.ID_SEPARATOR=":";var IS={};Object.defineProperty(IS,"__esModule",{value:!0});IS.StreamingStore=void 0;const V_e=ru,H_e=Jt,k_e=fy;class Q_e{constructor(e=new V_e.Store){this.pendingStreams=new k_e.PendingStreamsIndex,this.ended=!1,this.store=e}end(){this.ended=!0;for(const e of this.pendingStreams.allStreams)e.push(null),e._pipeSource.unpipe()}importToListeners(e){e.on("data",r=>{for(const n of this.pendingStreams.getPendingStreamsForQuad(r))this.ended||(n.push(r),n.emit("quad",r))})}import(e){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(e),this.store.import(e)}match(e,r,n,a){const s=this.store.match(e,r,n,a);let o=s;if(!this.ended){const u=new H_e.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(u,e,r,n,a),o=s.pipe(u,{end:!1}),o._pipeSource=s}return o}getStore(){return this.store}}IS.StreamingStore=Q_e;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(fy,t),r(IS,t)})(KB);Object.defineProperty(RS,"__esModule",{value:!0});RS.StreamingStoreMetadata=void 0;const G_e=ct,V1=la,z_e=KB;class W_e extends z_e.StreamingStore{constructor(e,r){super(e),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.baseMetadata={state:new V1.MetadataValidationState,cardinality:{type:"exact",value:0},canContainUndefs:!1},this.metadataAccumulator=r}import(e){return this.ended||super.import(e),e}hasRunningIterators(){return this.runningIterators.size>0}match(e,r,n,a){const s=super.match(e,r,n,a),o=new G_e.ClosableTransformIterator(s,{autoStart:!1,onClose:()=>{this.runningIterators.delete(o)}});let u=this.getStore().countQuads(e,r,n,a);const c={state:new V1.MetadataValidationState,cardinality:{type:"estimate",value:u},canContainUndefs:!1};return o.setProperty("metadata",c),o.setProperty("lastCount",u),s.on("quad",()=>{o.setProperty("lastCount",++u),this.updateMetadataState(o,u)}),this.runningIterators.add(o),o}setBaseMetadata(e,r){if(this.baseMetadata={...e},this.baseMetadata.cardinality={type:"exact",value:0},r)for(const n of this.runningIterators){const a=n.getProperty("lastCount");this.updateMetadataState(n,a)}}updateMetadataState(e,r){const n={state:new V1.MetadataValidationState,cardinality:{type:"estimate",value:r},canContainUndefs:!1};this.metadataAccumulator(this.baseMetadata,n).then(a=>{a.state=new V1.MetadataValidationState;const s=e.getProperty("metadata");e.setProperty("metadata",a),s==null||s.state.invalidate()}).catch(()=>{})}}RS.StreamingStoreMetadata=W_e;Object.defineProperty(dy,"__esModule",{value:!0});dy.MediatedQuadSource=void 0;const X_e=qt,K_e=AS,J_e=RS;class Ed{constructor(e,r,n,a,s,o){this.cacheSize=e,this.firstUrl=r,this.forceSourceType=n,this.maxIterators=a,this.aggregateStore=s,this.mediators=o}static nullifyVariables(e){return!e||e.termType==="Variable"?void 0:e}match(e,r,n,a,s){let o;if(this.aggregateStore){const c=s.get(X_e.KeysRdfResolveQuadPattern.hypermediaSourcesAggregatedStores);if(c&&(o=c.get(this.firstUrl),o||(o=new J_e.StreamingStoreMetadata(void 0,(l,d)=>u.accumulateMetadata(l,d)),c.set(this.firstUrl,o)),o.started))return o.match(Ed.nullifyVariables(e),Ed.nullifyVariables(r),Ed.nullifyVariables(n),Ed.nullifyVariables(a))}const u=new K_e.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,s,this.forceSourceType,e,r,n,a,this.firstUrl,this.maxIterators,o,this.mediators);return this.sourcesState?u.setSourcesState(this.sourcesState):(u.setSourcesState(),this.sourcesState=u.sourcesState),o&&(o.started=!0),u}}dy.MediatedQuadSource=Ed;Object.defineProperty(OS,"__esModule",{value:!0});OS.ActorRdfResolveQuadPatternHypermedia=void 0;const Ph=Rl,Y_e=ps,Z_e=dy;class ege extends Ph.ActorRdfResolveQuadPatternSource{constructor(e){super(e),this.cache=this.cacheSize?new Y_e.LRUCache({max:this.cacheSize}):void 0;const r=this.cache;r&&this.httpInvalidator.addInvalidateListener(({url:n})=>n?r.delete(n):r.clear()),e.mediatorMetadataAccumulate||(this.mediatorMetadataAccumulate={async mediate(n){return{metadata:{...n.accumulatedMetadata,...n.appendingMetadata}}}})}async test(e){if(!(0,Ph.hasContextSingleSource)(e.context))throw new Error(`Actor ${this.name} can only resolve quad pattern queries against a single source.`);return!0}getSource(e,r){const n=(0,Ph.getContextSource)(e),a=(0,Ph.getContextSourceUrl)(n);let s;return this.cache&&this.cache.has(a)?s=this.cache.get(a):(s=new Z_e.MediatedQuadSource(this.cacheSize,a,(0,Ph.getDataSourceType)(n),this.maxIterators,this.aggregateStore,{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorRdfResolveHypermedia:this.mediatorRdfResolveHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue}),this.cache&&this.cache.set(a,s)),Promise.resolve(s)}}OS.ActorRdfResolveQuadPatternHypermedia=ege;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(OS,t),r(dy,t)})(XB);var JB={},PS={};Object.defineProperty(PS,"__esModule",{value:!0});PS.ActorRdfUpdateQuadsHypermedia=void 0;const od=$f,tge=ps;class rge extends od.ActorRdfUpdateQuadsDestination{constructor(e){super(e),this.cache=this.cacheSize?new tge.LRUCache({max:this.cacheSize}):void 0;const r=this.cache;r&&this.httpInvalidator.addInvalidateListener(({url:n})=>n?r.delete(n):r.clear())}async test(e){if(!(0,od.getContextDestinationUrl)((0,od.getContextDestination)(e.context)))throw new Error(`Actor ${this.name} can only update quads against a single destination URL.`);return!0}getDestination(e){const r=(0,od.getContextDestination)(e);let n=(0,od.getContextDestinationUrl)(r);if(this.cache&&this.cache.has(n))return this.cache.get(n);const a=(async()=>{var c;let s,o;try{const l=await this.mediatorDereferenceRdf.mediate({context:e,url:n,acceptErrors:!0});o=l.exists,n=l.url;const d=await this.mediatorMetadata.mediate({context:e,url:n,quads:l.data,triples:(c=l.metadata)==null?void 0:c.triples});s=(await this.mediatorMetadataExtract.mediate({context:e,url:n,metadata:d.metadata,headers:l.headers,requestTime:l.requestTime})).metadata}catch{s={},o=!1}const{destination:u}=await this.mediatorRdfUpdateHypermedia.mediate({context:e,url:n,metadata:s,exists:o,forceDestinationType:(0,od.getDataDestinationType)(r)});return u})();return this.cache&&this.cache.set(n,a),a}}PS.ActorRdfUpdateQuadsHypermedia=rge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(PS,t)})(JB);var YB={},DS={};Object.defineProperty(DS,"__esModule",{value:!0});DS.ActorQueryOperationClear=void 0;const s8=ct,nge=ft,ige=new nge.DataFactory;class age extends s8.ActorQueryOperationTypedMediated{constructor(e){super(e,"clear")}async testOperation(e,r){return s8.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n;e.source==="DEFAULT"?n=ige.defaultGraph():typeof e.source=="string"?n=e.source:n=[e.source];const{execute:a}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:n,requireExistence:!e.silent,dropGraphs:!1},context:r});return{type:"void",execute:a}}}DS.ActorQueryOperationClear=age;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(DS,t)})(YB);var ZB={},NS={};Object.defineProperty(NS,"__esModule",{value:!0});NS.ActorQueryOperationCreate=void 0;const o8=ct;class sge extends o8.ActorQueryOperationTypedMediated{constructor(e){super(e,"create")}async testOperation(e,r){return o8.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){const{execute:n}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[e.source],requireNonExistence:!e.silent},context:r});return{type:"void",execute:n}}}NS.ActorQueryOperationCreate=sge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(NS,t)})(ZB);var e$={},jS={};Object.defineProperty(jS,"__esModule",{value:!0});jS.ActorQueryOperationUpdateDeleteInsert=void 0;const H1=_R,oge=Un,yE=ct,uge=kt,cge=new oge.BindingsFactory;class lge extends yE.ActorQueryOperationTypedMediated{constructor(e){super(e,"deleteinsert"),this.blankNodeCounter=0}async testOperation(e,r){return yE.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){const n=e.where?yE.ActorQueryOperation.getSafeBindings(await this.mediatorQueryOperation.mediate({operation:e.where,context:r})).bindingsStream:new uge.ArrayIterator([cge.bindings()],{autoStart:!1});let a,s;e.insert&&(a=new H1.BindingsToQuadsIterator(e.insert.map(H1.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),n.clone()),this.blankNodeCounter++),e.delete&&(s=new H1.BindingsToQuadsIterator(e.delete.map(H1.BindingsToQuadsIterator.localizeQuad.bind(null,this.blankNodeCounter)),n.clone()),this.blankNodeCounter++);const{execute:o}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:a,quadStreamDelete:s,context:r});return{type:"void",execute:o}}}jS.ActorQueryOperationUpdateDeleteInsert=lge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(jS,t)})(e$);var t$={},CS={};Object.defineProperty(CS,"__esModule",{value:!0});CS.ActorQueryOperationDrop=void 0;const u8=ct,dge=ft,fge=new dge.DataFactory;class hge extends u8.ActorQueryOperationTypedMediated{constructor(e){super(e,"drop")}async testOperation(e,r){return u8.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n;e.source==="DEFAULT"?n=fge.defaultGraph():typeof e.source=="string"?n=e.source:n=[e.source];const{execute:a}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:n,requireExistence:!e.silent,dropGraphs:!0},context:r});return{type:"void",execute:a}}}CS.ActorQueryOperationDrop=hge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(CS,t)})(t$);var r$={},MS={};Object.defineProperty(MS,"__esModule",{value:!0});MS.ActorQueryOperationLoad=void 0;const c8=ct,l8=qt,pge=ft,yge=vt,Ic=new pge.DataFactory;class BR extends c8.ActorQueryOperationTypedMediated{constructor(e){super(e,"load"),this.factory=new yge.Factory,this.constructOperation=this.factory.createConstruct(this.factory.createPattern(Ic.variable("s"),Ic.variable("p"),Ic.variable("o")),[this.factory.createPattern(Ic.variable("s"),Ic.variable("p"),Ic.variable("o"))])}async testOperation(e,r){return c8.ActorQueryOperation.throwOnReadOnly(r),!0}async runOperation(e,r){let n=r.set(l8.KeysRdfResolveQuadPattern.sources,[e.source.value]);e.silent&&(n=n.set(l8.KeysInitQuery.lenient,!0));let s=BR.getSafeQuads(await this.mediatorQueryOperation.mediate({operation:this.constructOperation,context:n})).quadStream;e.destination&&(s=s.map(u=>Ic.quad(u.subject,u.predicate,u.object,e.destination)));const{execute:o}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:s,context:r});return{type:"void",execute:o}}}MS.ActorQueryOperationLoad=BR;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(MS,t)})(r$);var n$={},FS={};Object.defineProperty(FS,"__esModule",{value:!0});FS.ActorQueryOperationJoin=void 0;const d8=ct;class bge extends d8.ActorQueryOperationTypedMediated{constructor(e){super(e,"join")}async testOperation(e,r){return!0}async runOperation(e,r){const n=(await Promise.all(e.input.map(async a=>({output:await this.mediatorQueryOperation.mediate({operation:a,context:r}),operation:a})))).map(({output:a,operation:s})=>({output:d8.ActorQueryOperation.getSafeBindings(a),operation:s}));return this.mediatorJoin.mediate({type:"inner",entries:n,context:r})}}FS.ActorQueryOperationJoin=bge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(FS,t)})(n$);var i$={},LS={};Object.defineProperty(LS,"__esModule",{value:!0});LS.ActorQueryOperationLeftJoin=void 0;const bE=ct,f8=Pl;class _ge extends bE.ActorQueryOperationTypedMediated{constructor(e){super(e,"leftjoin")}async testOperation(e,r){return!0}async runOperation(e,r){const n=(await Promise.all(e.input.map(async s=>({output:await this.mediatorQueryOperation.mediate({operation:s,context:r}),operation:s})))).map(({output:s,operation:o})=>({output:bE.ActorQueryOperation.getSafeBindings(s),operation:o})),a=await this.mediatorJoin.mediate({type:"optional",entries:n,context:r});if(e.expression){const o=(await n[1].output.metadata()).variables,u={...bE.ActorQueryOperation.getAsyncExpressionContext(r,this.mediatorQueryOperation)},c=new f8.AsyncEvaluator(e.expression,u),l=a.bindingsStream.transform({autoStart:!1,transform:async(d,f,h)=>{if(!o.every(p=>d.has(p.value)))return h(d),f();try{await c.evaluateAsEBV(d)&&h(d)}catch(p){(0,f8.isExpressionError)(p)?this.logWarn(r,"Error occurred while filtering.",()=>({error:p,bindings:d})):l.emit("error",p)}f()}});a.bindingsStream=l}return a}}LS.ActorQueryOperationLeftJoin=_ge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(LS,t)})(i$);var a$={},BS={};Object.defineProperty(BS,"__esModule",{value:!0});BS.ActorQueryOperationMinus=void 0;const h8=ct;class gge extends h8.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,r){return!0}async runOperation(e,r){const n=(await Promise.all(e.input.map(async a=>({output:await this.mediatorQueryOperation.mediate({operation:a,context:r}),operation:a})))).map(({output:a,operation:s})=>({output:h8.ActorQueryOperation.getSafeBindings(a),operation:s}));return this.mediatorJoin.mediate({type:"minus",entries:n,context:r})}}BS.ActorQueryOperationMinus=gge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(BS,t)})(a$);var s$={},$S={};Object.defineProperty($S,"__esModule",{value:!0});$S.ActorQueryOperationPathSeq=void 0;const p8=nu,y8=ct,mge=vt;class vge extends p8.ActorAbstractPath{constructor(e){super(e,mge.Algebra.types.SEQ)}async runOperation(e,r){const n=e.predicate;let a=e.subject;const s=[],o=await Promise.all(n.input.map((l,d)=>{const f=d===n.input.length-1?e.object:this.generateVariable(e,`b${d}`),h=p8.ActorAbstractPath.FACTORY.createPath(a,l,f,e.graph),p=this.mediatorQueryOperation.mediate({context:r,operation:h});return a=f,d<n.input.length-1&&s.push(f),{output:p,operation:h}}).map(async({output:l,operation:d})=>({output:y8.ActorQueryOperation.getSafeBindings(await l),operation:d}))),u=y8.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:"inner",entries:o,context:r}));return{type:"bindings",bindingsStream:u.bindingsStream.transform({transform(l,d,f){for(const h of s)l=l.delete(h);f(l),d()}}),async metadata(){const l=await u.metadata(),d=l.variables.filter(f=>!s.some(h=>h.value===f.value));return{...l,variables:d}}}}}$S.ActorQueryOperationPathSeq=vge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r($S,t)})(s$);var o$={},US={};Object.defineProperty(US,"__esModule",{value:!0});US.ActorRdfJoinMultiSmallest=void 0;const wge=ct,k1=Pa,Sge=vt;class qS extends k1.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0})}async sortJoinEntries(e,r){return(await this.mediatorJoinEntriesSort.mediate({entries:e,context:r})).entries}async getOutput(e){const r=await this.sortJoinEntries(await k1.ActorRdfJoin.getEntriesWithMetadatas([...e.entries]),e.context),n=r[0],a=r[1];r.splice(0,2);const s={output:wge.ActorQueryOperation.getSafeBindings(await this.mediatorJoin.mediate({type:e.type,entries:[n,a],context:e.context})),operation:qS.FACTORY.createJoin([n.operation,a.operation],!1)};return r.push(s),{result:await this.mediatorJoin.mediate({type:e.type,entries:r,context:e.context})}}async getJoinCoefficients(e,r){r=[...r],r=(await this.sortJoinEntries(e.entries.map((o,u)=>({...o,metadata:r[u]})),e.context)).map(o=>o.metadata);const a=k1.ActorRdfJoin.getRequestInitialTimes(r),s=k1.ActorRdfJoin.getRequestItemTimes(r);return{iterations:r[0].cardinality.value*r[1].cardinality.value*r.slice(2).reduce((o,u)=>o*u.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:a[0]+r[0].cardinality.value*s[0]+a[1]+r[1].cardinality.value*s[1]+r.slice(2).reduce((o,u,c)=>o+a.slice(2)[c]+u.cardinality.value*s.slice(2)[c],0)}}}US.ActorRdfJoinMultiSmallest=qS;qS.FACTORY=new Sge.Factory;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(US,t)})(o$);var u$={},VS={};Object.defineProperty(VS,"__esModule",{value:!0});VS.ActorQueryOperationQuadpattern=void 0;const Tge=Un,b8=ct,Ege=qt,Oge=ft,Age=nr,Pc=on,xge=vt,Rge=new Tge.BindingsFactory,_E=new Oge.DataFactory,Ige=new xge.Factory;class xs extends b8.ActorQueryOperationTyped{constructor(e){super(e,"pattern")}static isTermVariable(e){return e.termType==="Variable"}static getVariables(e){return(0,Pc.uniqTerms)((0,Pc.getTermsNested)(e).filter(xs.isTermVariable))}static getDuplicateElementLinks(e){const r={};let n=!1;if((0,Pc.forEachTermsNested)(e,(s,o)=>{if(s.termType==="Variable"){const u=(0,Age.termToString)(s),c=(r[u]||(r[u]=[])).push(o);n=n||c>1}}),!n)return;const a={};for(const s in r){const o=r[s],u=o.slice(1);u.length>0&&(a[o[0].join("_")]=u)}return a}static validateMetadata(e){for(const r of["cardinality","canContainUndefs"])if(!(r in e))throw new Error(`Invalid metadata: missing ${r} in ${JSON.stringify(e)}`);return e}static getMetadata(e,r,n){return()=>new Promise((a,s)=>{e.getProperty("metadata",o=>a(o)),e.on("error",s)}).then(a=>("canContainUndefs"in a||(a.canContainUndefs=!1),xs.quadsMetadataToBindingsMetadata(xs.validateMetadata(a),r,n)))}static quadsMetadataToBindingsMetadata(e,r,n){return{...e,order:e.order?xs.quadsOrderToBindingsOrder(e.order,r):void 0,availableOrders:e.availableOrders?e.availableOrders.map(a=>({cost:a.cost,terms:xs.quadsOrderToBindingsOrder(a.terms,r)})):void 0,variables:n}}static quadsOrderToBindingsOrder(e,r){const n={};return e.map(a=>{const s=r[a.term];if(s&&!n[s])return n[s]=!0,{term:_E.variable(s),direction:a.direction}}).filter(a=>!!a)}async testOperation(e,r){return!0}async runOperation(e,r){e.context&&(r=r.merge(e.context));let n=e;const a=this.unionDefaultGraph||r.get(Ege.KeysQueryOperation.unionDefaultGraph);e.graph.termType==="DefaultGraph"&&a&&(n=Ige.createPattern(e.subject,e.predicate,e.object,_E.variable("__comunica:defaultGraph")));const s=await this.mediatorResolveQuadPattern.mediate({pattern:n,context:r}),o=xs.getVariables(e),u=(0,Pc.reduceTermsNested)(e,(d,f,h)=>(f.termType==="Variable"&&(d[h.join("_")]=f.value),d),{}),c=xs.getMetadata(s.data,u,o);return{type:"bindings",bindingsStream:new b8.ClosableTransformIterator(async()=>{let d=s.data;const f=xs.getDuplicateElementLinks(e);return e.graph.termType==="Variable"&&!a&&(d=d.filter(h=>h.graph.termType!=="DefaultGraph")),f&&(d=d.filter(h=>{for(const p in f){const y=p.split("_"),_=(0,Pc.getValueNestedPath)(h,y);for(const E of f[p])if(!_.equals((0,Pc.getValueNestedPath)(h,E)))return!1}return!0})),d.map(h=>Rge.bindings(Object.keys(u).map(p=>{const y=p.split("_"),_=u[p],E=(0,Pc.getValueNestedPath)(h,y);return[_E.variable(_),E]})))},{autoStart:!1,onClose:()=>s.data.destroy()}),metadata:c}}}VS.ActorQueryOperationQuadpattern=xs;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(VS,t)})(u$);var c$={},HS={};Object.defineProperty(HS,"__esModule",{value:!0});HS.ActorHttpInruptSolidClientAuthn=void 0;const Pge=fs,_8=qt,Dge=Je;class Cu extends Pge.ActorHttp{constructor(e){super(e)}async test(e){if(!e.context||!e.context.has(Cu.CONTEXT_KEY_SESSION))throw new Error(`Unable to find Solid authn session in context with key '${Cu.CONTEXT_KEY_SESSION.name}'`);if(e.context.has(_8.KeysHttp.fetch))throw new Error("Unable to run when a custom fetch function has been configured");if(!e.context.get(Cu.CONTEXT_KEY_SESSION).info.isLoggedIn)throw new Error("The provided Solid authn session is not in a logged in state, make sure to call session.login() first");return!0}async run(e){const r=e.context.get(Cu.CONTEXT_KEY_SESSION);return this.logInfo(e.context,`Handling request to ${typeof e.input=="string"?e.input:e.input.url} as authenticated request for ${r.info.webId}`),this.mediatorHttp.mediate({...e,context:e.context.delete(Cu.CONTEXT_KEY_SESSION).set(_8.KeysHttp.fetch,r.fetch)})}}HS.ActorHttpInruptSolidClientAuthn=Cu;Cu.CONTEXT_KEY_SESSION=new Dge.ActionContextKey("@comunica/actor-http-inrupt-solid-client-authn:session");(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(HS,t)})(c$);var l$={},kS={},hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.ActorDereferenceHttpBase=hl.mediaTypesToAcceptString=void 0;const g8=Xm,m8=fs,Nge=MR,jge=xa,Cge=xl,Mge=/^[^ ;]*/u;function d$(t,e){const r="*/*;q=0.1",n=[],a=Object.entries(t).map(([o,u])=>({mediaType:o,priority:u})).sort((o,u)=>u.priority===o.priority?o.mediaType.localeCompare(u.mediaType):u.priority-o.priority);let s=a.length-1;for(const{mediaType:o,priority:u}of a){const c=o+(u!==1?`;q=${u.toFixed(3).replace(/0*$/u,"")}`:"");if(s+c.length>e){for(;s+r.length>e;){const l=n.pop()||"";s-=l.length+1}n.push(r);break}n.push(c),s+=c.length}return n.length===0?"*/*":n.join(",")}hl.mediaTypesToAcceptString=d$;class Fge extends g8.ActorDereference{constructor(e){super(e)}async test({url:e}){if(!/^https?:/u.test(e))throw new Error(`Cannot retrieve ${e} because it is not an HTTP(S) URL.`);return!0}async run(e){var l,d;let r=!0;const n=new Nge.Headers(e.headers);n.append("Accept",d$(await((l=e.mediaTypes)==null?void 0:l.call(e))??{},this.getMaxAcceptHeaderLength()));let a;const s=Date.now();try{a=await this.mediatorHttp.mediate({context:e.context,init:{headers:n,method:e.method},input:e.url})}catch(f){return this.handleDereferenceErrors(e,f)}const o=(0,jge.resolve)(a.url,e.url),u=Date.now()-s;if(a.status!==200){r=!1;const f=a.body?await Cge(m8.ActorHttp.toNodeReadable(a.body)):"empty response";if(!e.acceptErrors){const h=new Error(`Could not retrieve ${e.url} (HTTP status ${a.status}):
${f}`);return this.handleDereferenceErrors(e,h,a.headers,u)}}const c=(d=Mge.exec(a.headers.get("content-type")??""))==null?void 0:d[0];return{url:o,data:r?m8.ActorHttp.toNodeReadable(a.body):(0,g8.emptyReadable)(),exists:r,requestTime:u,headers:a.headers,mediaType:c!=="text/plain"?c:void 0}}}hl.ActorDereferenceHttpBase=Fge;Object.defineProperty(kS,"__esModule",{value:!0});kS.ActorDereferenceHttp=void 0;const Lge=hl;class Bge extends Lge.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}kS.ActorDereferenceHttp=Bge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(kS,t),r(hl,t)})(l$);var f$={},QS={},GS={};Object.defineProperty(GS,"__esModule",{value:!0});GS.storeStream=void 0;const $ge=ru;function Uge(t){const e=new $ge.Store;return new Promise((r,n)=>e.import(t).on("error",n).once("end",()=>r(e)))}GS.storeStream=Uge;Object.defineProperty(QS,"__esModule",{value:!0});QS.ActorExtractLinksSolidTypeIndex=void 0;const qge=y_,Vge=tg,Q1=qt,G1=yR,Hge=GS,v8=nr,w8=vt;class $p extends Vge.ActorExtractLinks{constructor(e){super(e),this.queryEngine=new qge.QueryEngineBase(e.actorInitQuery)}async test(e){if(!e.context.get(Q1.KeysInitQuery.query))throw new Error(`Actor ${this.name} can only work in the context of a query.`);if(!e.context.get(Q1.KeysQueryOperation.operation))throw new Error(`Actor ${this.name} can only work in the context of a query operation.`);return!0}async run(e){const r=[...await this.extractTypeIndexLinks(e.metadata)],n=(await Promise.all(r.map(s=>this.dereferenceTypeIndex(s,e.context)))).reduce((s,o)=>{for(const[u,c]of Object.entries(o))s[u]||(s[u]=[]),s[u].push(...c);return s},{});if(Object.keys(n).length===0)return{links:[]};if(this.onlyMatchingTypes)return{links:await this.getLinksMatchingQuery(n,e.context.get(Q1.KeysInitQuery.query),e.context.get(Q1.KeysQueryOperation.operation))};const a=[];for(const s of Object.values(n))a.push(...s);return{links:a}}extractTypeIndexLinks(e){return new Promise((r,n)=>{const a=new Set;e.on("error",n),e.on("data",s=>{this.typeIndexPredicates.includes(s.predicate.value)&&a.add(s.object.value)}),e.on("end",()=>{r(a)})})}async dereferenceTypeIndex(e,r){const n=await this.mediatorDereferenceRdf.mediate({url:e,context:r}),a=await(0,Hge.storeStream)(n.data),s=await(await this.queryEngine.queryBindings(`
        PREFIX solid: <http://www.w3.org/ns/solid/terms#>
        SELECT ?class ?instance WHERE {
          _:registration a solid:TypeRegistration;
            solid:forClass ?class;
            (solid:instance|solid:instanceContainer) ?instance.
        }`,{sources:[a],[G1.KeysRdfResolveHypermediaLinks.traverse.name]:!1,[G1.KeysRdfJoin.skipAdaptiveJoin.name]:!0,lenient:!0})).toArray(),o={};for(const u of s){const c=u.get("class").value;o[c]||(o[c]=[]),o[c].push({url:u.get("instance").value})}return o}async linkPredicateDomains(e,r){if(Object.keys(e).length>0){const n=await Promise.all(Object.keys(e).map(async s=>[s,await this.fetchPredicateDomains(s)])),a=Object.fromEntries(n);for(const[s,o]of Object.entries(e)){const u=a[s];if(u)for(const c of u)r[c]||(r[c]=[]),r[c].push(o)}}}async fetchPredicateDomains(e){const n=await(await this.queryEngine.queryBindings(`
        PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
        SELECT * WHERE {
          <${e}> rdfs:domain ?domain.
        }`,{sources:[e],[G1.KeysRdfResolveHypermediaLinks.traverse.name]:!1,[G1.KeysRdfJoin.skipAdaptiveJoin.name]:!0,lenient:!0})).toArray(),a=[];for(const s of n)a.push(s.get("domain").value);return a}async getLinksMatchingQuery(e,r,n){const a=new Set,s={},o={};function u(l,d,f){if(a.add((0,v8.termToString)(l)),d.value===$p.RDF_TYPE&&f.termType==="NamedNode"){const h=f.value;s[h]||(s[h]=[]),s[h].push(l)}d.value!==$p.RDF_TYPE&&(o[d.value]=l)}w8.Util.recurseOperation(r,{pattern(l){return u(l.subject,l.predicate,l.object),!1},path(l){return w8.Util.recurseOperation(l,{link(d){return u(l.subject,d.iri,l.object),!1},nps(d){for(const f of d.iris)u(l.subject,f,l.object);return!1}}),!1}}),this.inference&&await this.linkPredicateDomains(o,s);const c=[];for(const[l,d]of Object.entries(s)){const f=e[l];f&&d.some(h=>h.equals(n.subject))&&c.push(...f);for(const h of d)a.delete((0,v8.termToString)(h))}return a.size>0?Object.values(e).flat():c}}QS.ActorExtractLinksSolidTypeIndex=$p;$p.RDF_TYPE="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(QS,t)})(f$);var h$={},zS={};Object.defineProperty(zS,"__esModule",{value:!0});zS.ActorHttpProxy=void 0;const kge=fs,gE=qt;class Qge extends kge.ActorHttp{constructor(e){super(e)}async test(e){const r=e.context.get(gE.KeysHttpProxy.httpProxyHandler);if(!r)throw new Error(`Actor ${this.name} could not find a proxy handler in the context.`);if(!await r.getProxy(e))throw new Error(`Actor ${this.name} could not determine a proxy for the given request.`);return{time:Number.POSITIVE_INFINITY}}async run(e){const r=typeof e.input=="string"?e.input:e.input.url,n=e.context.get(gE.KeysHttpProxy.httpProxyHandler),a=await this.mediatorHttp.mediate({...await n.getProxy(e),context:e.context.delete(gE.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(a,"url",{configurable:!0,enumerable:!0,get:()=>a.headers.get("x-final-url")??r}),a}}zS.ActorHttpProxy=Qge;var WS={};Object.defineProperty(WS,"__esModule",{value:!0});WS.ProxyHandlerStatic=void 0;class Gge{constructor(e){this.prefixUrl=e}async getProxy(e){return{init:e.init,input:this.modifyInput(e.input)}}modifyInput(e){return typeof e=="string"?this.prefixUrl+e:new Request(this.prefixUrl+e.url,e)}}WS.ProxyHandlerStatic=Gge;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zS,t),r(WS,t)})(h$);const zge=new t9.LoggerVoid,Wge=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^2.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),qf=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-extract-links/^0.0.0/components/ActorExtractLinks.jsonld#ActorExtractLinks_default_bus"}),hy=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^2.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),Rt=new ct.BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^2.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),$R=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^2.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),ya=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^2.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),p$=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^2.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),py=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^2.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),y$=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^2.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),b$=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^2.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),Vf=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^2.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),Hf=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),_$=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^2.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),UR=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^2.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),dc=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^2.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),g$=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^2.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),m$=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^2.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),qR=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^2.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),yy=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^2.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),ao=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^2.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),XS=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^2.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),KS=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia/^2.0.0/components/ActorRdfResolveHypermedia.jsonld#ActorRdfResolveHypermedia_default_bus"}),VR=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^2.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),v$=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^2.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),JS=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^2.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),HR=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^2.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),Da=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^2.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),YS=new Je.Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-quad-pattern/^2.0.0/components/ActorRdfResolveQuadPattern.jsonld#ActorRdfResolveQuadPattern_default_bus"});new Z_.ActorExtractLinksPredicates({checkSubject:!1,predicateRegexes:["http://www.w3.org/2000/01/rdf-schema#seeAlso","http://www.w3.org/2002/07/owl##sameAs","http://xmlns.com/foaf/0.1/isPrimaryTopicOf"],name:"urn:comunica:default:extract-links/actors#predicates-common",bus:qf});new Z_.ActorExtractLinksPredicates({checkSubject:!0,predicateRegexes:["http://www.w3.org/ns/ldp#contains"],name:"urn:comunica:default:extract-links/actors#predicates-ldp",bus:qf});new Z_.ActorExtractLinksPredicates({checkSubject:!0,predicateRegexes:["http://www.w3.org/ns/pim/space#storage"],name:"urn:comunica:default:extract-links/actors#predicates-solid",bus:qf});new r9.ActorExtractLinksQuadPatternQuery({onlyVariables:!0,name:"urn:comunica:default:extract-links/actors#quad-pattern-query",bus:qf});const Xge=new n9.MediatorCombineArray({fields:["links","linksConditional"],name:"urn:comunica:default:extract-links/mediators#main",bus:qf}),Kge=new ax.MediatorCombinePipeline({name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:hy});new i9.ActorOptimizeQueryOperationSetSeedSourcesQuadpatternIris({extractSubjects:!0,extractPredicates:!1,extractObjects:!0,extractGraphs:!0,extractVocabIris:!1,name:"urn:comunica:default:optimize-query-operation/actors#set-seed-sources-quadpattern-iris",bus:hy});new a9.ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:hy});new s9.ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:hy});new o9.ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:hy});const Pt=new If.MediatorNumber({field:"httpRequests",type:"min",ignoreErrors:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:Rt});new u9.ActorQueryOperationValues({name:"urn:comunica:default:query-operation/actors#values",bus:Rt});const Jge=new Pi.MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:$R});new c9.ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:$R});new l9.ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:$R});const Yge=new Pi.MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:ya}),Zge=new sc.MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:ya}),eme=new sc.MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:ya});new j9.ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:ya});new AM.ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:ya});new xM.ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:ya});new RM.ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:ya});new CM.ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:ya});new MM.ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:ya});new LM.ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:ya});const tme=new ax.MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:p$});new KM.ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:p$});const rme=new YM.MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:py}),nme=new R0.ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:py}),ime=new R0.ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:py}),ame=new R0.ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^2.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:py}),sme=new R0.ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-resolve-quad-pattern-hypermedia/^2.0.0/components/ActorRdfResolveQuadPatternHypermedia.jsonld#IActorRdfResolveQuadPatternHypermediaArgs_default_invalidator",bus:py}),ZS=new Pi.MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:y$});new ZM.ActorHashBindingsSha1({name:"urn:comunica:default:hash-bindings/actors#sha1",bus:b$});const kR=new Pi.MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:b$}),w$=new Pi.MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:Vf}),S$=new sc.MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:Vf}),ome=new sc.MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:Vf});new tF.ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:Vf});new uF.ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:Vf});new lF.ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:Vf});const ume=new If.MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:Hf}),T$=new pF.ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:Hf}),iu=new If.MediatorNumber({field:"time",type:"min",ignoreErrors:!0,name:"urn:comunica:default:http/mediators#main",bus:_$}),cme=new RF.ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:UR}),lme=new Pi.MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:UR}),E$=new Pi.MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:dc}),O$=new sc.MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:dc});new NF.ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:dc});new jF.ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:dc});new QF.ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:dc});new SL.ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:dc});new OL.ActorRdfJoinEntriesSortTraversalZeroKnowledge({name:"urn:comunica:default:rdf-join-entries-sort/actors#traversal-zero-knowledge",bus:g$});const A$=new Pi.MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:g$});new RL.ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:m$});const bs=new If.MediatorNumber({field:"accuracy",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:m$});new PL.ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:qR});new DL.ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:qR});const QR=new Pi.MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:qR});new NL.ActorRdfMetadataAccumulateCanContainUndefs({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cancontainundefs",bus:yy});new jL.ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:yy});new CL.ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:yy});new ML.ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:yy});const x$=new sc.MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:yy});new FL.ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:ao});new BL.ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:ao});new $L.ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:ao});new UL.ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:ao});new qL.ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:ao});new VL.ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:ao});new HL.ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:ao});new kL.ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:ao});const GR=new sc.MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:ao});new QL.ActorRdfParseHtml({busRdfParseHtml:XS,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:dc});new zL.ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:XS});new e7.ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:XS});new t7.ActorRdfResolveHypermediaNone({name:"urn:comunica:default:rdf-resolve-hypermedia/actors#none",bus:KS});const dme=new If.MediatorNumber({field:"filterFactor",type:"max",ignoreErrors:!0,name:"urn:comunica:default:rdf-resolve-hypermedia/mediators#main",bus:KS});new d7.ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:VR});new f7.ActorRdfResolveHypermediaLinksTraverse({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#traverse",bus:VR});const fme=new Pi.MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:VR});new h7.ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:v$});const hme=new Pi.MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:v$}),pme=new Pi.MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:JS});new b7.ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:HR});const by=new Pi.MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:HR}),_y=new v7.MediatorJoinCoefficientsFixed({cpuWeight:1,memoryWeight:1,timeWeight:10,ioWeight:100,name:"urn:comunica:default:rdf-join/mediators#main",bus:Da}),R$=new Pi.MediatorRace({name:"urn:comunica:default:rdf-resolve-quad-pattern/mediators#main",bus:YS});new hR.ActorRdfResolveQuadPatternRdfJsSource({name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#rdfjs-source",bus:YS});new w7.ActorRdfMetadataExtractTraverse({mediatorExtractLinks:Xge,name:"urn:comunica:default:rdf-metadata-extract/actors#traverse",bus:ao});new S7.ActorQueryOperationAsk({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#ask",bus:Rt});new T7.ActorQueryOperationBgpJoin({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#bgp",bus:Rt});new E7.ActorQueryOperationDescribeSubject({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#describe",bus:Rt});new _R.ActorQueryOperationConstruct({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#construct",bus:Rt});new O7.ActorQueryOperationExtend({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#extend",bus:Rt});new Z7.ActorQueryOperationFilterSparqlee({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#filter",bus:Rt});new eB.ActorQueryOperationFromQuad({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#from",bus:Rt});new tB.ActorQueryOperationNop({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#nop",bus:Rt});new rB.ActorQueryOperationOrderBySparqlee({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#orderby",bus:Rt});new nB.ActorQueryOperationProject({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#project",bus:Rt});new iB.ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#service",bus:Rt});new aB.ActorQueryOperationSlice({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#slice",bus:Rt});new y2.ActorQueryOperationUnion({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#union",bus:Rt});new sB.ActorQueryOperationPathAlt({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#path-alt",bus:Rt});new oB.ActorQueryOperationPathInv({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#path-inv",bus:Rt});new uB.ActorQueryOperationPathLink({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#path-link",bus:Rt});new cB.ActorQueryOperationPathNps({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#path-nps",bus:Rt});new lB.ActorQueryOperationPathOneOrMore({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:Rt});new dB.ActorQueryOperationPathZeroOrMore({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:Rt});new fB.ActorQueryOperationPathZeroOrOne({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:Rt});new hB.ActorQueryOperationAddRewrite({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-add",bus:Rt});new pB.ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-composite",bus:Rt});new yB.ActorQueryOperationCopyRewrite({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-copy",bus:Rt});new bB.ActorQueryOperationMoveRewrite({mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-move",bus:Rt});const I$=new y_.ActorInitQuery({mediatorOptimizeQueryOperation:Kge,mediatorQueryOperation:Pt,mediatorQueryParse:Jge,mediatorQueryResultSerialize:Yge,mediatorQueryResultSerializeMediaTypeCombiner:Zge,mediatorQueryResultSerializeMediaTypeFormatCombiner:eme,mediatorContextPreprocess:tme,mediatorHttpInvalidate:rme,logger:zge,defaultQueryInputFormat:"sparql",allowNoSources:!0,contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelay:"@comunica/bus-http:http-retry-delay",httpRetryOnServerError:"@comunica/bus-http:http-retry-on-server-error",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",source:"@comunica/bus-rdf-resolve-quad-pattern:source",sources:"@comunica/bus-rdf-resolve-quad-pattern:sources",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:init/actors#query",bus:Wge}),yme=new DR.ActionObserverHttp({httpInvalidator:nme,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^2.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:Hf}),bme=new NR.ActionObserverHttp({httpInvalidator:ime,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^2.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:Hf});new _B.ActorQueryOperationDistinctHash({mediatorHashBindings:kR,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#distinct",bus:Rt});new gB.ActorQueryOperationGroup({mediatorHashBindings:kR,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#group",bus:Rt});new mB.ActorQueryOperationReducedHash({mediatorHashBindings:kR,cacheSize:100,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#reduced",bus:Rt});new vB.ActorQueryResultSerializeRdf({mediatorRdfSerialize:w$,mediatorMediaTypeCombiner:S$,mediatorMediaTypeFormatCombiner:ome,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:ya});new wB.ActorHttpWayback({mediatorHttp:ume,name:"urn:comunica:default:http/actors#wayback",bus:_$});new SB.ActorRdfParseJsonLd({mediatorHttp:iu,mediaTypePriorities:{"application/json":.5,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:dc});new RB.ActorRdfResolveHypermediaSparql({mediatorHttp:iu,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:KS});new PB.ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:iu,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:JS});new DB.ActorRdfUpdateHypermediaPutLdp({mediatorHttp:iu,mediatorRdfSerializeMediatypes:S$,mediatorRdfSerialize:w$,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:JS});new NB.ActorRdfUpdateHypermediaSparql({mediatorHttp:iu,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:JS});new jB.ActorQueryOperationSparqlEndpoint({mediatorHttp:iu,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,forceHttpGet:!1,name:"urn:comunica:default:query-operation/actors#sparql-endpoint",bus:Rt});new CB.ActorDereferenceRdfParse({mediatorDereference:lme,mediatorParse:E$,mediatorParseMediatypes:O$,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:y$});new FB.ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:O$,mediatorRdfParseHandle:E$,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:XS});new LB.ActorRdfJoinNone({mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:Da});new BB.ActorRdfJoinSingle({mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:Da});new FR.ActorRdfJoinMultiBind({bindOrder:"breadth-first",selectivityModifier:1e-4,mediatorJoinEntriesSort:A$,mediatorQueryOperation:Pt,mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:Da});new $B.ActorRdfJoinHash({mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#inner-hash",bus:Da});new qB.ActorRdfJoinSymmetricHash({mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:Da});new VB.ActorRdfJoinNestedLoop({mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:Da});new HB.ActorRdfJoinMinusHash({mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#minus-hash",bus:Da});new kB.ActorRdfJoinMinusHashUndef({mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:Da});new QB.ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-4,mediatorQueryOperation:Pt,mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:Da});new GB.ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:Da});new zB.ActorRdfResolveHypermediaQpf({mediatorMetadata:QR,mediatorMetadataExtract:GR,mediatorDereferenceRdf:ZS,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:rdf-resolve-hypermedia/actors#qpf",bus:KS});new XB.ActorRdfResolveQuadPatternHypermedia({cacheSize:2048,httpInvalidator:sme,maxIterators:64,aggregateStore:!0,mediatorDereferenceRdf:ZS,mediatorMetadata:QR,mediatorMetadataExtract:GR,mediatorMetadataAccumulate:x$,mediatorRdfResolveHypermedia:dme,mediatorRdfResolveHypermediaLinks:fme,mediatorRdfResolveHypermediaLinksQueue:hme,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#hypermedia",bus:YS});new JB.ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:ame,mediatorDereferenceRdf:ZS,mediatorMetadata:QR,mediatorMetadataExtract:GR,mediatorRdfUpdateHypermedia:pme,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:HR});new YB.ActorQueryOperationClear({mediatorUpdateQuads:by,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-clear",bus:Rt});new ZB.ActorQueryOperationCreate({mediatorUpdateQuads:by,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-create",bus:Rt});new e$.ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:by,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:Rt});new t$.ActorQueryOperationDrop({mediatorUpdateQuads:by,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-drop",bus:Rt});new r$.ActorQueryOperationLoad({mediatorUpdateQuads:by,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#update-load",bus:Rt});new n$.ActorQueryOperationJoin({mediatorJoin:_y,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#join",bus:Rt});new i$.ActorQueryOperationLeftJoin({mediatorJoin:_y,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:Rt});new a$.ActorQueryOperationMinus({mediatorJoin:_y,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#minus",bus:Rt});new s$.ActorQueryOperationPathSeq({mediatorJoin:_y,mediatorQueryOperation:Pt,name:"urn:comunica:default:query-operation/actors#path-seq",bus:Rt});new o$.ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:A$,mediatorJoin:_y,mediatorJoinSelectivity:bs,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:Da});new u$.ActorQueryOperationQuadpattern({mediatorResolveQuadPattern:R$,unionDefaultGraph:!1,name:"urn:comunica:default:query-operation/actors#quadpattern",bus:Rt});new bR.ActorRdfResolveQuadPatternFederated({mediatorResolveQuadPattern:R$,mediatorRdfMetadataAccumulate:x$,skipEmptyPatterns:!1,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#federated",bus:YS});const _me=new c$.ActorHttpInruptSolidClientAuthn({mediatorHttp:iu,name:"urn:comunica:default:http/actors#inrupt-solid-client-authn",bus:Hf,beforeActors:[T$]});new l$.ActorDereferenceHttp({mediatorHttp:iu,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:UR,beforeActors:[cme]});new f$.ActorExtractLinksSolidTypeIndex({typeIndexPredicates:["http://www.w3.org/ns/solid/terms#publicTypeIndex","http://www.w3.org/ns/solid/terms#privateTypeIndex"],onlyMatchingTypes:!0,inference:!0,actorInitQuery:I$,mediatorDereferenceRdf:ZS,name:"urn:comunica:default:extract-links/actors#solid-type-index",bus:qf});new DR.ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:yme,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:ya});new NR.ActorQueryResultSerializeStats({httpObserver:bme,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:ya});new h$.ActorHttpProxy({mediatorHttp:iu,name:"urn:comunica:default:http/actors#proxy",bus:Hf,beforeActors:[T$,_me]});var gme=I$;Object.defineProperty(p_,"__esModule",{value:!0});p_.QueryEngine=void 0;const mme=y_,vme=gme;class wme extends mme.QueryEngineBase{constructor(e=vme){super(e)}}p_.QueryEngine=wme;(function(t){var e=g&&g.__createBinding||(Object.create?function(n,a,s,o){o===void 0&&(o=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(n,o,u)}:function(n,a,s,o){o===void 0&&(o=s),n[o]=a[s]}),r=g&&g.__exportStar||function(n,a){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(p_,t)})(H5);var as=globalThis&&globalThis.__awaiter||function(t,e,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(d){try{l(n.next(d))}catch(f){o(f)}}function c(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):a(d.value).then(u,c)}l((n=n.apply(t,e||[])).next())})};const tc=new H5.QueryEngine;function Sme(t){return as(this,void 0,void 0,function*(){const e=yield Tme(t),r=yield Eme(e);if(r==="LDESinLDP"){console.log("LDES in LDP");const n=yield Ome(e);return console.log(n),{pages:n.transform({map:a=>({uri:a.node,sort:a.value})}),url:e,type:"LDESinLDP"}}else{if(r==="LDES")return console.log("LDES"),{pages:(yield Ame(e)).transform({map:a=>({uri:a.view,sort:a.view})}),url:e,type:"LDES"};throw new Error("Only LDESinLDP and LDES are supported at the moment")}})}function Tme(t){var e,r;return as(this,void 0,void 0,function*(){const a=(e=(yield fetch(t,{method:"HEAD"})).headers.get("Link"))===null||e===void 0?void 0:e.split(",").map(o=>{const u=o.trim().split(";"),c=u[0].slice(1,-1),l=u[1].trim().split("=")[1].slice(1,-1);return{url:c,rel:l}}),s=(r=a==null?void 0:a.find(o=>o.rel==="https://w3id.org/ldes#EventStream"))===null||r===void 0?void 0:r.url;if(!s)throw new Error("No LDES found");return console.log("Found LDES: "+s),s})}function Eme(t){var e,r;return as(this,void 0,void 0,function*(){if(!t)return!1;const n=`
    PREFIX ldes: <https://w3id.org/ldes#>
    PREFIX tree: <https://w3id.org/tree#>
    
    SELECT * WHERE {
      {
        SELECT ("LDES" AS ?type) WHERE {
          <${t}> a ldes:EventStream;
                       tree:view ?view.
          <${t}> tree:member ?member.
        }
      }
      UNION
      {
        SELECT ("LDESinLDP" AS ?type) WHERE {
          <${t}> a ldes:EventStream;
                       tree:view ?view.
          ?view a tree:Node;
                tree:viewDescription ?viewDescription.
          ?viewDescription a tree:ViewDescription;
                ldes:managedBy ?ldesInLdp.
          ?ldesInLdp a ldes:LDESinLDPClient.
        }
      }
    } LIMIT 1`;return(r=(e=(yield(yield tc.queryBindings(n,{sources:[t],lenient:!0})).toArray())[0])===null||e===void 0?void 0:e.get("type"))===null||r===void 0?void 0:r.value})}function Ome(t){return as(this,void 0,void 0,function*(){const e=`
    PREFIX ldes: <https://w3id.org/ldes#>
    PREFIX tree: <https://w3id.org/tree#>
    
    SELECT ?relation ?relationType ?node ?value ?path
    WHERE {
        <${t}> a ldes:EventStream;
                   tree:view ?view.
        ?view a tree:Node;
              tree:relation ?relation.
        ?relation a ?relationType;
                  tree:node ?node.
        OPTIONAL { ?relation tree:value ?value. }
        OPTIONAL { ?relation tree:path ?path. }
    }`;return(yield tc.queryBindings(e,{sources:[t],lenient:!0})).transform({map:n=>{var a,s;return{relation:n.get("relation").value,relationType:n.get("relationType").value,node:n.get("node").value,value:(a=n.get("value"))===null||a===void 0?void 0:a.value,path:(s=n.get("path"))===null||s===void 0?void 0:s.value}}})})}function Ame(t){return as(this,void 0,void 0,function*(){const e=`
    PREFIX ldes: <https://w3id.org/ldes#>
    PREFIX tree: <https://w3id.org/tree#>
    
    SELECT ?view
    WHERE {
        <${t}> a ldes:EventStream;
                     tree:view ?view.
    }`;return(yield tc.queryBindings(e,{sources:[t],lenient:!0,"@comunica/actor-rdf-resolve-hypermedia-links-traverse:traverse":!1})).transform({map:n=>({view:n.get("view").value})})})}function xme(t,e,r){return as(this,void 0,void 0,function*(){if(r==="LDESinLDP"){const n=`
    PREFIX ldes: <https://w3id.org/ldes#>
    PREFIX tree: <https://w3id.org/tree#>
    PREFIX ldp: <http://www.w3.org/ns/ldp#>
    PREFIX dc: <http://purl.org/dc/terms/>
    
    SELECT ?member ?dateTime
    WHERE {
      <${t}> a ldes:EventStream;
                   tree:view ?view.
      ?view a tree:Node;
            tree:relation ?relation.
      ?relation a ?relationType;
                tree:node ?node.
      ?node a ldp:BasicContainer;
            ldp:contains ?member.
      ?member a ldp:Resource;
              dc:modified ?dateTime.
      FILTER (?node = <${e}>).
    }`,a=(o,u)=>fetch(o,Object.assign(Object.assign({},u),{headers:Object.assign(Object.assign({},u==null?void 0:u.headers),{"Cache-Control":"no-cache"})}));return(yield tc.queryBindings(n,{sources:[t],fetch:a,lenient:!1})).transform({map:o=>as(this,void 0,void 0,function*(){return{content:yield Rme(o.get("member").value),metadata:{dateTime:o.get("dateTime").value}}})})}else if(r==="LDES"){const n=`
    PREFIX ldes: <https://w3id.org/ldes#>
    PREFIX tree: <https://w3id.org/tree#>
    PREFIX as: <https://www.w3.org/ns/activitystreams#>
    
    SELECT ?member ?actorUrl ?actorName ?object ?targetUrl ?targetName ?context
    WHERE {
      <${t}> a ldes:EventStream;
                    tree:view <${e}>;
                    tree:member ?member.
      ?member as:actor ?actorUrl;
        as:object ?object.
      OPTIONAL { ?id as:target ?targetUrl. }
      OPTIONAL { ?actorUrl as:name ?actorName. }
      OPTIONAL { ?targetUrl as:name ?targetName. }
      OPTIONAL { ?id as:context ?context. }
    }`;return(yield tc.queryBindings(n,{sources:[t],lenient:!0})).transform({map:s=>as(this,void 0,void 0,function*(){var o,u,c,l;const d=yield Jb(s.get("object").value,e);let f={};return d.includes("https://www.w3.org/ns/activitystreams#Relationship")&&(f=yield P$(s.get("object").value,e)),{content:{id:s.get("member").value,actorUrl:s.get("actorUrl").value,actorName:(o=s.get("actorName"))===null||o===void 0?void 0:o.value,object:s.get("object").value,targetUrl:(u=s.get("targetUrl"))===null||u===void 0?void 0:u.value,targetName:(c=s.get("targetName"))===null||c===void 0?void 0:c.value,context:(l=s.get("context"))===null||l===void 0?void 0:l.value,types:yield Jb(s.get("member").value,e),objectTypes:d,objectRelationship:f},metadata:{}}})})}else throw new Error("Only LDESinLDP and LDES are supported at the moment")})}function Rme(t){return as(this,void 0,void 0,function*(){const e=`
  PREFIX as: <https://www.w3.org/ns/activitystreams#>
  
  SELECT ?id ?actorUrl ?actorName ?object ?targetUrl ?targetName ?context
  WHERE {
    ?id as:actor ?actorUrl;
        as:object ?object.
    OPTIONAL { ?id as:target ?targetUrl. }
    OPTIONAL { ?actorUrl as:name ?actorName. }
    OPTIONAL { ?targetUrl as:name ?targetName. }
    OPTIONAL { ?id as:context ?context. }
  } LIMIT 1`,r=yield(yield tc.queryBindings(e,{sources:[t],lenient:!0,"@comunica/actor-rdf-resolve-hypermedia-links-traverse:traverse":!1})).toArray();r.length!==1&&console.warn(`Found ${r.length} results for content, expected 1.`);const n=r.map(a=>{var s,o,u,c;return{id:a.get("id").value,actorUrl:a.get("actorUrl").value,actorName:(s=a.get("actorName"))===null||s===void 0?void 0:s.value,object:a.get("object").value,targetUrl:(o=a.get("targetUrl"))===null||o===void 0?void 0:o.value,targetName:(u=a.get("targetName"))===null||u===void 0?void 0:u.value,context:(c=a.get("context"))===null||c===void 0?void 0:c.value,types:[],objectTypes:[],objectRelationship:{}}})[0];return n.types=yield Jb(n.id,t),n.objectTypes=yield Jb(n.object,t),n.objectTypes.includes("https://www.w3.org/ns/activitystreams#Relationship")&&(n.objectRelationship=yield P$(n.object,t)),n})}function Jb(t,e){return as(this,void 0,void 0,function*(){const r=`    
    SELECT ?type
    WHERE {
      <${t}> a ?type.
    }`;return(yield(yield tc.queryBindings(r,{sources:[e],lenient:!0,"@comunica/actor-rdf-resolve-hypermedia-links-traverse:traverse":!1})).toArray()).map(a=>a.get("type").value)})}function P$(t,e){return as(this,void 0,void 0,function*(){const r=`
    PREFIX as: <https://www.w3.org/ns/activitystreams#>
    
    SELECT ?subject ?relationship ?object
    WHERE {
        <${t}> as:subject ?subject;
                 as:relationship ?relationship;
                 as:object ?object.
    } LIMIT 1`;return(yield(yield tc.queryBindings(r,{sources:[e],lenient:!0,"@comunica/actor-rdf-resolve-hypermedia-links-traverse:traverse":!1})).toArray()).map(a=>({subject:a.get("subject").value,relationship:a.get("relationship").value,object:a.get("object").value}))[0]||{}})}const Ime=Ii({name:"PagesPagination",components:{MDBCardText:q5,MDBCardBody:U5,MDBCard:$5,MDBPageItem:sH,MDBPagination:tH},props:["pages","loadPage"]}),D$=(t,e)=>{const r=t.__vccOpts||t;for(const[n,a]of e)r[n]=a;return r};function Pme(t,e,r,n,a,s){var f;const o=Yi("MDBPageItem"),u=Yi("MDBPagination"),c=Yi("MDBCardText"),l=Yi("MDBCardBody"),d=Yi("MDBCard");return(f=t.pages)!=null&&f.length?(pt(),$n(d,{key:0},{default:rr(()=>[Qt(l,{class:"w-100"},{default:rr(()=>[Qt(c,null,{default:rr(()=>[$t("nav",null,[Qt(u,{style:{"margin-bottom":"0"}},{default:rr(()=>[(pt(!0),tr(mi,null,RE(t.pages,(h,p)=>(pt(),$n(o,{key:p,active:h.active,onClick:y=>t.loadPage(h)},{default:rr(()=>[Lc(br(h.uri),1)]),_:2},1032,["active","onClick"]))),128))]),_:1})])]),_:1})]),_:1})]),_:1})):Yr("",!0)}const Dme=D$(Ime,[["render",Pme]]),Nme={name:"ScholarlyBrowser",components:{PagesPagination:Dme,MDBContainer:uH,MDBCard:$5,MDBCardBody:U5,MDBCardText:q5,MDBInput:TH,MDBCardFooter:VV,MDBCardTitle:$V},data(){return{url:"",members:[],pages:[],loading:!1,noEventLog:!1,artifact:void 0}},created(){this.$watch("$route.query.url",()=>{this.url=this.$route.query.url||"",this.urlUpdated()})},methods:{async urlUpdated(){if(this.noEventLog=!1,this.loading=!1,this.artifact=void 0,this.pages=[],this.members=[],this.$router.push({query:{url:this.url}}),!this.url)return;this.loading=!0;try{this.artifact=await Sme(this.url)}catch{this.noEventLog=!0,this.loading=!1;return}let t=!0;this.artifact.pages.on("data",async e=>{e.active=!1,this.pages.push(e),t&&(t=!1,await this.loadPage(e))})},async getMainTypes(t){return await Promise.all(t.filter(e=>e.startsWith("https://www.w3.org/ns/activitystreams#")).map(async e=>await this.getPrefixedProperty(e)))},async getSecondaryTypes(t){return await Promise.all(t.filter(e=>!e.startsWith("https://www.w3.org/ns/activitystreams#")).map(async e=>await this.getPrefixedProperty(e)))},async getPrefixedProperty(t){const e=await fetch(`https://prefixcc-proxy.smessie.com/?q=${encodeURIComponent(t)}`,{method:"HEAD"});return e.url.includes(`/?q=${encodeURIComponent(t)}`)?t:e.url.split("prefixcc-proxy.smessie.com/")[1]},getStyleByMainType(t){switch(t){case"as:Create":return"success";case"as:Remove":return"dark";case"as:Announce":return"warning";case"as:Offer":return"primary";case"as:Accept":return"info";case"as:Reject":return"danger";case"as:Undo":return"secondary";case"as:Update":default:return"light"}},async loadPage(t){this.pages.forEach(r=>r.active=!1),t.active=!0,this.members=[],this.loading=!0;const e=await xme(this.artifact.url,t.uri,this.artifact.type);e.on("data",async r=>{var n;if(r=await r,r.content.mainTypes=await this.getMainTypes(r.content.types),r.content.secondaryTypes=await this.getSecondaryTypes(r.content.types),r.content.objectTypes=await Promise.all(await((n=r.content)==null?void 0:n.objectTypes.map(async a=>await this.getPrefixedProperty(a))))??[],r.metadata.dateTime){const a=r.metadata.dateTime.split(/\D+/);r.metadata.dateTime=new Date(Date.UTC(a[0],--a[1],a[2],a[3],a[4],a[5],a[6])).toLocaleString()}this.members.push(r),this.loading=!1}),e.on("end",()=>{this.loading=!1})}}};const au=t=>(aq("data-v-f2390464"),t=t(),sq(),t),jme=au(()=>$t("h1",null,"Scholarly Browser",-1)),Cme={key:0,class:"status-message"},Mme={key:1,class:"status-message"},Fme=au(()=>$t("b",null,"No event log found.",-1)),Lme=au(()=>$t("b",null,"Actor: ",-1)),Bme=["href"],$me=au(()=>$t("b",null,"Target: ",-1)),Ume=["href"],qme={key:1},Vme=au(()=>$t("b",null,"Context: ",-1)),Hme=["href"],kme={key:1},Qme=au(()=>$t("b",null,"Object: ",-1)),Gme=["href"],zme={key:0},Wme=au(()=>$t("b",null,"Subject: ",-1)),Xme=["href"],Kme=au(()=>$t("b",null,"Relationship: ",-1)),Jme=["href"],Yme=au(()=>$t("b",null,"Object: ",-1)),Zme=["href"];function eve(t,e,r,n,a,s){const o=Yi("MDBInput"),u=Yi("MDBCardText"),c=Yi("MDBCardBody"),l=Yi("MDBCard"),d=Yi("PagesPagination"),f=Yi("MDBCardTitle"),h=Yi("MDBCardFooter"),p=Yi("MDBContainer");return pt(),$n(p,null,{default:rr(()=>[jme,Qt(l,null,{default:rr(()=>[Qt(c,{class:"w-100"},{default:rr(()=>[Qt(u,null,{default:rr(()=>[Qt(o,{label:"URL",modelValue:a.url,"onUpdate:modelValue":e[0]||(e[0]=y=>a.url=y),onChange:s.urlUpdated},null,8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1}),Qt(d,{"load-page":s.loadPage,pages:a.pages.sort((y,_)=>y.sort<_.sort?-1:1)},null,8,["load-page","pages"]),Qt(l,null,{default:rr(()=>[Qt(c,{class:"w-100"},{default:rr(()=>[Qt(u,null,{default:rr(()=>[a.loading?(pt(),tr("p",Cme,"Loading notifications...")):Yr("",!0),a.noEventLog?(pt(),tr("p",Mme,[Fme,Lc(" Make sure the provided URL contains a ldes:EventStream Link header.")])):Yr("",!0),(pt(!0),tr(mi,null,RE(a.members,(y,_)=>(pt(),$n(l,{key:_,border:s.getStyleByMainType(y.content.mainTypes[0])},{default:rr(()=>[Qt(c,{class:"w-100",style:{"padding-bottom":"0"}},{default:rr(()=>[Qt(f,null,{default:rr(()=>[Lc(br(y.content.mainTypes.join(", ")),1)]),_:2},1024),Qt(f,{subtitle:"",class:"mb-2 text-muted"},{default:rr(()=>[Lc(br(y.content.secondaryTypes.join(", ")),1)]),_:2},1024),Qt(u,null,{default:rr(()=>[$t("p",null,[Lme,$t("a",{href:y.content.actorUrl},br(y.content.actorName??y.content.actorUrl),9,Bme)]),$t("p",null,[$me,y.content.targetUrl?(pt(),tr("a",{key:0,href:y.content.targetUrl},br(y.content.targetName??y.content.targetUrl),9,Ume)):(pt(),tr("i",qme,"<not provided>"))]),$t("p",null,[Vme,y.content.context?(pt(),tr("a",{key:0,href:"?url="+y.content.context},br(y.content.context),9,Hme)):(pt(),tr("i",kme,"<not provided>"))]),$t("p",null,[Qme,$t("a",{href:"?url="+y.content.object},br(y.content.object),9,Gme)]),$t("ul",null,[(pt(!0),tr(mi,null,RE(y.content.objectTypes,(E,w)=>(pt(),tr("li",{key:w},[Lc(br(E)+" ",1),E==="as:Relationship"?(pt(),tr("ul",zme,[$t("li",null,[Wme,$t("a",{href:y.content.objectRelationship.subject},br(y.content.objectRelationship.subject),9,Xme)]),$t("li",null,[Kme,$t("a",{href:y.content.objectRelationship.relationship},br(y.content.objectRelationship.relationship),9,Jme)]),$t("li",null,[Yme,$t("a",{href:y.content.objectRelationship.object},br(y.content.objectRelationship.object),9,Zme)])])):Yr("",!0)]))),128))])]),_:2},1024)]),_:2},1024),Qt(h,{class:"text-muted"},{default:rr(()=>[Lc(br(y.metadata.dateTime),1)]),_:2},1024)]),_:2},1032,["border"]))),128))]),_:1})]),_:1})]),_:1}),Qt(d,{"load-page":s.loadPage,pages:a.pages.sort((y,_)=>y.sort<_.sort?-1:1)},null,8,["load-page","pages"])]),_:1})}const tve=D$(Nme,[["render",eve],["__scopeId","data-v-f2390464"]]),N$=Ii({__name:"App",setup(t){return(e,r)=>(pt(),tr("main",null,[Qt(tve)]))}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const fd=typeof window<"u";function rve(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const sr=Object.assign;function mE(t,e){const r={};for(const n in e){const a=e[n];r[n]=cs(a)?a.map(t):t(a)}return r}const dp=()=>{},cs=Array.isArray,nve=/\/$/,ive=t=>t.replace(nve,"");function vE(t,e,r="/"){let n,a={},s="",o="";const u=e.indexOf("#");let c=e.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(n=e.slice(0,c),s=e.slice(c+1,u>-1?u:e.length),a=t(s)),u>-1&&(n=n||e.slice(0,u),o=e.slice(u,e.length)),n=uve(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:a,hash:o}}function ave(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function S8(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function sve(t,e,r){const n=e.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&of(e.matched[n],r.matched[a])&&j$(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function of(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function j$(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!ove(t[r],e[r]))return!1;return!0}function ove(t,e){return cs(t)?T8(t,e):cs(e)?T8(e,t):t===e}function T8(t,e){return cs(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function uve(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let s=r.length-1,o,u;for(o=0;o<n.length;o++)if(u=n[o],u!==".")if(u==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var Up;(function(t){t.pop="pop",t.push="push"})(Up||(Up={}));var fp;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fp||(fp={}));function cve(t){if(!t)if(fd){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ive(t)}const lve=/^[^#]+#/;function dve(t,e){return t.replace(lve,"#")+e}function fve(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const e3=()=>({left:window.pageXOffset,top:window.pageYOffset});function hve(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;e=fve(a,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function E8(t,e){return(history.state?history.state.position-e:-1)+t}const VO=new Map;function pve(t,e){VO.set(t,e)}function yve(t){const e=VO.get(t);return VO.delete(t),e}let bve=()=>location.protocol+"//"+location.host;function C$(t,e){const{pathname:r,search:n,hash:a}=e,s=t.indexOf("#");if(s>-1){let u=a.includes(t.slice(s))?t.slice(s).length:1,c=a.slice(u);return c[0]!=="/"&&(c="/"+c),S8(c,"")}return S8(r,t)+n+a}function _ve(t,e,r,n){let a=[],s=[],o=null;const u=({state:h})=>{const p=C$(t,location),y=r.value,_=e.value;let E=0;if(h){if(r.value=p,e.value=h,o&&o===y){o=null;return}E=_?h.position-_.position:0}else n(p);a.forEach(w=>{w(r.value,y,{delta:E,type:Up.pop,direction:E?E>0?fp.forward:fp.back:fp.unknown})})};function c(){o=r.value}function l(h){a.push(h);const p=()=>{const y=a.indexOf(h);y>-1&&a.splice(y,1)};return s.push(p),p}function d(){const{history:h}=window;h.state&&h.replaceState(sr({},h.state,{scroll:e3()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function O8(t,e,r,n=!1,a=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:a?e3():null}}function gve(t){const{history:e,location:r}=window,n={value:C$(t,r)},a={value:e.state};a.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,l,d){const f=t.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:bve()+t+c;try{e[d?"replaceState":"pushState"](l,"",h),a.value=l}catch(p){console.error(p),r[d?"replace":"assign"](h)}}function o(c,l){const d=sr({},e.state,O8(a.value.back,c,a.value.forward,!0),l,{position:a.value.position});s(c,d,!0),n.value=c}function u(c,l){const d=sr({},a.value,e.state,{forward:c,scroll:e3()});s(d.current,d,!0);const f=sr({},O8(n.value,c,null),{position:d.position+1},l);s(c,f,!1),n.value=c}return{location:n,state:a,push:u,replace:o}}function mve(t){t=cve(t);const e=gve(t),r=_ve(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const a=sr({location:"",base:t,go:n,createHref:dve.bind(null,t)},e,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>e.state.value}),a}function vve(t){return typeof t=="string"||t&&typeof t=="object"}function M$(t){return typeof t=="string"||typeof t=="symbol"}const yu={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},F$=Symbol("");var A8;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(A8||(A8={}));function uf(t,e){return sr(new Error,{type:t,[F$]:!0},e)}function wo(t,e){return t instanceof Error&&F$ in t&&(e==null||!!(t.type&e))}const x8="[^/]+?",wve={sensitive:!1,strict:!1,start:!0,end:!0},Sve=/[.+*?^${}()[\]/\\]/g;function Tve(t,e){const r=sr({},wve,e),n=[];let a=r.start?"^":"";const s=[];for(const l of t){const d=l.length?[]:[90];r.strict&&!l.length&&(a+="/");for(let f=0;f<l.length;f++){const h=l[f];let p=40+(r.sensitive?.25:0);if(h.type===0)f||(a+="/"),a+=h.value.replace(Sve,"\\$&"),p+=40;else if(h.type===1){const{value:y,repeatable:_,optional:E,regexp:w}=h;s.push({name:y,repeatable:_,optional:E});const O=w||x8;if(O!==x8){p+=10;try{new RegExp(`(${O})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${y}" (${O}): `+T.message)}}let A=_?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;f||(A=E&&l.length<2?`(?:/${A})`:"/"+A),E&&(A+="?"),a+=A,p+=20,E&&(p+=-8),_&&(p+=-20),O===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");const o=new RegExp(a,r.sensitive?"":"i");function u(l){const d=l.match(o),f={};if(!d)return null;for(let h=1;h<d.length;h++){const p=d[h]||"",y=s[h-1];f[y.name]=p&&y.repeatable?p.split("/"):p}return f}function c(l){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const p of h)if(p.type===0)d+=p.value;else if(p.type===1){const{value:y,repeatable:_,optional:E}=p,w=y in l?l[y]:"";if(cs(w)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const O=cs(w)?w.join("/"):w;if(!O)if(E)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);d+=O}}return d||"/"}return{re:o,score:n,keys:s,parse:u,stringify:c}}function Eve(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Ove(t,e){let r=0;const n=t.score,a=e.score;for(;r<n.length&&r<a.length;){const s=Eve(n[r],a[r]);if(s)return s;r++}if(Math.abs(a.length-n.length)===1){if(R8(n))return 1;if(R8(a))return-1}return a.length-n.length}function R8(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ave={type:0,value:""},xve=/[a-zA-Z0-9_]/;function Rve(t){if(!t)return[[]];if(t==="/")return[[Ave]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${r})/"${l}": ${p}`)}let r=0,n=r;const a=[];let s;function o(){s&&a.push(s),s=[]}let u=0,c,l="",d="";function f(){l&&(r===0?s.push({type:0,value:l}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function h(){l+=c}for(;u<t.length;){if(c=t[u++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:c==="("?r=2:xve.test(c)?h():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:r=3:d+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,d="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),a}function Ive(t,e,r){const n=Tve(Rve(t.path),r),a=sr(n,{record:t,parent:e,children:[],alias:[]});return e&&!a.record.aliasOf==!e.record.aliasOf&&e.children.push(a),a}function Pve(t,e){const r=[],n=new Map;e=D8({strict:!1,end:!0,sensitive:!1},e);function a(d){return n.get(d)}function s(d,f,h){const p=!h,y=Dve(d);y.aliasOf=h&&h.record;const _=D8(e,d),E=[y];if("alias"in d){const A=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of A)E.push(sr({},y,{components:h?h.record.components:y.components,path:T,aliasOf:h?h.record:y}))}let w,O;for(const A of E){const{path:T}=A;if(f&&T[0]!=="/"){const I=f.record.path,D=I[I.length-1]==="/"?"":"/";A.path=f.record.path+(T&&D+T)}if(w=Ive(A,f,_),h?h.alias.push(w):(O=O||w,O!==w&&O.alias.push(w),p&&d.name&&!P8(w)&&o(d.name)),y.children){const I=y.children;for(let D=0;D<I.length;D++)s(I[D],w,h&&h.children[D])}h=h||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&c(w)}return O?()=>{o(O)}:dp}function o(d){if(M$(d)){const f=n.get(d);f&&(n.delete(d),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(d);f>-1&&(r.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function u(){return r}function c(d){let f=0;for(;f<r.length&&Ove(d,r[f])>=0&&(d.record.path!==r[f].record.path||!L$(d,r[f]));)f++;r.splice(f,0,d),d.record.name&&!P8(d)&&n.set(d.record.name,d)}function l(d,f){let h,p={},y,_;if("name"in d&&d.name){if(h=n.get(d.name),!h)throw uf(1,{location:d});_=h.record.name,p=sr(I8(f.params,h.keys.filter(O=>!O.optional).map(O=>O.name)),d.params&&I8(d.params,h.keys.map(O=>O.name))),y=h.stringify(p)}else if("path"in d)y=d.path,h=r.find(O=>O.re.test(y)),h&&(p=h.parse(y),_=h.record.name);else{if(h=f.name?n.get(f.name):r.find(O=>O.re.test(f.path)),!h)throw uf(1,{location:d,currentLocation:f});_=h.record.name,p=sr({},f.params,d.params),y=h.stringify(p)}const E=[];let w=h;for(;w;)E.unshift(w.record),w=w.parent;return{name:_,path:y,params:p,matched:E,meta:jve(E)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:l,removeRoute:o,getRoutes:u,getRecordMatcher:a}}function I8(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Dve(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Nve(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Nve(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function P8(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function jve(t){return t.reduce((e,r)=>sr(e,r.meta),{})}function D8(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function L$(t,e){return e.children.some(r=>r===t||L$(t,r))}const B$=/#/g,Cve=/&/g,Mve=/\//g,Fve=/=/g,Lve=/\?/g,$$=/\+/g,Bve=/%5B/g,$ve=/%5D/g,U$=/%5E/g,Uve=/%60/g,q$=/%7B/g,qve=/%7C/g,V$=/%7D/g,Vve=/%20/g;function zR(t){return encodeURI(""+t).replace(qve,"|").replace(Bve,"[").replace($ve,"]")}function Hve(t){return zR(t).replace(q$,"{").replace(V$,"}").replace(U$,"^")}function HO(t){return zR(t).replace($$,"%2B").replace(Vve,"+").replace(B$,"%23").replace(Cve,"%26").replace(Uve,"`").replace(q$,"{").replace(V$,"}").replace(U$,"^")}function kve(t){return HO(t).replace(Fve,"%3D")}function Qve(t){return zR(t).replace(B$,"%23").replace(Lve,"%3F")}function Gve(t){return t==null?"":Qve(t).replace(Mve,"%2F")}function Yb(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function zve(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let a=0;a<n.length;++a){const s=n[a].replace($$," "),o=s.indexOf("="),u=Yb(o<0?s:s.slice(0,o)),c=o<0?null:Yb(s.slice(o+1));if(u in e){let l=e[u];cs(l)||(l=e[u]=[l]),l.push(c)}else e[u]=c}return e}function N8(t){let e="";for(let r in t){const n=t[r];if(r=kve(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(cs(n)?n.map(s=>s&&HO(s)):[n&&HO(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function Wve(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=cs(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return e}const Xve=Symbol(""),j8=Symbol(""),WR=Symbol(""),H$=Symbol(""),kO=Symbol("");function Dh(){let t=[];function e(n){return t.push(n),()=>{const a=t.indexOf(n);a>-1&&t.splice(a,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Du(t,e,r,n,a){const s=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((o,u)=>{const c=f=>{f===!1?u(uf(4,{from:r,to:e})):f instanceof Error?u(f):vve(f)?u(uf(2,{from:e,to:f})):(s&&n.enterCallbacks[a]===s&&typeof f=="function"&&s.push(f),o())},l=t.call(n&&n.instances[a],e,r,c);let d=Promise.resolve(l);t.length<3&&(d=d.then(c)),d.catch(f=>u(f))})}function wE(t,e,r,n){const a=[];for(const s of t)for(const o in s.components){let u=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(Kve(u)){const l=(u.__vccOpts||u)[e];l&&a.push(Du(l,r,n,s,o))}else{let c=u();a.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const d=rve(l)?l.default:l;s.components[o]=d;const h=(d.__vccOpts||d)[e];return h&&Du(h,r,n,s,o)()}))}}return a}function Kve(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function C8(t){const e=is(WR),r=is(H$),n=Ht(()=>e.resolve(mt(t.to))),a=Ht(()=>{const{matched:c}=n.value,{length:l}=c,d=c[l-1],f=r.matched;if(!d||!f.length)return-1;const h=f.findIndex(of.bind(null,d));if(h>-1)return h;const p=M8(c[l-2]);return l>1&&M8(d)===p&&f[f.length-1].path!==p?f.findIndex(of.bind(null,c[l-2])):h}),s=Ht(()=>a.value>-1&&e2e(r.params,n.value.params)),o=Ht(()=>a.value>-1&&a.value===r.matched.length-1&&j$(r.params,n.value.params));function u(c={}){return Zve(c)?e[mt(t.replace)?"replace":"push"](mt(t.to)).catch(dp):Promise.resolve()}return{route:n,href:Ht(()=>n.value.href),isActive:s,isExactActive:o,navigate:u}}const Jve=Ii({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:C8,setup(t,{slots:e}){const r=a_(C8(t)),{options:n}=is(WR),a=Ht(()=>({[F8(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[F8(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:L5("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},s)}}}),Yve=Jve;function Zve(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function e2e(t,e){for(const r in e){const n=e[r],a=t[r];if(typeof n=="string"){if(n!==a)return!1}else if(!cs(a)||a.length!==n.length||n.some((s,o)=>s!==a[o]))return!1}return!0}function M8(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const F8=(t,e,r)=>t??e??r,t2e=Ii({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=is(kO),a=Ht(()=>t.route||n.value),s=is(j8,0),o=Ht(()=>{let l=mt(s);const{matched:d}=a.value;let f;for(;(f=d[l])&&!f.components;)l++;return l}),u=Ht(()=>a.value.matched[o.value]);W1(j8,Ht(()=>o.value+1)),W1(Xve,u),W1(kO,a);const c=yi();return Id(()=>[c.value,u.value,t.name],([l,d,f],[h,p,y])=>{d&&(d.instances[f]=l,p&&p!==d&&l&&l===h&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),l&&d&&(!p||!of(d,p)||!h)&&(d.enterCallbacks[f]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=a.value,d=t.name,f=u.value,h=f&&f.components[d];if(!h)return L8(r.default,{Component:h,route:l});const p=f.props[d],y=p?p===!0?l.params:typeof p=="function"?p(l):p:null,E=L5(h,sr({},y,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(f.instances[d]=null)},ref:c}));return L8(r.default,{Component:E,route:l})||E}}});function L8(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const r2e=t2e;function n2e(t){const e=Pve(t.routes,t),r=t.parseQuery||zve,n=t.stringifyQuery||N8,a=t.history,s=Dh(),o=Dh(),u=Dh(),c=WU(yu);let l=yu;fd&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=mE.bind(null,J=>""+J),f=mE.bind(null,Gve),h=mE.bind(null,Yb);function p(J,le){let pe,L;return M$(J)?(pe=e.getRecordMatcher(J),L=le):L=J,e.addRoute(L,pe)}function y(J){const le=e.getRecordMatcher(J);le&&e.removeRoute(le)}function _(){return e.getRoutes().map(J=>J.record)}function E(J){return!!e.getRecordMatcher(J)}function w(J,le){if(le=sr({},le||c.value),typeof J=="string"){const v=vE(r,J,le.path),j=e.resolve({path:v.path},le),V=a.createHref(v.fullPath);return sr(v,j,{params:h(j.params),hash:Yb(v.hash),redirectedFrom:void 0,href:V})}let pe;if("path"in J)pe=sr({},J,{path:vE(r,J.path,le.path).path});else{const v=sr({},J.params);for(const j in v)v[j]==null&&delete v[j];pe=sr({},J,{params:f(v)}),le.params=f(le.params)}const L=e.resolve(pe,le),P=J.hash||"";L.params=d(h(L.params));const m=ave(n,sr({},J,{hash:Hve(P),path:L.path})),b=a.createHref(m);return sr({fullPath:m,hash:P,query:n===N8?Wve(J.query):J.query||{}},L,{redirectedFrom:void 0,href:b})}function O(J){return typeof J=="string"?vE(r,J,c.value.path):sr({},J)}function A(J,le){if(l!==J)return uf(8,{from:le,to:J})}function T(J){return U(J)}function I(J){return T(sr(O(J),{replace:!0}))}function D(J){const le=J.matched[J.matched.length-1];if(le&&le.redirect){const{redirect:pe}=le;let L=typeof pe=="function"?pe(J):pe;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=O(L):{path:L},L.params={}),sr({query:J.query,hash:J.hash,params:"path"in L?{}:J.params},L)}}function U(J,le){const pe=l=w(J),L=c.value,P=J.state,m=J.force,b=J.replace===!0,v=D(pe);if(v)return U(sr(O(v),{state:typeof v=="object"?sr({},P,v.state):P,force:m,replace:b}),le||pe);const j=pe;j.redirectedFrom=le;let V;return!m&&sve(n,L,pe)&&(V=uf(16,{to:j,from:L}),Te(L,L,!0,!1)),(V?Promise.resolve(V):R(j,L)).catch(q=>wo(q)?wo(q,2)?q:he(q):ie(q,j,L)).then(q=>{if(q){if(wo(q,2))return U(sr({replace:b},O(q.to),{state:typeof q.to=="object"?sr({},P,q.to.state):P,force:m}),le||j)}else q=X(j,L,!0,b,P);return F(j,L,q),q})}function H(J,le){const pe=A(J,le);return pe?Promise.reject(pe):Promise.resolve()}function N(J){const le=ce.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(J):J()}function R(J,le){let pe;const[L,P,m]=i2e(J,le);pe=wE(L.reverse(),"beforeRouteLeave",J,le);for(const v of L)v.leaveGuards.forEach(j=>{pe.push(Du(j,J,le))});const b=H.bind(null,J,le);return pe.push(b),oe(pe).then(()=>{pe=[];for(const v of s.list())pe.push(Du(v,J,le));return pe.push(b),oe(pe)}).then(()=>{pe=wE(P,"beforeRouteUpdate",J,le);for(const v of P)v.updateGuards.forEach(j=>{pe.push(Du(j,J,le))});return pe.push(b),oe(pe)}).then(()=>{pe=[];for(const v of m)if(v.beforeEnter)if(cs(v.beforeEnter))for(const j of v.beforeEnter)pe.push(Du(j,J,le));else pe.push(Du(v.beforeEnter,J,le));return pe.push(b),oe(pe)}).then(()=>(J.matched.forEach(v=>v.enterCallbacks={}),pe=wE(m,"beforeRouteEnter",J,le),pe.push(b),oe(pe))).then(()=>{pe=[];for(const v of o.list())pe.push(Du(v,J,le));return pe.push(b),oe(pe)}).catch(v=>wo(v,8)?v:Promise.reject(v))}function F(J,le,pe){u.list().forEach(L=>N(()=>L(J,le,pe)))}function X(J,le,pe,L,P){const m=A(J,le);if(m)return m;const b=le===yu,v=fd?history.state:{};pe&&(L||b?a.replace(J.fullPath,sr({scroll:b&&v&&v.scroll},P)):a.push(J.fullPath,P)),c.value=J,Te(J,le,pe,b),he()}let ne;function $(){ne||(ne=a.listen((J,le,pe)=>{if(!xe.listening)return;const L=w(J),P=D(L);if(P){U(sr(P,{replace:!0}),L).catch(dp);return}l=L;const m=c.value;fd&&pve(E8(m.fullPath,pe.delta),e3()),R(L,m).catch(b=>wo(b,12)?b:wo(b,2)?(U(b.to,L).then(v=>{wo(v,20)&&!pe.delta&&pe.type===Up.pop&&a.go(-1,!1)}).catch(dp),Promise.reject()):(pe.delta&&a.go(-pe.delta,!1),ie(b,L,m))).then(b=>{b=b||X(L,m,!1),b&&(pe.delta&&!wo(b,8)?a.go(-pe.delta,!1):pe.type===Up.pop&&wo(b,20)&&a.go(-1,!1)),F(L,m,b)}).catch(dp)}))}let C=Dh(),Q=Dh(),se;function ie(J,le,pe){he(J);const L=Q.list();return L.length?L.forEach(P=>P(J,le,pe)):console.error(J),Promise.reject(J)}function be(){return se&&c.value!==yu?Promise.resolve():new Promise((J,le)=>{C.add([J,le])})}function he(J){return se||(se=!J,$(),C.list().forEach(([le,pe])=>J?pe(J):le()),C.reset()),J}function Te(J,le,pe,L){const{scrollBehavior:P}=t;if(!fd||!P)return Promise.resolve();const m=!pe&&yve(E8(J.fullPath,0))||(L||!pe)&&history.state&&history.state.scroll||null;return l5().then(()=>P(J,le,m)).then(b=>b&&hve(b)).catch(b=>ie(b,J,le))}const Ne=J=>a.go(J);let ye;const ce=new Set,xe={currentRoute:c,listening:!0,addRoute:p,removeRoute:y,hasRoute:E,getRoutes:_,resolve:w,options:t,push:T,replace:I,go:Ne,back:()=>Ne(-1),forward:()=>Ne(1),beforeEach:s.add,beforeResolve:o.add,afterEach:u.add,onError:Q.add,isReady:be,install(J){const le=this;J.component("RouterLink",Yve),J.component("RouterView",r2e),J.config.globalProperties.$router=le,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>mt(c)}),fd&&!ye&&c.value===yu&&(ye=!0,T(a.location).catch(P=>{}));const pe={};for(const P in yu)Object.defineProperty(pe,P,{get:()=>c.value[P],enumerable:!0});J.provide(WR,le),J.provide(H$,t5(pe)),J.provide(kO,c);const L=J.unmount;ce.add(J),J.unmount=function(){ce.delete(J),ce.size<1&&(l=yu,ne&&ne(),ne=null,c.value=yu,ye=!1,se=!1),L()}}};function oe(J){return J.reduce((le,pe)=>le.then(()=>N(pe)),Promise.resolve())}return xe}function i2e(t,e){const r=[],n=[],a=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const u=e.matched[o];u&&(t.matched.find(l=>of(l,u))?n.push(u):r.push(u));const c=t.matched[o];c&&(e.matched.find(l=>of(l,c))||a.push(c))}return[r,n,a]}const a2e=n2e({history:mve("/scholarly-browser/"),routes:[{path:"/",component:N$,props:!0}]}),k$=TV(N$);k$.use(a2e);k$.mount("#app");
